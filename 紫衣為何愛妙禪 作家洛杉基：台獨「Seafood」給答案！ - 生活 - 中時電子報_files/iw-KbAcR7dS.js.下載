if (self.CavalryLogger) { CavalryLogger.start_js(["a4zx4"]); }

__d("FBLoadShimmer.react",["cx","LoadingMarker.react","React","UserAgent","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.className,d=a.height,e=a.style,f=a.width;a=a.disableAnimation;var g=b("UserAgent").isBrowser("Safari")&&b("UserAgent").isPlatform("Mac OS X");a="_1tt"+(a?" _300z":"")+(g?" _72_f":"");g=b("React").createElement("div",{className:b("joinClasses")(c,a),style:babelHelpers["extends"]({height:d!=null?d+"px":void 0,width:f!=null?f+"px":void 0},e)});return b("React").createElement(b("LoadingMarker.react"),null,g)}e.exports=a}),null);
__d("CircularProgressBar.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"CircularProgressBar",propTypes:{animate:a.bool,percentComplete:a.number.isRequired,text:a.string},render:function(){var a=this.props,c=a.animate,d=a.text;a=a.percentComplete;var e=360*a/100,f=Math.max(e,180)-180;e=Math.min(e,180);var g=a<100?"1":"0";return b("React").createElement("div",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,className:"_1_bj",role:"progressbar",style:{opacity:g}},!!d&&b("React").createElement("div",{className:"_22sa"},d),b("React").createElement("div",{className:"_1_bk"},b("React").createElement("div",{className:c?"_22sb":""},b("React").createElement("div",{className:"_1_bl",style:{opacity:g}}),b("React").createElement("div",{className:"_1_bp _1_bq"},b("React").createElement("div",{className:"_1_br",style:{transform:"translateX(-100%) rotate("+f+"deg)",opacity:g}})),b("React").createElement("div",{className:"_1_bs _1_bq"},b("React").createElement("div",{className:"_1_br",style:{transform:"translateX(-100%) rotate("+e+"deg)",opacity:g}})))))}});e.exports=c}),null);
__d("LiveVideoRewindTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setActionSequenceNumber=function(a){this.$1.action_sequence_number=a;return this};c.setDeviceid=function(a){this.$1.deviceid=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPositionAfter=function(a){this.$1.position_after=a;return this};c.setPositionBefore=function(a){this.$1.position_before=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setVideoDuration=function(a){this.$1.video_duration=a;return this};c.setVideoID=function(a){this.$1.video_id=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={action_sequence_number:!0,deviceid:!0,event:!0,position_after:!0,position_before:!0,session_id:!0,time:!0,vc:!0,video_duration:!0,video_id:!0,weight:!0};e.exports=a}),null);
__d("AsyncRequestUtil",["Promise"],(function(a,b,c,d,e,f){"use strict";a={send:function(a){return new(b("Promise"))(function(b,c){return a.setHandler(b).setErrorHandler(c).send()})}};e.exports=a}),null);
__d("ProfileTile.react",["Image.react","ImageBlock.react","Link.react","React","URI","XUIText.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=24;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props.size||g;a=this.props.imageProps&&this.props.imageProps.src||"https://graph.facebook.com/"+this.props.id+"/picture?width="+a+"&height="+a;var c=this.props.imageProps&&this.props.imageProps.href||"/"+this.props.id,d=null;this.props.shouldShowProfileCardOnHover&&(d=new(b("URI"))("/ajax/hovercard/user.php").setQueryData({id:this.props.id}));var e=this.props.desc?b("React").createElement(b("XUIText.react"),babelHelpers["extends"]({display:"block"},this.props.descProps),this.props.desc):null,f=b("React").createElement("span",this.props.titleProps,this.props.name);this.props.shouldNameLinkToProfile&&(f=b("React").createElement(b("Link.react"),babelHelpers["extends"]({"data-hovercard":d},this.props.titleProps,{href:this.props.titleProps&&this.props.titleProps.href||"/"+this.props.id}),this.props.name));d=this.props.image||(this.props.size&&this.props.imageProps&&!this.props.imageProps.height&&this.props.imageProps&&!this.props.imageProps.width?b("React").createElement(b("Image.react"),babelHelpers["extends"]({height:this.props.size,src:a,width:this.props.size},this.props.imageProps)):b("React").createElement(b("Image.react"),babelHelpers["extends"]({src:a},this.props.imageProps)));a=this.props.shouldImageLinkToProfile?b("React").createElement(b("Link.react"),{href:c},d):d;return b("React").createElement(b("ImageBlock.react"),this.props.tileProps,a,b("React").createElement("div",null,f,e))};return c}(b("React").Component);a.defaultProps={shouldShowProfileCardOnHover:!0,shouldNameLinkToProfile:!0};e.exports=a}),null);
__d("getContextualLayerCursorOffset",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();var d=a.getOrientation(),e=d.getPosition();d=d.getAlignment();var f=a.getContent().getBoundingClientRect();a=a.getContext().getBoundingClientRect();b=b-a.left;c=c-a.top;switch(d){case"left":b-=f.width;break;case"center":b-=a.width*.5;break;case"right":b-=a.width-f.width;break;default:throw new Error("invalid alignment")}switch(e){case"above":break;case"left":b+=f.width;c-=f.height*.5;break;case"right":b-=f.width;c-=f.height*.5;break;case"below":c-=a.height;break;default:throw new Error("invalid position")}return{offsetX:b,offsetY:c}}e.exports=a}),null);
__d("VideoChannelProgressCircle.react",["cx","React","ReactDOM","Style"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.$2=0,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.drawProgressCircle(this.props)};d.componentWillUnmount=function(){clearInterval(this.$1)};d.UNSAFE_componentWillReceiveProps=function(a){(a.makeProgress!==this.props.makeProgress||a.timeoutSec!==this.props.timeoutSec)&&this.drawProgressCircle(a)};d.drawProgressCircle=function(a){var c=this,d=b("ReactDOM").findDOMNode(this.refs.progressCircle),e=this.$2,f=e/100;b("Style").set(d,"stroke-dashoffset",e+"px");clearInterval(this.$1);a.makeProgress&&(this.$1=setInterval(function(){e-=f,b("Style").set(d,"stroke-dashoffset",e+"px"),e<=0&&(clearInterval(c.$1),b("Style").set(d,"stroke-dashoffset","0px"),a.onProgressDone&&a.onProgressDone())},a.timeoutSec*10))};d.render=function(){var a=this.props.watchAndScroll?34:80,c=this.props.watchAndScroll?2:4;a=a/2;var d=a-c/2;this.$2=d*2*Math.PI;return b("React").createElement("div",null,b("React").createElement("svg",{className:"_20_8"},b("React").createElement("circle",{cx:a,cy:a,r:d,stroke:"#ffffff",strokeWidth:c,strokeDasharray:this.$2,fill:"transparent"}),b("React").createElement("circle",{ref:"progressCircle",cx:a,cy:a,r:d,stroke:"#5890ff",strokeWidth:c,strokeDasharray:this.$2,fill:"transparent"})),this.props.children)};return c}(b("React").PureComponent);c.propTypes={children:a.element,makeProgress:a.bool.isRequired,onProgressDone:a.func,timeoutSec:a.number.isRequired,watchAndScroll:a.bool};e.exports=c}),null);
__d("VideoChannelReplayImage.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement(b("Image.react"),{onClick:this.props.onClick,className:"_4nxy"+(this.props.size==="small"?" _4nxz":""),src:"/images/video/channel_view/replay.svg"})};return c}(b("React").Component);a.defaultProps={size:"normal"};e.exports=a}),null);
__d("XVideoChannelViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/channel/view/async/{id}/",{id:{type:"String",required:!0},original_video_id:{type:"String",required:!0},cursor:{type:"String"},story_count:{type:"Int",defaultValue:3},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}})}),null);
__d("XVideoChannelViewStoryAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/channel/view/story/async/{root_video_id}/",{root_video_id:{type:"String",required:!0},video_ids:{type:"StringVector",defaultValue:[]},use_video_placeholder:{type:"Bool",defaultValue:!1},setup_interactions:{type:"Bool",defaultValue:!1},is_first_story:{type:"Bool",defaultValue:!1},feed_tracking_data:{type:"StringVector",defaultValue:[]},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1},channel_id:{type:"String"},ad_impression_token:{type:"String"},fetch_channel_pivots:{type:"Bool",defaultValue:!1}})}),null);
__d("VideoChannelStoryFetcher",["AsyncRequest","HTML","VideoChannelViewVariables","XVideoChannelViewAsyncController","XVideoChannelViewStoryAsyncController"],(function(a,b,c,d,e,f){__p&&__p();var g=b("VideoChannelViewVariables").channelPivots;a=function(){"use strict";__p&&__p();function a(a,b,c,d,e,f,g){__p&&__p();this.$7=a;this.$8=b;this.$4=c;this.$10=0;this.$2=null;this.$3=!0;this.$5=[];this.$6=[];this.$9={};if(e){this.$5=e.videoIDs;this.$6=e.feedTrackingData;this.$2=e.cursorInfo.cursor;this.$3=e.cursorInfo.hasNextPage;a=this.$5.indexOf(this.$7);this.$9.start=a;this.$9.end=a+1}if(f){this.$5=f;this.$3=!!g;b=this.$5.indexOf(this.$7);this.$9.start=b;this.$9.end=b+1}this.$11=d;this.$12=[];this.$13=[]}var c=a.prototype;c.reset=function(a,b){this.$7=a,this.$8=b,this.$10=0,this.$2=null,this.$3=!0,this.$5=[],this.$6=[],this.$9={},this.$12=[],this.$13=[]};c.abandonRequest=function(){this.$1&&this.$1.abandon()};c.hasNext=function(){var a=this.$5.length-this.$9.end>0;return this.$3||a};c.$14=function(a,b,c){var d={};d.event=a;d.request_status=b;d.perf_time_ms=Date.now()-c;g&&(d.video_channel_id=this.$8)};c.fetchFirstStory=function(a,c,d){__p&&__p();var e=this;if(c===null&&this.$5.length!==0){var f=this.$5.indexOf(this.$7);c=this.$6[f]}f=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setStringVector("video_ids",[this.$7]).setString("root_video_id",this.$7).setBool("is_first_story",!0).setBool("use_video_placeholder",a).setBool("setup_interactions",d).setString("channel_id",this.$8).setString("ad_impression_token",this.$11);c&&f.setStringVector("feed_tracking_data",[JSON.stringify(c)]);var h=Date.now();a=new(b("AsyncRequest"))(f.getURI()).setAllowCrossPageTransition(!0).setHandler(function(){__p&&__p();e.$14("fetch_first_story_success","succeeded",h);e.$15();if(g){var a=Date.now(),d=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",e.$4).setStringVector("video_ids",[e.$7]).setString("root_video_id",e.$7).setString("channel_id",e.$8).setBool("fetch_channel_pivots",!0);c&&d.setStringVector("feed_tracking_data",[JSON.stringify(c)]);d=new(b("AsyncRequest"))(d.getURI()).setAllowCrossPageTransition(!0).setHandler(function(){e.$14("fetch_channel_pivots_success","succeeded",a),e.$15()}).setErrorHandler(function(){e.$14("fetch_channel_pivots_success","failed",a),e.$15()}).setAbortHandler(function(){e.$14("fetch_channel_pivots_success","aborted",a),e.$15()});e.$1=d;e.$10=Date.now();d.send()}}).setErrorHandler(function(){e.$14("fetch_first_story_success","failed",h),e.$15()}).setAbortHandler(function(){e.$14("fetch_first_story_success","aborted",h),e.$15()});this.$1=a;this.$10=Date.now();a.send()};c.getPreloadedData=function(){return{stories:this.$12,thumbnails:this.$13}};c.$16=function(a,c){__p&&__p();var d=this;if(!this.$8)return;a=b("XVideoChannelViewAsyncController").getURIBuilder().setString("id",this.$8).setEnum("caller",this.$4).setString("original_video_id",this.$7).setInt("story_count",a);this.$2&&a.setString("cursor",this.$2.toString());var e=Date.now();a=a.getURI();a=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).setHandler(function(a){d.$14("fetch_stories_from_entquery","succeeded",e),d.$2=a.getPayload().cursor,d.$3=a.getPayload().hasNextPage,d.$15(),d.$17(a,function(a,b){d.$12=[].concat(d.$12,a);d.$13=[].concat(d.$13,b);return c(a,b)})}).setErrorHandler(function(){d.$14("fetch_stories_from_entquery","failed",e),d.$15()}).setAbortHandler(function(){d.$14("fetch_stories_from_entquery","aborted",e),d.$15()});this.$1=a;a.send()};c.$18=function(a,c,d){__p&&__p();var e=this,f=this.$9.end,g=this.$5.length-f,h=f+Math.min(g,a);if(g>0){var i=this.$5.slice(f,h);f=this.$6.slice(f,h).map(function(a){return JSON.stringify(a)});i=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setString("channel_id",this.$8).setString("root_video_id",this.$7).setStringVector("video_ids",i).setStringVector("feed_tracking_data",f);var j=Date.now();this.$1=new(b("AsyncRequest"))(i.getURI()).setAllowCrossPageTransition(!0).setErrorHandler(function(){e.$14("fetch_stories_forward","failed",j),e.$15()}).setAbortHandler(function(){e.$14("fetch_stories_forward","aborted",j),e.$15()}).setHandler(function(a){e.$14("fetch_stories_forward","succeeded",j),e.$9.end=h,e.$15(),e.$17(a,function(a,b){e.$12=[].concat(e.$12,a);e.$13=[].concat(e.$13,b);return c(a,b)})});this.$1.send();d&&d(g)}else this.$3&&(this.$16(a,c),d&&d(a))};c.$19=function(a,c,d){__p&&__p();var e=this,f=this.$9.start;if(f>0){var g=Math.max(f-a,0);a=this.$5.slice(g,f);var h=this.$6.slice(g,f).map(function(a){return JSON.stringify(a)});a=b("XVideoChannelViewStoryAsyncController").getURIBuilder().setEnum("caller",this.$4).setString("channel_id",this.$8).setString("root_video_id",this.$7).setStringVector("video_ids",a).setStringVector("feed_tracking_data",h);var i=Date.now();this.$1=new(b("AsyncRequest"))(a.getURI()).setAllowCrossPageTransition(!0).setErrorHandler(function(){e.$14("fetch_stories_backward","failed",i),e.$15()}).setAbortHandler(function(){e.$14("fetch_stories_backward","aborted",i),e.$15()}).setHandler(function(a){e.$14("fetch_stories_backward","succeeded",i),e.$9.start=g,e.$15(),e.$17(a,c)});this.$1.send();d&&d(f-g)}};c.fetchStories=function(a,c,d){var e=b("VideoChannelViewVariables").defaultStoriesToLoad;if(this.$1)return;a?this.$18(e,c,d):this.$19(e,c,d)};c.$17=function(a,c){a=a.getPayload();var d=b("HTML").replaceJSONWrapper(a.stories).getNodes();a=a.thumbnails.map(function(a){return b("HTML").replaceJSONWrapper(a).getRootNode()});c(d,a)};c.$15=function(){this.$1=null};return a}();e.exports=a}),null);
__d("XLiveClipVideoInternalSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/clipping/submit/",{video_id:{type:"Int",required:!0},start_seconds:{type:"Int"},end_seconds:{type:"Int"}})}),null);
__d("XLiveVideoClippingShareDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/clipping/share/dialog/",{video_id:{type:"FBID",required:!0},show_preview:{type:"Bool",defaultValue:!1},start_seconds:{type:"Int"},end_seconds:{type:"Int"},enable_scrubber:{type:"Bool",defaultValue:!1}})}),null);
__d("ClippingApi",["regeneratorRuntime","Arbiter","AsyncRequest","AsyncRequestUtil","XLiveClipVideoInternalSubmitController","XLiveVideoClippingShareDialogController","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){}var c=a.prototype;c.clipVideo=function(a,c,d,e){__p&&__p();var f,g,h,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:f=Math.round(c);if(!e){j.next=5;break}d=b("XLiveVideoClippingShareDialogController").getURIBuilder().setFBID("video_id",a).setBool("show_preview",!1).setInt("start_seconds",f-30).setInt("end_seconds",f).setBool("enable_scrubber",e).getURI();new(b("AsyncRequest"))(d).setHandler(function(){b("Arbiter").inform("GamesVideoClipping/clipReady")}).send();return j.abrupt("return");case 5:g=b("XLiveClipVideoInternalSubmitController").getURIBuilder().setInt("end_seconds",f).setInt("video_id",a).getURI();j.next=8;return b("regeneratorRuntime").awrap(b("AsyncRequestUtil").send(new(b("AsyncRequest"))(g).setMethod("POST")));case 8:h=j.sent;if(!b("gkx")("681541")){j.next=11;break}return j.abrupt("return");case 11:i=h.payload.clipID,this.shareClip(i.toString());case 13:case"end":return j.stop()}},null,this)};c.shareClip=function(a){a=b("XLiveVideoClippingShareDialogController").getURIBuilder().setFBID("video_id",a).setBool("show_preview",!1).getURI();new(b("AsyncRequest"))(a).setHandler(function(){b("Arbiter").inform("GamesVideoClipping/clipReady")}).send()};return a}();e.exports=new a()}),null);
__d("VideoWithClickPlayPause",["logVideosClickTracking"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a){this.$1=a,this.$2=this.$1.getVideoNode(),this.$1.addListener("clickVideo",this.$3.bind(this)),this.$1.hasSeenClick()&&this.$3()}var c=a.prototype;c.$3=function(){var a=this.$1.getOption("CommercialBreakVideoAdOverlay","videoController");if(this.$1.isState("playing")){if(this.$1.getOption("VideoWithLiveBroadcast","isLive")||a&&a.getOption("VideoWithLiveBroadcast","isLive")||this.$4()||this.$5())return;this.$1.pause("user_initiated")}else b("logVideosClickTracking")(this.$2),this.$1.play("user_initiated")};c.$4=function(){var a=this.$1.getOption("CommercialBreakVideoAdOverlay","videoController");a=a&&a.getOption("VideoWithInstreamVideo","controller");return a&&!a.getConfig().canPauseAdBreak};c.$5=function(){return this.$1.getOption("VideoWithInstreamVideo","disableClickToPause")};return a}();e.exports=a}),null);
__d("AbstractVideoFullscreenControl.react",["cx","AbstractButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={awaitingUpdate:!1},c.isFullscreen=function(){return c.state.awaitingUpdate?c.state.isFullscreenOverride:!!c.props.isFullscreen},c.onButtonClick=function(){c.props.onToggleFullscreen&&c.props.onToggleFullscreen()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=Object.assign({},this.props);delete a.isFullscreen;delete a.onToggleFullscreen;return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.isFullscreen?"uiContextualLayerParent":"",this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}))};return c}(b("React").PureComponent);c.propTypes={disabled:a.bool,image:a.element,isFullscreen:a.bool,onToggleFullscreen:a.func};e.exports=c}),null);
__d("XVideoQualitySurveyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/quality_survey/",{videoid:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("VideoPlayButton",["AsyncRequest","CSS","EventListener","VideoDisplayTimePlayButton","XVideoQualitySurveyController"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();this.$1=a;this.$2=c;d&&(this.$3=d.hiddenAfterFinish,this.$4=d.hiddenWhilePaused,this.$5=!!d.hiddenInFallback,this.$5=d.hiddenInFallback,this.$6=d.spherical);c=b("VideoDisplayTimePlayButton").getClicked(this.$2);b("VideoDisplayTimePlayButton").unregister(this.$2);a.addListener("beginPlayback",this.$7.bind(this));a.addListener("finishPlayback",this.$8.bind(this));a.addListener("pausePlayback",this.$9.bind(this));a.addListener("buffering",this.$10.bind(this));a.addListener("buffered",this.$11.bind(this));a.addListener("stateChange",this.$12.bind(this));a.addListener("playRequested",this.$13.bind(this));a.addListener("VideoChannelController/exitChannel",this.$14.bind(this));a.addListener("clickVideo",this.$15.bind(this));a.addListener("TahoeController/enterTahoe",this.$16.bind(this));b("EventListener").listen(this.$2,"click",this.$17.bind(this));d&&d.hiddenWhileJSLoading&&!d.hiddenWhileVideoLoading&&b("CSS").show(this.$2);c&&this.$17()}var c=a.prototype;c.$12=function(){this.$1.isState("fallback")&&(this.$5||this.$1.getIsInChannel()?b("CSS").hide(this.$2):b("CSS").show(this.$2))};c.$7=function(){b("CSS").hide(this.$2)};c.$9=function(){if(this.$4||this.$1.getSource()==="inline")return;b("CSS").show(this.$2)};c.$13=function(a){if(this.$1.isState("fallback")||a==="autoplay_initiated")return;b("CSS").hide(this.$2)};c.$14=function(){(this.$1.isState("paused")&&(!this.$4||this.$6)||this.$1.isState("finished")&&!this.$3)&&b("CSS").show(this.$2)};c.$16=function(){this.$1.isState("playing")||b("CSS").show(this.$2)};c.$8=function(){var a=this.$1.getOption("Looping","isLooping");this.$3||this.$1.getIsInChannel()||this.$1.getSource()==="tahoe"||a?b("CSS").hide(this.$2):b("CSS").show(this.$2);if(!this.$1.getIsInChannel()&&!this.$1.isAd()&&!this.$1.hasOption("WatchAndScroll","isActive")&&!this.$1.isMuted()&&this.$1.getSource()!=="messaging"){a=b("XVideoQualitySurveyController").getURIBuilder().setString("videoid",this.$1.getVideoID()).getURI();a=new(b("AsyncRequest"))().setURI(a);a.send()}};c.$10=function(){b("CSS").hide(this.$2)};c.$11=function(){b("CSS").hide(this.$2)};c.$17=function(){this.$1.clickVideo()};c.$15=function(){if(this.$1.isState("fallback"))return;b("CSS").hide(this.$2)};return a}();e.exports=a}),null);
__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","isNode","getContextualLayerCursorOffset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=Object.prototype.hasOwnProperty;a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={shown:!1,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},d.$6=function(a){var b=a.clientX,c=a.clientY;a.preventDefault();a.stopPropagation();d.showAt(b,c)},d.$7=function(a){var c=d.$3();c=c&&b("DOMQuery").contains(c,a.target);a=a.button===0;c&&a||d.hide()},d.$8=function(){d.props.disableFocusOutline&&b("Focus").setWithoutOutline(d.$2())},d.$9=function(){var a=d.$2();d.props.disableFocusOutline?b("Focus").setWithoutOutline(a):b("Focus").set(a);d.state.shown&&d.hide()},d.$10=function(){d.hide()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDefaultProps=function(){return{disableFocusOutline:!1}};d.$2=function(){return this.props.mountedTriggerElem};d.$3=function(){var a=this.refs.popover.getMenu();return a&&a.getRoot()};d.$4=function(){return this.refs.menuLayer.layer};d.renderLayers=function(){var a=this;return b("React").createElement(b("ContextualLayer.react"),{alignment:"right",behaviors:[b("LayerHideOnEscape")],contextRef:function(){return a.$2()},offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:"menuLayer",shown:this.state.shown,key:"menu"},b("React").createElement(b("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:"popover"},b("React").createElement("div",{className:"_4345",ref:"fakeTrigger"})))};d.render=function(){return this.props.mountedTriggerElem?b("React").createElement("span",null,this.renderLayers()):null};d.$5=function(a,c){var d=this.$4();a=b("getContextualLayerCursorOffset")(d,a,c);c=a.offsetX;a=a.offsetY;d.setOffsetX(c).setOffsetY(a);this.setState({offsetX:c,offsetY:a})};d.componentDidMount=function(){var a=this,c=this.$2(),d=b("ReactDOM").findDOMNode(this.refs.fakeTrigger),e=this.$4(),f=this.refs.popover;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(c,"contextmenu",this.$6),b("Event").listen(document.body,"mousedown",this.$7),b("Event").listen(c,"focus",this.$8),b("Event").listen(d,"focus",this.$9),b("Event").listen(window,"blur",this.$10),e.subscribe("show",function(){var b=a.state.lastOpenedX,c=a.state.lastOpenedY;a.$5(b,c);f.showPopover()}),e.subscribe("hide",function(){f.hidePopover()}))};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.show=function(){this.setState({shown:!0})};d.showAt=function(a,b){this.setState({lastOpenedX:a,lastOpenedY:b}),this.show()};d.hide=function(){this.setState({shown:!1})};return c}(b("React").Component);c.propTypes={disableFocusOutline:a.bool,menu:function(a,c,d){if(!h.call(a,c))return new Error(d+"."+c+" is required");d=a[c];a=d&&d.type;return!(a&&a.prototype instanceof b("PopoverMenuInterface"))?new Error(c+" must implement PopoverMenuInterface"):null},mountedTriggerElem:function(a,c,d){if(!h.call(a,c))return new Error(d+"."+c+" is required");else if(!b("isNode")(a[c]))return new Error(d+"."+c+" must be a raw DOM node");return null}};e.exports=c}),null);
__d("VideoSpinner",["cx","CircularProgressBar.react","CSS","EventListener","React","ReactDOM","VideoPlayerShakaGlobalConfig","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c){__p&&__p();var d=this;this.$2=c;this.$1=a;this.$3=!1;a.addListener("beginPlayback",this.$5.bind(this));a.addListener("finishPlayback",this.$6.bind(this));a.addListener("pausePlayback",this.$7.bind(this));a.addListener("playRequested",this.$8.bind(this));a.addListener("buffering",this.$9.bind(this));a.addListener("buffered",this.$10.bind(this));a.addListener("networkInterrupted",this.$11.bind(this));a.addListener("networkResumed",this.$12.bind(this));a.addListener("stateChange",this.$13.bind(this));a.addListener("clickVideo",this.$14.bind(this));a.addListener("VideoSphericalOverlay/animationUpdate",this.$15.bind(this));b("EventListener").listen(this.$2,"click",this.$16.bind(this));b("VideoPlayerShakaGlobalConfig").getBool("use_progress_spinner",!1)&&(a.addListener("bufferingProgress",function(a){return d.$17(a)}),b("CSS").addClass(this.$2,"_69ci"))}var c=a.prototype;c.$17=function(a){b("ReactDOM").render(b("React").createElement(b("CircularProgressBar.react"),{animate:!0,text:Math.round(a*100)+"%",percentComplete:Math.max(a*100,10)}),this.$2)};c.$15=function(a,c){a?b("CSS").addClass(this.$2,"_1st9"):b("CSS").removeClass(this.$2,"_1st9")};c.$11=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)&&(this.$3&&b("CSS").show(this.$2)),this.$4=!0};c.$12=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)&&(this.$3||b("CSS").hide(this.$2)),this.$4=!1};c.$9=function(){var a=this,c=b("VideoPlayerShakaGlobalConfig").getNumber("buffering_spinner_delay_ms",0);this.$3=!0;c===0?b("CSS").show(this.$2):b("setTimeout")(function(){a.$3&&b("CSS").show(a.$2)},c);b("VideoPlayerShakaGlobalConfig").getBool("use_progress_spinner",!1)&&this.$17(0)};c.$10=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)?this.$4||b("CSS").hide(this.$2):b("CSS").hide(this.$2),this.$3=!1};c.$5=function(){this.$3?b("CSS").show(this.$2):b("CSS").hide(this.$2)};c.$7=function(){b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)?this.$4||b("CSS").hide(this.$2):b("CSS").hide(this.$2)};c.$8=function(){b("CSS").hide(this.$2)};c.$6=function(){b("CSS").hide(this.$2)};c.$13=function(){this.$1.isState("fallback")&&b("CSS").hide(this.$2)};c.$14=function(){if(this.$1.isState("fallback"))return;(this.$3||this.$1.isState("ready")||this.$1.isState("loading"))&&b("CSS").show(this.$2)};c.$16=function(){this.$1.clickVideo()};return a}();e.exports=a}),null);
__d("LiveVideoPlayerDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;babelHelpers.assertThisInitialized(b).dispatch=b.dispatch.bind(babelHelpers.assertThisInitialized(b));return b}return b}(b("ExplicitRegistrationReactDispatcher"));e.exports=new a({strict:!0})}),null);
__d("LiveVideoPlayerActions",["LiveVideoPlayerDispatcher"],(function(a,b,c,d,e,f){a={setIsRewound:function(a,c){c={type:"SET_IS_REWOUND",isRewound:c,vpc:a};b("LiveVideoPlayerDispatcher").dispatch(c)},dismissRewindCommentOverlay:function(a){a={type:"DISMISS_REWIND_COMMENT_OVERLAY",playerID:a};b("LiveVideoPlayerDispatcher").dispatch(a)}};e.exports=a}),null);
__d("LiveRewindUtils",["LiveVideoPlayerActions","LiveVideoRewindTypedLogger","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5,h=new Map(),i=250;function j(a){var b=0;for(var c=0;c<a.length();c++)b+=a.end(c)-a.start(c);return b>g?b-g:0}function a(a,b){__p&&__p();var c=a;if(b.length()<1)return 0;if(a<=0)return b.start(0);for(var a=0;a<b.length();a++){var d=b.end(a)-b.start(a);if(c<d)return b.start(a)+c;c-=d}return b.end(b.length()-1)}function k(a,b){__p&&__p();var c=a;if(b.length()<1)return c;var d=0;for(var e=0;e<b.length();e++){var f=b.start(e),g=f-d;c-=g;if(a<f){g=f-a;return c+g}if(a<=b.end(e))return c;d=b.end(e)}return c}function l(a,b,c,d){__p&&__p();if(c.length()<1)return 0;d==null&&(d=n(a,c));a<c.start(d)&&(a=c.start(d));a>c.end(d)&&(a=c.end(d));var e=a+b,f=c.end(c.length()-1),g=c.start(0);if(e<=g)return g;if(e>=f)return f;if(e>=c.start(d)&&e<=c.end(d))return e;if(e<c.start(d)){if(d<1)return g;g=a-c.start(d);g=b+g;var h=c.end(d-1);return l(h,g,c,d-1)}if(e>c.start(d)){if(d>=c.length()-1)return f;h=c.end(d)-a;g=b-h;e=c.start(d+1);return l(e,g,c,d+1)}return 0}function m(a,b){b==null&&(b=g);var c=a.end(a.length()-1);return l(c,-1*b,a)}function n(a,b){if(b.length()<1)return 0;var c=0;while(c<b.length()-1){if(a<b.end(c))return c;c++}return c}function c(a){var c=h.get(a);if(c==null){var d=b("uuid")();h.set(a,{sessionID:d,currentSequenceNumber:0});return d}return c.sessionID}function d(a){var c=h.get(a);if(c==null){h.set(a,{sessionID:b("uuid")(),currentSequenceNumber:0});return 0}a=++c.currentSequenceNumber;return a}function f(a){var c=a.getSeekableRanges();if(c){var d=k(a.getCurrentTimePosition(),c);c=c.start(0);s(a,c);b("LiveVideoPlayerActions").setIsRewound(a,!0);r("go_to_beginning",a,d,null,0,null)}}function o(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,-10,c);s(a,d);b("LiveVideoPlayerActions").setIsRewound(a,!0);r("back_button",a,e,null,null,d)}function p(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,10,c);s(a,d);c=m(c);a.isState("playing")&&c-d<1&&b("LiveVideoPlayerActions").setIsRewound(a,!1);r("forward_button",a,e,null,null,d)}function q(a){__p&&__p();var c=a.getSeekableRanges();if(c){var d=a.getCurrentTimePosition();d=k(d,c);c=c.end(c.length()-1);s(a,c);a.isState("paused")&&a.play("user_initiated");b("LiveVideoPlayerActions").setIsRewound(a,!1);r("go_to_live",a,d,null,null,c)}}function r(a,c,d,e,f,g){var h=c.getSeekableRanges(),i=h?j(h):0;d==null&&e!=null&&h!=null&&(d=k(e,h));f==null&&g!=null&&h!=null&&(f=k(g,h));new(b("LiveVideoRewindTypedLogger"))().setEvent(a).setPositionBefore(d).setPositionAfter(f).setVideoDuration(i).setVideoID(c.getVideoID()).setSessionID(t.getLoggingSessionID(c.getVideoPlayerID())).setActionSequenceNumber(t.getLoggingSequenceNumber(c.getVideoPlayerID())).log()}function s(a,b){var c=a.getState()==="paused";a.pause("seek_initiated");setTimeout(function(){a.seek(b),c||a.play("seek_initiated")},i)}var t={getSeekTime:l,getAbsolutePosition:a,getLiveHeadTimestamp:m,getLoggingSessionID:c,getLoggingSequenceNumber:d,getRelativePosition:k,getTotalDuration:j,goToBeginning:f,goToLive:q,logLiveRewindEvent:r,seekBack:o,seekForward:p,LIVE_HEAD_BUFFER_S:g};e.exports=t}),null);
__d("VideoClipButton.react",["ix","cx","fbt","AbstractButton.react","Arbiter","Image.react","React","TooltipData","XUISpinner.react","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("\u6b63\u5728\u7522\u751f\u77ed\u7247\u2026\u2026");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.state={isClipping:!1};c.$1=function(){c.setState({isClipping:!1})};b("Arbiter").subscribe("GamesVideoClipping/clipReady",c.$1);return c}var d=c.prototype;d.render=function(){var a=this,c=i._("\u5229\u7528\u6700\u5f8c{num_seconds}\u79d2\u7684\u756b\u9762\u88fd\u4f5c\u77ed\u7247",[i._param("num_seconds",this.props.defaultLengthInSec)]);return this.state.isClipping?b("React").createElement(b("XUIText.react"),{className:"_zbd _25cu","data-hover":"tooltip","data-tooltip-content":j},b("React").createElement(b("XUISpinner.react"),{className:"_rwt",background:"light",size:"small",paused:!1})):b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(c,"above"),{className:"_zbd",image:b("React").createElement(b("Image.react"),{className:"_rwt",src:g("468574")}),label:c,labelIsHidden:!0,onClick:function(){a.setState({isClipping:!0}),a.props.onClipVideo()},tabIndex:"0"}))};return c}(b("React").Component);e.exports=a}),null);
__d("VideoFBIconControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","URI","VideoPlayerExperiments","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=2;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={iconColor:"white"};return b}var d=c.prototype;d.onMouseOut=function(a){this.setState({iconColor:"white"})};d.onMouseOver=function(a){this.setState({iconColor:"blue"})};d.$1=function(){return new(b("URI"))(this.props.permalinkURL).addQueryData("t",Math.max(0,Math.floor(this.props.playbackPosTimestamp)-j))};d.render=function(){var a=this.state.iconColor==="blue"?g("390907"):g("390910"),c=null;c=b("React").createElement(b("Image.react"),{className:"_rwt",src:a});a=b("VideoPlayerExperiments").embeddedPlayerEnhancements?this.$1():this.props.permalinkURL;return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(this.props.label,"above"),{className:"_zbd",href:a,image:c,label:this.props.label,labelIsHidden:this.props.labelIsHidden,onMouseOut:this.onMouseOut.bind(this),onMouseOver:this.onMouseOver.bind(this),ref:"button",tabIndex:"0",target:"_blank",type:"button"}))};return c}(b("React").Component);a.defaultProps={label:i._("\u9ede\u64ca\u5373\u53ef\u5728 Facebook \u89c0\u770b"),labelIsHidden:!0};e.exports=a}),null);
__d("VideoFullscreenControl.react",["ix","cx","fbt","AbstractVideoFullscreenControl.react","Image.react","React","ReactDOM","VideoPlayerExperiments","asset","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.render=function(){var a;!b("VideoPlayerExperiments").fourArrowFullScreen?a=this.props.isFullscreen?g("463022"):g("407577"):a=this.props.isFullscreen?g("463031"):g("412613");a=b("React").createElement(b("Image.react"),{className:"_rwt",src:a});var c=this.props.isFullscreen?i._("\u9000\u51fa\u5168\u87a2\u5e55"):i._("\u9032\u5165\u5168\u87a2\u5e55\u6a21\u5f0f");return b("React").createElement(b("AbstractVideoFullscreenControl.react"),babelHelpers["extends"]({},this.props,{className:"_zbd _39ip","data-testid":"fullscreen_control",disabled:this.props.disabled,image:a,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button",label:c,labelIsHidden:!0}))};return c}(b("React").Component);c.propTypes={isFullscreen:a.bool,onToggleFullscreen:a.func,tabIndex:a.string};e.exports=c}),null);
__d("VideoPlaybackControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","ReactDOM","TooltipData","VideoPlayerExperiments","asset","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={awaitingUpdate:!1,isPlayingOverwrite:!1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.isPlaying=function(){return this.state.awaitingUpdate?this.state.isPlayingOverwrite:this.props.isPlaying};d.onButtonClick=function(){var a=this.isPlaying();this.setState({awaitingUpdate:!0,isPlayingOverwrite:!a});a?this.props.onPause&&this.props.onPause():this.props.onPlay&&this.props.onPlay()};d.UNSAFE_componentWillReceiveProps=function(){this.setState({awaitingUpdate:!1})};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.render=function(){var a=null,c="";this.props.finishedPlaying?(this.props.useDarkTheme?a=g("463014"):a=g("463019"),c=i._("\u91cd\u64ad")):this.props.isLiveVideo?a=this.isPlaying()?g("463008"):g("431972"):(this.props.useDarkTheme?a=this.isPlaying()?g("463003"):g("462853"):a=this.isPlaying()?g("463005"):g("374088"),c=this.isPlaying()?i._("\u66ab\u505c"):i._("\u64ad\u653e"));a=b("React").createElement(b("Image.react"),{className:"_rwt",src:a});var d=(this.props.isLiveVideo?"":"_zbd")+(this.props.isLiveVideo?" _rx5":"")+" _2sm1";if(b("VideoPlayerExperiments").embeddedPlayerEnhancements)return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(c,"above"),{className:d,"data-testid":"play_pause_control",image:a,label:c,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));else return b("React").createElement(b("AbstractButton.react"),{className:d,"data-testid":"play_pause_control",image:a,label:c,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"})};return c}(b("React").Component);c.propTypes={finishedPlaying:a.bool,isPlaying:a.bool,onPlay:a.func,onPause:a.func,tabIndex:a.string};c.defaultProps={useDarkTheme:!1};e.exports=c}),null);
__d("VideoPlaybackRateControl.react",["cx","fbt","AbstractButton.react","React","VideoPlayerExperiments","shallowCompare"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;function i(a){return a.toFixed(2).replace(/\.0+/,".0")+"x"}c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isMenuOpen:!1,isFocusTriggeredByMouse:!1,rate:1},c.onFocus=function(){c.state.isFocusTriggeredByMouse||c.setState({isMenuOpen:!0})},c.onBlur=function(){c.state.isFocusTriggeredByMouse?c.setState({isFocusTriggeredByMouse:!1}):c.setState({isMenuOpen:!1})},c.onMouseDown=function(){return c.setState({isFocusTriggeredByMouse:!0})},c.onMouseOverButton=function(){return c.setState({isMenuOpen:!0})},c.onMouseLeave=function(){return c.setState({isMenuOpen:!1})},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.createRateItem=function(a,c,d){var e=function(a){d(),a.preventDefault()},f=null;c&&(f=b("React").createElement("div",{className:"_2iw1"}));c=b("React").createElement("div",{className:"_2iw3",style:{backgroundColor:"inherit"}},f);return b("React").createElement("a",{href:"#",key:a,className:"_2iw4",onClick:e,tabIndex:this.props.tabIndex},c,b("React").createElement("div",{className:"_2iw5 _2iw6"},a))};d.render=function(){__p&&__p();var a=this,c=i(this.state.rate),d=null;if(!this.props.disabled){var e=[.5,1,1.25,1.5,1.75,2,2.5,3,3.5,4,5];e=e.map(function(b){return a.createRateItem(i(b),a.state.rate==b,function(){a.props.onSelectPlaybackRate&&a.props.onSelectPlaybackRate(b),a.setState({rate:b})})});d=b("React").createElement("div",{className:"_67bw"+(this.state.isMenuOpen?" _2iw8":"")},b("React").createElement("div",{className:"_2i_w"},b("React").createElement("div",{className:"_2i_x"},b("React").createElement("div",{className:"_2iw5"},h._("\u64ad\u653e\u901f\u5ea6")),e,b("React").createElement("div",{className:"_ukl"}))))}e="_zbd _66_y"+(!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _66_z":"");e=b("React").createElement(b("AbstractButton.react"),{className:e,label:c,onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOverButton,ref:"button",tabIndex:this.props.tabIndex,type:"button"});return b("React").createElement("div",{className:"_2j04",onFocus:this.onFocus,onBlur:this.onBlur,onMouseLeave:this.onMouseLeave},e,d)};return c}(b("React").Component);c.propTypes={isEmbedded:a.bool,onSelectPlaybackRate:a.func,tabIndex:a.string};c.defaultProps={tabIndex:"-1"};e.exports=c}),null);
__d("VideoPlaybackTimer.react",["cx","DateConsts","React","ShimButton.react","VideoPlayerExperiments","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={displayRemainingTime:!b.props.displayElapsedTime,displayPreferenceSet:!1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.UNSAFE_componentWillReceiveProps=function(a){this.state.displayPreferenceSet||this.setState({displayRemainingTime:!a.displayElapsedTime})};d.getClock=function(a){__p&&__p();var c="";isNaN(a)?a=0:a<0&&(a*=-1,c="-");var d=Math.floor(a/b("DateConsts").SEC_PER_HOUR),e=Math.floor((a-d*b("DateConsts").SEC_PER_HOUR)/b("DateConsts").SEC_PER_MIN),f=null;!this.props.displayMilliseconds?f=Math.round(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN):f=Math.floor(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN);f===b("DateConsts").SEC_PER_MIN&&(f=0,e++);e===b("DateConsts").MIN_PER_HOUR&&(e=0,d++);a=a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN-f;a=Math.round(a*b("DateConsts").MS_PER_SEC);var g=("0"+e).slice(-2);f=("0"+f).slice(-2);a=("00"+a).slice(-3);c=c;d===0?c+=e+":"+f:c+=d+":"+g+":"+f;this.props.displayMilliseconds&&(c+="."+a);return c};d.onButtonClick=function(){this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:!0})};d.render=function(){__p&&__p();var a=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime;a=a?this.props.remainingTimestamp:this.props.playbackPosTimestamp;var c="_66_y"+((!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded)&&!this.props.displayBothTimes?" _66_z":"");this.props.isInScrubberPreview&&(c="_66_-");var d=Object.assign({},this.props);delete d.displayElapsedTime;delete d.displayMilliseconds;delete d.isInScrubberPreview;delete d.playbackPosTimestamp;delete d.remainingTimestamp;delete d.isEmbedded;return this.props.displayBothTimes?b("React").createElement("div",babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c)}),b("React").createElement("span",{className:"_66_z"},this.getClock(this.props.playbackPosTimestamp)),b("React").createElement("span",null," / "),b("React").createElement("span",null,this.getClock(this.props.playbackDurationTimestamp))):b("React").createElement(b("ShimButton.react"),babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c),onClick:this.props.isLiveVideo?void 0:this.onButtonClick.bind(this)}),this.getClock(a))};return c}(b("React").Component);c.propTypes={isEmbedded:a.bool,isInScrubberPreview:a.bool,playbackDurationTimestamp:a.number,playbackPosTimestamp:a.number,remainingTimestamp:a.number,displayElapsedTime:a.bool,displayMilliseconds:a.bool,displayBothTimes:a.bool,useDarkTheme:a.bool};c.defaultProps={isInScrubberPreview:!1,playbackDurationTimestamp:0,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:!1,displayMilliseconds:!1,displayBothTimes:!1,useDarkTheme:!1};e.exports=c}),null);
__d("VideoPollCardDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("ExplicitRegistrationDispatcher"))({strict:!1})}),null);
__d("VideoPollCardActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({MARK_POLL_CARD_ACTIVE:"",MARK_POLL_CARD_INACTIVE:""});e.exports=a}),null);
__d("VideoPollCardStore",["FluxReduceStore","ImmutableRecordWithV4Types","VideoPollCardActionTypes","VideoPollCardDispatcher","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("ImmutableRecordWithV4Types").Record;var g=a({pollCardsActiveForVPC:{}});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return g()};d.reduce=function(a,c){__p&&__p();var d=c.pollEventID,e=c.vpcID;switch(c.type){case b("VideoPollCardActionTypes").MARK_POLL_CARD_ACTIVE:if(a.pollCardsActiveForVPC[e]===null){c=a.pollCardsActiveForVPC;var f=b("immutable").List();c[e]=f.push(d);a=a.set("pollCardsActiveForVPC",c)}else{f=a.pollCardsActiveForVPC;c=(c=a.pollCardsActiveForVPC[e])!=null?c:b("immutable").List();f[e]=c.push(d);a=a.set("pollCardsActiveForVPC",f)}return a;case b("VideoPollCardActionTypes").MARK_POLL_CARD_INACTIVE:if(a.pollCardsActiveForVPC[e]!==null){c=a.pollCardsActiveForVPC;f=(f=c[e])!=null?f:b("immutable").List();f=f.filter(function(a){return a!==d});c[e]=f;a=a.set("pollCardsActiveForVPC",c)}return a;default:return a}};return c}(b("FluxReduceStore"));c.__moduleID=e.id;e.exports=new c(b("VideoPollCardDispatcher"))}),null);
__d("VideoInstreamUtils",["fbt","DateConsts","VideoInstreamAdsConstants"],(function(a,b,c,d,e,f,g){__p&&__p();var h={convertFormattedTimeToSeconds:function(a){__p&&__p();var c=0;a=a.split(".");if(a.length>2)return null;if(a.length===2){if(a[1].length===0)return null;var d=a[1];while(d.length<3)d+="0";d=Number(d);if(isNaN(d)||d<0||d>=b("DateConsts").MS_PER_SEC)return null;c+=d/b("DateConsts").MS_PER_SEC}d=a[0].split(":");if(d.length>3)return null;for(var a=0;a<d.length;a++){if(d[a].length===0)return null;var e=Number(d[a]);if(isNaN(e)||e<0||e>=60)return null;c+=e*Math.pow(60,d.length-a-1)}return c},convertTimestampToFormattedString:function(a){__p&&__p();a=Math.round(a*b("DateConsts").MS_PER_SEC)/b("DateConsts").MS_PER_SEC;var c=Math.floor(a/b("DateConsts").SEC_PER_HOUR);a=a-c*b("DateConsts").SEC_PER_HOUR;var d=Math.floor(a/b("DateConsts").SEC_PER_MIN),e=Math.floor(a-d*b("DateConsts").SEC_PER_MIN);a=Math.round(a*b("DateConsts").MS_PER_SEC);var f=("0"+c).slice(-2);d=("0"+d).slice(-2);e=("0"+e).slice(-2);a=("00"+a).slice(-3);var g="";c>0&&(g+=f+":");return g+=d+":"+e+"."+a},getMaxPossibleAdBreaks:function(a,c){a=Math.ceil(a)*b("DateConsts").MS_PER_SEC;if(a<b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;if(!c)return b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS;c=(a-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS-b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)/b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(c)+1)},getEligibleTimeSegments:function(a,c,d){__p&&__p();var e=h.getMaxPossibleAdBreaks(c,d);if(e===0||!d&&a.length>=e)return[];var f=b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,g=c-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,i=b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/b("DateConsts").MS_PER_SEC;if(a.length===0||!d)return[{start:f,end:g}];var j=[];a.forEach(function(b,c){__p&&__p();if(c===0){var d=b.timeOffset-i;d>=f&&j.push({start:f,end:d})}if(c-1>=0){d=a[c-1].timeOffset+i;var e=b.timeOffset-i;d<=e&&j.push({start:d,end:e})}if(c===a.length-1){d=b.timeOffset+i;d<=g&&j.push({start:d,end:g})}});return j},isInEligibleTimeSegments:function(a,b,c,d){if(a===null||a===void 0)return!1;c=h.getEligibleTimeSegments(c,b,d);for(var b=0;b<c.length;b++)if(a>=c[b].start&&a<=c[b].end)return!0;return!1},isAdBreakViolatingInsertionRules:function(a,c,d,e){__p&&__p();var f=a[c];if(f.timeOffset*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)return!0;if((d-f.timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS)return!0;if(e)for(var d=0;d<a.length;d++){if(d===c||a[d].timeOffset>=f.timeOffset)continue;if((f.timeOffset-a[d].timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS)return!0}return!1},getAdBreakTabState:function(a,b,c,d){a=new Set(a);h.getMaxPossibleAdBreaks(c,d)===0&&a.add("video_too_short");b&&a.add("branded_content");return this._getAdBreakTabStateFromDisabledReasons(a)},_getAdBreakTabStateFromDisabledReasons:function(a){__p&&__p();if(a.size===0)return{disabled:!1,errorMessageHeader:null,errorMessageContent:null};else if(a.has("video_too_short"))return{disabled:!0,errorMessageHeader:g._({"*":"\u5f71\u7247\u9577\u5ea6\u9808\u9054{insertion interval}\u79d2\u4ee5\u4e0a"},[g._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:g._("\u4f60\u7684\u5f71\u7247\u592a\u77ed\uff0c\u7121\u6cd5\u63d2\u64ad\u5ee3\u544a\u3002")};else if(a.has("not_organic_upload"))return{disabled:!0,errorMessageHeader:g._("\u7121\u6cd5\u63d2\u64ad\u5ee3\u544a"),errorMessageContent:g._("\u63d2\u64ad\u5ee3\u544a\u53ea\u80fd\u653e\u7f6e\u5728\u539f\u59cb\u5f71\u7247\u4e2d\uff0c\u591a\u6587\u767c\u4f48\u6216\u8f49\u8cbc\u5f71\u7247\u7686\u4e0d\u9069\u7528\u3002")};else if(a.has("broadcast"))return{disabled:!0,errorMessageHeader:g._("\u7121\u6cd5\u63d2\u64ad\u5ee3\u544a"),errorMessageContent:g._("\u5373\u4f7f\u76f4\u64ad\u5df2\u7d50\u675f\uff0c\u76f4\u64ad\u5f71\u7247\u4e5f\u4e0d\u7b26\u5408\u4f7f\u7528\u63d2\u64ad\u5ee3\u544a\u7684\u8cc7\u683c\u3002")};else if(a.has("branded_content"))return{disabled:!0,errorMessageHeader:g._("\u7121\u6cd5\u63d2\u64ad\u5ee3\u544a"),errorMessageContent:g._("\u9019\u6bb5\u5f71\u7247\u6a19\u8a3b\u4e86\u4f01\u696d\u5408\u4f5c\u5925\u4f34\uff0c\u56e0\u6b64\u7121\u6cd5\u63d2\u64ad\u5ee3\u544a\u3002")};else if(a.has("asset_not_owned_by_page")||a.has("unowned_asset_crosspost"))return{disabled:!0,errorMessageHeader:g._("\u7121\u6cd5\u63d2\u64ad\u5ee3\u544a"),errorMessageContent:g._("\u4f60\u53ea\u80fd\u4fee\u6539\u5c6c\u65bc\u4f60\u6240\u7ba1\u7406\u7c89\u7d72\u5c08\u9801\u4e4b\u5f71\u7247\u4e2d\u7684\u63d2\u64ad\u5ee3\u544a\u3002")};return{disabled:!0,errorMessageHeader:g._("\u7121\u6cd5\u63d2\u64ad\u5ee3\u544a"),errorMessageContent:null}}};e.exports=h}),null);
__d("VideoScrubberPointOfInterestBar.react",["cx","React","ShimButton.react","VideoPlaybackTimer.react"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;var h=function(c){"use strict";__p&&__p();babelHelpers.inheritsLoose(a,c);function a(){var a,b;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=b=c.call.apply(c,[this].concat(e))||this,b.state={visibility:"hidden"},a)||babelHelpers.assertThisInitialized(b)}var d=a.prototype;d.render=function(){var a=this,c=this.props.timestamp,d=c*100/this.props.playbackDuration+"%",e=b("React").createElement(b("VideoPlaybackTimer.react"),{className:"_zs-",isInScrubberPreview:!0,playbackPosTimestamp:0,remainingTimestamp:c,style:{left:d,visibility:this.state.visibility}});return b("React").createElement("div",null,b("React").createElement(b("ShimButton.react"),{className:"_zt2"+(this.props.isActive?" _zt3":""),onClick:function(b){return a.props.onPointOfInterestSelect(c)},onMouseEnter:function(b){return a.setState({visibility:"visible"})},onMouseLeave:function(b){return a.setState({visibility:"hidden"})},style:{left:d}}),this.props.showPointOfInterestTimestamps&&e)};return a}(b("React").PureComponent);h.propTypes={playbackDuration:a.number.isRequired,timestamp:a.number.isRequired,isActive:a.bool.isRequired,showPointOfInterestTimestamps:a.bool.isRequired,onPointOfInterestSelect:a.func.isRequired};c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){return b("React").createElement(h,{key:"poi"+a,playbackDuration:d.props.playbackDuration,timestamp:a,isActive:a===d.props.currentPointOfInterest,onPointOfInterestSelect:d.props.onPointOfInterestSelect,showPointOfInterestTimestamps:!!d.props.showPointOfInterestTimestamps})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.shouldComponentUpdate=function(a,b){var c=this;return a.tabIndex!=this.props.tabIndex||a.currentPointOfInterest!==this.props.currentPointOfInterest||a.playbackDuration!=this.props.playbackDuration||a.pointsOfInterest.length!=this.props.pointsOfInterest.length||a.pointsOfInterest.some(function(a,b){return c.props.pointsOfInterest[b]!=a})};d.render=function(){return b("React").createElement("div",{className:"_zud",tabIndex:this.props.tabIndex},b("React").createElement("div",{className:"_zue"},this.props.pointsOfInterest.map(this.$1,this)))};return c}(b("React").Component);c.propTypes={tabIndex:a.string.isRequired,playbackDuration:a.number.isRequired,onPointOfInterestSelect:a.func.isRequired,currentPointOfInterest:a.number,pointsOfInterest:a.array.isRequired,showPointOfInterestTimestamps:a.bool};e.exports=c}),null);
__d("VideoScrubberPreviewSpriteCalculation",[],(function(a,b,c,d,e,f){__p&&__p();a={getImageCoordinatesInSpriteByTime:function(a,b){var c=this.getTotalTimeInSprite(b.maxImagesPerSprite,b.timeIntervalBetweenImages);a=Math.floor(a%c/b.timeIntervalBetweenImages);c=Math.floor(a/b.imagesPerRow);a=a%b.imagesPerRow;return{x:a*b.previewScrubberWidth,y:c*b.previewScrubberHeight}},getSpriteIndex:function(a,b,c){b=this.getTotalTimeInSprite(b,c);return Math.floor(a/b)+1},getTotalTimeInSprite:function(a,b){return a*b}};e.exports=a}),null);
__d("VideoScrubber.react",["ix","cx","fbt","Arbiter","BootloadedComponent.react","ClickableArea.react","DateConsts","EventListener","Image.react","JSResource","Keys","ProfileTile.react","React","ReactDOM","Tooltip.react","VideoInstreamAdsConstants","VideoInstreamUtils","VideoPlaybackTimer.react","VideoScrubberPointOfInterestBar.react","VideoScrubberPreviewSpriteCalculation","asset","emptyFunction","getElementPosition","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){__p&&__p();var c;c=a.call(this,b)||this;c.onMouseEnterScrubberNub=function(){c.props.showVideoSliderWarningTooltip&&c.setState({hoverNub:!0})};c.onMouseLeaveScrubberNub=function(){c.props.showVideoSliderWarningTooltip&&c.setState({hoverNub:!1})};c.$6=new Map();c.$6.set(0,"");c.$9=0;c.state={awaitingUpdate:!1,barCoords:{x:0,y:0,height:0,width:0},hoverNub:!1,mouseOver:!1,nubEngaged:!1,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:!1},lastSpriteDimension:{numRow:0,numColumn:0},shouldIgnoreClipStartTS:!1};return c}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onDragNubBeginImpl=function(a,b){this.setState({nubEngaged:!0,scrubRatio:this.getPositionRatio(b,this.state.barCoords)}),this.props.onScrubBegin&&this.props.onScrubBegin(),a.stopPropagation(),a.preventDefault()};d.onDragNubBeginClick=function(a){if(a.button!==0)return;this.onDragNubBeginImpl(a,a.clientX)};d.onDragNubBeginTouch=function(a){var c=this;if(this.props.alwaysShowThumbnail)return;a.persist();var d=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:d},function(){return c.onDragNubBeginImpl(a,a.touches[0].clientX)})};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({awaitingUpdate:!1});if(this.props.alwaysShowThumbnail){var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:c});this.$8=null;this.$7=null;this.timecodeUpdate(c.x+c.width*this.getPlayedRatio(a.playbackDuration,a.playbackPosition))}};d.componentDidUpdate=function(a,c){var d=this;!c.nubEngaged&&this.state.nubEngaged?(this.$1=b("EventListener").listen(document,"mousemove",function(a){this.onDragNubUpdate(a.clientX),this.onTimecodeUpdate(a,a.clientX)}.bind(this)),this.$2=b("EventListener").listen(document,"mouseup",this.onDragNubRelease.bind(this)),this.$4=b("EventListener").listen(document,"touchmove",function(a){this.onDragNubUpdate(a.touches[0].clientX),this.onTimecodeUpdate(a,a.touches[0].clientX)}.bind(this)),this.$3=b("EventListener").listen(document,"touchend",this.onDragNubRelease.bind(this))):c.nubEngaged&&!this.state.nubEngaged&&(this.$1&&this.$1.remove(),this.$2&&this.$2.remove(),this.$4&&this.$4.remove(),this.$3&&this.$3.remove());!c.mouseOver&&this.state.mouseOver?this.$5=b("EventListener").listen(document,"mousemove",function(a){return d.onTimecodeUpdate(a,a.clientX)}):c.mouseOver&&!this.state.mouseOver&&(this.$5&&this.$5.remove())};d.timecodeUpdate=function(a){__p&&__p();var c=this,d=this.props.playbackDuration;if(!d)return;var e=this.getPositionRatio(a,this.state.barCoords)*d,f=this.$7?this.$7:b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.timecode));this.$7=f;if(!this.props.hasScrubberPreview){d=this.getPositionRatio(a,this.state.barCoords)-Math.ceil(f.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:e,timecodeRatio:d})}else this.props.previewThumbnailInformation&&(this.state.previewThumbnailInformation.previewScrubberWidth===0&&this.retrievePreviewThumbnailInfo(),b("ReactDOM").unstable_batchedUpdates(function(){c.state.previewThumbnailInformation.useScrubberVideo&&c.state.previewThumbnailInformation.scrubberVideoURI!==null?c.updatePreviewThumbnailVideo(e,f,a):c.props.scrubberPreviewSprites&&c.updatePreviewThumbnail(c.props.scrubberPreviewSprites,e,f,a)}))};d.onTimecodeUpdate=function(a,b){this.timecodeUpdate(b),a.preventDefault(),a.stopPropagation()};d.updatePreviewThumbnail=function(a,b,c,d){this.setState({timecodeTimestamp:b});b=Math.floor(b);var e=this.$6;this.isSpriteMapURIFetched()||(this.$6=a);if(this.state.previewThumbnailInformation){a=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(b,a,e)}this.updatePreviewThumbnailLocation(c,d)};d.updatePreviewThumbnailVideo=function(a,c,d){this.setState({timecodeTimestamp:a});var e=b("ReactDOM").findDOMNode(this.refs.previewThumbnailVideo);e.currentTime=a/30;this.updatePreviewThumbnailLocation(c,d)};d.updatePreviewThumbnailLocation=function(a,c){var d=this.$8?this.$8:this.$8=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.previewThumbnailContainer));this.$8=d;c=this.getPositionRatio(c,this.state.barCoords)-Math.ceil(d.width/2)/this.state.barCoords.width;a=(d.width-a.width)/(2*d.width);this.setState({timecodeRatio:a,previewRatio:c})};d.updatePreviewThumbnailImage=function(a,c,d){__p&&__p();d=b("VideoScrubberPreviewSpriteCalculation").getImageCoordinatesInSpriteByTime(a,c);a=b("VideoScrubberPreviewSpriteCalculation").getSpriteIndex(a,c.maxImagesPerSprite,c.timeIntervalBetweenImages);if(a==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$6){c=this.$6.get(a);var e=new Image(),f=this.onLastImageLoad.bind(this);e.onload=function(){f(this.width,this.height)};e.src=c}this.setState({scrubberPreviewSpriteIndex:a,scrubberPreviewBackgroundPosition:d})};d.onLastImageLoad=function(a,b){this.setState({lastSpriteDimension:{numRow:b/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:a/this.state.previewThumbnailInformation.previewScrubberWidth}})};d.retrievePreviewThumbnailInfo=function(){this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})};d.isSpriteMapURIFetched=function(){if(this.$6)return this.$6.size>1;else return!1};d.getPositionRatio=function(a,b){a=a-b.x;a=a/b.width;return Math.min(Math.max(0,a),1)};d.onDragNubUpdate=function(a){this.setState({scrubRatio:this.getPositionRatio(a,this.state.barCoords)})};d.onDragNubRelease=function(a){__p&&__p();var c=this.props.playbackDuration;if(!c)return;var d=this.state.awaitingUpdate;c=this.state.scrubRatio*c;this.props.onScrubEnd&&(this.props.onScrubEnd(c),d=!0);var e=this.props.videoClipInfo;e&&e.start_time_in_ms!==null&&(c<=e.start_time_in_ms/b("DateConsts").MS_PER_SEC&&this.setState({shouldIgnoreClipStartTS:!0}));this.setState({nubEngaged:!1,awaitingUpdate:d});a.preventDefault();a.stopPropagation()};d.renderNub=function(){var a=b("React").createElement("div",{ref:"nub",className:"_2yua _4sxb"+(this.props.showVideoSliderWarningTooltip?" _83lq":""),onMouseEnter:this.onMouseEnterScrubberNub,onMouseLeave:this.onMouseLeaveScrubberNub});return this.props.showVideoSliderWarningTooltip?b("React").createElement(b("Tooltip.react"),{className:"_83lm _4sxb",tooltip:"Rewinding, pausing or skipping ahead in the video will be seen by all viewers."},a):a};d.getPlayedRatio=function(a,b){if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};d.getBufferedRatio=function(){var a=this.props.playbackDuration,b=this.props.bufferedPosition;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};d.getRangeLimitedRatio=function(a){return isNaN(a)||a<0||a>1?0:a};d.getNumberOfSprites=function(){return this.$6?this.$6.size:0};d.getAdBreakIndicators=function(){__p&&__p();if(!this.props.playbackDuration||!this.props.adBreaks)return null;var a=[];for(var c=0;c<this.props.adBreaks.length;c++){var d=this.props.adBreaks[c],e=d.getTimeOffsetInMs();if(e===null||e===void 0)continue;e/=b("DateConsts").MS_PER_SEC;var f=this.props.playbackDuration;if(e<0||e>f)continue;e={left:e/f*100+"%"};f=[];this.props.adBreaksDisableReasons&&(f=this.props.adBreaksDisableReasons[c]);var g="[FB Only] The ad break is disabled for "+f.join(", ")+".";a.push(b("React").createElement("div",{key:"ad_break_indicator_"+c,style:e,className:(f.length===0?"_1p4l":"")+(f.length>0?" _1p4m":"")+(d.getIsAdBreakAutoInserted()&&f.length===0?" _1p4n":"")+(d.getIsAdBreakAutoInserted()&&f.length>0?" _1p4o":"")},f.length>0?b("React").createElement(b("Tooltip.react"),{tooltip:g},"X"):null))}return b("React").createElement("div",null,a)};d.getInsertedAdBreaks=function(){__p&&__p();var a=this;if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var c=[];this.props.insertedAdBreaks.map(function(d,e){d=d.timeOffset;var f=a.props.playbackDuration;d={left:"calc("+d/f*100+"% - 2px)"};c.push(b("React").createElement("div",{key:"inserted_ad_break"+e,style:d,className:(a.props.isAdBreakInsertionWithoutGapRule?"":"_1p4q")+(a.props.isAdBreakInsertionWithoutGapRule?" _1p4r":"")+(a.props.isAdBreakDisabled?" _1p4s":"")},a.props.isAdBreakInsertionWithoutGapRule?null:e+1))});return b("React").createElement("div",null,c)};d.getEligibleAdBreaksTimeSegments=function(){__p&&__p();var a=this;if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;if(this.props.isAdBreakInsertionWithoutGapRule&&this.props.insertedAdBreaks&&this.props.insertedAdBreaks.length>=b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS)return null;var c=0;this.state.awaitingUpdate?c=this.$9:c=this.props.playbackPosition;var d=this.props.playbackDuration,e=b("VideoInstreamUtils").getEligibleTimeSegments(this.props.insertedAdBreaks,d,!this.props.isAdBreakInsertionWithoutGapRule);this.state.nubEngaged?this.$9=this.state.timecodeTimestamp:this.$9=c;var f=[];e.forEach(function(c,e){var g=(c.end-c.start)/d*100,h=a.$9>=c.start&&a.$9<=c.end;c={left:"calc("+c.start/d*100+"% - 2px)",width:g+"%"};f.push(b("React").createElement("span",{key:"time_segment"+e,className:"_1p4t"+(h?" _1p4u":""),style:c}))});return b("React").createElement("div",{className:"_1p50"},f)};d.getPollTimeSegments=function(){__p&&__p();var a=this,c;if(!this.props.playbackDuration)return null;var d;if(!this.props.showPollCard)return null;this.state.awaitingUpdate?d=this.$9:d=this.props.playbackPosition;var e=this.props.playbackDuration;c=(c=this.props.pollTimestamps)!=null?c:[];this.state.nubEngaged?this.$9=this.state.timecodeTimestamp:this.$9=d;var f=[];c.forEach(function(c,d){var h={left:"calc("+c/e*100+"%)"},i=a.$9>=c;f.push(b("React").createElement(b("ClickableArea.react"),{key:d,onClick:function(d){d.stopPropagation(),d.persist(),a.props.onScrubEnd(c),b("Arbiter").inform("PollIconClicked")}},b("React").createElement("span",{key:"poll_segment"+d,className:"_80r-",style:h},b("React").createElement(b("Image.react"),{className:"_80rd",src:i?g("936893"):g("936896")}))));f.push(b("React").createElement("span",{key:"time_segment"+d,className:"_80re",style:h}))});return b("React").createElement("div",{className:"_80rf"},f)};d.onMouseEnter=function(a){if(this.props.alwaysShowThumbnail)return;a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({mouseOver:!0,barCoords:a})};d.onMouseLeave=function(a){var c=this;if(this.props.alwaysShowThumbnail)return;b("ReactDOM").findDOMNode(this.refs.bar).blur();b("ReactDOM").unstable_batchedUpdates(function(){c.setState({mouseOver:!1}),c.state.nubEngaged||c.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}})});this.$8=null;this.$7=null};d.onMouseEnterOnThumbnailOrTimecode=function(a){if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="hidden"};d.onMouseLeaveOnThumbnailOrTimecode=function(a){if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="visible"};d.onKeyDown=function(a){__p&&__p();var c=this.props.playbackDuration,d=this.props.playbackPosition;if(!c||!d)return;d=d;if(a.keyCode===b("Keys").RIGHT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekForward){this.props.onLiveRewindSeekForward();return}d+=5;d>=c&&(d=c-.01)}else if(a.keyCode===b("Keys").LEFT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekBack){this.props.onLiveRewindSeekBack();return}d-=5;d<0&&(d=0)}else if(a.keyCode===b("Keys").HOME){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToBeginning){this.props.onLiveRewindToBeginning();return}d=0}else if(a.keyCode===b("Keys").END){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToLive){this.props.onLiveRewindToLive();return}d=c-.01}else return;this.props.onScrubEnd&&this.props.onScrubEnd(d)};d.canShowHeatmap=function(){return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null};d.render=function(){__p&&__p();var a=b("joinClasses")(this.props.className,"_2yu5"+(this.state.nubEngaged?" _2yu6":"")),c=(this.props.hasScrubberPreview?"_3iit":"")+(this.props.hasScrubberPreview?"":" _3iiu"),d={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+"%"},e={width:this.getBufferedRatio()*100+"%"},f=this.props.videoClipInfo,g="0%";if(f){var h=this.getRangeLimitedRatio(f.start_time_in_ms/b("DateConsts").MS_PER_SEC/this.props.playbackDuration);g=h*100+"%";this.state.shouldIgnoreClipStartTS||(d={width:this.getRangeLimitedRatio(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)-h)*100+"%",marginLeft:g},e={width:this.getRangeLimitedRatio(this.getBufferedRatio()-h)*100+"%",marginLeft:g})}h={left:this.state.timecodeRatio*100+"%",display:this.state.hoverNub?"none":"block"};var j={},k={},l=null,m=null,n=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){n=b("React").createElement(b("VideoPlaybackTimer.react"),{className:c,isInScrubberPreview:!0,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:"timecode",remainingTimestamp:this.state.timecodeTimestamp,style:h});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){c=this.state.previewThumbnailInformation.previewScrubberWidth;h=this.state.previewThumbnailInformation.previewScrubberHeight;var o=100,p=100;this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex?(o*=this.state.previewThumbnailInformation.imagesPerRow,p*=this.state.previewThumbnailInformation.imagesPerColumn):this.state.lastSpriteDimension.numRow&&(o*=this.state.lastSpriteDimension.numRow,p*=this.state.lastSpriteDimension.numColumn);var q=this.state.previewThumbnailInformation.stereoMode;q==="left-right"?(c/=2,o*=2):q==="top-bottom"&&(h/=2,p*=2);q=1;this.props.isFullscreen?q=1.5:this.props.isInTahoe&&(q=1.2);if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null)j={width:c*q+"px",height:h*q+"px"},m=b("React").createElement("video",{muted:"true",preload:"auto",ref:"previewThumbnailVideo",src:this.state.previewThumbnailInformation.scrubberVideoURI,style:j});else if(this.$6){var r="";if(this.state.scrubberPreviewSpriteIndex){var s=this.$6.get(this.state.scrubberPreviewSpriteIndex);s&&(r="url("+s+")")}var t;o>100?t=o+"% "+p+"%":r="";j={width:c*q+"px",height:h*q+"px",backgroundImage:r,backgroundPosition:"-"+this.state.scrubberPreviewBackgroundPosition.x*q+"px -"+this.state.scrubberPreviewBackgroundPosition.y*q+"px",backgroundSize:t};m=b("React").createElement("div",{className:"_3iiw",ref:"previewThumbnail",style:j})}k={left:this.state.previewRatio*100+"%",display:this.props.alwaysShowThumbnail?"block":void 0};l=b("React").createElement("div",{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_3iiv",ref:"previewThumbnailContainer",style:k},m,n)}}s=null;this.props.pointsOfInterest.length>0&&(s=b("React").createElement(b("VideoScrubberPointOfInterestBar.react"),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps}));o=null;p=this.getAdBreakIndicators();c=null;if(this.canShowHeatmap()){h=this.props.hasScrubberPreview?l:n;r=null;h!=null&&(r=this.refs[h.ref]);c=b("React").createElement("div",{className:"_27ew"},b("React").createElement("div",{className:"_5h19",style:d},this.renderNub()),b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("LiveHeatmap.react").__setRef("VideoScrubber.react"),bootloadPlaceholder:b("React").createElement("div",null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:r,ref:"bar",tabIndex:this.props.tabIndex,"aria-label":i._("Change Position")}),h,p)}q=this.props.playbackDuration>500?10:1;j=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*q)/q;k=j+"%";m=this.props.isFullscreen||this.props.isInTahoe;r=b("React").createElement("div",{className:a,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBeginClick.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onTouchStart:this.onDragNubBeginTouch.bind(this)},c?c:b("React").createElement("div",{tabIndex:this.props.tabIndex,role:"slider","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":this.props.playbackDuration,"aria-valuenow":this.props.playbackPosition,"aria-valuetext":k,"aria-label":i._("\u8b8a\u66f4\u4f4d\u7f6e"),className:"_2yu7",ref:"bar"},b("React").createElement("div",{className:"_2yu8",style:e}),b("React").createElement("div",{style:d,className:(this.props.isLiveVideo?"":"_2yu9")+(this.props.isLiveVideo&&!this.props.isLiveRewound?" _1p51":"")+(this.props.isLiveRewound?" _1p52":"")},this.renderNub()),f?b("React").createElement("div",{className:"_355j",style:{width:g}},b("React").createElement(b("ProfileTile.react"),{id:f.sharer_id,size:m?32:24,imageProps:{className:"_355k"},tileProps:{className:"_355n",style:{marginTop:m?-16:-10}}})):null,this.props.hasScrubberPreview?l:n,p,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments(),this.getPollTimeSegments()));return b("React").createElement("div",null,o,r,s)};return c}(b("React").Component);c.propTypes={alwaysShowThumbnail:a.bool,annotatedMomentsOfInterest:a.object,bufferedPosition:a.number.isRequired,hasScrubberPreview:a.bool,isFullscreen:a.bool,onAnnotatedMomentOfInterestSelect:a.func,onScrubBegin:a.func.isRequired,onPointOfInterestSelect:a.func,onScrubEnd:a.func.isRequired,playbackDuration:a.number.isRequired,playbackPosition:a.number.isRequired,pointsOfInterest:a.array,previewThumbnailInformation:a.object,scrubberPreviewSprites:a.object,showPointOfInterestTimestamps:a.bool,tabIndex:a.string.isRequired};c.defaultProps={alwaysShowThumbnail:!1,annotatedMomentsOfInterest:{},hasScrubberPreview:!1,pointsOfInterest:[],onAnnotatedMomentOfInterestSelect:b("emptyFunction"),onPointOfInterestSelect:b("emptyFunction"),onScrubBegin:b("emptyFunction"),onScrubEnd:b("emptyFunction"),showPointOfInterestTimestamps:!1,showVideoSliderWarningTooltip:!1};e.exports=c}),null);
__d("VideoSidepaneToggleControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.onButtonClick=function(){c.props.onSidePaneToggle()},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.render=function(){var a=this.props.isSidePaneOpen?i._("\u9ede\u64ca\u4ee5\u96b1\u85cf\u8a73\u60c5"):i._("\u9ede\u64ca\u4ee5\u986f\u793a\u8a73\u60c5"),c=this.props.isSidePaneOpen?g("114795"):g("114783");return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({className:"_zbd"},b("TooltipData").propsFor(a,"above"),{image:b("React").createElement(b("Image.react"),{className:"_23j0",src:c}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:"button",tabIndex:this.props.tabIndex,type:"button"}))};return c}(b("React").PureComponent);c.defaultProps={label:i._("\u5207\u63db\u8a73\u60c5"),labelIsHidden:!0};c.propTypes={isSidePaneOpen:a.bool,label:a.string,onSidePaneToggle:a.func,tabIndex:a.string};e.exports=c}),null);
__d("SpatialAudioFeedNUX.react",["ix","cx","fbt","AsyncRequest","Image.react","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=i._("\u900f\u904e Audio 360 \u66f4\u6df1\u5165\u9ad4\u9a57"),k=i._("\u6234\u4e0a\u8033\u6a5f\u5373\u53ef\u4eab\u53d7\u4f86\u81ea\u56db\u9762\u516b\u65b9\u7684\u81e8\u5834\u97f3\u6548"),l=4576;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,c)||this;d.$1=function(){d.setState({showNux:!1});var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",l).getURI();new(b("AsyncRequest"))().setURI(a).send()};d.state={showNux:!0};return d}var d=c.prototype;d.render=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,shown:this.state.showNux,position:"below",alignment:"right",onCloseButtonClick:this.$1,width:"auto"},b("React").createElement("div",{className:"_4r0v"},b("React").createElement("div",{className:"_4r0w"},b("React").createElement("div",{className:"_4r0x"},b("React").createElement(b("Image.react"),{src:g("114375")}))),b("React").createElement("div",{className:"_4r0y"},b("React").createElement(b("XUIText.react"),{size:"header4",className:"_4r0z"},j),b("React").createElement(b("XUIText.react"),{size:"meta1",className:"_4r0-"},k))))};return c}(b("React").Component);e.exports=a}),null);
__d("VideoVolumeSlider.react",["cx","EventListener","React","ReactDOM","getElementPosition","shallowCompare"],(function(a,b,c,d,e,f,g){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this,b)||this;c.state={awaitingUpdate:!1,engaged:!1,volume:b.volume};return c}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.UNSAFE_componentWillReceiveProps=function(a){this.setState({awaitingUpdate:!1})};d.componentDidUpdate=function(a,c){!this.state.engaged&&c.engaged?(this.$2&&this.$2.remove(),this.$1&&this.$1.remove(),this.$3&&this.$3.remove(),this.$4&&this.$4.remove()):this.state.engaged&&!c.engaged&&(this.$1=b("EventListener").listen(document,"mousemove",this.onMouseMove.bind(this)),this.$2=b("EventListener").listen(document,"mouseup",this.onMouseUpImpl.bind(this)),this.$3=b("EventListener").listen(document,"touchmove",this.onTouchMove.bind(this)),this.$4=b("EventListener").listen(document,"touchend",this.onMouseUpImpl.bind(this)))};d.onMouseDownImpl=function(a,b,c){this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume),this.props.isHorizontal?this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(b)}):this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(c)}),a.preventDefault(),a.stopPropagation()};d.onMouseDown=function(a){if(a.button!==0)return;this.onMouseDownImpl(a,a.clientX,a.clientY)};d.onTouchDown=function(a){this.onMouseDownImpl(a,a.touches[0].clientX,a.touches[0].clientY)};d.getClampedClickPositionVolume=function(a){var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.slider)),d=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var e=a+d/2-c.x;return Math.max(0,Math.min(1,e/c.width))}else{e=c.y-a+c.height+d/2;return Math.max(0,Math.min(1,e/c.height))}};d.onMouseUpImpl=function(a){this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume),this.setState({engaged:!1,awaitingUpdate:!0}),a.preventDefault(),a.stopPropagation()};d.onMouseMoveImpl=function(a,b,c){this.props.isHorizontal?this.setState({volume:this.getClampedClickPositionVolume(b)}):this.setState({volume:this.getClampedClickPositionVolume(c)}),this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume),a.preventDefault(),a.stopPropagation()};d.onMouseMove=function(a){this.onMouseMoveImpl(a,a.clientX,a.clientY)};d.onTouchMove=function(a){this.onMouseMoveImpl(a,a.touches[0].clientX,a.touches[0].clientY)};d.getVolume=function(){return this.state.engaged||this.state.awaitingUpdate?this.state.volume:this.props.volume};d.render=function(){var a=this.props.isHorizontal||!1,c=a?{width:Math.round(this.getVolume()*100)+"%"}:{height:Math.round(this.getVolume()*100)+"%"};a="_3pao"+(a?" _4sx9":"")+(this.state.engaged?" _2yu6":"");return b("React").createElement("div",{className:a,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onTouchDown.bind(this)},b("React").createElement("div",{className:"_4sxa"},b("React").createElement("div",{className:"_3paq",ref:"slider"},b("React").createElement("div",{className:"_3par",style:c},b("React").createElement("div",{className:"_3pas _4sxb",ref:"nub"})))),b("React").createElement("div",{className:"_3pat"}))};return c}(b("React").Component);c.propTypes={volume:a.number,onVolumeChangeBegin:a.func,onVolumeChangeEnd:a.func,onVolumeChange:a.func};c.defaultProps={volume:0,onVolumeChange:function(a){},onVolumeChangeBegin:function(a){},onVolumeChangeEnd:function(a){}};e.exports=c}),null);
__d("VideoVolumeControl.react",["ix","cx","fbt","invariant","AbstractButton.react","Image.react","Keys","React","ReactDOM","SpatialAudioFeedNUX.react","TooltipData","VideoPlayerVolumeSettings","VideoVolumeSlider.react","asset","shallowCompare"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b){b=a.call(this,b)||this;b.state={nubEngaged:!1,focused:!1,lastVolumeBeforeMute:1};return b}var d=c.prototype;d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.onButtonClick=function(){this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted()};d.onButtonFocus=function(){this.setState({focused:!0})};d.onButtonBlur=function(){this.setState({focused:!1})};d.onKeyDown=function(a){var c=this.props.volume;if(a.keyCode===b("Keys").UP)a.preventDefault(),a.stopPropagation(),c+=.05,c>1&&(c=1);else if(a.keyCode===b("Keys").DOWN)a.preventDefault(),a.stopPropagation(),c-=.05,c<0&&(c=0);else return;this.onSliderVolumeChangeEnd(c)};d.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};d.getVolume=function(){return this.props.isMuted?0:this.props.volume};d.onSliderVolumeChangeBegin=function(){var a=this.props.volume;a>0&&(this.setState({nubEngaged:!0,lastVolumeBeforeMute:a}),b("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(a))};d.onSliderVolumeChangeEnd=function(a){a>0?(this.setState({lastVolumeBeforeMute:a}),b("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(a),this.onSliderVolumeChange(a)):(this.props.onVolumeChange(this.state.lastVolumeBeforeMute),this.props.isMuted||this.props.onToggleMuted&&this.props.onToggleMuted()),this.setState({nubEngaged:!1})};d.onSliderVolumeChange=function(a){(a>0&&this.props.isMuted||a===0&&!this.props.isMuted)&&(this.props.onToggleMuted&&this.props.onToggleMuted()),this.props.onVolumeChange&&this.props.onVolumeChange(a)};d.checkLastVolumeBeforeMuteInvariant=function(){this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||j(0,2385)};d.render=function(){__p&&__p();var a=this,c=Math.round(this.getVolume()*100),d=null,e="";if(this.props.isAudioBlocked)e=i._("\u7121\u6cd5\u64ad\u653e\u97f3\u8a0a"),d=b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_rwt",src:this.props.useDarkTheme?g("797748"):g("660433")}));else if(c==0)d=b("React").createElement(b("Image.react"),{className:"_rwt",src:this.props.useDarkTheme?g("462991"):g("462993")});else{var f=null;c<=33?f=this.props.useDarkTheme?g("462983"):g("462984"):c<=66?f=this.props.useDarkTheme?g("462987"):g("462988"):f=this.props.useDarkTheme?g("462971"):g("443962");d=b("React").createElement("div",{className:"_1age"},b("React").createElement("div",{className:"_1agf"},b("React").createElement(b("Image.react"),{className:"_rwt",src:f})))}c="_2swo"+(this.state.nubEngaged?" _2yu6":"")+(this.state.focused?" _2iw8":"");f="_zbd _1agg";var h=this.getVolume()?i._("\u975c\u97f3"):i._("\u53d6\u6d88\u975c\u97f3"),j=this.props.isAudioBlocked?null:b("React").createElement(b("VideoVolumeSlider.react"),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||!1,volume:this.getVolume()});e=b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(e,"above"),{className:f,"data-testid":"mute_unmute_control",image:d,label:h,labelIsHidden:!0,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));f=this.props.showSpatialAudioNUX?b("React").createElement(b("SpatialAudioFeedNUX.react"),{contextRef:function(){return a.refs.button}}):null;return this.props.isHorizontal?b("React").createElement("div",{className:c},e,j,f):b("React").createElement("div",{className:c},j,e,f)};return c}(b("React").Component);c.propTypes={isAudioBlocked:a.bool,isMuted:a.bool,onVolumeChange:a.func,onToggleMuted:a.func,tabIndex:a.string,volume:a.number,useDarkTheme:a.bool};c.defaultProps={isAudioBlocked:!1,useDarkTheme:!1};e.exports=c}),null);
__d("VideoControls.react",["cx","fbt","ix","AbstractButton.react","BootloadedComponent.react","FluxContainer","Image.react","JSResource","LiveVideoRewindTypedLogger","React","TooltipData","VideoClipButton.react","VideoFBIconControl.react","VideoFullscreenControl.react","VideoPlaybackControl.react","VideoPlaybackRateControl.react","VideoPlaybackTimer.react","VideoPlayerExperiments","VideoPollCardDispatcher","VideoPollCardStore","VideoScrubber.react","VideoSidepaneToggleControl.react","VideoVolumeControl.react","asset","immutable","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;c=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={pollCardsActiveForVPC:{}},b)||babelHelpers.assertThisInitialized(c)}c.getStores=function(){return[b("VideoPollCardStore")]};c.calculateState=function(){var a=b("VideoPollCardStore").getState();a=a.pollCardsActiveForVPC;return{pollCardsActiveForVPC:a}};var d=c.prototype;d.UNSAFE_componentWillMount=function(){b("VideoPollCardDispatcher").explicitlyRegisterStores(c.getStores())};d.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};d.componentDidUpdate=function(){var a;a=!this.props.finishedPlaying&&(this.props.vpcID!==void 0?this.state.pollCardsActiveForVPC[(a=this.props.vpcID)!=null?a:""]!==null?((a=this.state.pollCardsActiveForVPC[(a=this.props.vpcID)!=null?a:""])!=null?a:b("immutable").List()).size===0:!0:!1);a&&(this.props.pollTimestamps?this.props.pollTimestamps.length>0:null)?this.props.drawer&&this.props.drawer.setHeight(55):this.props.drawer&&this.props.drawer.setHeight(35)};d.isHidden=function(){return this.props.hidden};d.isTransparent=function(){return this.props.transparent};d.render=function(){__p&&__p();var a=b("VideoPlayerExperiments").inlineSoundVisible,c="_1c7d"+(this.isHidden()?" _1c7e":"")+(this.isTransparent()&&!a?" _2oy-":""),d="_2w_u"+(this.props.showSidePaneToggle?" _vr5":"")+(this.props.useDarkTheme?" _vr6":"")+"",e="_1c7f _1c7g"+(this.isTransparent()&&a?" _2oy-":""),f="_1c7f _2pvx"+(this.isTransparent()&&a?" _2oy-":""),g="_1c7f _1c7h"+(this.isTransparent()&&a?" _2oy-":""),j="_1c7f _w7o"+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?" _2oy-":""),k="_2w_w",l=!1;this.props.isLive&&this.props.isInTahoe&&(l=!0);l="_1otk _3t1r _4ubd"+(l?" _w7y":"");var m="_3t1r _4ubd _3t1s"+(this.props.isCommentAttachment?"":" hidden_elem"),n=null;if(!(this.props.isLive||this.props.isFBWasLive)&&!this.props.hideRemainingTime&&!this.props.isInWatchAndScroll){var o=this.props.playbackPosition-this.props.playbackDuration;n=b("React").createElement(b("VideoPlaybackTimer.react"),{className:"_5qsr"+(this.props.displayMilliseconds?" _w7-":""),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,playbackDurationTimestamp:this.props.playbackDuration,remainingTimestamp:o,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds,displayBothTimes:!1})}o=null;var p=null,q=null,r=null,s;this.props.isInTahoe&&this.props.isLive&&!this.props.isFullscreen&&(s=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoQuietModeControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),videoID:this.props.videoID}));(!this.props.isLive||this.props.hasHD)&&(!this.props.hideSettings&&!this.props.isInWatchAndScroll&&(b("VideoPlayerExperiments").redesign&&(q=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoSettingsControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isInline:this.props.isInline,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,areSubtitlesActive:this.props.areSubtitlesActive,areSubtitlesAutogenerated:this.props.areSubtitlesAutogenerated,onSettingsClick:this.props.onSettingsClick,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:"0",availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,preferredQuality:this.props.preferredQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID}))));this.props.isLive&&(b("VideoPlayerExperiments").hlsButton&&(r=b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("VideoToHLSControl.react").__setRef("VideoControls.react"),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:"0"})));var t=this.props.gamesVideoCreatorClipping&&(this.props.isInTahoe||this.props.isInline||this.props.gamesVideoClipButtonEnabled)&&this.props.gamesDefaultClipLengthInSec?b("React").createElement(b("VideoClipButton.react"),{onClipVideo:this.props.onClipVideo,defaultLengthInSec:this.props.gamesDefaultClipLengthInSec}):null,u=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&(this.props.isInline||this.props.isInWatchAndScroll)){var v=b("React").createElement(b("Image.react"),{className:"_rwt",src:i("407577")}),w=h._("\u9ede\u64ca\u653e\u5927");u=b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(w,"above"),{className:"_zbd _400z _1vek",image:v,label:w,labelIsHidden:!0,onClick:this.props.onEnterTahoe,tabIndex:"0"}))}else{v=this.props.isFullscreen?h._("\u9ede\u64ca\u53ef\u9000\u51fa\u5168\u87a2\u5e55"):h._("\u9ede\u64ca\u53ef\u9032\u5165\u5168\u87a2\u5e55");u=b("React").createElement(b("VideoFullscreenControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(v,"above"),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:"0"}))}w=null;this.props.hasWatchAndScroll&&!this.props.isFullscreen&&!this.props.isInWatchAndScroll&&(w=b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("VideoWatchAndScrollControl.react").__setRef("VideoControls.react"),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX}));v=null;this.props.allowCasting&&this.props.hasFoundReceiver&&(v=b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("VideoCastingControl.react").__setRef("VideoControls.react"),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast}));var x=null;if(b("VideoPlayerExperiments").embeddedPlayerEnhancements)x=this.props.permalinkURL?b("React").createElement(b("VideoFBIconControl.react"),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null;else{var y=null,z=this.props.isWatchIconEligible?i("909284"):i("390910");this.props.permalinkURL&&(y=b("React").createElement(b("Image.react"),{className:"_rwt",src:z}),x=b("React").createElement(b("AbstractButton.react"),{className:"_zbd",href:this.props.permalinkURL,image:y,label:h._("\u53e6\u958b\u65b0\u6a19\u7c64"),labelIsHidden:!0,ref:"button",tabIndex:"0",target:"_blank",type:"button"}))}z=null;y=null;var A=null,B=null,C=null;if((this.props.isLive||this.props.isFBWasLive)&&this.props.showPlayButtonForLive&&!this.props.isLiveRewindEnabled)y=b("React").createElement(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});else if(!(this.props.isLive||this.props.isFBWasLive)&&!this.props.hidePlaybackControl){y=b("React").createElement(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){var D=h._("\u64ad\u653e\u901f\u7387");A=b("React").createElement(b("VideoPlaybackRateControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(D,"above"),{isEmbedded:this.props.isEmbedded,tabIndex:"0",onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}))}if(!this.props.hidePlaybackScrubber){D=!this.props.finishedPlaying&&(this.props.vpcID!==void 0?this.state.pollCardsActiveForVPC[(D=this.props.vpcID)!=null?D:""]!==null?((D=this.state.pollCardsActiveForVPC[(D=this.props.vpcID)!=null?D:""])!=null?D:b("immutable").List()).size===0:!0:!1);z=b("React").createElement(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,annotatedMomentsOfInterest:this.props.annotatedMomentsOfInterest,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,pollTimestamps:this.props.pollTimestamps,showPollCard:D,onAnnotatedMomentOfInterestSelect:this.props.onAnnotatedMomentOfInterestSelect,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,showVideoSliderWarningTooltip:this.props.showVideoSliderWarningTooltip,tabIndex:"0",isInTahoe:this.props.isInTahoe,videoClipInfo:this.props.videoClipInfo})}}D=null;this.props.showSidePaneToggle&&(D=b("React").createElement(b("VideoSidepaneToggleControl.react"),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:"0"}));var E=null;this.props.hideGradient||(E=b("React").createElement("div",{className:"_w80"+(this.isTransparent()?" _2oy-":"")}));var F=b("React").createElement(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:"0",showSpatialAudioNUX:this.props.showSpatialAudioNUX,useDarkTheme:this.props.useDarkTheme}),G,H,I,J,K,L,M,N,O=this.props,P=O.onLiveRewindToBeginning,Q=O.onLiveRewindSeekBack,R=O.onLiveRewindSeekForward;O=O.onLiveRewindToLive;if(this.props.isLiveRewindEnabled&&!this.props.isEmbedded){if(this.props.liveRelativePlaybackPosition!=null){var S=this.props.liveRelativePlaybackPosition>this.props.playbackDuration?this.props.playbackDuration:this.props.liveRelativePlaybackPosition;M=this.props.isInWatchAndScroll?null:b("React").createElement(b("VideoPlaybackTimer.react"),{className:"_3ek9 _5qsr"+(this.props.displayMilliseconds?" _w7-":""),displayElapsedTime:!0,displayMilliseconds:this.props.displayMilliseconds,isEmbedded:this.props.isEmbedded,isLiveVideo:!0,playbackPosTimestamp:S,playbackDurationTimestamp:this.props.isFBWasLive?this.props.playbackDuration:void 0,displayBothTimes:this.props.isFBWasLive,remainingTimestamp:-1*(this.props.playbackDuration-S)});L=b("React").createElement(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,bufferedPosition:this.props.bufferedPosition,className:"_3ek9",controlsHidden:this.props.hidden,currentPointOfInterest:this.props.currentPointOfInterest,drawer:this.props.drawer,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isInTahoe:this.props.isInTahoe,isLiveRewound:this.props.isLiveRewound,isLiveVideo:!0,isPlaying:this.props.isPlaying,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.isLiveRewound?S:this.props.playbackDuration,pointsOfInterest:this.props.pointsOfInterest,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,tabIndex:"0",onLiveRewindToBeginning:this.props.onLiveRewindToBeginning,onLiveRewindSeekBack:this.props.onLiveRewindSeekBack,onLiveRewindSeekForward:this.props.onLiveRewindSeekForward,onLiveRewindToLive:this.props.onLiveRewindToLive,onPointOfInterestSelect:this.props.onPointOfInterestSelect,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd});new(b("LiveVideoRewindTypedLogger"))().setEvent("render_rewind_controls").setVideoID(this.props.videoID).log()}G=P&&!this.props.isInWatchAndScroll&&!this.props.isInline?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:i("465766"),tooltip:h._("\u524d\u5f80\u958b\u982d"),onButtonClick:P}):null;N=this.props.isFBWasLive&&O&&!this.props.isInWatchAndScroll&&!this.props.isInline?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:i("465765"),tooltip:h._("\u524d\u5f80\u6700\u672b"),onButtonClick:O}):null;H=Q&&!this.props.isInWatchAndScroll?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:i("465767"),tooltip:h._("\u5012\u8f49"),onButtonClick:Q}):null;S=this.props.isLiveRewound?h._("\u5feb\u8f49"):void 0;I=R&&!this.props.isInWatchAndScroll&&!this.props.isInline?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:i("465768"),disabled:!this.props.isLiveRewound,tooltip:S,onButtonClick:R}):null;P=this.props.isLiveRewound?i("467224"):i("467223");Q=this.props.isLiveRewound?h._("\u76f4\u64ad\u6aa2\u8996"):void 0;J=O?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:P,tooltip:Q,onButtonClick:O}):null;K=this.props.isInWatchAndScroll?null:b("React").createElement(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isLiveVideo:!0,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"})}S=null;if(this.props.useTwoRows){R=b("React").createElement(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:!0,tabIndex:"0"});S=b("React").createElement("div",{className:m},b("React").createElement("div",{className:k},b("React").createElement("div",{className:c},b("React").createElement("div",{className:e}),b("React").createElement("div",{className:f},z),b("React").createElement("div",{className:g},n))),b("React").createElement("div",{className:k},b("React").createElement("div",{className:c},b("React").createElement("div",{className:e},y,A,R),b("React").createElement("div",{className:f}),b("React").createElement("div",{className:g},p,r,o,q,w,v,u,x,t))))}P=null;if(b("VideoPlayerExperiments").embeddedPlayerEnhancements&&this.props.isEmbedded){Q=b("joinClasses")(c,b("VideoPlayerExperiments").embeddedPlayerEnhancements?"_w83":"");O=b("joinClasses")(c,"_w86");P=b("React").createElement("div",{className:Q},b("React").createElement("div",{className:k},b("React").createElement("div",{className:O},b("React").createElement("div",{className:e},y,A),b("React").createElement("div",{className:f},z),b("React").createElement("div",{className:g},n)),b("React").createElement("div",{className:c},b("React").createElement("div",{className:e}),b("React").createElement("div",{className:f}),b("React").createElement("div",{className:g},a||F,p,r,o,s,q,w,v,D,u,x,t),b("React").createElement("div",{className:j},!a||F))))}else P=!this.props.useTwoRows||!this.props.isCommentAttachment?b("React").createElement("div",{className:l},b("React").createElement("div",{className:k},b("React").createElement("div",{className:c},b("React").createElement("div",{className:e},C,y,A,B,G,H,K,I,this.props.isFBWasLive?N:J,M),b("React").createElement("div",{className:f},z,L),b("React").createElement("div",{className:g},n,a||F,p,r,o,s,q,w,v,D,u,x,t),b("React").createElement("div",{className:j},!a||F)))):null;return b("React").createElement("div",{className:d},E,P,S)};return c}(b("React").Component);c.propTypes={adBreaks:a.array,adBreaksDisableReasons:a.array,allowFullscreen:a.bool,areHLSActive:a.bool,areSubtitlesActive:a.bool,areSubtitlesAutogenerated:a.bool,availableQualities:a.array,canAutoSelectVideoQuality:a.bool,displayElapsedTime:a.bool,displayMilliseconds:a.bool,annotatedMomentsOfInterest:a.object,finishedPlaying:a.bool,hasHD:a.bool,hasScrubberPreview:a.bool,hasSubtitles:a.bool,hasWatchAndScroll:a.bool,hidden:a.bool,hideGradient:a.bool,hidePlaybackControl:a.bool,hidePlaybackScrubber:a.bool,hideRemainingTime:a.bool,hideSettings:a.bool,isAudioBlocked:a.bool,isCommentAttachment:a.bool,isEmbedded:a.bool,isFullscreen:a.bool,isHD:a.bool,isInline:a.bool,isInWatchAndScroll:a.bool,isLive:a.bool,isLiveRewindEnabled:a.bool,isMuted:a.bool,isPlaying:a.bool,isSidePaneOpen:a.bool,isSlidingWNSEligible:a.bool,isSphericalVideo:a.bool,onEnterWatchAndScroll:a.func,onLiveRewindSeekBack:a.func,onLiveRewindSeekForward:a.func,onLiveRewindToBeginning:a.func,onLiveRewindToLive:a.func,onPause:a.func,onPlay:a.func,onPointOfInterestSelect:a.func,onSeek:a.func,onSelectQuality:a.func,onSetVideoPlaybackRate:a.func,onToggleFullscreen:a.func,onToggleHD:a.func,onToggleHLS:a.func,onToggleMuted:a.func,onToggleSubtitles:a.func,onVolumeChange:a.func,permalinkURL:a.string,playbackDuration:a.number,playbackPosition:a.number,pointsOfInterest:a.array,preferredQuality:a.string,previewThumbnailInformation:a.object,qualitySelectorMinStreams:a.number,scrubberPreviewSprites:a.object,selectedQuality:a.string,showPointOfInterestTimestamps:a.bool,showQualitySelector:a.bool,showSidePaneToggle:a.bool,showWNSNUX:a.bool,streamingFormat:a.string,transparent:a.bool,useDarkTheme:a.bool,useTwoRows:a.bool,volume:a.number,videoClipInfo:a.object,isWatchIconEligible:a.bool};c.defaultProps={allowCasting:!1,bufferedPosition:0,displayElapsedTime:!1,displayMilliseconds:!1,hasFoundReceiver:!1,hidden:!1,hideGradient:!1,hidePlaybackControl:!1,hidePlaybackScrubber:!1,hideRemainingTime:!1,hideSettings:!1,isAudioBlocked:!1,isCasting:!1,isCastingSupported:!1,isCommentAttachment:!1,isMuted:!1,isPlaying:!1,isSphericalVideo:!1,isWatchIconEligible:!1,onSidePaneToggle:function(){},onStartCast:function(){},onStopCast:function(){},playbackDuration:0,playbackPosition:0,showPlaybackRateControl:!1,showSidePaneToggle:!1,showWNSNUX:!1,transparent:!1,useDarkTheme:!1,useTwoRows:!1,volume:0};e.exports=b("FluxContainer").create(c)}),null);
__d("Tahoe",[],(function(a,b,c,d,e,f){var g=null;a={get:function(){return g},set:function(a){g=a}};e.exports=a}),null);
__d("XVideoWnsUpNextAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/wns/upnext/async/{video_id}/",{video_id:{type:"FBID",required:!0},viewed_videos:{type:"FBIDSet"}})}),null);
__d("VideoWatchAndScrollDrawer.react",["csx","cx","fbt","AsyncRequest","DOM","DOMContainer.react","FBLoadShimmer.react","React","XVideoWnsUpNextAsyncController","cxMargin"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={fetching:!0,upNext:null},b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.componentDidMount=function(){this.props.videoID&&this.$2(this.props.videoID)};d.componentWillUnmount=function(){this.$1&&this.$1.abort()};d.$2=function(a){__p&&__p();var c=this;a=b("XVideoWnsUpNextAsyncController").getURIBuilder().setFBID("video_id",a).setFBIDSet("viewed_videos",this.props.viewedVideos);this.$1=new(b("AsyncRequest"))(a.getURI());this.$1.setHandler(function(a){a=a.getPayload();var d=a.upNextUnit&&a.upNextUnit.markup;if(d){d=b("DOM").create("div",{},d);var e=b("DOM").scry(d,"._3iqr");e.length&&(c.setState({upNext:d}),c.props.onLoadUpNext(d,a.canAutoplay))}c.setState({fetching:!1})}).send()};d.render=function(){var a=null;if(this.state.upNext)a=b("React").createElement(b("DOMContainer.react"),null,this.state.upNext);else if(this.state.fetching)a=b("React").createElement("div",{className:"_2685"},b("React").createElement(b("FBLoadShimmer.react"),{height:70,width:124}),b("React").createElement("div",{className:"_63-r"},b("React").createElement(b("FBLoadShimmer.react"),{height:14,width:140,className:"_3-94"}),b("React").createElement(b("FBLoadShimmer.react"),{height:14,width:140,className:"_3-94"}),b("React").createElement(b("FBLoadShimmer.react"),{height:14,width:70,className:"_3-94"}),b("React").createElement(b("FBLoadShimmer.react"),{height:14,width:70})));else return null;return b("React").createElement("div",{className:"_3rq1 _60a7 _2tyk"},b("React").createElement("div",{className:"_3652"},b("React").createElement("div",{className:"_3653"},i._("\u7a0d\u5f8c\u64ad\u653e"))),a)};return c}(b("React").Component);e.exports=a}),null);
__d("VideoWatchAndScrollEndScreen.react",["ix","cx","fbt","Image.react","PopoverMenu.react","React","ReactXUIMenu","ShimButton.react","TooltipData","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("VideoPlayerExperiments").showWNSClose;a=b("React").PropTypes;var k=function(a){a=a.onClose;return b("React").createElement(b("ShimButton.react"),{className:"_3r7h",onClick:a},b("React").createElement(b("Image.react"),{src:g("114710")}))},l=function(a){a=a.onCollapse;return b("React").createElement("div",babelHelpers["extends"]({className:"_1dtq",onClick:a,role:"button",tabIndex:"1"},b("TooltipData").propsFor(i._("\u6536\u5408\u5f71\u7247"))),b("React").createElement(b("Image.react"),{src:g("115705")}))},m=function(a){var c=a.onClose;a=b("React").createElement(b("ReactXUIMenu"),{onItemClick:function(a,b){a=b.item;a.getValue()==="close"&&c()}},b("React").createElement(b("ReactXUIMenu").Item,{value:"close"},"Close"));return b("React").createElement(b("PopoverMenu.react"),{className:"_ivg",menu:a},b("React").createElement("a",{href:"#"},b("React").createElement(b("Image.react"),{src:g("114186")})))};c=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("div",{className:"_5qdn _2se8"+(this.props.fadeOut?" _2gud":"")+" _1s-2"},b("React").createElement("div",{className:"_1szz _2se8"},b("React").createElement("div",{className:"_1szy _ww8",onClick:this.props.onReplay,role:"presentation"},b("React").createElement(b("VideoChannelProgressCircle.react"),{makeProgress:this.props.makeProgress,timeoutSec:this.props.endScreenDuration,watchAndScroll:!0},b("React").createElement(b("VideoChannelReplayImage.react"),{size:"small"})))),b("React").createElement("div",{className:"_ivh"},j?null:b("React").createElement(m,{onClose:this.props.onClose}),b("React").createElement(l,{onCollapse:this.props.onCollapse}),j?b("React").createElement(k,{onClose:this.props.onClose}):null))};return c}(b("React").Component);c.propTypes={endScreenDuration:a.number.isRequired,fadeOut:a.bool,makeProgress:a.bool.isRequired,onReplay:a.func.isRequired,onClose:a.func.isRequired};e.exports=c}),null);
__d("shouldWNSRenderToRHC",["ge"],(function(a,b,c,d,e,f){"use strict";function a(){return!!b("ge")("fbRHCVideoWNS-container")}e.exports=a}),null);
__d("VideoWatchAndScrollContainer.react",["csx","cx","Arbiter","CSS","DOM","DOMContainer.react","DOMDimensions","Event","Locale","Parent","React","ReactCSSTransitionGroup","Rect","SubscriptionsHandler","VideoChannelProgressCircle.react","VideoChannelReplayImage.react","VideoPlayerExperiments","VideoWatchAndScrollDrawer.react","VideoWatchAndScrollEndScreen.react","cancelAnimationFrame","clearTimeout","getViewportDimensions","requestAnimationFrame","setTimeoutAcrossTransitions","shallowCompare","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;var i=10,j=230,k=476,l=300,m=2e3,n=b("VideoPlayerExperiments").endScreenDuration,o=Object.freeze({NW:"nw",NE:"ne",SE:"se",SW:"sw"});c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(b,c){b=a.call(this,b,c)||this;b.state=b.$3(b.props);return b}var d=c.prototype;d.$3=function(a){a=this.$4();var b=this.$5(this.props.initialPosition,a);return{channelVideoElements:[this.props.initialVideoElement],containerBoundingBox:a,dragging:!1,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,endScreenFadeOut:!1,endScreenShown:!1,fadeOut:!1,fadeOutPlaceholder:null,hasDrawer:!1,height:b.height,left:b.left,playbackFinished:!1,resizeDirection:null,showDrawer:!1,timeUntilNext:0,top:b.top,width:b.width,videoIndex:0}};d.shouldComponentUpdate=function(a,c){return!this.state.fadeOut&&b("shallowCompare")(this,a,c)};d.componentDidUpdate=function(a,c){__p&&__p();var d=this;if(!c)return;!c.dragging&&this.state.dragging?(this.documentSubscriptions=new(b("SubscriptionsHandler"))(),this.documentSubscriptions.addSubscriptions(b("Event").listen(document,"mousemove",this.$6.bind(this)),b("Event").listen(document,"mouseup",this.$7.bind(this)))):c.dragging&&!this.state.dragging&&this.documentSubscriptions.release();c.playbackFinished!==this.state.playbackFinished&&this.state.playbackFinished&&this.state.timeUntilNext&&(b("clearTimeout")(this.$2),this.$8(),this.$2=b("setTimeoutAcrossTransitions")(function(){d.props.onPlayNext()},this.state.timeUntilNext*1e3));var e=["._23if","._23ig","._452w","._2i7a"],f=c.channelVideoElements||[];this.state.channelVideoElements.forEach(function(a){if(f.indexOf(a)!==-1)return;e.forEach(function(c){c=b("DOM").scry(a,c);c=c[0];c&&b("CSS").hide(c)});var c=b("DOM").scry(a,"._3pay");c=c[0];c&&(b("CSS").removeClass(c,"_3pay"),b("CSS").addClass(c,"_2337"))})};d.componentDidMount=function(){this.movementListeners=new(b("SubscriptionsHandler"))(),this.movementListeners.addSubscriptions(b("Event").listen(window,"resize",b("throttle")(this.$9.bind(this),100)),b("Arbiter").subscribe("sidebar/visibility",b("throttle")(this.$9.bind(this),100)))};d.componentWillUnmount=function(){this.documentSubscriptions&&this.documentSubscriptions.release(),this.movementListeners&&this.movementListeners.release(),this.$1&&b("clearTimeout")(this.$1),this.$2&&b("clearTimeout")(this.$2)};d.getFadeOutStatus=function(){return this.state.fadeOut};d.getChannelVideoElements=function(){return this.state.channelVideoElements};d.$9=function(){var a=this.$4(),b=this.$5({height:this.state.height,left:this.state.left,top:this.state.top,width:this.state.width},a);this.setState({containerBoundingBox:a,height:b.height,left:b.left,top:b.top,width:b.width})};d.$10=function(a,b){this.$11(b,a)};d.$12=function(a){if(b("Parent").bySelector(a.target,"._5-32")||!b("Parent").bySelector(a.target,"._3t-6"))return;this.$11(a,null)};d.$13=function(a){return a.button!==0||b("Parent").bySelector(a.target,"._3t-6")||b("Parent").bySelector(a.target,"._2se8")};d.$14=function(a){if(this.$13(a))return;this.props.onClick&&this.props.onClick()};d.$11=function(a,c){var d=a.button,e=a.target;if(d!==0)return;if(b("Parent").bySelector(e,"._360f"))return;this.props.onGrab();this.setState({containerBoundingBox:this.$4(),dragging:!0,draggingStartHeight:this.state.height,draggingStartLeft:this.state.left,draggingStartMousePositionX:a.screenX,draggingStartMousePositionY:a.screenY,draggingStartTop:this.state.top,draggingStartWidth:this.state.width,resizeDirection:c});a.preventDefault()};d.$4=function(){var a=0,c=b("DOM").scry(document.body,".fbChatSidebar");c.length===1&&(a=b("DOMDimensions").getElementDimensions(c[0]).width);c=b("getViewportDimensions").withoutScrollbars();var d=43+i,e=c.height-i,f=i;c=c.width-i;b("Locale").isRTL()?f+=a:c-=a;return new(b("Rect"))(d,c,e,f)};d.$5=function(a,c){a=new(b("Rect"))(a.top,a.left+a.width,a.top+a.height,a.left);a=a.boundWithin(c);return{height:a.h(),left:a.getLeft(),top:a.getTop(),width:a.w()}};d.$15=function(a,b,c){__p&&__p();var d=a.top,e=b.getTop();d=e-d;d>0&&((c===o.NE||c===o.NW)&&(a.height-=d),a.top=e);d=a.left;e=b.getLeft();d=e-d;d>0&&((c===o.NW||c===o.SW)&&(a.width-=d),a.left=e);c=a.top+a.height;d=b.getTop()+b.h();e=c-d;e>0&&(a.height=d-a.top);c=a.left+a.width;e=b.getLeft()+b.w();d=c-e;d>0&&(a.width=e-a.left)};d.$16=function(a,b,c){a.width<j&&((c===o.NW||c===o.SW)&&(a.left-=j-a.width),a.width=j),a.height<j&&((c===o.NE||c===o.NW)&&(a.top-=j-a.height),a.height=j)};d.$17=function(a,b,c){a.width>k&&((c===o.NW||c===o.SW)&&(a.left+=a.width-k),a.width=k),a.height>k&&((c===o.NE||c===o.NW)&&(a.top+=a.height-k),a.height=k)};d.$18=function(a,b,c){__p&&__p();var d=a.width/a.height;b=b.width/b.height;if(d>b){var e=a.height*b,f=a.height;e<j&&(f*=j/e,e=j,(c===o.NE||c===o.NW)&&(a.top+=a.height-f));(c===o.NW||c===o.SW)&&(a.left+=a.width-e);a.width=e;a.height=f}else if(d<b){e=a.width/b;(c===o.NE||c===o.NW)&&(a.top+=a.height-e);a.height=e}};d.$19=function(a,b,c,d){this.$15(a,c,d);this.$16(a,b,d);this.$17(a,b,d);this.$18(a,b,d);return{height:a.height,left:a.left,top:a.top,width:a.width}};d.$6=function(a){b("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID),this.dragUpdateRequestAnimationFrameID=b("requestAnimationFrame")(this.$20.bind(this,a))};d.$21=function(a){(a.height!==this.state.height||a.width!==this.state.width)&&this.props.onInitialPositionUpdate(a)};d.$20=function(a){__p&&__p();if(!this.state.dragging)return;var b=a.screenX-this.state.draggingStartMousePositionX,c=a.screenY-this.state.draggingStartMousePositionY,d=this.state.resizeDirection,e;if(!d)e=this.$5({height:this.state.draggingStartHeight,left:this.state.draggingStartLeft+b,top:this.state.draggingStartTop+c,width:this.state.draggingStartWidth},this.state.containerBoundingBox),this.$21(e),this.setState({height:e.height,left:e.left,top:e.top,width:e.width});else{var f=this.state.draggingStartHeight,g=this.state.draggingStartLeft,h=this.state.draggingStartTop,i=this.state.draggingStartWidth;(d===o.NE||d===o.SE)&&(i+=b);(d===o.NW||d===o.SW)&&(g+=b,i-=b);(d===o.SE||d===o.SW)&&(f+=c);(d===o.NE||d===o.NW)&&(h+=c,f-=c);e=this.$19({height:f,left:g,top:h,width:i},{height:this.state.draggingStartHeight,left:this.state.draggingStartLeft,top:this.state.draggingStartTop,width:this.state.draggingStartWidth},this.state.containerBoundingBox,d);this.$21(e);this.setState({height:e.height,left:e.left,top:e.top,width:e.width})}a.preventDefault()};d.$7=function(a){b("cancelAnimationFrame")(this.dragUpdateRequestAnimationFrameID),this.props.onDrop(),this.setState({dragging:!1,draggingStartHeight:0,draggingStartLeft:0,draggingStartMousePositionX:0,draggingStartMousePositionY:0,draggingStartTop:0,draggingStartWidth:0,resizeDirection:null}),a.preventDefault()};d.$22=function(){this.$1&&(b("clearTimeout")(this.$1),this.$1=null),this.setState({showDrawer:!0})};d.$23=function(){this.state.showDrawer&&this.$8()};d.$24=function(){b("clearTimeout")(this.$2),this.setState({playbackFinished:!1}),this.props.onReplay()};d.$8=function(){var a=this;this.$1?b("clearTimeout")(this.$1):this.setState({showDrawer:!0});this.$1=b("setTimeoutAcrossTransitions")(function(){a.setState({showDrawer:!1}),a.$1=null},m)};d.$25=function(a,c){if(a>this.state.channelVideoElements.length)return null;a=this.state.channelVideoElements[a];return!a?null:b("React").createElement("div",{className:"_2yq3"+(c==="left"?" _2yq4":"")+(c==="center"?" _2yq5":"")+(c==="right"?" _2yq6":""),key:a.id},b("React").createElement(b("DOMContainer.react"),null,a))};d.$26=function(){return b("shouldWNSRenderToRHC")()?[]:[b("React").createElement("div",{className:"_52ua",onMouseDown:this.$10.bind(this,o.NW),key:o.NW}),b("React").createElement("div",{className:"_52uc",onMouseDown:this.$10.bind(this,o.NE),key:o.NE}),b("React").createElement("div",{className:"_52ui",onMouseDown:this.$10.bind(this,o.SE),key:o.SE}),b("React").createElement("div",{className:"_52uj",onMouseDown:this.$10.bind(this,o.SW),key:o.SW})]};d.getWidth=function(){return this.state.width};d.onLoadUpNext=function(a,b){this.props.onLoadUpNext(a,b),this.setState({hasDrawer:!0})};d.canPlayAnotherVideo=function(){var a=this.state.channelVideoElements;return this.state.videoIndex<a.length-1};d.render=function(){__p&&__p();var a=this,c=null;this.props.isDrawerEnabled||(c={height:Math.round(this.state.height)+"px",left:this.state.left+"px",top:this.state.top+"px",width:Math.round(this.state.width)+"px"});var d=this.state.channelVideoElements,e=d[this.state.videoIndex];e&&(b("CSS").addClass(e,"_1kfp"),b("CSS").conditionClass(e,"_1blk",this.state.width<l));this.state.endScreenShown&&b("React").createElement(b("VideoWatchAndScrollEndScreen.react"),{endScreenDuration:n/1e3,fadeOut:this.state.endScreenFadeOut,makeProgress:this.canPlayAnotherVideo(),onReplay:this.props.onReplay,onClose:function(){b("clearTimeout")(a.$2),a.$2=null,a.props.onClose()},onCollapse:this.props.onCollapse});e=null;this.state.fadeOutPlaceholder?e=b("React").createElement(b("DOMContainer.react"),null,this.state.fadeOutPlaceholder):e=b("React").createElement("ul",{className:"_2yq7"},d.map(function(c,d){(d>a.state.videoIndex+1||d<a.state.videoIndex-1)&&b("CSS").removeClass(c,"_1kfp");return d<=a.state.videoIndex+1?null:b("React").createElement("li",{key:c.id},b("React").createElement(b("DOMContainer.react"),null,c))}));d=null;this.state.playbackFinished&&(d=b("React").createElement("div",{role:"presentation",onClick:this.$24.bind(this),className:"_1szy _ww8"},b("React").createElement(b("VideoChannelProgressCircle.react"),{makeProgress:!!this.state.timeUntilNext,timeoutSec:this.state.timeUntilNext,watchAndScroll:!0},b("React").createElement(b("VideoChannelReplayImage.react"),{size:"small"}))));var f=null;this.props.isDrawerEnabled&&(f=b("React").createElement(b("VideoWatchAndScrollDrawer.react"),{videoID:this.props.videoID,viewedVideos:this.props.viewedVideos,onLoadUpNext:this.onLoadUpNext.bind(this)}));return b("React").createElement(b("ReactCSSTransitionGroup"),{transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1,transitionName:{appear:"_tie",appearActive:"_tik"}},b("React").createElement("div",{className:"_360g"+(this.state.showDrawer?" _hzi":"")+(this.state.fadeOut?" _473b":"")+(this.state.hasDrawer?" _60a6":"")+(this.props.isLiveVideo()?" _29mh":""),onMouseLeave:this.$23.bind(this),onMouseMove:this.$22.bind(this),style:c},b("React").createElement("div",{className:"_52u8",onClick:this.$14.bind(this),onMouseDown:this.$12.bind(this),role:"presentation"},b("React").createElement("div",{className:"_hzj"},this.$25(this.state.videoIndex-1,"left"),this.$25(this.state.videoIndex,"center"),this.$25(this.state.videoIndex+1,"right"),d),f),this.$26(),e))};return c}(b("React").Component);c.propTypes={initialPosition:a.object.isRequired,initialVideoElement:a.instanceOf(HTMLElement).isRequired,onChannelNavigation:a.func.isRequired,onClick:a.func.isRequired,onClose:a.func.isRequired,onDrop:a.func.isRequired,onGrab:a.func.isRequired,onInitialPositionUpdate:a.func.isRequired,onReplay:a.func.isRequired};e.exports=c}),null);
__d("XVideoWNSSurveyController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/wns_survey/",{__asyncDialog:{type:"Int"}})}),null);
__d("VideoWatchAndScrollController",["csx","cx","invariant","Arbiter","AsyncRequest","CSS","DOM","DOMDimensions","Event","EventListener","Locale","React","ReactDOM","SubscriptionsHandler","Tahoe","VideoAutoplayControllerX","VideoChannelStoryFetcher","VideoFrameBuffer","VideoPlayerExperiments","VideoPlayerShakaGlobalConfig","VideoPlayerVolumeSettings","VideoWatchAndScrollContainer.react","VideoWatchAndScrollVariables","ViewportBounds","XVideoWNSSurveyController","cancelAnimationFrame","clearTimeout","destroyOnUnload","getViewportDimensions","ifRequired","setTimeoutAcrossTransitions","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=158,k=280,l=10,m=42,n=m+l,o=476,p=230,q=["autoplay_initiated","page_visibility_initiated"],r=750,s=308,t=3,u=null,v=b("VideoPlayerExperiments").persistentWNSEnabled;function w(){return Math.max(b("getViewportDimensions")().height,400)-m-80}a=function(){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=this;this.$30=new(b("SubscriptionsHandler"))();this.$31=new(b("SubscriptionsHandler"))();this.$1=!1;this.$2=null;this.$3=null;this.$4=!1;this.$34=d;this.$37=!1;this.$29=!1;this.$47=e;this.$48=e;this.$33=new(b("VideoChannelStoryFetcher"))(c,a,this.$34,null);this.$35=[];this.$36=0;this.$38=[];this.$39=[];this.$5=j;this.$6=k;this.$10=window.document.getElementById("leftCol");this.$11=window.document.getElementById("rightCol");this.$12=window.document.getElementById("pagelet_bluebar");this.$43={};this.$46=null;this.$52();(d=this.$30).addSubscriptions.apply(d,this.$53());v||b("destroyOnUnload")(function(){f.$54(),f.$4&&f.$55(),f.$30&&f.$30.release(),f===u&&(u=null)})}var c=a.prototype;c.$53=function(){__p&&__p();var a=this,c=[];c.push(b("Arbiter").subscribe("VideoChannelView/opened",function(b,c){a.$4&&(!c.controller||a.$16!==c.controller)&&a.$55()}));c.push(b("Arbiter").subscribe("fbVideoWatchAndScroll/closeWNS",function(){if(!a.$4)return;var c=a.$16,d=c.getOption("CommercialBreakVideoAdOverlay","videoController");d&&(c=d);c.logEvent("watch_and_scroll_exited");a.$56();d=b("XVideoWNSSurveyController").getURIBuilder().getURI();c=new(b("AsyncRequest"))().setURI(d);c.send()}));if(b("VideoPlayerExperiments").rhcWNSEnabled){c.push(b("Arbiter").subscribe("RHCVideoWNSController/collapseStart",function(){var c=a.$14;if(!c||!b("shouldWNSRenderToRHC")())return;c.setState({endScreenFadeOut:!0,endScreenShown:!1})}),b("Arbiter").subscribe("RHCVideoWNSController/collapseEnd",function(){var c=a.$14;if(!c||!b("shouldWNSRenderToRHC")())return;a.pauseActiveVideo("user_initiated");c.setState({endScreenFadeOut:!1})}),b("Arbiter").subscribe("RHCVideoWNSController/expandStart",function(){var c=a.$14;if(!c||!a.isActiveVideoDonePlaying()||!b("shouldWNSRenderToRHC")())return;c.setState({endScreenShown:!0})}));if(v){var d=function(){var b=a.$16.getVideoNode();b instanceof HTMLVideoElement||i(0,1208);b.currentTime=b.currentTime};c.push(b("Arbiter").subscribe("RHCVideoWNSController/eject",function(c,e){if(!b("shouldWNSRenderToRHC")())return;a.$2=e;b("DOM").appendContent(document.body,e);b("VideoPlayerShakaGlobalConfig").getBool("timeouts_persist_on_page_transition",!0)||d();a.$16.isState("playing")&&a.playActiveVideo("user_initiated")}),b("Arbiter").subscribe("RHCVideoWNSController/dock",function(){if(!b("shouldWNSRenderToRHC")())return;b("VideoPlayerShakaGlobalConfig").getBool("timeouts_persist_on_page_transition",!0)||d();a.$16.isState("playing")&&a.playActiveVideo("user_initiated")}),b("Event").listen(window,"resize",b("throttle")(function(){if(!b("shouldWNSRenderToRHC")())return;a.$57()})),b("Arbiter").subscribe("RHCVideoWNSController/mount",function(){a.$57()}))}}return c};c.$57=function(){__p&&__p();var a=this.$14;if(!a||this.$37)return;var c=this.$16.getVideoNode();c=this.$58(c);this.$16.removeOffsetStylings();this.$16.setDimensions(c.width,c.height);a.setState({width:c.width,height:c.height});this.$46=c;b("Arbiter").inform("VideoWatchAndScrollController/resize")};c.isActiveVideoDonePlaying=function(){var a=this.$16.getState();return a==="finished"};a.isActiveVideoDonePlaying=function(){return u?u.isActiveVideoDonePlaying():!1};c.$59=function(a,c,d){__p&&__p();var e=this;a||i(0,3963);c.length||i(0,3964);this.$47=!0;this.$37=!1;this.$31=new(b("SubscriptionsHandler"))();this.$36=d;this.$33=a;this.$38=a.getPreloadedData().thumbnails||[];this.$39=[];this.$35=c.slice(0);this.$35.forEach(function(a){e.$60(a),e.$61(a),a.updateSource("watch_scroll")});d=this.$35.shift();this.$62(d,"user_initiated")};c.$63=function(a,b,c,d,e){var f=this;this.$9=e;this.$46=this.$58(e.videoRootNode);this.$59(a,b,c);this.$14&&this.$14.setState({channelVideoElements:d},function(){f.$64()});this.$9=null};a.registerVideoController=function(b,c,d,e){__p&&__p();u==null&&(u=new a(b.getVideoChannelID(),b.getVideoID(),c,e));u.$30.addSubscriptions(b.addListener("enterWatchAndScroll",function(){u&&u.$65(b)}),b.addListener("crossfadeWatchAndScroll",function(){if(u){u.$66();var a=b.getVideoNode();u.$46=u.$58(a);u.$62(b,"user_initiated",!1,!0);b.unmute()}}),b.addListener("exitWatchAndScroll",function(){u&&u.$4&&u.$55()}),b.addListener("VideoChannelController/enterChannel",function(){u&&(u.$37=!0)}),b.addListener("VideoChannelController/exitChannel",function(){u&&(u.$37=!1)}));c==="wns"&&u.$35.push(b);if(!d)return;e=["beginPlayback","changeVolume","muteVideo","toggleFullscreen","unmuteVideo","VideoChannelController/enterChannel"];e.forEach(function(a){u&&u.$30.addSubscriptions(b.addListener(a,function(c){u&&u.$67(b,a,c)}))})};a.isActive=function(){return!u?!1:u.$4&&!u.$37};a.updateSlidingCalculations=function(){if(!u)return;u.$19&&u.$68(u.$19)};a.registerChannelVideoController=function(a){if(!u)return;a.updateSource("watch_scroll");u.$60(a);u.$61(a);u.$35.push(a)};a.getStoryFetcherData=function(){return u&&u.$69()};c.$69=function(){return{storyFetcher:this.$33,videoPlayerControllers:this.$35,channelVideoIndex:this.$36,rootVideoPlayerController:this.$17,channelInteractionsToRegister:this.$39,isFromWNS:!0}};a.getVideoPlaceholder=function(){return!u?null:u.$18};a.getReactContainer=function(){return!u?null:u.$14};a.registerChannelInteraction=function(a){u&&u.$39.push(a)};a.onEnterTahoe=function(){if(!u)return;u.$70()};c.$70=function(){this.$37=!0,this.$33.abandonRequest()};a.onEnterChannel=function(){if(!u)return;u.$71()};c.$71=function(){__p&&__p();this.$37=!0;this.$33.abandonRequest();var a=this.$14;if(!a)return;var c=["._23if","._23ig","._452w","._2i7a"];a.getChannelVideoElements().forEach(function(a){c.forEach(function(c){c=b("DOM").scry(a,c);c=c[0];c&&b("CSS").show(c)});var d=b("DOM").scry(a,"._2337");d=d[0];d&&(b("CSS").removeClass(d,"_2337"),b("CSS").addClass(d,"_3pay"))})};a.resetFromChannelView=function(a,b,c){if(!u)return;u.$59(a,b,c)};a.startFromChannelView=function(a,b,c,d,e){if(!u)return;u.$63(a,b,c,d,e)};c.$67=function(a,b,c){__p&&__p();if(this.$4){if(this.$16===a)return;if(c&&q.includes(c.reason))return;if(!a.isIntentionallyViewing())return;var d=this.$16.getOption("VideoWithLiveBroadcast","isLive");d?this.$16.mute():this.$16.pause("user_initiated")}if(b==="toggleFullscreen"&&a.isFullscreen()||b==="VideoChannelController/enterChannel")this.$19&&this.$54();else if((b!=="beginPlayback"||c&&c.reason==="user_initiated"||a.getSource()==="permalink")&&a.isIntentionallyViewing()&&!a.isFullscreen()&&!a.getIsInChannel()){d=this.$72(a.getVideoNode());d=d.top;(d>window.scrollY||b==="beginPlayback"&&c&&c.reason==="autoplay_initiated")&&this.$68(a)}};c.$73=function(a){if(this.$37||a!==this.$16)return;this.$14&&this.$14.setState({endScreenShown:!0,playbackFinished:!0,timeUntilNext:this.$50?t:0})};c.$74=function(a){var b=this;return a.addListener("finishPlayback",function(){return b.$73(a)})};c.$68=function(a){var c=a.getVideoNode();if(!c.offsetParent)return;this.$19=a;this.$25=b("throttle")(this.$75.bind(this),100);window.addEventListener("resize",this.$25);this.$76(c);this.$77()};c.$75=function(){this.$19&&(this.$76(this.$18||this.$19.getVideoNode()),this.$26&&this.$26())};c.$78=function(a){__p&&__p();var b=this.$72(a),c=a.scrollWidth;a=a.scrollHeight;var d=p,e=o;c<a&&(d*=c/a,e*=c/a);c=d;if(this.$10&&this.$10.children.length){a=this.$72(this.$10);if(a.left<=b.left)c=Math.min(a.left-2*l,e);else if(this.$11&&this.$11.children.length){b=this.$72(this.$11);c=Math.min(b.left-2*l,e)}}else{a=document.getElementById("timeline_tab_content");if(a){b=this.$72(a).left;c=Math.min(b-2*l,e)}}return Math.max(c,d)};c.$72=function(a){var b={left:0,top:0};do b.top+=a.offsetTop,b.left+=a.offsetLeft;while(a=a.offsetParent);return b};c.$79=function(){__p&&__p();if(b("VideoPlayerExperiments").rhcWNSEnabled)return s;var a=0;if(this.$10&&this.$10.children.length){var c=this.$72(this.$10),d=window.getComputedStyle(this.$10);d=parseInt(d.width,10);v&&(d=d||k);a=d+c.left-l}else{d=document.getElementById("timeline_tab_content");if(!d){c=document.getElementById("pagelet_timeline_main_column");c?d=c.parentNode:d=document.getElementById("contentArea")}if(d){c=this.$72(d).left;a=c-2*l}}return a};c.$58=function(a){__p&&__p();var c=!a&&this.$9;({left:0});var d=16,e=9;if(!c){this.$72(a);e=1;d=parseFloat(a.getAttribute("data-original-aspect-ratio"));a=a.parentElement;(!d||e===0)&&a&&(this.$72(a),d=a.scrollWidth,e=a.scrollHeight)}a=p;var f=o;d<e&&(a*=d/e,f*=d/e);var g=this.$79(),h=l;this.$12&&(h+=this.$12.scrollHeight);h=Math.max(h,n);var i=b("VideoPlayerExperiments").rhcWNSEnabled?g:Math.max(Math.min(g,f),p),j;b("VideoPlayerExperiments").rhcWNSEnabled?j=b("Locale").isRTL()?l+b("ViewportBounds").getRight():b("getViewportDimensions")().width-i-l:(j=g>f?g-f+l:l,j=Math.max(j,l));f=i*e/d;b("VideoPlayerExperiments").rhcWNSEnabled&&(f=Math.min(f,w()));return{hasEnoughSpace:!!c||g>=a,height:f,left:j,top:h,width:i}};a.hasEnoughSpaceToEnter=function(a){if(!u||!a||!a.getVideoNode())return!1;a=a.getVideoNode();var b=1,c=parseFloat(a.getAttribute("data-original-aspect-ratio"));a=a.parentElement;(!c||b===0)&&a&&(c=a.scrollWidth,b=a.scrollHeight);a=p;c<b&&(a*=c/b);return u.$79()>a};c.$76=function(a){__p&&__p();this.$22=this.$72(a);this.$27=a.scrollWidth;this.$28=a.scrollHeight;var b=Math.max(this.$27,this.$28);if(b<p){b=p/b;this.$27*=b;this.$28*=b}this.$21=this.$22.top+this.$28*.5-m;this.$20=this.$22.top+this.$28*.5-window.innerHeight;this.$46=this.$58(a);this.$29=!this.$46.hasEnoughSpace};c.$77=function(){this.$19.isIntentionallyViewing()?(this.$80(this.$81.bind(this)),this.$81()):this.$54()};a.isVideoAlmostFinished=function(a){var c=a.getPlaybackDuration();a=a.getCurrentTimePosition();var d=b("VideoWatchAndScrollVariables").noWNSRemainingTime;if(c*.2<d)return a/c>.8;else return c-a<d};a.isSlidingEnabled=function(b){__p&&__p();var c=u;if(c==null)return!1;var d=c.$19;if(d==null||d!==b)return!1;if(c.$29||!b.isIntentionallyViewing()||!b.getVideoNode().offsetParent||a.isVideoAlmostFinished(b)||b.getSource()==="tahoe"||b.hasLooped()){c.$54();return!1}return!0};c.$81=function(){var c=this.$19;if(c==null)return;if(!c.isIntentionallyViewing()||!c.getVideoNode().offsetParent){this.$54();return}(window.scrollY>this.$21||window.scrollY<this.$20)&&a.isSlidingEnabled(c)&&c!==this.$16&&!c.isFullscreen()&&!this.$37&&(b("VideoPlayerExperiments").rhcWNS&&b("VideoPlayerExperiments").responsiveRHC&&window.innerWidth<Number(b("VideoPlayerExperiments").ResponsiveRHCMinWidth)?c.pause("user_initiated"):(this.$66(),b("VideoPlayerExperiments").fixFeedVideosPlayOffscreen&&c.emit("enterWatchAndScroll"),this.$62(c,"autoplay_initiated",!1,!0)),this.$54())};c.$66=function(){this.$47=this.$48};c.$80=function(a){window.removeEventListener("scroll",this.$26),this.$26=a||null,window.addEventListener("scroll",this.$26),b("cancelAnimationFrame")(this.$32),delete this.$32};c.$54=function(){window.removeEventListener("resize",this.$25),this.$80(),delete this.$19,this.$29=!1};c.$65=function(a){this.$54(),this.$4&&this.$16!==a?this.$82(a):(this.$46=this.$58(a.getVideoNode()),this.$66(),this.$62(a,"user_initiated"))};c.$82=function(a){this.$23=a,this.$83()};c.$62=function(a,c,d,e){__p&&__p();var f=this;if(a.getSource()==="tahoe"){this.$37=!1;var g=b("Tahoe").get();g&&g.onExit("wns")}g=!!this.$45;this.$45&&(b("clearTimeout")(this.$45),this.$45=null,b("ReactDOM").unmountComponentAtNode(this.$84()),this.$85());e=this.$1&&(d||e)&&!!this.$17&&this.$17!==a;e&&(this.$36=0,this.$35=[],this.$38=[],this.$41=this.$17,this.$43=babelHelpers["extends"]({},this.$8),this.$44=this.$18,this.$40=this.$14,this.$42=this.$2,this.$2=null,this.$13&&this.$13.remove(),this.$31.release(),this.$31=new(b("SubscriptionsHandler"))());this.$17=a;this.$86(this.$14&&this.$36>0?this.$87(this.$36):a);this.$49?this.$49.add(a.getVideoID()):this.$49=new Set([a.getVideoID()]);this.$14&&this.$35.length>this.$36&&this.$87(this.$36+1).preload();this.$15=this.$16.getRootNode();var h=!this.$1||!this.$16.isMuted(),i=!this.$1||this.$16.isState("playing"),j=this.$1&&this.$16.isState("finished");if(!this.$1||e){(!d||g)&&(g&&(this.$46=this.$58(this.$15)),this.$52(this.$15));if(this.$9){this.$8=this.$9;if(this.$8.videoRootNode){this.$18=this.$88(this.$8.dimensions,this.$17.getVideoNode());b("DOM").appendContent(this.$8.videoRootNode,this.$18);d=b("DOM").scry(this.$8.videoRootNode,"._344x");g=d[0];g&&b("DOM").remove(g)}}else this.$8={videoRootNode:this.$15.parentNode,dimensions:b("DOMDimensions").getElementDimensions(this.$15),source:this.$16.getSource()},this.$18=this.$88(this.$8.dimensions,this.$16.getVideoNode()),b("DOM").insertAfter(this.$15,this.$18);d=null;this.$9&&(d=this.$9.videoRootNode);!d&&this.$15&&(d=this.$15.parentNode);d&&(this.$13=b("EventListener").listen(d,"click",function(){f.$56(),a.play("user_initiated"),b("setTimeoutAcrossTransitions")(function(){f.$67(a,"beginPlayback",{reason:"user_initiated"})},r)}));this.$16.pause("user_initiated");this.$16.isPlayerVersion("silvercity")&&this.$16.detachRootNode();g=this.$7?this.$7.width:this.$6;d=this.$7?this.$7.height:this.$5;this.$16.removeOffsetStylings();this.$16.setDimensions(g,d);this.$4=!0;e&&this.$89();this.$14=this.$90();!this.$1&&b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/init");j&&this.$73(this.$16)}else this.$16.pause("user_initiated"),this.$64();i&&this.$16.play(c);if(h){this.$16.unmute();if(this.$16.getVolume()===0){g=b("VideoPlayerVolumeSettings").getLastVolumeBeforeMute()||1;this.$16.setVolume(g);this.$16.emit("unmuteVideo")}}this.$16.updateSource("watch_scroll");d=this.$33;(!this.$1||e)&&d&&(d.abandonRequest(),this.$9||d.reset(a.getVideoID(),a.getVideoChannelID()),this.$91(),this.$60(a),this.$61(a));this.$1=!0;b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/start")};c.$60=function(b){b.hasOption("WatchAndScroll","isActive")||b.registerOption("WatchAndScroll","isActive",a.isActive)};c.$61=function(a){var c=this;this.$31.addSubscriptions(this.$74(a),a.addListener("VideoChannelController/enterChannel",function(){c.$31.release()}),a.addListener("WatchAndScroll/close",function(){c.$56();var a=b("XVideoWNSSurveyController").getURIBuilder().getURI();a=new(b("AsyncRequest"))().setURI(a);a.send()}))};c.$92=function(){if(!this.$14)return;this.$14.setState({endScreenShown:!1});this.$16&&this.$16.play("user_initiated")};c.$91=function(){__p&&__p();var a=this;if(!this.$47)return;this.$33.fetchStories(!0,function(c,d){var e=a.$14;if(!c||!c.length||!e)return;c=e.getChannelVideoElements().concat(c);e.setState({channelVideoElements:c},function(){b("setTimeoutAcrossTransitions")(function(){a.$87(a.$36+1).preload()})});a.$38=a.$38.concat(d)})};c.$87=function(a){var b=this.$14?this.$14.getChannelVideoElements():[],c=[this.$17].concat(this.$35),d=null;c.forEach(function(c){b[a].contains(c.getRootNode())&&(d=c)});d||i(0,3965);return d};c.$93=function(){if(u&&u.$50)for(var a=0;a<u.$35.length;a++){var b=u.$35[a];if(u.$50.contains(b.getRootNode()))return b}return null};c.$64=function(){__p&&__p();var a=this.$16.isMuted();this.$16.pause("user_initiated");this.$16!==this.$17&&this.$16.abortLoading();this.$86(this.$87(this.$36));this.$15=this.$16.getRootNode();var c=this.$16.getVideoNode(),d=parseFloat(c.getAttribute("data-original-aspect-ratio"));d||(d=16/9);var e=this.$46;e||(e=this.$58(c));this.$14&&(e.width=this.$14.getWidth());e.height=e.width/d;b("VideoPlayerExperiments").rhcWNSEnabled?e.height=Math.min(e.height,w()):e.height>o&&(e.height=o,e.width=e.height*d);this.$16.removeOffsetStylings();this.$16.setDimensions(e.width,e.height);this.$52(c);this.$14&&this.$14.setState({playbackFinished:!1,videoIndex:this.$36,width:e.width,height:e.height},function(){b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/resize")});this.$46=e;this.$16.play("autoplay_initiated");a&&this.$16.mute();this.$35.length<=this.$36?this.$91():this.$87(this.$36+1).preload()};c.$94=function(){var a=l;this.$12&&(a+=this.$12.scrollHeight);return Math.max(a,n)};c.$52=function(a){__p&&__p();if(this.$46){this.$7={height:this.$46.height,left:this.$46.left,top:this.$46.top,width:this.$46.width};return}if(a){var b=a.scrollWidth,c=a.scrollHeight;a=this.$78(a);c=a*c/b;this.$7.height=c;this.$7.width=a}else this.$7={height:this.$5,left:l,top:this.$94(),width:this.$6}};c.$88=function(a,c){__p&&__p();var d=b("DOM").create("canvas",{className:"_57n6"});d.height=a.height;d.width=a.width;if(d.getContext&&d.getContext("2d"))if(c.scrollHeight===0){a=b("DOM").scry(c.parentNode,"._3t5i");a=a[0];if(a){var e=d.getContext("2d");e.drawImage(a,0,0)}}else if(c instanceof window.HTMLVideoElement){e=new(b("VideoFrameBuffer"))(d,c);e.updateFrameBuffer()}a=b("DOM").create("div");a.appendChild(d);c=b("DOM").create("i",{className:"_1jto _bsl _3htz"});a.appendChild(c);return a};c.$56=function(){this.$19&&this.$54();this.$16.pause("user_initiated");if(b("VideoPlayerExperiments").pauseUpNextControllerWNS){var a=this.$93();a&&a.pause("user_initiated");u&&(u.$50=null)}this.$83()};c.$95=function(){this.$16.emit("WatchAndScroll/collapse")};c.$96=function(){var a=this.$88(this.$7,this.$16.getVideoNode(),!0);this.$14&&this.$14.setState({fadeOut:!0,fadeOutPlaceholder:a});this.$97(this.$17,this.$8);this.$18&&(b("DOM").remove(this.$18),this.$18=null);this.$13&&(this.$13.remove(),this.$13=null)};c.$97=function(a,c,d){__p&&__p();a.pause("user_initiated");a.isPlayerVersion("silvercity")&&a.detachRootNode();d&&b("ReactDOM").unmountComponentAtNode(d);c.dimensions&&c.dimensions.width&&c.dimensions.height&&(a.addOffsetStylings(),a.setDimensions(c.dimensions.width,c.dimensions.height));c.videoRootNode&&b("DOM").prependContent(c.videoRootNode,a.getRootNode());a.emit("WatchAndScroll/positionUpdated");a.updateSource(c.source||"inline");d=this.$72(a.getVideoNode());c=d.top;d=b("getViewportDimensions")().height;a.getSource()!=="permalink"&&a.mute();c<window.scrollY||c>window.scrollY+d||this.$51===!1?(a.pause("autoplay_initiated"),a.emit("resumeAutoplay")):a.play("user_initiated")};c.$89=function(){var a=this;this.$4||i(0,3966);this.$40||i(0,3967);this.$40.setState({fadeOut:!0});this.$45=b("setTimeoutAcrossTransitions")(function(){a.$41||i(0,3968),a.$42||i(0,3969),a.$97(a.$41,a.$43,a.$42),a.$44&&(b("DOM").remove(a.$44),a.$44=null),a.$45=null},r)};c.$55=function(){var a=this;this.$4||i(0,3966);this.$14||i(0,3970);!this.$23&&b("shouldWNSRenderToRHC")()&&b("Arbiter").inform("VideoWatchAndScrollController/exit");this.$35.forEach(function(a){return a.abortLoading()});this.$96();this.$45=b("setTimeoutAcrossTransitions")(function(){b("ReactDOM").unmountComponentAtNode(a.$84()),a.$85()},r)};c.$85=function(){this.$4||i(0,3966),this.$33&&this.$33.abandonRequest(),this.$36=0,this.$1=!1,this.$31.release(),this.$31=new(b("SubscriptionsHandler"))(),this.$8={},this.$16=null,this.$17=null,this.$4=!1,this.$35=[],this.$38=[],this.$14=null,b("clearTimeout")(this.$45),this.$45=null,this.$41&&this.$42&&this.$43&&this.$97(this.$41,this.$43,this.$42),this.$41=null,this.$43={},this.$44&&(b("DOM").remove(this.$44),this.$44=null),b("VideoAutoplayControllerX").setShouldAutoplay(!0),this.$2=null,this.$23&&(this.$46=this.$58(this.$23.getVideoNode()),this.$66(),this.$62(this.$23,"user_initiated"),this.$23=null),this.$29=!1,this.$46=null};c.$90=function(){var a=this;return b("ReactDOM").render(b("React").createElement(b("VideoWatchAndScrollContainer.react"),{isDrawerEnabled:b("VideoPlayerExperiments").rhcWNSDrawerEnabled&&b("shouldWNSRenderToRHC")()&&b("VideoPlayerExperiments").rhcWNSExpandToTahoe,isLiveVideo:function(){return a.$16.isLiveVideo()},initialPosition:this.$7,initialVideoElement:this.$15,onChannelNavigation:this.$98.bind(this),onClick:this.$99.bind(this),onClose:this.$56.bind(this),onCollapse:this.$95.bind(this),onDrop:this.$100.bind(this),onGrab:this.$101.bind(this),onInitialPositionUpdate:this.$102.bind(this),onLoadUpNext:this.registerUpNextUnit.bind(this),onPlayNext:this.$103.bind(this),onReplay:this.$92.bind(this),viewedVideos:Array.from(this.$49),videoID:this.$16.getVideoID()}),this.$84())};c.$83=function(){this.$17&&this.$17.emit("exitWatchAndScroll");if(b("VideoPlayerExperiments").pauseUpNextControllerWNS){var a=this.$93();a&&a.emit("exitWatchAndScroll")}};c.$98=function(a){if(a>0&&this.$35.length<=this.$36){b("shouldWNSRenderToRHC")()||this.$56();return}this.$36+=a;this.$64()};c.$103=function(){var a=this.$93();a&&(this.$50=null,a.emit("crossfadeWatchAndScroll"),this.$51?a.play("autoplay_initiated"):(a.preload(),a.emit("showOverlay")))};c.$101=function(){this.$19&&this.$54();var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(a)return;this.$24=this.$16.isState("playing");this.$16.pause("user_initiated")};c.$100=function(){var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(a)return;this.$24&&this.$16.play("user_initiated");this.$24=null};c.$99=function(){var a=this.$16.getOption("VideoWithLiveBroadcast","isLive");if(this.$19||a)return;this.$16.isState("playing")?this.$16.pause("user_initiated"):(this.$16.isState("paused")||this.$16.isState("finished")||this.$16.isState("ready"))&&this.$16.play("user_initiated")};c.$86=function(a){__p&&__p();var c=this;if(this.$16===a)return;b("VideoPlayerExperiments").rhcWNSEnabled&&a.addListener("WatchAndScroll/collapse",function(){if(a!=c.$16){a.removeCurrentListener();return}if(!b("shouldWNSRenderToRHC")())return;b("Arbiter").inform("VideoWatchAndScrollController/collapse")});this.$16=a};c.pauseActiveVideo=function(a){if(!this.$16)return;this.$16.pause(a)};a.pauseActiveVideo=function(a){a===void 0&&(a="user_initiated");if(!u)return;u.pauseActiveVideo(a)};c.playActiveVideo=function(a){if(!this.$16)return;this.$16.play(a)};c.registerUpNextUnit=function(a,c){__p&&__p();var d=b("DOM").find(a,"._3iqr");if(!u||!d)return;u.$50=a;u.$51=c;b("EventListener").listen(d,"click",function(a){if(!u)return;var b=u.$93();b&&(a.preventDefault(),a.stopPropagation(),u.$50=null,b.emit("crossfadeWatchAndScroll"),b.play("user_initiated"))})};a.playActiveVideo=function(a){a===void 0&&(a="user_initiated");if(!u)return;u.playActiveVideo(a)};c.$102=function(a){this.$7=a,this.$14&&!this.$14.getFadeOutStatus()&&(this.$16.removeOffsetStylings(),this.$16.setDimensions(a.width,a.height),this.$16.emit("WatchAndScroll/positionUpdated"))};c.$104=function(){var a=b("DOM").create("div");b("shouldWNSRenderToRHC")()?b("ifRequired")("RHCVideoWNSController",function(b){return b.mount(a)}):b("DOM").appendContent(document.body,a);return a};c.$84=function(){this.$2||(this.$2=this.$104());return this.$2};return a}();e.exports=a}),null);
__d("XBasicFBNuxGenShouldShowController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/megaphone/should_show_fbnux/",{nux_id:{type:"Int",required:!0},dependencies:{type:"IntVector"}})}),null);
__d("VideoControls",["csx","cx","Arbiter","AsyncRequest","Bootloader","ClippingApi","CSS","DeferredComponent.react","EventListener","FullScreen","LiveRewindUtils","LiveVideoPlayerActions","Parent","React","ReactDOM","SubscriptionsHandler","VideoChannelViewVariables","VideoPlayerExperiments","VideoPlayerUIComponentDrawer","VideoWatchAndScrollController","XBasicFBNuxGenShouldShowController","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","gkx","logVideosClickTracking","promiseDone","requestAnimationFrame","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("VideoChannelViewVariables").channelRedesign,j=new Set(["embedded","embedded_video","embedded_video_preview","embedded_page_plugin","embedded_video_from_ufi"]),k=200,l=4936,m=b("VideoPlayerExperiments").persistentWNSEnabled;a=function(){"use strict";__p&&__p();function a(a,c,d){__p&&__p();var e=this,f;this.$14=function(){e.$10=!1,e.scheduleRenderReactComponent()};this.$15=a;this.$86=c;this.$9=0;this.$79=0;this.$78=0;this.$27=0;this.$113=!1;this.$87=!1;this.$45=d.hideOnEvents.autoplay;this.$46=d.hideOnEvents.finish;this.$39=d.hideOnEvents.pause;this.$95=d.unhideOnHover;this.$40=d.hidePlaybackControl;this.$41=d.isWatchIconEligible;this.$42=d.hidePlaybackScrubber;this.$96=d.showPlaybackRateControl;this.$100=d.showVideoSliderWarningTooltip;this.$43=d.hideRemainingTime;this.$44=d.hideSettings;this.$110=d.useTwoRows;this.$52=d.isCommentAttachment;this.$80=d.pointsOfInterestConfig||{};this.$17=d.displayElapsedTime||!1;this.$18=d.displayMilliseconds||!1;this.$19=d.displayDurationLimit;this.$20=d.displayTimeOffset;this.$1=d.adBreaks;this.$2=d.adBreaksDisableReasons;this.$99=d.showSpatialAudioNUX;this.$82=(f=d.pollTimestamps)!=null?f:[];this.$64=!1;this.$94=d.shouldShowWNSNUX;this.$10=!1;this.$34=!1;this.$47=d.insertedAdBreaks;this.$48=d.isAdBreakDisabled;this.$49=d.isAdBreakInsertionWithoutGapRule;this.$59=d.isLiveRewindEnabled||this.$15.isFBWasLive();this.$60=this.$15.isFBWasLive();this.$71=null;this.$97=d.showPlayButtonForLive;this.$111=d.videoClipInfo;this.$93=!!d.videoClipInfo;this.$12=null;this.$73=d.mutedSegments;f=a.isHtml5Player();this.$36=d.showButtons.watchandscroll&&f;this.$3=d.showButtons.casting;this.$4=d.showButtons.fullscreen&&!!b("FullScreen").isSupported();this.$76=d.permalinkURL;this.$57=d.isLive;this.$58=d.isGamingVideo;this.$65=d.isSphericalVideo;this.$28=d.forceVisible||!1;this.$38=d.hideGradient||!1;this.$109=d.useDarkTheme||!1;this.$50=!1;this.$53=!1;this.$37=!1;this.$63=!1;this.$98=d.showQualitySelector;this.$83=d.qualitySelectorMinStreams;this.$69=this.liveRewindToBeginning.bind(this);this.$67=this.liveRewindSeekBack.bind(this);this.$68=this.liveRewindSeekForward.bind(this);this.$70=this.liveRewindToLive.bind(this);this.$13=this.clipVideo.bind(this);this.$24=this.enterWatchAndScroll.bind(this);this.$23=this.enterTahoe.bind(this);this.$77=this.play.bind(this);this.$75=this.pause.bind(this);this.$88=this.scrubBegin.bind(this);this.$89=this.scrubEnd.bind(this);this.$101=this.startCasting.bind(this);this.$102=this.stopCasting.bind(this);this.$104=this.toggleFullscreen.bind(this);this.$105=this.toggleHD.bind(this);this.$106=this.toggleHLS.bind(this);this.$107=this.toggleMuted.bind(this);this.$108=this.toggleSubtitles.bind(this);this.$11=this.changeVolume.bind(this);this.$92=this.setVideoPlaybackRate.bind(this);this.$91=this.setPreferredVideoQuality.bind(this);this.$22=this.$15.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.EmbeddedControls,36);this.$74=d.needsInitialVideoInfoUpdate;this.$16=this.$15.getSource();this.$29=d.gamesVideoClipButtonEnabled;this.$30=!!d.gamesVideoCreatorClippingGK&&!j.has(this.$16);this.$31=d.gamesDefaultClipLengthInSec;this.$6=d.annotatedMomentsOfInterest||{};m||b("destroyOnUnload")(function(){b("ReactDOM").unmountComponentAtNode(c)});a=this.$15.getRootNode();b("EventListener").listen(this.$86,"focusin",function(){e.$26=!0,e.scheduleRenderReactComponent()});b("EventListener").listen(this.$86,"focusout",function(){b("containsNode")(e.$86,b("getActiveElement")())||(e.$26=!1,e.scheduleRenderReactComponent())});b("EventListener").listen(a,"click",function(a){if(e.$26&&a.detail){a=b("getActiveElement")();a&&a.blur()}});b("EventListener").listen(a,"mouseleave",function(){e.$72=!1,e.scheduleRenderReactComponent()});b("EventListener").listen(a,"mouseenter",function(){e.$72=!0,e.scheduleRenderReactComponent()});this.$15.registerOption("VideoControls","acquireForceHideLock",function(){e.$27++;return{release:function(){e.$27--,e.scheduleRenderReactComponent()}}});this.$15.registerOption("VideoControls","hideOnFinish",function(){return e.$46},function(a){e.$46=a});this.$15.registerOption("VideoControls","hideOnPause",function(){return e.$39},function(a){e.$39=a});this.$15.registerOption("VideoControls","unhideOnHover",function(){return e.$95},function(a){e.$95=a});this.$15.registerOption("VideoControls","available",function(){return!0});this.$15.registerOption("VideoControls","areControlsVisible",this.areControlsVisible.bind(this));["mousemove","mousedown","keydown"].forEach(function(a){b("EventListener").listen(e.$15.getRootNode(),a,b("throttle")(e.flashControls.bind(e),200))});this.$103=new(b("SubscriptionsHandler"))();this.scheduleRenderReactComponent();f=["changeVolume","loadedSubtitles","muteVideo","pausePlayback","stateChange","toggleFullscreen","toggleSubtitles","updateMetadata","unmuteVideo","qualityChange","casting/receiverStateChange","casting/supportStateChange","casting/castingStateChange","casting/playStateChange"];f.forEach(function(a){return e.$103.addSubscriptions(e.$15.addListener(a,function(){return e.scheduleRenderReactComponentWithVideoInfoUpdate()}))});this.$103.addSubscriptions(this.$15.addListener("pauseRequested",function(a){e.$114(a)}),this.$15.addListener("playRequested",function(a){e.$115(a)}),this.$15.addListener("beginPlayback",function(){return e.$116()}),this.$15.addListener("updateStatus",function(a){if(e.$59){var c=e.$15.getSeekableRanges();c&&(e.$66=b("LiveRewindUtils").getRelativePosition(a.position,c))}e.$79=a.position;e.$20&&(e.$79-=e.$20);e.scheduleRenderReactComponent()}),this.$15.addListener("casting/updateStatus",function(a){if(e.$59){var c=e.$15.getSeekableRanges();c&&(e.$66=b("LiveRewindUtils").getRelativePosition(a.position,c))}e.$79=a.position;e.scheduleRenderReactComponent()}),this.$15.addListener("seekRangeChanged",function(a){if(e.$59){a=e.$15.getSeekableRanges();a&&(e.$78=b("LiveRewindUtils").getTotalDuration(a))}}),this.$15.addListener("updateBuffer",function(a){e.$9=a.duration+a.offset,e.scheduleRenderReactComponent()}),this.$15.addListener("optionsChange",function(a){e.$117()}),this.$15.addListener("resumeAutoplay",function(a){e.$118(),e.scheduleRenderReactComponentWithVideoInfoUpdate()}),this.$15.addListener("turnOffAutoplay",function(a){e.$51=!1}),this.$15.addListener("LivePlayer/isRewoundChanged",function(a){a=e.$15.getOption("LivePlayer","isRewound");e.$60!==a&&(e.$60=a,e.scheduleRenderReactComponent())}),this.$15.addListener("blockAudio",function(a){a||(e.$50=!0)}),this.$15.addListener("unblockAudio",function(a){a||(e.$50=!1)}));this.$94&&this.$103.addSubscriptions(this.$15.addListener("VideoWithStallRecovery/bufferingStateOn",function(){e.$34||e.$119(l)}),this.$15.addListener("VideoWithStallRecovery/bufferingStateOff",function(){e.$10=!1}));this.$103.addSubscriptions(this.$15.addListener("finishPlayback",function(){e.scheduleRenderReactComponent(!0)}));this.$118();this.$120()}var c=a.prototype;c.$120=function(){this.$90=this.$15.getOption("VideoScrubberPreviewComponent","scrubberPreviewSprites"),this.$33=this.$15.getOption("VideoScrubberPreviewComponent","hasPreviewThumbnails"),this.$81=this.$15.getOption("VideoScrubberPreviewComponent","previewThumbnailInformation")};c.$118=function(){this.$51=this.$15.getOption("FeedAutoplay","isAutoplaying")};c.$117=function(){this.$118(),this.$120()};c.$114=function(a){var c=this;this.scheduleRenderReactComponentWithVideoInfoUpdate();this.$57&&this.$59&&a==="user_initiated"&&(!this.$60&&this.$71===null&&(this.$71=window.setTimeout(function(){c.$71=null,b("LiveVideoPlayerActions").setIsRewound(c.$15,!0)},k)))};c.$115=function(a){this.$57&&this.$59&&a==="user_initiated"&&this.$71!==null&&(window.clearTimeout(this.$71),this.$71=null)};c.$116=function(){this.flashControls(),this.$62=!0,this.scheduleRenderReactComponentWithVideoInfoUpdate()};c.$119=function(a){var c=this;a=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();c.$10=a.should_show_nux}).send()};c.updateConfig_DEPRECATED=function(a,b){this.$76=a.permalinkURL||null,this.$3=a.showButtons?a.showButtons.casting:!1,this.$57=!!a.isLive,this.$1=a.adBreaks||null,this.scheduleRenderReactComponent()};c.updateAdBreaksConfig=function(a){this.$47=a.insertedAdBreaks,this.$48=a.isAdBreakDisabled,this.$49=a.isAdBreakInsertionWithoutGapRule,this.$28=!a.isPreviewingAdBreak,this.scheduleRenderReactComponent()};c.updateTwoRowsConfig=function(a){this.$110=a.useTwoRows,this.$52=a.isCommentAttachment,this.scheduleRenderReactComponent()};c.flashControls=function(){var a=this;this.$84||(this.$84=!0,this.scheduleRenderReactComponent());window.clearTimeout(this.$25);this.$25=window.setTimeout(function(){a.$84=!1,a.scheduleRenderReactComponent()},3e3)};c.areControlsVisible=function(){__p&&__p();var a=this;if(!this.areControlsEnabled())return!1;if(this.$28||this.$10||this.$63)return!0;if(this.$15.isState("playing")){if(this.$93){this.$12||(this.$12=window.setTimeout(function(){a.$93=!1},5e3));return!0}else if(this.$45&&this.$51)return!1;return this.$26||this.$72&&this.$84}else if(this.$15.isState("finished")){var b=this.$15.getSource()==="tahoe";return this.$15.isFullscreen()||b||!this.$46}else if(this.$15.isState("paused"))return this.$15.isFullscreen()||!this.$39||this.$95&&(this.$26||this.$72&&this.$84);return!1};c.areControlsEnabled=function(){var a=this.$15.getSource()==="tahoe";return this.$27>0||this.$15.isState("loading")||this.$15.isState("fallback")||this.$15.getOption("SottoPaywall","enable")||this.$15.isState("finished")&&this.$46&&!this.$15.isFullscreen()&&!a?!1:!0};c.scheduleRenderReactComponentWithVideoInfoUpdate=function(){this.$74=!0,this.scheduleRenderReactComponent(!0)};c.shouldRenderComponent=function(){__p&&__p();if(this.$15.isState("loading")||this.$15.isState("fallback"))return!1;if(this.areControlsVisible()){this.$37=!1;return!0}if(!this.$37){this.$37=!0;return!0}return!1};c.scheduleRenderReactComponent=function(a){a===void 0&&(a=!1);if(!a&&!this.shouldRenderComponent())return;b("cancelAnimationFrame")(this.$85);this.$85=b("requestAnimationFrame")(this.renderReactComponent.bind(this))};c.renderReactComponent=function(){__p&&__p();var a=this;if(b("VideoPlayerExperiments").delayVideoControlRenderForApiReady&&this.$15.getState()==="loading"&&!this.$87){this.$87=!0;this.$15.runOnApiReady(function(){a.scheduleRenderReactComponent()});return}this.$74&&this.$121();this.$53=!1;if(this.$73)for(var c=this.$73,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;this.$79>=g.mute_start_time_in_sec&&this.$79<=g.mute_end_time_in_sec&&(this.$53=!0)}g=this.areControlsVisible();this.$113!==g&&(this.$15.emit("VideoControls/visibilityUpdate",{areControlsVisible:g}),g?this.$22.reserve():this.$22.release(),this.$15.isState("destroyed")||b("CSS").conditionClass(this.$15.getRootNode(),"_302m",!g));this.$113=g;f=this.$15.getAvailableVideoQualities();e=this.$15.getPreferredVideoQuality();c=this.$15.getSelectedVideoQuality();var h=this.$15.canAutoSelectVideoQuality(),k=this.$15.getStreamingFormat(),l=null;this.$15.hasOption("LiveHeatmap","interestLevels")&&(l=this.$15.getOption("LiveHeatmap","interestLevels"));var m=this.$64;this.$64=b("VideoPlayerExperiments").slidingWNSv3&&this.$36&&b("VideoWatchAndScrollController").isSlidingEnabled(this.$15);m!==this.$64&&this.$15.logEvent(this.$64?"watch_and_scroll_icon_highlighted":"watch_and_scroll_icon_unhighlighted");m=this.$15.getSource()==="tahoe";var n=this.$15.getSource()==="watch_scroll",o=this.$15.isFBIsLiveTemplated()||this.$15.isFBWasLive();o=this.$59&&o&&(this.$15.isFBWasLive()||this.$15.getState()!=="finished");b("ReactDOM").render(b("React").createElement(b("DeferredComponent.react"),{deferredPlaceholder:b("React").createElement("span",null),deferredComponent:function(a){return d(["VideoControls.react"],a)},allowCasting:this.$3,allowFullscreen:this.$4,annotatedMomentsOfInterest:this.$6,areSubtitlesActive:this.$7,areSubtitlesAutogenerated:this.$8,areHLSActive:this.$5,bufferedPosition:this.$9,finishedPlaying:this.$15.isState("finished"),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$32,hasSubtitles:this.$35,hasWatchAndScroll:this.$36&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),hideGradient:this.$38,isAudioBlocked:this.$50||this.$53&&b("gkx")("797757"),isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$52,isEmbedded:j.has(this.$16),isFullscreen:this.$54,isHD:this.$55,isInline:this.$56,isInTahoe:m,isInWatchAndScroll:n,isLive:this.$57,isLiveRewindEnabled:o,isLiveRewound:this.$60,isFBWasLive:this.$15.isFBWasLive(),isSphericalVideo:this.$65,isMuted:this.$61,isPlaying:this.$62,isSidePaneOpen:this.getIsInChannel()&&!!b("Parent").bySelector(this.$86,"._57bj"),isSlidingWNSEligible:this.$64,interestLevels:l,liveRelativePlaybackPosition:this.$66,drawer:this.$22,onAnnotatedMomentOfInterestSelect:function(b){a.$15.seek(b)},onEnterWatchAndScroll:this.$24,onEnterTahoe:this.$23,doesFullscreenEnterTahoe:this.$21,onLiveRewindToBeginning:this.$69,onLiveRewindSeekBack:this.$67,onLiveRewindSeekForward:this.$68,onLiveRewindToLive:this.$70,onWNSNUXClose:this.$14,onClipVideo:this.$13,onPause:this.$75,onPlay:this.$77,onScrubBegin:this.$88,onScrubEnd:this.$89,onSetVideoPlaybackRate:this.$92,onSettingsClick:function(){a.$63=!a.$63},onSidePaneToggle:function(){b("Arbiter").inform("VideoChannelView/sidePaneToggle",{})},onStartCast:this.$101,onStopCast:this.$102,onToggleFullscreen:this.$104,onToggleHD:this.$105,onToggleHLS:this.$106,onToggleMuted:this.$107,onToggleSubtitles:this.$108,onVolumeChange:this.$11,permalinkURL:this.$76,playbackDuration:this.$78,playbackPosition:this.$79,transparent:!g,hidePlaybackControl:this.$40,isWatchIconEligible:this.$41,hidePlaybackScrubber:this.$42,showPlaybackRateControl:this.$96,showPlayButtonForLive:this.$97,showVideoSliderWarningTooltip:this.$100,hideRemainingTime:this.$43,hideSettings:this.$44,useTwoRows:this.$110,volume:this.$112,scrubberPreviewSprites:this.$90,hasScrubberPreview:this.$33&&!n,previewThumbnailInformation:this.$81,availableQualities:f,selectedQuality:c,preferredQuality:e,canAutoSelectVideoQuality:h,onSelectQuality:this.$91,showQualitySelector:this.$98,qualitySelectorMinStreams:this.$83,streamingFormat:k,showSpatialAudioNUX:this.$99,onPointOfInterestSelect:this.$80.onPointOfInterestSelect,currentPointOfInterest:this.$80.currentPointOfInterest,pointsOfInterest:this.$80.pointsOfInterest,showPointOfInterestTimestamps:this.$80.showPointOfInterestTimestamps,displayElapsedTime:this.$17,displayMilliseconds:this.$18,adBreaks:this.$1,pollTimestamps:this.$82.filter(function(b){return b<=a.$78}),vpcID:this.$15.getVideoPlayerID(),adBreaksDisableReasons:this.$2,showSidePaneToggle:this.getIsInChannel()&&!this.$54&&i,showWNSNUX:this.$10&&this.areControlsEnabled()&&this.$94,insertedAdBreaks:this.$47,isAdBreakDisabled:this.$48,isAdBreakInsertionWithoutGapRule:this.$49,useDarkTheme:this.$109,videoID:this.$15.getVideoID(),videoClipInfo:this.$111?this.$111:void 0,gamesVideoClipButtonEnabled:this.$29,gamesVideoCreatorClipping:this.$30,gamesDefaultClipLengthInSec:this.$31}),this.$86);this.$10&&this.areControlsEnabled()&&this.$94&&(this.$34=!0)};c.$121=function(){__p&&__p();var a=this.$15.getVideoInfo_DEPRECATED();if(a){this.$7=a.areSubtitlesActive;this.$8=a.areSubtitlesAutogenerated;this.$35=a.hasSubtitles;this.$32=a.hasHD;this.$55=a.isHD;this.$61=a.isMuted;this.$62=a.isPlaying||this.isCastPlaying();if(this.$59){var c=this.$15.getSeekableRanges();c&&(this.$78=b("LiveRewindUtils").getTotalDuration(c))}else this.$19!==null&&this.$19!==void 0?this.$78=Math.min(a.playbackDuration,this.$19):this.$78=a.playbackDuration;this.$112=a.volume;c=this.$15.getOption("CommercialBreakVideoAdOverlay","videoController");c?this.$54=c.isFullscreen():this.$54=this.$15.isFullscreen();this.$56=this.$15.getSource()==="inline"||this.$15.getSource()==="discover"||this.$15.getPlayerOrigin()==="video_home"&&this.$15.getSource()==="permalink"||this.$15.getSource()==="continue_watching_recommendation"||this.$15.getSource()==="games_video_home_hero"&&this.$15.getPlayerOrigin()==="games_video_hub";this.$57=a.isLiveStream;this.$5=a.areHLSActive;this.$74=!1;this.$21=this.$15.listeners("enterTahoe").length!==0}};c.toggleHD=function(){this.$15.toggleHD()};c.setPreferredVideoQuality=function(a){a?this.$15.setPreferredVideoQuality(a):this.$15.unsetPreferredVideoQuality()};c.toggleHLS=function(){this.$15.switchToStreamType("hls")};c.clipVideo=function(a){a=b("gkx")("815986")&&this.$59;a&&this.$15.pause("user_initiated");b("promiseDone")(b("ClippingApi").clipVideo(this.$15.getVideoID(),this.$15.getCurrentTimePosition(),this.$86,a).then())};c.enterWatchAndScroll=function(){b("shouldWNSRenderToRHC")()?this.$15.emit("crossfadeWatchAndScroll"):this.$15.emit("enterWatchAndScroll")};c.enterTahoe=function(){var a=this;this.$15.getSource()==="watch_scroll"?(this.$15.logEvent("watch_and_scroll_channel_entered"),b("Bootloader").loadModules(["TahoeController","URI"],function(c,d){var e=new d(a.$15.getVideoURL());d=babelHelpers["extends"]({},d.getRequestURI().getQueryData(),{ref:"tahoe"});b("VideoWatchAndScrollController").onEnterTahoe();c.openFromVideoPlayer(a.$15,e.setQueryData(d),a.$15.getVideoChannelID(),"wns")},"VideoControls")):this.$15.emit("enterTahoe")};c.scrubBegin=function(){this.isCasting()||this.$15.pause("seek_initiated")};c.scrubEnd=function(a){__p&&__p();if(this.$59){var c=this.$15.getSeekableRanges();if(c){var d=this.$66;this.$66=a;a=b("LiveRewindUtils").getAbsolutePosition(a,c);c=b("LiveRewindUtils").getLiveHeadTimestamp(c);c=c-a<1;b("LiveVideoPlayerActions").setIsRewound(this.$15,!c);b("LiveRewindUtils").logLiveRewindEvent("scrubber",this.$15,d,null,null,a)}}this.$20&&(a+=this.$20);this.$15.seek(a,"user_initiated");this.$79=a;c=this.$62||this.$15.isState("finished")&&!this.$46;!this.isCasting()&&c&&this.$15.play("seek_initiated")};c.toggleMuted=function(){this.$15.isMuted()?(b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.unmute()):this.$15.mute()};c.toggleFullscreen=function(){this.$15.isFullscreen()||b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.toggleFullscreen()};c.toggleSubtitles=function(){this.$15.toggleSubtitles(),this.scheduleRenderReactComponent()};c.changeVolume=function(a){this.$15.setVolume(a)};c.liveRewindToBeginning=function(){b("LiveRewindUtils").goToBeginning(this.$15)};c.liveRewindSeekBack=function(){b("LiveRewindUtils").seekBack(this.$15)};c.liveRewindSeekForward=function(){b("LiveRewindUtils").seekForward(this.$15)};c.liveRewindToLive=function(){b("LiveRewindUtils").goToLive(this.$15)};c.play=function(){b("logVideosClickTracking")(this.$15.getVideoNode()),this.isCasting()?this.$15.setOption("casting","isPlaying",!0):this.$15.play("user_initiated"),this.$57&&this.$59&&b("LiveRewindUtils").logLiveRewindEvent("play",this.$15,this.$66,null,this.$66,null)};c.pause=function(){this.isCasting()?this.$15.setOption("casting","isPlaying",!1):this.$15.pause("user_initiated"),this.$57&&this.$59&&(b("LiveVideoPlayerActions").setIsRewound(this.$15,!0),b("LiveRewindUtils").logLiveRewindEvent("pause",this.$15,this.$66,null,this.$66,null))};c.setVideoPlaybackRate=function(a){this.$15.setPlaybackRate(a)};c.startCasting=function(){this.$15.setOption("casting","isCasting",!0)};c.stopCasting=function(){this.$15.setOption("casting","isCasting",!1)};c.isCastPlaying=function(){return this.$15.getOption("casting","isPlaying")};c.hasFoundReceiver=function(){return this.$15.getOption("casting","hasFoundReceiver")};c.isCasting=function(){return this.$15.getOption("casting","isCasting")};c.isCastingSupported=function(){return this.$15.getOption("casting","isSupported")};c.updatePointsOfInterestConfig=function(a){Object.assign(this.$80,a),this.scheduleRenderReactComponent()};c.updateDisplayElapsedTime=function(a){this.$17=a,this.scheduleRenderReactComponent()};c.updateDisplayTimeRangeConfig=function(a){this.$19=a.displayDurationLimit,this.$20=a.displayTimeOffset,this.scheduleRenderReactComponentWithVideoInfoUpdate()};c.getIsInChannel=function(){return this.$15.getIsInChannel()};c.unregister=function(){b("cancelAnimationFrame")(this.$85),this.$103.release()};return a}();e.exports=a}),null);
__d("AgnosticEmbeddedVideoApiComponent",["EventEmitter"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();babelHelpers.inheritsLoose(b,a);function b(b,c){__p&&__p();var d;d=a.call(this)||this;d.$AgnosticEmbeddedVideoApiComponent1=b;c("Connect.Unsafe.play",function(){d.emit("play")});c("Connect.Unsafe.pause",function(){d.emit("pause")});c("Connect.Unsafe.seek",function(a,b){d.emit("seek",a,b)});c("Connect.Unsafe.mute",function(){d.emit("mute")});c("Connect.Unsafe.unmute",function(){d.emit("unmute")});c("Connect.Unsafe.setVolume",function(a,b){d.emit("setVolume",a,b)});return d}var c=b.prototype;c.notifyStartedPlaying=function(){this.$AgnosticEmbeddedVideoApiComponent2("startedPlaying")};c.notifyFinishedPlaying=function(){this.$AgnosticEmbeddedVideoApiComponent2("finishedPlaying")};c.notifyPaused=function(){this.$AgnosticEmbeddedVideoApiComponent2("paused")};c.notifyStartedBuffering=function(){this.$AgnosticEmbeddedVideoApiComponent2("startedBuffering")};c.notifyFinishedBuffering=function(){this.$AgnosticEmbeddedVideoApiComponent2("finishedBuffering")};c.notifyError=function(){this.$AgnosticEmbeddedVideoApiComponent2("error")};c.notifyStateUpdate=function(a){this.$AgnosticEmbeddedVideoApiComponent1({type:"cachedStateUpdateRequest",data:JSON.stringify(a)})};c.notifyVideoAPIReady=function(a){this.$AgnosticEmbeddedVideoApiComponent1({type:"onVideoAPIReady",data:JSON.stringify(a)})};c.$AgnosticEmbeddedVideoApiComponent2=function(a){this.$AgnosticEmbeddedVideoApiComponent1({type:"stateChange",state:a})};return b}(b("EventEmitter"));e.exports=a}),null);
__d("WWWEmbeddedVideoAPIComponent",["AgnosticEmbeddedVideoApiComponent","Arbiter","UnverifiedXD"],(function(a,b,c,d,e,f){__p&&__p();a=function(a){"use strict";__p&&__p();var c=this;this.$1=a;this.$2=new(b("AgnosticEmbeddedVideoApiComponent"))(b("UnverifiedXD").send.bind(b("UnverifiedXD")),b("Arbiter").subscribe.bind(b("Arbiter")));this.$2.addListener("play",function(){c.$1.play("embedded_video_api_initiated")});this.$2.addListener("pause",function(){c.$1.pause("embedded_video_api_initiated")});this.$2.addListener("seek",function(a,b){c.$1.seek(b.target)});this.$2.addListener("mute",function(){c.$1.mute()});this.$2.addListener("unmute",function(){c.$1.unmute()});this.$2.addListener("setVolume",function(a,b){c.$1.setVolume(b.volume)});this.$1.addListener("stateChange",function(){if(c.$1.isState("ready")){var a={isMuted:c.$1.isMuted(),volume:c.$1.getVolume(),timePosition:c.$1.getCurrentTimePosition(),duration:c.$1.getPlaybackDuration()};c.$2.notifyVideoAPIReady(a)}else c.$1.isState("playing")?c.$2.notifyStartedPlaying():c.$1.isState("paused")?c.$2.notifyPaused():c.$1.isState("finished")&&c.$2.notifyFinishedPlaying()});this.$1.addListener("updateStatus",function(a){if(a.position!==void 0){a={timePosition:a.position};c.$2.notifyStateUpdate(a)}});this.$1.addListener("buffering",function(){c.$2.notifyStartedBuffering()});this.$1.addListener("buffered",function(){c.$2.notifyFinishedBuffering()});this.$1.addListener("error",function(){c.$2.notifyError()});this.$1.addListener("updateMetadata",function(a){a={duration:c.$1.getPlaybackDuration()};c.$2.notifyStateUpdate(a)});this.$1.addListener("muteVideo",function(){var a={isMuted:!0};c.$2.notifyStateUpdate(a)});this.$1.addListener("unmuteVideo",function(){var a={isMuted:!1};c.$2.notifyStateUpdate(a)});this.$1.addListener("changeVolume",function(a){a={volume:a.volume,isMuted:a.volume===0};c.$2.notifyStateUpdate(a)});if(!this.$1.isState("loading")&&!this.$1.isState("fallback")){a={isMuted:this.$1.isMuted(),volume:this.$1.getVolume(),timePosition:this.$1.getCurrentTimePosition(),duration:this.$1.getPlaybackDuration()};this.$2.notifyVideoAPIReady(a)}};e.exports=a}),null);
__d("EmbeddedVideoFbLogoOverlay",["cx","CSS","EventListener","SubscriptionsHandler","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d){var e=this;this.$1=c;this.$2=a;this.$3=new(b("SubscriptionsHandler"))();d?this.$3.addSubscriptions(a.addListener("beginPlayback",function(){c.parentNode.removeChild(c),e.$3.release()})):(this.$2.addListener("beginPlayback",this.$4.bind(this)),this.$2.addListener("pausePlayback",this.$5.bind(this)),this.$2.addListener("finishPlayback",this.$5.bind(this)),b("EventListener").listen(this.$2.getRootNode(),"mousemove",b("throttle")(this.$6.bind(this),200)),b("EventListener").listen(this.$2.getRootNode(),"mouseenter",function(){e.$7=!0}),b("EventListener").listen(this.$2.getRootNode(),"mouseleave",function(){e.$7=!1,e.$2.isState("playing")&&e.$8()}))}var c=a.prototype;c.$4=function(){b("CSS").addClass(this.$1,"_16d3"),this.$6()};c.$6=function(){var a=this;this.$2.isState("playing")&&this.$7&&(this.$5(),clearTimeout(this.$9),this.$9=setTimeout(function(){a.$2.isState("playing")&&a.$8()},3e3))};c.$5=function(){b("CSS").removeClass(this.$1,"_16d4")};c.$8=function(){b("CSS").addClass(this.$1,"_16d4")};return a}();e.exports=a}),null);
__d("EmbeddedVideoInitialInfoOverlay",["SubscriptionsHandler"],(function(a,b,c,d,e,f){a=function(a,c){"use strict";var d=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(a.addListener("beginPlayback",function(){c.parentNode.removeChild(c),d.$1.release()}))};e.exports=a}),null);
__d("EmbeddedVideoPauseOverlay",["cx","fbt","Arbiter","CSS","DOM","DOMDimensions","EventListener","VideoPlayerExperiments","throttle"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i="_3bw";a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,g,i,j,k){__p&&__p();var l=this;this.$1=c;this.$2=a;this.$3=d;this.$4=e;this.$5=f;this.$6=g;this.$7=i;this.$8=j;this.$9=0;k?(this.$10=k.showOnlyOnFullscreen,this.$11=k.showOnEndscreen):(this.$10=!1,this.$11=!0);this.$12=h._("\u8b9a");this.$13=h._("\u6536\u56de\u8b9a");this.$14=h._("\u5206\u4eab");this.$15();this.$2.addListener("beginPlayback",this.$16.bind(this));b("VideoPlayerExperiments").embeddedPlayerInlineChaining?(this.$2.addListener("pausePlayback",this.$17.bind(this)),this.$2.addListener("finishPlayback",this.$18.bind(this))):(this.$2.addListener("pausePlayback",this.$19.bind(this)),this.$2.addListener("finishPlayback",this.$19.bind(this)));this.$2.addListener("toggleFullscreen",this.$20.bind(this));b("EventListener").listen(this.$2.getRootNode(),"mousemove",b("throttle")(this.$21.bind(this),200));b("EventListener").listen(this.$2.getRootNode(),"mouseenter",function(){l.$22=!0});b("EventListener").listen(this.$2.getRootNode(),"mouseleave",function(){l.$2.isState("playing")&&(l.$22=!1,l.$23())});b("Arbiter").subscribe("embeddedUfiToggle",function(){l.$24(),l.$25()});b("EventListener").listen(window,"resize",b("throttle")(function(){l.$25()},100))}var c=a.prototype;c.$16=function(){this.$24(),this.$25(),this.$21()};c.$24=function(){var a;this.$2.isFullscreen()?a=64:a=32;this.$15();this.$9=b("DOMDimensions").getElementDimensions(this.$3).width+b("DOMDimensions").getElementDimensions(this.$4).width+a};c.$25=function(){if(this.$2.isState("destroyed"))return;var a=b("DOMDimensions").getElementDimensions(this.$2.getRootNode()).width;a=a<this.$9;a?this.$26():this.$15()};c.$15=function(){this.$6&&b("DOM").setContent(this.$6,this.$14),this.$7&&b("DOM").setContent(this.$7,this.$12),this.$8&&b("DOM").setContent(this.$8,this.$13),this.$5&&this.$5.showText()};c.$26=function(){this.$6&&b("DOM").setContent(this.$6,null),this.$7&&b("DOM").setContent(this.$7,null),this.$8&&b("DOM").setContent(this.$8,null),this.$5&&this.$5.hideText()};c.$27=function(){return this.$10&&!this.$2.isFullscreen()?!1:this.$2.isState("playing")&&this.$22||this.$2.isState("paused")||!b("VideoPlayerExperiments").embeddedPlayerInlineChaining&&this.$2.isState("finished")};c.$21=function(){var a=this;this.$27()&&(this.$28(),clearTimeout(this.$29),this.$29=setTimeout(function(){a.$2.isState("playing")&&a.$23()},3e3))};c.$20=function(){this.$27()?this.$28():this.$23()};c.$19=function(){this.$27()&&this.$28()};c.$17=function(){this.$27()&&this.$28()};c.$18=function(){this.$11?this.$28():this.$23()};c.$28=function(){b("CSS").removeClass(this.$1,i)};c.$23=function(){b("CSS").addClass(this.$1,i)};return a}();e.exports=a}),null);
__d("SphericalVideoFallback",["cx","CSS"],(function(a,b,c,d,e,f,g){__p&&__p();a={setup:function(a,c){__p&&__p();var d=c.fallbackUriList,e=c.fallbackType,f=function(){__p&&__p();a.emit("VideoPlayerFallbackEvents/enter");var c=a.getLastError();if(c&&c.error!=="SPHERICAL_SETUP_FAILED"&&c.error!=="SPHERICAL_RENDER_ERROR")return;var f=a.addListener("stateChange",function(){a.isState("playing")&&(a.logEvent("spherical_fallback_entered",{spherical_fallback_type:e}),f.remove())});a.setFallbackSources(d);b("CSS").removeClass(a.getRootNode(),"_3-n5");a.reset();a.emit("VideoPlayerFallbackEvents/recover")};if(a.isState("fallback"))f();else var g=a.addListener("stateChange",function(){a.isState("fallback")&&(f(),g.remove())})}};e.exports=a}),null);
__d("VideoErrorOverlay",["SphericalVideoFallback"],(function(a,b,c,d,e,f){__p&&__p();function g(a,b){"textContent"in a&&(a.textContent=b),a.innerText=b}function h(a){if("textContent"in a)return a.textContent;return!a.innerText?"":a.innerText}a=function(){"use strict";__p&&__p();function a(a,c,d,e,f){__p&&__p();var g=this;this.$1=c;this.$2=d;this.$3=e;a.registerOption("VideoErrorOverlay","title",function(){return g.getTitle()},function(a){return g.setTitle(a)});a.registerOption("VideoErrorOverlay","message",function(){return g.getMessage()},function(a){return g.setMessage(a)});a.registerOption("VideoErrorOverlay","linkURL",function(){return g.getLinkURL()},function(a){return g.setLinkURL(a)});a.registerOption("VideoErrorOverlay","linkTitle",function(){return g.getLinkTitle()},function(a){return g.setLinkTitle(a)});a.registerOption("VideoErrorOverlay","available",function(){return!0});f&&b("SphericalVideoFallback").setup(a,f)}var c=a.prototype;c.getTitle=function(){return this.$1?h(this.$1):""};c.setTitle=function(a){this.$1&&g(this.$1,a)};c.getMessage=function(){return h(this.$2)};c.setMessage=function(a){g(this.$2,a)};c.getLinkURL=function(){return this.$3.href};c.setLinkURL=function(a){this.$3.href=a};c.getLinkTitle=function(){return h(this.$3)};c.setLinkTitle=function(a){g(this.$3,a)};return a}();e.exports=a}),null);
__d("Clipboard",["Promise","UserAgent"],(function(a,b,c,d,e,f){__p&&__p();var g={isSupported:function(){return window.document.queryCommandSupported instanceof Function&&window.document.queryCommandSupported("copy")&&!(b("UserAgent").isBrowser("Firefox < 41")||b("UserAgent").isPlatform("iOS < 10.3"))||b("UserAgent").isBrowser("Chrome >= 43")},copy:function(a,c){__p&&__p();c=c||document.body;if(!c)return!1;var d=!0,e=document.createElement("textarea");c.appendChild(e);e.value=a;if(b("UserAgent").isPlatform("iOS >= 10.3")){a=document.createRange();a.selectNodeContents(e);var f=window.getSelection();f.removeAllRanges();f.addRange(a);e.setSelectionRange(0,999999)}else e.select();try{d=document.execCommand("copy")}catch(a){d=!1}c.removeChild(e);return d},copyAsync:function(a){var c=window.navigator;if(c&&c.clipboard&&typeof c.clipboard.writeText==="function")return c.clipboard.writeText(a);return g.copy(a)?b("Promise").resolve():b("Promise").reject()}};e.exports=g}),null);