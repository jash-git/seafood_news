/*!
 * Anvato Universal Player v3.3.2
 * anvplayer.min.js
 * Copyright 2019-2020
 */
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0+f9a5575b
 */

/*!
   * Copyright Mathias Bynens <https://mathiasbynens.be/>
   * Permission is hereby granted, free of charge, to any person obtaining
   * a copy of this software and associated documentation files (the
   * "Software"), to deal in the Software without restriction, including
   * without limitation the rights to use, copy, modify, merge, publish,
   * distribute, sublicense, and/or sell copies of the Software, and to
   * permit persons to whom the Software is furnished to do so, subject to
   * the following conditions:
   *
   * The above copyright notice and this permission notice shall be
   * included in all copies or substantial portions of the Software.
   *
   * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
   * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
   * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
   * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
   * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
   * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
   * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   *
   */

/*!
   * MIT License
   * Copyright (c) 2017 Behnam Mohammadi
   * Permission is hereby granted, free of charge, to any person obtaining a
   * copy of this software and associated documentation files (the "Software"),
   * to deal in the Software without restriction, including without limitation
   * the rights to use, copy, modify, merge, publish, distribute, sublicense,
   * and/or sell copies of the Software, and to permit persons to whom the
   * Software is furnished to do so, subject to the following conditions: The
   * above copyright notice and this permission notice shall be included in all
   * copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED
   * "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT
   * NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR
   * PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
   * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
   * ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
   * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   */

/*!
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2015 Richard Moore
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 */

/*!
       * A fast MD5 JavaScript implementation
       * Copyright (c) 2012 Joseph Myers
       * http://www.myersdaily.org/joseph/javascript/md5-text.html
       *
       * Permission to use, copy, modify, and distribute this software
       * and its documentation for any purposes and without
       * fee is hereby granted provided that this copyright notice
       * appears in all copies.
       *
       * Of course, this soft is provided "as is" without express or implied
       * warranty of any kind.
       */

/**
     * sets mediaKeys and populates browsers support for various license servers
     * @param id
     * @param supported
     * @param video
     * @returns {Promise}
     */

// tkx will not reveal the license server type

/**
         * Sets mediaKeys and populates browsers support for various license
         * servers
         * @param {String} id DRM provider id
         * @param {Object} supported Map for keeping the DRM provider support
         * @param {HTMLElement} video Video element
         * @param {Boolean} detectionOnly flag set to prevent reject to get all drm
         * support
         * @returns {Promise}
         */

// TODO: looks like only message handler is varying between license

// This takes the place of a license server.

// Parse the clearkey license request.

// A real license server could easily serve multiple keys.

// If you had a license server, you would make an asynchronous

// session.update(). Instead, we will generate the license

// tkx will not reveal the license server type since it can

/*

 Copyright 2016 Google Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/

/*!
 * clipboard.js v1.7.1
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT Â© Zeno Rocha
 */

/*!
 * Mediator.js Library v0.9.5
 * https://github.com/ajacksified/Mediator.js
 *
 * Copyright 2013, Jack Lawson
 * MIT Licensed (http://www.opensource.org/licenses/mit-license.php)
 *
 * For more information:
 * http://thejacklawson.com/2011/06/mediators-for-modularized-asynchronous-programming-in-javascript/index.html
 * Project on GitHub: https://github.com/ajacksified/Mediator.js
 *
 * Last update: June 13 2013
 */

/**
 * Copyright 2017 Google Inc. All Rights Reserved.
 * @author daxisc@google.com (Daxi Li)
 */

// TODO: make sure the following is MIT license and convert to /*! notation

// to preserve the license Joyent copyright applies to readFloat and

// Copyright Joyent, Inc. and other Node contributors.

// distribute, sublicense, and/or sell copies of the Software, and to permit

// The above copyright notice and this permission notice shall be included

function bind(e,t,n,r){e.addEventListener?(r=void 0!==r&&r,e.addEventListener(t,n,r)):e.attachEvent("on"+t,n)}function merge(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}var anv;!function(){if(!anv||!anv.requirejs){anv?t=anv:anv={};var e,t,n;!function(r){function i(e,t){return y.call(e,t)}function a(e,t){var n,r,i,a,o,s,l,u,c,d,A=t&&t.split("/"),g=E.map,p=g&&g["*"]||{};if(e&&"."===e.charAt(0))if(t){for(A=A.slice(0,A.length-1),e=A.concat(e.split("/")),u=0;u<e.length;u+=1)if("."===(d=e[u]))e.splice(u,1),u-=1;else if(".."===d){if(1===u&&(".."===e[2]||".."===e[0]))break;u>0&&(e.splice(u-1,2),u-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((A||p)&&g){for(n=e.split("/"),u=n.length;u>0;u-=1){if(r=n.slice(0,u).join("/"),A)for(c=A.length;c>0;c-=1)if((i=g[A.slice(0,c).join("/")])&&(i=i[r])){a=i,o=u;break}if(a)break;!s&&p&&p[r]&&(s=p[r],l=u)}!a&&s&&(a=s,o=l),a&&(n.splice(0,o,a),e=n.join("/"))}return e}function o(e,t){return function(){return g.apply(r,I.call(arguments,0).concat([e,t]))}}function s(e){return function(t){return a(t,e)}}function l(e){return function(t){h[e]=t}}function u(e){if(i(m,e)){var t=m[e];delete m[e],v[e]=!0,A.apply(r,t)}if(!i(h,e)&&!i(v,e))throw new Error("No "+e);return h[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return E&&E.config&&E.config[e]||{}}}var A,g,p,f,h={},m={},E={},v={},y=Object.prototype.hasOwnProperty,I=[].slice;p=function(e,t){var n,r=c(e),i=r[0];return e=r[1],i&&(i=a(i,t),n=u(i)),i?e=n&&n.normalize?n.normalize(e,s(t)):a(e,t):(e=a(e,t),r=c(e),i=r[0],e=r[1],i&&(n=u(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},f={require:function(e){return o(e)},exports:function(e){var t=h[e];return void 0!==t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:d(e)}}},A=function(e,t,n,a){var s,c,d,A,g,E,y=[];if(a=a||e,"function"==typeof n){for(t=!t.length&&n.length?["require","exports","module"]:t,g=0;g<t.length;g+=1)if(A=p(t[g],a),"require"===(c=A.f))y[g]=f.require(e);else if("exports"===c)y[g]=f.exports(e),E=!0;else if("module"===c)s=y[g]=f.module(e);else if(i(h,c)||i(m,c)||i(v,c))y[g]=u(c);else{if(!A.p)throw new Error(e+" missing "+c);A.p.load(A.n,o(a,!0),l(c),{}),y[g]=h[c]}d=n.apply(h[e],y),e&&(s&&s.exports!==r&&s.exports!==h[e]?h[e]=s.exports:d===r&&E||(h[e]=d))}else e&&(h[e]=n)},e=t=g=function(e,t,n,i,a){return"string"==typeof e?f[e]?f[e](t):u(p(e,t).f):(e.splice||(E=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},"function"==typeof n&&(n=i,i=a),i?A(r,e,t,n):setTimeout(function(){A(r,e,t,n)},4),g)},g.config=function(e){return E=e,E.deps&&g(E.deps,E.callback),g},e._defined=h,n=function(e,t,n){t.splice||(n=t,t=[]),i(h,e)||i(m,e)||(m[e]=[e,t,n])},n.amd={jQuery:!0}}(),anv.requirejs=e,anv.require=t,anv.define=n}}(),anv.define("almond",function(){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof anv.define&&anv.define.amd?anv.define("Promise",t):e.ES6Promise=t()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){G=e}function r(e){H=e}function i(){return void 0!==V?function(){V(o)}:a()}function a(){var e=setTimeout;return function(){return e(o,1)}}function o(){for(var e=0;e<U;e+=2){(0,z[e])(z[e+1]),z[e]=void 0,z[e+1]=void 0}U=0}function s(e,t){var n=arguments,r=this,i=new this.constructor(u);void 0===i[Z]&&k(i);var a=r._state;return a?function(){var e=n[a-1];H(function(){return w(a,i,e,r._result)})}():I(r,i,e,t),i}function l(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(u);return m(n,e),n}function u(){}function c(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function A(e){try{return e.then}catch(e){return te.error=e,te}}function g(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function p(e,t,n){H(function(e){var r=!1,i=g(n,t,function(n){r||(r=!0,t!==n?m(e,n):v(e,n))},function(t){r||(r=!0,y(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,y(e,i))},e)}function f(e,t){t._state===$?v(e,t._result):t._state===ee?y(e,t._result):I(t,void 0,function(t){return m(e,t)},function(t){return y(e,t)})}function h(e,n,r){n.constructor===e.constructor&&r===s&&n.constructor.resolve===l?f(e,n):r===te?(y(e,te.error),te.error=null):void 0===r?v(e,n):t(r)?p(e,n,r):v(e,n)}function m(t,n){t===n?y(t,c()):e(n)?h(t,n,A(n)):v(t,n)}function E(e){e._onerror&&e._onerror(e._result),b(e)}function v(e,t){e._state===X&&(e._result=t,e._state=$,0!==e._subscribers.length&&H(b,e))}function y(e,t){e._state===X&&(e._state=ee,e._result=t,H(E,e))}function I(e,t,n,r){var i=e._subscribers,a=i.length;e._onerror=null,i[a]=t,i[a+$]=n,i[a+ee]=r,0===a&&e._state&&H(b,e)}function b(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,a=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?w(n,r,i,a):i(a);e._subscribers.length=0}}function C(){this.error=null}function B(e,t){try{return e(t)}catch(e){return ne.error=e,ne}}function w(e,n,r,i){var a=t(r),o=void 0,s=void 0,l=void 0,u=void 0;if(a){if(o=B(r,i),o===ne?(u=!0,s=o.error,o.error=null):l=!0,n===o)return void y(n,d())}else o=i,l=!0;n._state!==X||(a&&l?m(n,o):u?y(n,s):e===$?v(n,o):e===ee&&y(n,o))}function S(e,t){try{t(function(t){m(e,t)},function(t){y(e,t)})}catch(t){y(e,t)}}function T(){return re++}function k(e){e[Z]=re++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Q(e,t){this._instanceConstructor=e,this.promise=new e(u),this.promise[Z]||k(this.promise),F(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?v(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&v(this.promise,this._result))):y(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function R(e){return new Q(this,e).promise}function _(e){var t=this;return new t(F(e)?function(n,r){for(var i=e.length,a=0;a<i;a++)t.resolve(e[a]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function M(e){var t=this,n=new t(u);return y(n,e),n}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function P(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function O(e){this[Z]=T(),this._result=this._state=void 0,this._subscribers=[],u!==e&&("function"!=typeof e&&N(),this instanceof O?S(this,e):P())}function L(){var e=void 0;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=O}var x=void 0;x=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var F=x,U=0,V=void 0,G=void 0,H=function(e,t){z[U]=e,z[U+1]=t,2===(U+=2)&&(G?G(o):W())},j="undefined"!=typeof window?window:void 0,Y=j||{},K=Y.MutationObserver||Y.WebKitMutationObserver,q="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),J="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,z=new Array(1e3),W=void 0;W=q?function(){return function(){return process.nextTick(o)}}():K?function(){var e=0,t=new K(o),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():J?function(){var e=new MessageChannel;return e.port1.onmessage=o,function(){return e.port2.postMessage(0)}}():void 0===j&&"function"==typeof require?function(){try{var e=require,t=e("vertx");return V=t.runOnLoop||t.runOnContext,i()}catch(e){return a()}}():a();var Z=Math.random().toString(36).substring(16),X=void 0,$=1,ee=2,te=new C,ne=new C,re=0;return Q.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===X&&n<e;n++)this._eachEntry(t[n],n)},Q.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===l){var i=A(e);if(i===s&&e._state!==X)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===O){var a=new n(u);h(a,e,i),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},Q.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===X&&(this._remaining--,e===ee?y(r,n):this._result[t]=n),0===this._remaining&&v(r,this._result)},Q.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,function(e){return n._settledAt($,t,e)},function(e){return n._settledAt(ee,t,e)})},O.all=R,O.race=_,O.resolve=l,O.reject=M,O._setScheduler=n,O._setAsap=r,O._asap=H,O.prototype={constructor:O,then:s,catch:function(e){return this.then(null,e)}},O.polyfill=L,O.Promise=O,O.polyfill(),O}),anv.define("babel-polyfill",{}),function(e){function t(){Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),String.prototype.repeat||function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=e?Number(e):0;if(n!=n&&(n=0),n<0||n==1/0)throw RangeError();for(var r="";n;)n%2==1&&(r+=t),n>1&&(t+=t),n>>=1;return r};e?e(String.prototype,"repeat",{value:t,configurable:!0,writable:!0}):String.prototype.repeat=t}(),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):(e-=this.length,e>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))})}var n={applyAll:t};"undefined"!=typeof exports?module.exports=n:"function"==typeof anv.define&&anv.define.amd?anv.define("polyfill",n):(e.polyfills&&(n._polyfills=e.polyfills),e.polyfills=n)}(this),function(e){function t(e){return parseInt(e)===e}function n(e){if(!t(e.length))return!1;for(var n=0;n<e.length;n++)if(!t(e[n])||e[n]<0||e[n]>255)return!1;return!0}function r(e,r){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return r&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(t(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function i(e){return new Uint8Array(e)}function a(e,t,n,r,i){null==r&&null==i||(e=e.slice?e.slice(r,i):Array.prototype.slice.call(e,r,i)),t.set(e,n)}function o(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}function s(e){e=r(e,!0);var t=16-e.length%16,n=i(e.length+t);a(e,n);for(var o=e.length;o<n.length;o++)n[o]=t;return n}function l(e){if(e=r(e,!0),e.length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,o=0;o<t;o++)if(e[n+o]!==t)throw new Error("PKCS#7 invalid padding byte");var s=i(n);return a(e,s,0,0,n),s}var u=function(){function e(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var i=e.charCodeAt(n++);37===i?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(i)}return r(t)}function t(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}return{toBytes:e,fromBytes:t}}(),c=function(){function e(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t}function t(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];t.push(n[(240&i)>>4]+n[15&i])}return t.join("")}var n="0123456789abcdef";return{toBytes:e,fromBytes:t}}(),d={16:10,24:12,32:14
},A=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],g=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],f=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],h=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],E=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],v=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],y=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],I=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],b=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],C=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],B=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],w=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925],T=function(e){
if(!(this instanceof T))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:r(e,!0)}),this._prepare()};T.prototype._prepare=function(){var e=d[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var n,r=4*(e+1),i=this.key.length/4,a=o(this.key),t=0;t<i;t++)n=t>>2,this._Ke[n][t%4]=a[t],this._Kd[e-n][t%4]=a[t];for(var s,l=0,u=i;u<r;){if(s=a[i-1],a[0]^=g[s>>16&255]<<24^g[s>>8&255]<<16^g[255&s]<<8^g[s>>24&255]^A[l]<<24,l+=1,8!=i)for(var t=1;t<i;t++)a[t]^=a[t-1];else{for(var t=1;t<i/2;t++)a[t]^=a[t-1];s=a[i/2-1],a[i/2]^=g[255&s]^g[s>>8&255]<<8^g[s>>16&255]<<16^g[s>>24&255]<<24;for(var t=i/2+1;t<i;t++)a[t]^=a[t-1]}for(var c,p,t=0;t<i&&u<r;)c=u>>2,p=u%4,this._Ke[c][p]=a[t],this._Kd[e-c][p]=a[t++],u++}for(var c=1;c<e;c++)for(var p=0;p<4;p++)s=this._Kd[c][p],this._Kd[c][p]=C[s>>24&255]^B[s>>16&255]^w[s>>8&255]^S[255&s]},T.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=o(e),a=0;a<4;a++)r[a]^=this._Ke[0][a];for(var s=1;s<t;s++){for(var a=0;a<4;a++)n[a]=f[r[a]>>24&255]^h[r[(a+1)%4]>>16&255]^m[r[(a+2)%4]>>8&255]^E[255&r[(a+3)%4]]^this._Ke[s][a];r=n.slice()}for(var l,u=i(16),a=0;a<4;a++)l=this._Ke[t][a],u[4*a]=255&(g[r[a]>>24&255]^l>>24),u[4*a+1]=255&(g[r[(a+1)%4]>>16&255]^l>>16),u[4*a+2]=255&(g[r[(a+2)%4]>>8&255]^l>>8),u[4*a+3]=255&(g[255&r[(a+3)%4]]^l);return u},T.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=o(e),a=0;a<4;a++)r[a]^=this._Kd[0][a];for(var s=1;s<t;s++){for(var a=0;a<4;a++)n[a]=v[r[a]>>24&255]^y[r[(a+3)%4]>>16&255]^I[r[(a+2)%4]>>8&255]^b[255&r[(a+1)%4]]^this._Kd[s][a];r=n.slice()}for(var l,u=i(16),a=0;a<4;a++)l=this._Kd[t][a],u[4*a]=255&(p[r[a]>>24&255]^l>>24),u[4*a+1]=255&(p[r[(a+3)%4]>>16&255]^l>>16),u[4*a+2]=255&(p[r[(a+2)%4]>>8&255]^l>>8),u[4*a+3]=255&(p[255&r[(a+1)%4]]^l);return u};var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new T(e)};k.prototype.encrypt=function(e){if(e=r(e),e.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),o=0;o<e.length;o+=16)a(e,n,0,o,o+16),n=this._aes.encrypt(n),a(n,t,o);return t},k.prototype.decrypt=function(e){if(e=r(e),e.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),o=0;o<e.length;o+=16)a(e,n,0,o,o+16),n=this._aes.decrypt(n),a(n,t,o);return t};var Q=function(e,t){if(!(this instanceof Q))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastCipherblock=r(t,!0),this._aes=new T(e)};Q.prototype.encrypt=function(e){if(e=r(e),e.length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),o=0;o<e.length;o+=16){a(e,n,0,o,o+16);for(var s=0;s<16;s++)n[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(n),a(this._lastCipherblock,t,o)}return t},Q.prototype.decrypt=function(e){if(e=r(e),e.length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=i(e.length),n=i(16),o=0;o<e.length;o+=16){a(e,n,0,o,o+16),n=this._aes.decrypt(n);for(var s=0;s<16;s++)t[o+s]=n[s]^this._lastCipherblock[s];a(e,this._lastCipherblock,0,o,o+16)}return t};var D=function(e,t,n){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=i(16);n||(n=1),this.segmentSize=n,this._shiftRegister=r(t,!0),this._aes=new T(e)};D.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=r(e,!0),i=0;i<n.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[i+o]^=t[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(n,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return n},D.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=r(e,!0),i=0;i<n.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[i+o]^=t[o];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(e,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return n};var R=function(e,t){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=i(16);this._lastPrecipher=r(t,!0),this._lastPrecipherIndex=16,this._aes=new T(e)};R.prototype.encrypt=function(e){for(var t=r(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},R.prototype.decrypt=R.prototype.encrypt;var _=function(e){if(!(this instanceof _))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=i(16),this.setValue(e)):this.setBytes(e)};_.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},_.prototype.setBytes=function(e){if(e=r(e,!0),16!=e.length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},_.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var M=function(e,t){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof _||(t=new _(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new T(e)};M.prototype.encrypt=function(e){for(var t=r(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},M.prototype.decrypt=M.prototype.encrypt;var N={AES:T,Counter:_,ModeOfOperation:{ecb:k,cbc:Q,cfb:D,ofb:R,ctr:M},utils:{hex:c,utf8:u},padding:{pkcs7:{pad:s,strip:l}},_arrayTest:{coerceArray:r,createArray:i,copyArray:a}};"undefined"!=typeof exports?module.exports=N:"function"==typeof anv.define&&anv.define.amd?anv.define("aesjs",N):(e.aesjs&&(N._aesjs=e.aesjs),e.aesjs=N)}(this),function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){function r(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}function i(e,t,n){}function a(e,t,n){}function o(e,t,n){}function s(e,t,n){}function l(e){return e.replace(w,"&lt;").replace(S,"&gt;")}function u(e,t,n,r){if(n=f(n),"href"===t||"src"===t){if("#"===(n=C.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(_.lastIndex=0,_.test(n))return""}else if("style"===t){if(M.lastIndex=0,M.test(n))return"";if(N.lastIndex=0,N.test(n)&&(_.lastIndex=0,_.test(n)))return"";!1!==r&&(r=r||B,n=r.process(n))}return n=h(n)}function c(e){return e.replace(T,"&quot;")}function d(e){return e.replace(k,'"')}function A(e){return e.replace(Q,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function g(e){return e.replace(D,":").replace(R," ")}function p(e){for(var t="",n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return C.trim(t)}function f(e){return e=d(e),e=A(e),e=g(e),e=p(e)}function h(e){return e=c(e),e=l(e)}function m(){return""}function E(e,t){function n(t){return!!r||-1!==C.indexOf(e,t)}"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],a=!1;return{onIgnoreTag:function(e,r,o){if(n(e)){if(o.isClosing){var s="[/removed]",l=o.position+s.length;return i.push([!1!==a?a:o.position,l]),a=!1,s}return a||(a=o.position),"[removed]"}return t(e,r,o)},remove:function(e){var t="",n=0;return C.forEach(i,function(r){t+=e.slice(n,r[0]),n=r[1]}),t+=e.slice(n)}}}function v(e){return e.replace(P,"")}function y(e){var t=e.split("");return t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}),t.join("")}var I=e("cssfilter").FilterCSS,b=e("cssfilter").getDefaultWhiteList,C=e("./util"),B=new I,w=/</g,S=/>/g,T=/"/g,k=/&quot;/g,Q=/&#([a-zA-Z0-9]*);?/gim,D=/&colon;?/gim,R=/&newline;?/gim,_=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,M=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,N=/u\s*r\s*l\s*\(.*/gi,P=/<!--[\s\S]*?-->/g;n.whiteList=r(),n.getDefaultWhiteList=r,n.onTag=i,n.onIgnoreTag=a,n.onTagAttr=o,n.onIgnoreTagAttr=s,n.safeAttrValue=u,n.escapeHtml=l,n.escapeQuote=c,n.unescapeQuote=d,n.escapeHtmlEntities=A,n.escapeDangerHtml5Entities=g,n.clearNonPrintableCharacter=p,n.friendlyAttrValue=f,n.escapeAttrValue=h,n.onIgnoreTagStripAll=m,n.StripTagBody=E,n.stripCommentTag=v,n.stripBlankChar=y,n.cssFilter=B,n.getDefaultCSSWhiteList=b},{"./util":4,cssfilter:8}],2:[function(e,t,n){function r(e,t){return new o(t).process(e)}var i=e("./default"),a=e("./parser"),o=e("./xss");n=t.exports=r,n.filterXSS=r,n.FilterXSS=o;for(var s in i)n[s]=i[s];for(var s in a)n[s]=a[s];"undefined"!=typeof window&&(window.filterXSS=t.exports),function(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope}()&&(self.filterXSS=t.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(e,t,n){function r(e){var t=d.spaceIndex(e);if(-1===t)var n=e.slice(1,-1);else var n=e.slice(1,t+1);return n=d.trim(n).toLowerCase(),"/"===n.slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function i(e){return"</"===e.slice(0,2)}function a(e,t,n){"user strict";var a="",o=0,s=!1,l=!1,u=0,c=e.length,d="",A="";for(u=0;u<c;u++){var g=e.charAt(u);if(!1===s){if("<"===g){s=u;continue}}else if(!1===l){if("<"===g){a+=n(e.slice(o,u)),s=u,o=u;continue}if(">"===g){a+=n(e.slice(o,s)),A=e.slice(s,u+1),d=r(A),a+=t(s,a.length,d,A,i(A)),o=u+1,s=!1;continue}if(('"'===g||"'"===g)&&"="===e.charAt(u-1)){l=g;continue}}else if(g===l){l=!1;continue}}return o<e.length&&(a+=n(e.substr(o))),a}function o(e,t){"user strict";function n(e,n){if(e=d.trim(e),e=e.replace(A,"").toLowerCase(),!(e.length<1)){var r=t(e,n||"");r&&i.push(r)}}for(var r=0,i=[],a=!1,o=e.length,u=0;u<o;u++){var g,p,f=e.charAt(u);if(!1!==a||"="!==f)if(!1===a||u!==r||'"'!==f&&"'"!==f||"="!==e.charAt(u-1))if(/\s|\n|\t/.test(f)){if(e=e.replace(/\s|\n|\t/g," "),!1===a){if(-1===(p=s(e,u))){g=d.trim(e.slice(r,u)),n(g),a=!1,r=u+1;continue}u=p-1;continue}if(-1===(p=l(e,u-1))){g=d.trim(e.slice(r,u)),g=c(g),n(a,g),a=!1,r=u+1;continue}}else;else{if(-1===(p=e.indexOf(f,u+1)))break;g=d.trim(e.slice(r+1,p)),n(a,g),a=!1,u=p,r=u+1}else a=e.slice(r,u),r=u+1}return r<e.length&&(!1===a?n(e.slice(r)):n(a,c(d.trim(e.slice(r))))),d.trim(i.join(" "))}function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function u(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function c(e){return u(e)?e.substr(1,e.length-2):e}var d=e("./util"),A=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=a,n.parseAttr=o},{"./util":4}],4:[function(e,t,n){t.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,n=t.exec(e);return n?n.index:-1}}},{}],5:[function(e,t,n){function r(e){return void 0===e||null===e}function i(e){var t=A.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};e=A.trim(e.slice(t+1,-1));var n="/"===e[e.length-1];return n&&(e=A.trim(e.slice(0,-1))),{html:e,closing:n}}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function o(e){e=a(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=l.onIgnoreTagStripAll),e.whiteList=e.whiteList||l.whiteList,e.onTag=e.onTag||l.onTag,e.onTagAttr=e.onTagAttr||l.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||l.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||l.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||l.safeAttrValue,e.escapeHtml=e.escapeHtml||l.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new s(e.css))}var s=e("cssfilter").FilterCSS,l=e("./default"),u=e("./parser"),c=u.parseTag,d=u.parseAttr,A=e("./util");o.prototype.process=function(e){if(e=e||"",!(e=e.toString()))return"";var t=this,n=t.options,a=n.whiteList,o=n.onTag,s=n.onIgnoreTag,u=n.onTagAttr,g=n.onIgnoreTagAttr,p=n.safeAttrValue,f=n.escapeHtml,h=t.cssFilter;n.stripBlankChar&&(e=l.stripBlankChar(e)),n.allowCommentTag||(e=l.stripCommentTag(e));var m=!1;if(n.stripIgnoreTagBody){var m=l.StripTagBody(n.stripIgnoreTagBody,s);s=m.onIgnoreTag}var E=c(e,function(e,t,n,l,c){var m={sourcePosition:e,position:t,isClosing:c,isWhite:a.hasOwnProperty(n)},E=o(n,l,m);if(!r(E))return E;if(m.isWhite){if(m.isClosing)return"</"+n+">";var v=i(l),y=a[n],I=d(v.html,function(e,t){var i=-1!==A.indexOf(y,e),a=u(n,e,t,i);if(!r(a))return a;if(i)return t=p(n,e,t,h),t?e+'="'+t+'"':e;var a=g(n,e,t,i);return r(a)?void 0:a}),l="<"+n;return I&&(l+=" "+I),v.closing&&(l+=" /"),l+=">"}var E=s(n,l,m);return r(E)?f(l):E},f);return m&&(E=m.remove(E)),E},t.exports=o},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(e,t,n){function r(e){return void 0===e||null===e}function i(e){var t={};for(var n in e)t[n]=e[n];return t}function a(e){e=i(e||{}),e.whiteList=e.whiteList||o.whiteList,e.onAttr=e.onAttr||o.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||o.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||o.safeAttrValue,this.options=e}var o=e("./default"),s=e("./parser");e("./util");a.prototype.process=function(e){if(e=e||"",!(e=e.toString()))return"";var t=this,n=t.options,i=n.whiteList,a=n.onAttr,o=n.onIgnoreAttr,l=n.safeAttrValue;return s(e,function(e,t,n,s,u){var c=i[n],d=!1;if(!0===c?d=c:"function"==typeof c?d=c(s):c instanceof RegExp&&(d=c.test(s)),!0!==d&&(d=!1),s=l(n,s)){var A={position:t,sourcePosition:e,source:u,isWhite:d};if(d){var g=a(n,s,A);return r(g)?n+":"+s:g}var g=o(n,s,A);return r(g)?void 0:g}})},t.exports=a},{"./default":7,"./parser":9,"./util":10}],7:[function(e,t,n){function r(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function i(e,t,n){}function a(e,t,n){}function o(e,t){return s.test(t)?"":t}var s=/javascript\s*\:/gim;n.whiteList=r(),n.getDefaultWhiteList=r,n.onAttr=i,n.onIgnoreAttr=a,n.safeAttrValue=o},{}],8:[function(e,t,n){function r(e,t){return new a(t).process(e)}var i=e("./default"),a=e("./css");n=t.exports=r,n.FilterCSS=a;for(var o in i)n[o]=i[o];"undefined"!=typeof window&&(window.filterCSS=t.exports)},{"./css":6,"./default":7}],9:[function(e,t,n){function r(e,t){function n(){if(!a){var n=i.trim(e.slice(o,s)),r=n.indexOf(":");if(-1!==r){var u=i.trim(n.slice(0,r)),c=i.trim(n.slice(r+1));if(u){var d=t(o,l.length,u,c,n);d&&(l+=d+"; ")}}}o=s+1}e=i.trimRight(e),";"!==e[e.length-1]&&(e+=";");for(var r=e.length,a=!1,o=0,s=0,l="";s<r;s++){var u=e[s];if("/"===u&&"*"===e[s+1]){var c=e.indexOf("*/",s+2);if(-1===c)break;s=c+1,o=s+1,a=!1}else"("===u?a=!0:")"===u?a=!1:";"===u?a||n():"\n"===u&&n()}return i.trim(l)}var i=e("./util");t.exports=r},{"./util":10}],10:[function(e,t,n){t.exports={indexOf:function(e,t){var n,r;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var r,i;if(Array.prototype.forEach)return e.forEach(t,n);for(r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}]},{},[2]),anv.define("xss",function(e){return function(){return e.filterXSS}}(this)),function(e,t){"function"==typeof anv.define&&anv.define.amd?anv.define("file-saver",[],t):"undefined"!=typeof exports?t():(t(),e.FileSaver={exports:{}}.exports)}(this,function(){"use strict";function e(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,a,o){var s=i.URL||i.webkitURL,l=document.createElement("a");a=a||e.name||"download",l.download=a,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?r(l):n(l.href)?t(e,a,o):r(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){r(l)},0))}:"msSaveOrOpenBlob"in navigator?function(i,a,o){if(a=a||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(e(i,o),a);else if(n(i))t(i,a,o);else{var s=document.createElement("a");s.href=i,s.target="_blank",setTimeout(function(){r(s)})}}:function(e,n,r,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var o="application/octet-stream"===e.type,s=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||o&&s)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},u.readAsDataURL(e)}else{var c=i.URL||i.webkitURL,d=c.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});i.saveAs=a.saveAs=a,"undefined"!=typeof module&&(module.exports=a)}),anv.define("util",["polyfill","aesjs","xss","file-saver"],function(e,t,n,r){function i(e,t){var n,r={};if(e&&e.constructor==Object)for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.constructor==Object)for(n in t)t.hasOwnProperty(n)&&(n in r&&r[n]&&r[n].constructor==Object&&t[n]&&t[n].constructor==Object?r[n]=i(r[n],t[n]):r[n]=t[n]);return r}function a(e){var t=!1;return!nt.facebookForAndroid&&!nt.androidWebview&&(e.requestFullScreen?t=!0:e.webkitEnterFullScreen?t=!0:e.mozRequestFullScreen?t=!0:e.webkitRequestFullscreen?t=!0:e.msRequestFullscreen&&(t=!0),t)}function o(e){e.requestFullScreen?e.requestFullScreen():e.webkitEnterFullScreen?e.webkitEnterFullScreen(Element.ALLOW_KEYBOARD_INPUT):e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(nt.safari?void 0:Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen&&e.msRequestFullscreen(e)}function s(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=u(n,r,i,a,t[0],7,-680876936),a=u(a,n,r,i,t[1],12,-389564586),i=u(i,a,n,r,t[2],17,606105819),r=u(r,i,a,n,t[3],22,-1044525330),n=u(n,r,i,a,t[4],7,-176418897),a=u(a,n,r,i,t[5],12,1200080426),i=u(i,a,n,r,t[6],17,-1473231341),r=u(r,i,a,n,t[7],22,-45705983),n=u(n,r,i,a,t[8],7,1770035416),a=u(a,n,r,i,t[9],12,-1958414417),i=u(i,a,n,r,t[10],17,-42063),r=u(r,i,a,n,t[11],22,-1990404162),n=u(n,r,i,a,t[12],7,1804603682),a=u(a,n,r,i,t[13],12,-40341101),i=u(i,a,n,r,t[14],17,-1502002290),r=u(r,i,a,n,t[15],22,1236535329),n=c(n,r,i,a,t[1],5,-165796510),a=c(a,n,r,i,t[6],9,-1069501632),i=c(i,a,n,r,t[11],14,643717713),r=c(r,i,a,n,t[0],20,-373897302),n=c(n,r,i,a,t[5],5,-701558691),a=c(a,n,r,i,t[10],9,38016083),i=c(i,a,n,r,t[15],14,-660478335),r=c(r,i,a,n,t[4],20,-405537848),n=c(n,r,i,a,t[9],5,568446438),a=c(a,n,r,i,t[14],9,-1019803690),i=c(i,a,n,r,t[3],14,-187363961),r=c(r,i,a,n,t[8],20,1163531501),n=c(n,r,i,a,t[13],5,-1444681467),a=c(a,n,r,i,t[2],9,-51403784),i=c(i,a,n,r,t[7],14,1735328473),r=c(r,i,a,n,t[12],20,-1926607734),n=d(n,r,i,a,t[5],4,-378558),a=d(a,n,r,i,t[8],11,-2022574463),i=d(i,a,n,r,t[11],16,1839030562),r=d(r,i,a,n,t[14],23,-35309556),n=d(n,r,i,a,t[1],4,-1530992060),a=d(a,n,r,i,t[4],11,1272893353),i=d(i,a,n,r,t[7],16,-155497632),r=d(r,i,a,n,t[10],23,-1094730640),n=d(n,r,i,a,t[13],4,681279174),a=d(a,n,r,i,t[0],11,-358537222),i=d(i,a,n,r,t[3],16,-722521979),r=d(r,i,a,n,t[6],23,76029189),n=d(n,r,i,a,t[9],4,-640364487),a=d(a,n,r,i,t[12],11,-421815835),i=d(i,a,n,r,t[15],16,530742520),r=d(r,i,a,n,t[2],23,-995338651),n=A(n,r,i,a,t[0],6,-198630844),a=A(a,n,r,i,t[7],10,1126891415),i=A(i,a,n,r,t[14],15,-1416354905),r=A(r,i,a,n,t[5],21,-57434055),n=A(n,r,i,a,t[12],6,1700485571),a=A(a,n,r,i,t[3],10,-1894986606),i=A(i,a,n,r,t[10],15,-1051523),r=A(r,i,a,n,t[1],21,-2054922799),n=A(n,r,i,a,t[8],6,1873313359),a=A(a,n,r,i,t[15],10,-30611744),i=A(i,a,n,r,t[6],15,-1560198380),r=A(r,i,a,n,t[13],21,1309151649),n=A(n,r,i,a,t[4],6,-145523070),a=A(a,n,r,i,t[11],10,-1120210379),i=A(i,a,n,r,t[2],15,718787259),r=A(r,i,a,n,t[9],21,-343485551),e[0]=E(n,e[0]),e[1]=E(r,e[1]),e[2]=E(i,e[2]),e[3]=E(a,e[3])}function l(e,t,n,r,i,a){return t=E(E(t,e),E(r,a)),E(t<<i|t>>>32-i,n)}function u(e,t,n,r,i,a,o){return l(t&n|~t&r,e,t,i,a,o)}function c(e,t,n,r,i,a,o){return l(t&r|n&~r,e,t,i,a,o)}function d(e,t,n,r,i,a,o){return l(t^n^r,e,t,i,a,o)}function A(e,t,n,r,i,a,o){return l(n^(t|~r),e,t,i,a,o)}function g(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)s(r,p(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(s(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,s(r,i),r}function p(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function f(e){for(var t="",n=0;n<4;n++)t+=it[e>>8*n+4&15]+it[e>>8*n&15];return t}function h(e){for(var t=0;t<e.length;t++)e[t]=f(e[t]);return e.join("")}function m(e){return h(g(e))}function E(e,t){return e+t&4294967295}function v(e,t){var n=[],r=0,i=e.length;t&&(i>32&&(e=e.slice(0,32)),
i<16?r=16-e.length:i<24?r=24-e.length:i<32&&(r=32-e.length));for(var a=0,o=e.length;a<o;a++)n.push(e.charCodeAt(a));for(;r;)n.push(0),r--;return n}function y(e){for(var t,n=[],r=0,i=e.length;r<i;r++)t=e[r].toString(16),1==t.length&&(t="0"+t),n.push(t);return n.join("-")}function I(e,t){for(var n=[],r=0,i=e.length;r<i;r++)!e[r]&&t||n.push(String.fromCharCode(e[r]));return n.join("")}function b(e){var t=[];e=atob(e);for(var n=0,r=e.length;n<r;n++)t[n]=e.charCodeAt(n);return t}function C(e){for(var t=atob(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n)),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}function B(e){for(var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;c<e.length;)t=e[c++],n=e[c++],r=e[c++],i=t>>2,a=(3&t)<<4|n>>4,o=(15&n)<<2|r>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),u=u+l.charAt(i)+l.charAt(a)+l.charAt(o)+l.charAt(s);return u}function w(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return n}function S(e,t){if(e||t){if(e&&t&&e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}return!0}function T(e,t,n){var r=n;if(e&&e in t)return t[e];if(e){var i=1,a=e.toString().trim().split(".");for(var o in t)if(t.hasOwnProperty(o)){var s=0,l=o.trim().split(".");for(s=0;s<a.length&&(void 0!==l[s]&&a[s]==l[s]);s++);s>=i&&(i=s,r=o)}}return t[r]}function k(e){for(var t=e.length;--t&&0==e[t];);return e=e.slice(0,t+1)}function Q(e){var t;if(e.length%16==0)return e;for(t=16-e.length%16;t>0&&t--;)e.push(0);return e}function D(e,n,r,i,a,o){var s,l,u=v(r),c=be(n),d={},A={};if(d[at.ZERO]=Q,d[at.PKCS7]=t.padding.pkcs7.pad,A[at.ZERO]=k,A[at.PKCS7]=t.padding.pkcs7.strip,void 0===o&&(o=at.ZERO),n=v(c),"string"==typeof a&&(a=v(a)),!(e in t.ModeOfOperation))throw new Error("Specified AES mode of operation is not supported/valid");return l=new t.ModeOfOperation[e](u,a),s=l.encrypt(d[o](n)),"hex"==i?y(s,!0):"base64"==i?B(s):I(s,!0)}function R(e,n,r,i,a,o){var s,l,u,c,d={},A={};if(d[at.ZERO]=Q,d[at.PKCS7]=t.padding.pkcs7.pad,A[at.ZERO]=k,A[at.PKCS7]=t.padding.pkcs7.strip,void 0===o&&(o=at.ZERO),s="hex"==i?O(n):"base64"==i?b(n):v(n),"string"==typeof a&&(a=v(a)),l=v(r),e in t.ModeOfOperation)return u=new t.ModeOfOperation[e](l,a),c=u.decrypt(s),c=A[o](c),t.utils.utf8.fromBytes(c);throw new Error("Specified AES mode of operation is not supported/valid")}function _(e,t,n,r,i){return window.crypto&&window.crypto.subtle?window.crypto.subtle.importKey(e,t,n,r,i):window.msCrypto&&window.msCrypto.subtle?M(e,t,n,r,i):Promise.reject("Browser does not support the Web Crypto API")}function M(e,t,n,r,i){return new Promise(function(a,o){var s=window.msCrypto.subtle.importKey(e,t,n,r,i);s.addEventListener("complete",function(e){a(e.target.result)}),s.addEventListener("error",o)})}function N(e,t,n){return window.crypto&&window.crypto.subtle?window.crypto.subtle.decrypt(e,t,n):window.msCrypto&&window.msCrypto.subtle?P(e,t,n):Promise.reject("Browser does not support the Web Crypto API")}function P(e,t,n){return new Promise(function(r,i){var a=window.msCrypto.subtle.decrypt(e,t,n);a.addEventListener("complete",function(e){r(e.target.result)}),a.addEventListener("error",i),a.addEventListener("abort",i)})}function O(e){for(var t,n=[],r=0,i=e.length;r<i/2;r++)t=parseInt(e[2*r]+e[2*r+1],16),n.push(t);return n}function L(e){return(e<10?"0":"")+e}function x(e,t){var n,r,i=new Date,a=["Sun","Mon","Tue","Wed","Thr","Fri","Sat"],o=new Date(e),s=o.getDate(),l=o.getMonth(),u=o.getFullYear(),c=o.getHours(),d=o.getMinutes(),A=o.getSeconds(),g=o.getMilliseconds(),p=!1,f=!1,h="";i.setHours(0,0,0,0),t&&(n=i.getTime(),r=o.getTime(),p=i.getDate()==s&&i.getMonth()==l&&i.getFullYear()==u,f=r>n+864e5&&r<n+1728e5,h=p&&"Today"||f&&"Tomorrow"||"");var m,E=h||a[o.getDay()];return l=L(l),s=L(s),c=L(c),d=L(d),A=L(A),m=c+":"+d+" "+(h||l+"/"+s+"/"+u),{string:m,hour:c+":"+d,hourDetailed:[c,d,A,g].join(":"),year:u,month:l,day:s,hours:c,minutes:d,dayOfWeek:E}}function F(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+e+"=([^&#]*)",r=new RegExp(n),i=r.exec(t||window.location.search);return null==i?null:decodeURIComponent(i[1])}function U(e,t){var n,r,i,a=/((https*:)*\/\/[^\/]*)\/*(.*)/;if(/^(https*:\/\/|\/\/)/.test(t))return t;if(i=a.exec(e),a.length<4)return null;n=[i[1]].concat(i[3].split("/")),r=t.split("/"),""===n[n.length-1]&&n.pop();for(var o=0,s=r.length;o<s;o++)if(".."==r[o]){if(n.pop(),!n.length)return null}else"."!=r[o]&&n.push(r[o]);return n.join("/")}function V(e,t){var n,r,i=window.location.href+"";if(/^(https*:\/\/|\/\/)/.test(e)||(n=document.createElement("a"),n.href="./",r=n.href,e=U(r,e)),i.match(/https/)){var a=e.match(/http:\/\/(.*)\.s3.amazonaws.com\/(.*)/);a&&(e="https://s3.amazonaws.com/"+a[1]+"/"+a[2])}var o=document.getElementsByTagName("body")[0],s=document.createElement("script");s.type="text/javascript",t&&(s.onload=t),s.src=e,o.appendChild(s)}function G(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=1;return t}function H(e){var t=0,n=[];for(var r in e)e.hasOwnProperty(r)&&(n[t]=r,t++);return n}function j(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];r in t?(t[r].constructor!==Array&&(t[r]=[t[r]]),t[r]=t[r].concat(n)):t[r]=n}),t}function Y(e){var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;for(e=be(e);c<e.length;)t=e.charCodeAt(c++),n=e.charCodeAt(c++),r=e.charCodeAt(c++),i=t>>2,a=(3&t)<<4|n>>4,o=(15&n)<<2|r>>6,s=63&r,isNaN(n)?o=s=64:isNaN(r)&&(s=64),u=u+l.charAt(i)+l.charAt(a)+l.charAt(o)+l.charAt(s);return u}function K(e){var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0,d=e.length,A=d%4;if(A)for(A=4-A;A--;)e+="=";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)i=l.indexOf(e.charAt(c++)),a=l.indexOf(e.charAt(c++)),o=l.indexOf(e.charAt(c++)),s=l.indexOf(e.charAt(c++)),t=i<<2|a>>4,n=(15&a)<<4|o>>2,r=(3&o)<<6|s,u+=String.fromCharCode(t),64!=o&&(u+=String.fromCharCode(n)),64!=s&&(u+=String.fromCharCode(r));return u=Ce(u)}function q(e){return ee(J($(e),e.length*st))}function J(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n=Array(80),r=1732584193,i=-271733879,a=-1732584194,o=271733878,s=-1009589776,l=0;l<e.length;l+=16){for(var u=r,c=i,d=a,A=o,g=s,p=0;p<80;p++){n[p]=p<16?e[l+p]:X(n[p-3]^n[p-8]^n[p-14]^n[p-16],1);var f=Z(Z(X(r,5),z(p,i,a,o)),Z(Z(s,n[p]),W(p)));s=o,o=a,a=X(i,30),i=r,r=f}r=Z(r,u),i=Z(i,c),a=Z(a,d),o=Z(o,A),s=Z(s,g)}return Array(r,i,a,o,s)}function z(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function W(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function Z(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function X(e,t){return e<<t|e>>>32-t}function $(e){for(var t=Array(),n=(1<<st)-1,r=0;r<e.length*st;r+=st)t[r>>5]|=(e.charCodeAt(r/st)&n)<<32-st-r%32;return t}function ee(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=0;r<4*e.length;r+=3)for(var i=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255,a=0;a<4;a++)8*r+6*a>32*e.length?n+=ot:n+=t.charAt(i>>6*(3-a)&63);return n}function te(e){var t,n,r,i,a=[],o=new Date;return n=q(o.toISOString()+1e3*Math.round(Math.random())+"There is more than words"),i=Y(n),r=o.toISOString(),t=q(n+r+e),a[0]=i,a[1]=r,a[2]=t,a}function ne(e,t){var n=te(t);return'UsernameToken Username="'+e+'", PasswordDigest="'+n[2]+'", Created="'+n[1]+'", Nonce="'+n[0]+'"'}function re(e){var t,n=/^((http[s]?|ftp)?:)?\/\/([^:\/\s]+)((:)([0-9]+))?((\/\w+)*\/)?([\w\-\.]+[^#?\s]+)?(.*)?(#[\w\-]+)?$/;return e&&(t=n.exec(e)),t&&t.length>11?{url:t[0],protocol:t[2],host:t[3],port:t[6],path:t[7],file:t[9],query:t[10],hash:t[11]}:{}}function ie(e,t,n){if(arguments.length>2)for(var r=new RegExp(t,"i"),i=2,a=arguments.length;i<a;i++)e=e.replace(r,arguments[i]);return e}function ae(){return window.location.protocol.indexOf("https")>-1}function oe(){var e=document.createElement("video");return e.muted=!0,e.muted}function se(){return"playsInline"in document.createElement("video")}function le(){try{return"localStorage"in window&&!!window.localStorage}catch(e){return!1}}function ue(e,t){"error"==e?pe():"ended"!=e||lt.evaluationCompleted||Ae(t)}function ce(e,t,n,r){var i,a,o;i=document.createElement("video"),a=document.createElement("source"),i.appendChild(a),i.setAttribute("playsinline",""),t&&(i.muted=!0),a.src=e,a.type="video/mp4",i.onerror=ue.bind(null,"error",t),a.onerror=ue.bind(null,"error",t),i.onended=ue.bind(null,"ended",t),i.load(),void 0!==(o=i.play())&&o.then(n.bind(null,t)).catch(r.bind(null,e,t))}function de(e,t,n,r){var i=document.createElement("script");i.type="text/javascript",i.async=!1,i.onload=n,i.onerror=r,ae()&&(e=e.replace(/^https*:\/\//,"https://")),i.src=e,document.getElementsByTagName(t)[0].appendChild(i)}function Ae(e){var t;e?(lt.mutedAutoPlay=!0,t="MUTED_AUTOPLAY"):(lt.unmutedAutoPlay=!0,t="UNMUTED_AUTOPLAY"),window.cacheAutoPlayStatus&&le()&&window.localStorage.setItem(t,1),pe()}function ge(e,t){var n;t?(lt.mutedAutoPlay=!1,n="MUTED_AUTOPLAY",pe()):(lt.unmutedAutoPlay=!1,n="UNMUTED_AUTOPLAY",ce(e,!0,Ae,ge)),window.cacheAutoPlayStatus&&le()&&window.localStorage.setItem(n,0)}function pe(){var e;if(!lt.evaluationCompleted)for(lt.evaluationCompleted=!0;ut.length;)e=ut.shift(),"function"==typeof e.fn&&e.fn.apply(null,e.args)}function fe(e,t){ut.push({fn:e,args:t})}function he(){return lt}function me(){var e=document.createElement("video");return e.volume=0,!e.volume}function Ee(){var e=document.createElement("video");return e.crossOrigin="anonymous",e.hasAttribute("crossorigin")}function ve(){var e,t,n=!1;try{t=document.createElement("canvas"),e=t.getContext("webgl")}catch(t){e=null}if(null==e)try{e=t.getContext("experimental-webgl"),n=!0}catch(t){e=null}return!!e&&{isExperimental:n}}function ye(e){for(var t={},n=[],r=0,i=e.length;r<i;++r)t.hasOwnProperty(e[r])||(n.push(e[r]),t[e[r]]=1);return n}function Ie(e){var t;if(e.length%16!=0)return e;if((t=e.charCodeAt(e.length-1))>=16)return e;for(var n=e.length.length-1;n>e.length-t;n--)if(e.charCodeAt(n)!=t)return e;return e.slice(0,e.length-t)}function be(e){var t="";if("function"==typeof unescape)return unescape(encodeURIComponent(e));e=e.replace(/\x0d\x0a/g,"\n");for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}function Ce(e){for(var t,n="",r=0,i=0,a=0;r<e.length;)i=e.charCodeAt(r),i<128?(n+=String.fromCharCode(i),r++):i>191&&i<224?(a=e.charCodeAt(r+1),n+=String.fromCharCode((31&i)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),t=e.charCodeAt(r+2),n+=String.fromCharCode((15&i)<<12|(63&a)<<6|63&t),r+=3);return n}function Be(e,t){var n,r,i=[];for(var a in e)e.hasOwnProperty(a)&&(n=t?a:encodeURIComponent(a),r=t?e[a]:encodeURIComponent(e[a]),r||null!==r&&void 0!==r||(r=""),i.push(n+"="+r));return i.join("&")}function we(e){var t,n=/.*(\?.*)/,r=n.exec(e),i={};if(r){r=r[1].replace(/\?/,""),t=r.split("&"),t=t.map(function(e){return e.split("=")});for(var a=0,o=t.length;a<o;a++)t[a]&&t[a].length&&t[a][0]&&t[a][0].length&&(i[t[a][0]]=t[a][1])}return i}function Se(e){var t=/([^\?]*)[\?]?.*/.exec(e);return t.length>1?t[1]:-1}function Te(e,t,n,r){var i,a=/([^\?]*)(.*)/,o=we(e);return i=a.exec(e),i=i&&i.length>1?i[1]:e,n?o[t]=n:o&&delete o[t],o=Be(o,r),i+(o.length?"?":"")+o}function ke(){"undefined"==typeof ActiveXObject&&"undefined"==typeof XDomainRequest||(XMLHttpRequest=function(){try{return new et}catch(e){console.log("IEXMLHttpRequest failed")}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){console.log('ActiveXObject("Msxml2.XMLHTTP.6.0") failed')}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){console.log('ActiveXObject("Msxml2.XMLHTTP.6.0") failed')}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){console.log('ActiveXObject("Msxml2.XMLHTTP.6.0") failed')}throw new Error("This browser does not support XMLHttpRequest.")})}function Qe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function De(e,t,n){n&&(t="anv-"+t),e.className+=" "+t}function Re(e){return String(e).replace(/[&<>"'\/`=]/g,function(e){return tt[e]})}function _e(e,t,n){var r,i;for(r in n)if(n.hasOwnProperty(r))switch(r){case"text":e.innerHTML=Re(n[r]);break;case"location":i=n.location.toLowerCase(),e.style[i.indexOf("l")>-1?"left":"right"]="0",e.style[i.indexOf("b")>-1?"bottom":"top"]="0",e.style[i.indexOf("r")>-1?"left":"right"]="",e.style[i.indexOf("t")>-1?"bottom":"top"]="";break;case"sizeFactor":e.style.fontSize=parseFloat(n.sizeFactor)*(11+7*(parseInt(t)-225)/575)+"px";break;default:e.style[r]=n[r]}}function Me(e,t,n,r,i){var a,o,s;if(a=document.createElement(t),n&&(a.id=e.id+"-"+n),r)for(o=r.split(" "),s=0;s<o.length;s++)De(a,o[s],!0);return i&&(a.innerHTML=i),e.appendChild(a),a}function Ne(e,t,n,r){e.addEventListener?(r=void 0!==r&&r,e.addEventListener(t,n,r)):e.attachEvent("on"+t,n)}function Pe(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent&&e.detachEvent("on"+t,n)}function Oe(e,t){"onoffline"in window?(e&&Ne(window,"online",e),t&&Ne(window,"offline",t)):Le(e,t)}function Le(e,t){var n;n=navigator&&"onLine"in navigator?navigator.onLine:xe(),window.anvOnline!=n&&void 0!==window.anvOnline&&(n?e&&e():t&&t()),window.anvOnline=n,setTimeout(function(){Le(e,t)},3e4)}function xe(){var e=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP");e.open("HEAD","//"+window.location.hostname+"/?rand="+Math.floor(65536*(1+Math.random())),!1);try{return e.send(),e.status>=200&&(e.status<300||304===e.status)}catch(e){return!1}}function Fe(){return document.hidden||document.msHidden||document.webkitHidden}function Ue(e,t){var n,r;return function(){clearTimeout(r),n=arguments,r=setTimeout(function(){e.apply(null,n),n=null,r=null},t)}}function Ve(e){return e==e.toUpperCase()}function Ge(e){var t=0,n=[];if(e.indexOf("_")>-1)return e;for(var r=0,i=e.length;r<i;r++)Ve(e[r])&&r&&(n.push(e.slice(t,r).toUpperCase()),t=r),r==i-1&&n.push(e.slice(t-i).toUpperCase());return n.join("_")}function He(e,t,n){var r,i,a=/(.*)\[\[(.*)\]\](.*)/;for(var o in e)e.hasOwnProperty(o)&&(i=a.exec(e[o]))&&i.length>3&&i[2]in t&&(r=i[1]+(t[i[2]]||null)+i[3],e[o]=n?encodeURIComponent(r):r);return e}function je(e,t){var n,r;if(e&&(!e||e.buffered))for(var i=0,a=e.buffered.length;i<a;i++)n=e.currentTime>e.buffered.start(i)&&e.currentTime<e.buffered.end(i),r=e.buffered.start(i)+"-"+e.buffered.end(i)+(n?"*":""),"function"==typeof t?t(r):window.console&&window.console.info&&console.info(r)}function Ye(e){var t,n=document.createElement("source");e.appendChild(n),e.setAttribute("playsinline",""),n.src=$e,n.type="video/mp4",e.load(),void 0!==(t=e.play())&&t.then(Ke.bind(null,e,n)).catch(qe.bind(null,n))}function Ke(e,t){e.pause(),t.remove()}function qe(e,t){e.remove()}function Je(e,t,r){e&&(e.innerHTML=n(t,r))}function ze(e,t,n,r,i){e[t]=e[t]||[],n=Math.round(10*parseFloat(n))/10;var a,o=!1,s=!1,l=!1;if(e[t].length){for(var u=null,c=null,d=null,A=null,g=null,p=null,f=0,h=e[t].length;f<h;f++){var m=e[t][f].start,E=e[t][f].end;if(n>=m&&n<E)return E;u=n-E,A=m-n,u>=0&&(u<c||null===c)&&(c=u,d=f),A>=0&&(A<g||null===g)&&(g=A,p=f)}if(null!=d&&null!=p){if(c+g<r)return e[t][d].end=e[t][p].end,a=e[t][d].end,e[t].splice(p,1),a;c<r?s=!0:g<r?l=!0:o=!0}else null==d?g<r?l=!0:o=!0:null==p&&(c<r?s=!0:o=!0)}else o=!0;return s?(n+=i,e[t][d].end=n,n):l?(e[t][p].start=n,e[t][p].end):o?(a=n+i,e[t].push({start:n,end:a}),a):n}function We(e,t){var n,r=document.getElementById(e);return r&&r.shadowRoot&&(n=r.shadowRoot.getElementById(t)),n||document.getElementById(t)}function Ze(e,t){var n,r=document.getElementById(e);return r&&r.shadowRoot&&(n=r.shadowRoot.querySelectorAll(t)),n||document.querySelectorAll(t)}function Xe(e,t,n){if("function"!=typeof e||"object"!=typeof t)return t;for(var r in t)if(t.hasOwnProperty(r)){var i=e(r);if(i==r)if("string"==typeof t[r]){var a=e(t[r],n);a!=t[r]&&console.warn("Value of",r,"has been modified due to possible XSS vulnerability:",a),t[r]=a}else"object"==typeof t[r]&&(t[r]=Xe(e,t[r],n));else console.warn("Entry",i,"has been removed due to possible XSS vulnerability."),delete t[r]}return t}e.applyAll();var $e="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAABIltZGF03gIATGF2YzU3LjkzLjEwMABCIAjBGDghEARgjBwAAABLBgRHtQAxR0E5NAPU//yUIP2cIPyAgP2AgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgPqAgP+AAAACaQYF//9l3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDEyMCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTEgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0xIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTYgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MCBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MCB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz04IHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTAgd2VpZ2h0cD0yIGtleWludD0xNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD0wIGludHJhX3JlZnJlc2g9MCByYz0ycGFzcyBtYnRyZWU9MCBiaXRyYXRlPTEyMDAgcmF0ZXRvbD0xLjAgcWNvbXA9MC42MCBxcG1pbj0xMCBxcG1heD01MSBxcHN0ZXA9NCBjcGx4Ymx1cj0yMC4wIHFibHVyPTAuNSBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAABnmWIhD/+2+gEqfgU2VgP++gqR0L7aDULYnT4iugAAAMAAAMAAAMAAAMAAKIwmzvGytzHNAAAAwAAAwAAMCAAABFQAAAIWAAABqAAAAZIAAAHEAAAB/AAAAmQAAAQ0AAAICAAADFAAAB2AAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAADAAAICSEQBGCMHAAABO9tb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAARgABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAACA3RyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAEAAAAAAAAARgAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC4AAAQAAAEAAAAAAXttZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAMAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEmbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADqc3RibAAAAGpzdHNkAAAAAAAAAAEAAABabXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAA2ZXNkcwAAAAADgICAJQABAASAgIAXQBUAAAAAAfQAAAAPswWAgIAFEhBW5QAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAwAABAAAAAAoc3RzYwAAAAAAAAACAAAAAQAAAAIAAAABAAAAAgAAAAEAAAABAAAAIHN0c3oAAAAAAAAAAAAAAAMAAAAXAAAABgAAAAYAAAAYc3RjbwAAAAAAAAACAAAAMAAABKsAAAIWdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAgAAAAAAAAAqAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAeAAAAEOAAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAAKgAAAAAAAQAAAAABjm1kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAABMS0AAAzRQVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAATltaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAD5c3RibAAAAJVzdHNkAAAAAAAAAAEAAACFYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAeABDgASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAAC9hdmNDAWQAKP/hABdnZAAorLQDwBE/LCAAZbmgExLQAeMGVAEABWjvMsiwAAAAGHN0dHMAAAAAAAAAAQAAAAEAAzRQAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAABRzdHN6AAAAAAAABF4AAAABAAAAFHN0Y28AAAAAAAAAAQAAAE0AAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU3LjcyLjEwMQ==",et=window.XDomainRequest&&function(){var e=new XDomainRequest;if(!e)return null;var t,n=function(e){e!==t.readyState&&(t.readyState=e,t.onreadystatechange&&t.onreadystatechange())};return e.onerror=function(){t.status=500,t.statusText="ERROR",n(4)},e.ontimeout=function(){t.status=408,t.statusText="TIMEOUT",n(4)},e.onprogress=function(){n(3)},e.onload=function(){t.status=200,t.statusText="OK",t.responseText=e.responseText,t.responseXML=new ActiveXObject("Microsoft.XMLDOM"),t.responseXML.async="false",t.responseXML.loadXML(e.responseText),n(4)},t={open:function(t,r,i,a,o){e.open(t,r.replace(/^https*:\/\//,ae()?"https://":"http://")),n(1)},setRequestHeader:function(){},send:function(t){e.send(t),n(2)},abort:function(){e.abort()},status:"",statusText:"",getResponseHeader:function(){},getAllResponseHeaders:function(){},responseText:"",responseXML:"",readyState:0,onreadystatechange:null}},tt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},nt=function(){var e,t,n="undefined",r=window,i=document,a=navigator,o=typeof i.getElementById!=n&&typeof i.getElementsByTagName!=n&&typeof i.createElement!=n,s=a.userAgent.toLowerCase(),l=a.platform.toLowerCase(),u=a.vendor,c=/win/.test(l?l:s),d=/mac/.test(l?l:s),A=/iphone/.test(l?l:s),g=/ipad/.test(l?l:s),p=/ipod/.test(l?l:s),f=!!l&&/cros/.test(l),h=/nexus player/.test(s),m=/amazonwebappplatform|aft\w+/.test(s),E=/android/.test(l?l:s),E=E||/linux arm/.test(l?l:s),E=E||/linux.+arch/.test(l?l:s),E=E||/android/.test(s),E=E&&!f,E=E&&!m,E=E&&!h,v=m||h,y=/windows phone/.test(s),I=/bb10|black.*berry/.test(s),b=/(smart.*tv|maple)/.test(s),C=!!/webkit/.test(s)&&parseFloat(s.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),B=!1,w=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,S="undefined"!=typeof InstallTrigger,S=S||(g||A)&&/fxios/.test(s),T=/^((?!chrome|android).)*safari/.test(s)&&u&&/apple/i.test(u)||Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,k=!!window.chrome&&!w,B=!!document.documentMode,B=B||/msie|trident/.test(s),Q=/edge/.test(s),D=/fb4a/.test(s),R=[0,0,0],_=E&&/version\//.test(s),M=null,N=function(){var e,t=navigator.userAgent,n=navigator.appName,r=t.match(/(opera|chrome|safari|firefox|msie|trident)\/?\s*([\d\.]+)/i)||[];return r=r[2]?[r[1],r[2]]:[n,navigator.appVersion,"-?"],r&&null!=(e=t.match(/version\/([\.\d]+)/i))&&(r[2]=e[1]),r.length>1&&"trident"==r[0]&&(r[0]="msie",r[1]=parseInt(r[1])+4),r}();if(typeof a.plugins!=n&&"object"==typeof a.plugins["Shockwave Flash"])!(M=a.plugins["Shockwave Flash"].description)||typeof a.mimeTypes!=n&&a.mimeTypes["application/x-shockwave-flash"]&&!a.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(!0,M=M.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),R[0]=parseInt(M.replace(/^(.*)\..*$/,"$1"),10),R[1]=parseInt(M.replace(/^.*\.(.*)\s.*$/,"$1"),10),R[2]=/[a-zA-Z]/.test(M)?parseInt(M.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof r.ActiveXObject!=n)try{var P=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");P&&(M=P.GetVariable("$version"))&&(B=!0,M=M.split(" ")[1].split(","),R=[parseInt(M[0],10),parseInt(M[1],10),parseInt(M[2],10)])}catch(e){}return t=m||A||g||p||E||y||I,e=t?m?"firetv":h?"androidtv":g?"tablet":A||p||y||I?"phone":window.devicePixelRatio&&screen.width&&screen.width/window.devicePixelRatio>=700?"tablet":"phone":"desktop",{browserInfo:N,w3:o,pv:R,wk:C,ie:B,edge:Q,win:c,mac:d,iphone:A,ipad:g,ipod:p,android:E&!I&&!y&&!b,windowsPhone:y,blackberry:I,smartTV:b,isMobileBrowser:t,deviceType:e,firefox:S,safari:T,chrome:k,opera:w,firetv:m,androidTV:h,ott:v,facebookForAndroid:D,androidWebview:_}}(),rt={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="";if(n)switch(n.constructor){case Number:o=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:o="; expires="+n;break;case Date:o="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+(i?"; domain="+i:"")+(r?"; path="+r:"")+(a?"; secure":""),!0},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},expireItem:function(e,t,n){return!(!e||!new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},removeItem:function(e,t,n){var r,i,a;if(t)return rt.expireItem(e,t,n);if(!(r=location.pathname))return!1;r=r.replace(/^\/|\/$/g,""),i=r.split("/"),a="",rt.expireItem(e),rt.expireItem(e,"/",n);for(var o=0;o<i.length;o++)a+="/"+i[o],rt.expireItem(e,a,n);return!0},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}},it="0123456789abcdef".split("");"5d41402abc4b2a76b9719d911017c592"!=m("hello")&&(E=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n});var at={ZERO:0,PKCS7:1},ot="=",st=8,lt={evaluationCompleted:!1},ut=[];return function(){window.cacheAutoPlayStatus&&le()&&(lt.unmutedAutoPlay=window.localStorage.getItem("UNMUTED_AUTOPLAY"),lt.mutedAutoPlay=window.localStorage.getItem("MUTED_AUTOPLAY"),"string"==typeof lt.unmutedAutoPlay&&(lt.unmutedAutoPlay="1"==lt.unmutedAutoPlay),"string"==typeof lt.mutedAutoPlay&&(lt.mutedAutoPlay="1"==lt.mutedAutoPlay)),!0===lt.unmutedAutoPlay?pe():"boolean"==typeof lt.mutedAutoPlay?(lt.unmutedAutoPlay=!1,pe()):(ce($e,!1===lt.unmutedAutoPlay||nt.isMobileBrowser,Ae,ge),setTimeout(pe,1500))}(),{requestFullScreen:o,checkFullscreen:a,cancelFullScreen:function(){document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},log:function(e,t){var n,r;n=1,">"===e.charAt(0)&&(r=e.slice(1),n=2);var i=Array.prototype.slice.call(arguments,n);r?console.log("["+r+"] ",i.join(" ")):console.log(i.join(" "))},getWindowSize:function(){return{w:screen.width,h:screen.height}},getCumulativeOffset:function(e){var t,n,r;if(t=n=0,window.self!==window.top&&e.offsetWidth<e.clientWidth&&e.getBoundingClientRect().width<100)r=e.getBoundingClientRect(),n=100*r.top,t=100*r.left;else if(e.offsetParent)do{t+=e.offsetLeft,n+=e.offsetTop}while(e=e.offsetParent);return{x:t,y:n}},getRelativeOffset:function(e,t){var n,r;if(n=r=0,e.offsetParent)for(;e&&e!=t;)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{x:n,y:r}},getBitrateForScreenSize:function(e,t,n){return.5*e*t*n},postMessage:function(e){parent.window.postMessage(e,"*")},getDeviceInfo:nt,node2Obj:function(e){return{getNode:function(){return e},getLayout:function(){}}},snapshot:function(e,t){t=t||"snapshot.png";var n=document.createElement("canvas");if(n.width=e.clientWidth,n.height=e.clientHeight,n.getContext("2d").drawImage(e,0,0,n.width,n.height),n.toBlob)n.toBlob(function(e){saveAs(e,t)});else{for(var r=n.toDataURL(),i=atob(r.substr(r.indexOf(",")+1)),a=new Uint8Array(i.length),o=0;o<i.length;++o)a[o]=i.charCodeAt(o);saveAs(new Blob([a],{type:"image/png"}),t)}},download:function(e,t,n,r,i,a,o,s){var l,u=0==e.indexOf("file:")||0==window.location.href.indexOf("file:")&&-1==e.indexOf("http:"),c={};ke(),t&&(e+="?"+("object"==typeof t?Be(t):t));var d=new XMLHttpRequest;ae()&&(e=e.replace(/^https*:\/\//,"https://"));try{if(d.open("GET",e),a&&(d.withCredentials=!0),s&&(d.responseType=s),i)for(var A in i)i.hasOwnProperty(A)&&d.setRequestHeader(A,i[A])}catch(e){return r&&r(0,"Problem opening request"),!1}d.onreadystatechange=function(){4==d.readyState&&(200==d.status||u&&0==d.status?("function"==typeof d.getAllResponseHeaders&&(l=d.getAllResponseHeaders()),c.url=e,c.responseUrl=d.responseURL,"arraybuffer"==s?n(d.response,l,c):n(d.responseText,l,c)):r&&("arraybuffer"==s?r(d.status):r(d.status,d.responseText)))};try{return d.send(),!0}catch(e){return r&&r(0,"Problem sending request"),!1}},parseDFXP:function(e){function t(e){var t,n;if(e){if(t=e.split(":"),n=0,t.length<=3)for(var r=t.length-1,i=0;r>=0;r--,i++)n+=parseFloat(t[r])*Math.pow(60,i);else if(4==t.length){for(var r=2,i=0;r>=0;r--,i++)n+=parseFloat(t[r])*Math.pow(60,i);n+=parseFloat(t[3])/100}else n=parseFloat(e);return n}return null}var n,r=this.str2XML(e),i=[];n=r.getElementsByTagName("p");for(var a=0,o=n.length;a<o;a++){var s,l=n[a],u=t(l.getAttribute("begin")),c=t(l.getAttribute("end"));s={id:a,begin:u,end:c,text:l.textContent||l.innerText},i.push(s)}return i},parseJSON:function(e){for(var t=JSON.parse(e),n=0,r=t.length,i=[];n<r;n++){var a=n+1,o=parseFloat(t[n].ts),s=o+parseFloat(t[n].dur),l=t[n].line,u={id:a,begin:o,end:s,text:l};i.push(u)}return i},parseVTT:function(e){function t(e){var t,n,r,i,a,o=e.split(":"),s=0;return 3==o.length?(t=o[0],n=o[1],r=o[2]):(t=0,n=o[0],r=o[1]),r=r.split(/\s+/),i=r.splice(0,1)[0],i=i.split(/\.|,/),a=parseFloat(i[1]),i=i[0],s+=3600*parseFloat(t),s+=60*parseFloat(n),s+=parseFloat(i),a&&(s+=a/1e3),s}var n,r,i,a,o=[],s=e.split("\n"),l="",u=1,c=s.length;for(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});u<c;u++)if(l=s[u].trim()){if(-1==l.indexOf("--\x3e")){a=a||l;continue}for(n={id:a},r=l.split(" --\x3e "),n.begin=t(r[0]),n.end=t(r[1]),i=[];s[++u]&&(l=s[u].trim());)i.push(l);n.text=i.join("<br/>"),o.push(n)}return o},str2XML:function(e){var t,n;return window.DOMParser?(n=new DOMParser,t=n.parseFromString(e,"text/xml")):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)),t},generateChild:function(e,t,n,r,i){return Me(e,t,n,r,i)},generateEmptyImg:function(e,t,n){var r=Me(e,"img",t,n);return r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r},addClass:function(e,t,n){De(e,t,n)},removeClass:function(e,t,n){n&&(t="anv-"+t),e.className=e.className.split(" ").filter(function(e){return e!==t}).join(" ")},capitalize:function(e){return Qe(e)},styleComponent:_e,sendPostRequest:function(e,t,n,r,i,a,o,s){var l,u=0===e.indexOf("file:")||0===window.location.href.indexOf("file:")&&-1===e.indexOf("http:"),c={};ke();var d=new XMLHttpRequest;ae()&&(e=e.replace(/^https*:\/\//,"https://"));try{if(d.open("POST",e,!0),a&&(d.withCredentials=!0),s&&(d.responseType=s),i)for(var A in i)i.hasOwnProperty(A)&&d.setRequestHeader(A,i[A]);o?"arraybuffer"!=o&&d.setRequestHeader("Content-type",o):d.setRequestHeader("Content-type","application/x-www-form-urlencoded")}catch(e){r&&(r(e.message||e.description),console.error("POST request error",e))}d.onreadystatechange=function(){4===d.readyState&&(200===d.status||u&&0===d.status?("function"==typeof d.getAllResponseHeaders&&(l=d.getAllResponseHeaders()),c.url=e,c.responseUrl=d.responseURL,"arraybuffer"==s?n(d.response,l,c):n(d.responseText,l,c)):r&&("arraybuffer"==s?r(d.status):r(d.status,d.responseText)))},o||"object"!=typeof t||(t=Be(t));try{d.send(t)}catch(e){r&&(r(e.message||e.description),console.error("POST request error",e))}},openURIInNewWindow:function(e,t){var n=window.open(e,t||"_blank");return n&&n.focus&&n.focus(),n},setFloat:function(e,t){e.style.cssFloat=t,e.style.styleFloat=t},encodeURLParams:Be,decodeURLParams:we,updateURLParam:Te,getBaseUrl:Se,sec2TimeString:function(e){var t,n="",r="";return e<0&&(n="-",e*=-1),t=parseInt(e/60,10),e=parseInt(e%60,10),t>=60&&(r=parseInt(t/60,10),t=parseInt(t%60,10),r=L(r),r+=":"),n+r+L(t)+":"+L(e)},timeString2Sec:function(e){var t,n,r,i;return t=e.split(":"),t.length>2?(n=parseInt(t[0]),r=parseInt(t[1]),i=parseInt(t[2])):(n=0,r=parseInt(t[0]),i=parseInt(t[1])),3600*n+60*r+i},timeString2Millisecond:function(e){var t,n,r,i,a,o=0;if("string"==typeof e)for(t=e.split(":"),n=t.length,r=n,a=t[r-1].length>2,i=a?1:1e3;r&&r--;)o+=parseInt(t[r])*i,i*=r==n-1&&a?1e3:60;return o},preventDefaultMouseDown:function(e){for(var t=0;t<e.length;t++)Ne(e[t],"mousedown",function(e){e.preventDefault()},!1)},
merge:i,cacheImages:function(e,t,n){for(var r=0,i=e.length,a=[];r<i;r++)a[r]=new Image,function(e){Ne(a[e],"load",function(){t(this,e)},!1)}(r),n&&function(e){Ne(a[r],"error",function(){n(this,e)},!1)}(r),e[r]?a[r].src=e[r]:function(e){t(a[e],e)}(r)},base64ToUint8Array:C,arrayEquals:S,base64Encode:Y,base64Decode:K,uTF8Encode:function(e){return be(e)},uTF8Decode:function(e){return Ce(e)},addEventListener:function(e,t,n,r){Ne(e,t,n,r)},removeEventListener:function(e,t,n){Pe(e,t,n)},setReadOnly:function(e,t,n){t||(n?(Ne(e,"keydown",function(e){e.preventDefault()},!1),Ne(e,"cut",function(e){e.preventDefault()},!1)):e.readOnly=!0)},createUUID:function(){for(var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=t,r=new Array(36),i=0,a=0;a<36;a++)8==a||13==a||18==a||23==a?r[a]="-":14==a?r[a]="4":(i<=2&&(i=33554432+16777216*Math.random()|0),e=15&i,i>>=4,r[a]=n[19==a?3&e|8:e]);return r.join("")},touchURL:function(e,t,n){var r=new Image;"function"==typeof t&&(r.onload=t),"function"==typeof n&&(r.onerror=n),r.src=e},isSecureSocket:ae,setCookie:rt.setItem,removeCookie:rt.removeItem,getCookie:rt.getItem,setCookies:function(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&rt.setItem(t,e[t])},removeCookies:function(e){for(var t in e)rt.removeItem(t)},getCookies:function(e){var t={};for(var n in e){var r=rt.getItem(n);t[n]=r}return t},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},md5:m,aesStdEncrypt:D,aesStdDecrypt:R,importKey:_,decrypt:N,hex2AscArray:O,prettifyDate:x,getParameterByName:F,getJsonp:V,loadJS:V,loadExternalJS:de,array2Object:G,object2Array:H,invertObjectKeysAndValues:j,generateWsseHeader:ne,getUrlParts:re,replaceAll:ie,isWebGLSupported:ve,isWebGLCorsSupported:Ee,isVideoVolumeSetSupported:me,isVideoMutedSupported:oe,isInlineVideoSupported:se,getAutoPlaySupport:he,getArrayUnique:ye,stringToUint16Array:w,uint8ArrayToBase64:B,getClosestVersion:T,registerAutoPlayDetectionCallback:fe,stripPkcs7:Ie,paddingSchemes:at,getScaledFontSize:function(e){return 11+7*(parseInt(e)-225)/575},getConnectionStatus:Oe,isDocumentHidden:Fe,debounce:Ue,convertToUnderscore:Ge,populateMacros:He,makeAbsoluteUrl:U,printBufferZones:je,getLogger:function(e){return{getLogFn:function(t){return function(){"test"!=e&&console.log.apply(console,["[!"+t+"!]\t"].concat(Array.prototype.slice.call(arguments)))}},stringify:JSON.stringify}},isLocalStorageSupported:le,simulatePlay:Ye,xssFilter:n,safeSetInnerHtml:Je,markFaultZone:ze,getElementById:We,querySelectorAll:Ze,xssSanitizeObject:Xe}}),anv.define("configurator",["util"],function(e){function t(e,t,n){console.error("@swapKeys",e,t,n);var r={},i=n?a:o;for(var s in t)t.hasOwnProperty(s)&&i[e]&&(r[i[e][s]||s]=t[s]);return r}function n(e){i("@convertToV4",JSON.stringify(e,null,3));var n={};return"4"!=e.version?(n.api=t("api",e.api,!0),n.plugins=t("plugins",e.plugins,!0),n.plugins.adobepass=t("adobepass",e.plugins.adobepass,!0),n):(i("Config version is already 4"),e)}function r(n){i("@convertToV3",JSON.stringify(n,null,3));var r={};return"4"==n.version?(r.api=t("api",n.api,!1),r.plugins=t("plugins",n.plugins,!1),r.plugins.adobepass=t("adobepass",n.plugins.adobepass,!1),n.plugins.freewheel&&n.plugins.freewheel.serverSide&&(r.plugins.freewheel=n.plugins.freewheel.serverSide),n.plugins.dfp&&n.plugins.dfp.serverSide&&(r.plugins.dfp=t("dfp",n.plugins.dfp.serverSide,!1),r.plugins.dfp.parameters&&(r.plugins.dfp=e.merge(r.plugins.dfp,r.plugins.dfp.parameters),delete r.plugins.dfp.parameters),r.plugins.dfp.cust_params&&(r.plugins.dfp.cust_params=e.encodeURLParams(r.plugins.dfp.cust_params,!0),r.plugins.dfp.cust_params=encodeURIComponent(r.plugins.dfp.cust_params,!0))),r):(i("Config version is already < 4"),n)}var i="undefined"!=typeof logger?logger.getLogFn("Configurator"):function(){console.log.apply(console,["[!Configurator!]\t"].concat(Array.prototype.slice.call(arguments)))},a={api:{event_metadata_by_mcpeventid:"eventByMcpId",event_metadata_by_upid:"eventByUpId",schedule:"eventNow",seckey:"encryptionKey"},plugins:{},freewheel:{},dfp:{server_url:"serverUrl",cust_params:"customParameters"},adobepass:{adobepass_password:"password",server_url:"serverUrl",resource_id:"resource",temp_pass_short:"long",temp_pass_long:"short"}},o={};for(var s in a)if(a.hasOwnProperty(s))for(var l in a[s])a[s].hasOwnProperty(l)&&(o[s]=o[s]||{},o[s][a[s][l]]=l);return{convertToV3:r,convertToV4:n}}),anv.define("tveapi",["util","configurator"],function(e,t){function n(n,r,i){function a(t){var n=(new Date).getTime()+we,r=n.toString()+"~"+e.md5(t)+"~",i=e.md5(n.toString()),a=Math.max(64-r.length,0);return i=i.slice(0,a),r+=i,r=e.aesStdEncrypt("ecb",r,"31c242849e73a0ce","base64")}function o(t,n,r){if(be("@getConfig",t),ve.getConfigError=r,ve.getConfigSuccess=n,ge=t,ue!=le.length&&t){var i=le[ue].replace(Be.anvack,ge);be("selected url:",i);try{e.download(i,null,c,A)}catch(e){be("Error while downloading config:",e.message)}}else c(me)}function s(t,n,r){be("@getConfigV4"),ve.getConfigError=r||ve.getConfigError,ve.getConfigSuccess=n||ve.getConfigSuccess,ge=ge||t;var i="https://tkx2-stage.anvato.net/rest/v2/access/appcfg?anvack="+t;try{e.download(i,null,l,u)}catch(e){be("Error while downloading config:",e.message)}}function l(n){be("@onGetConfigV4Success",n);var i,a;n="string"==typeof n?JSON.parse(n):n,i=n.server_time,n.encrypted&&(a=e.md5(Ae[ge]).slice(0,16),be("@onGetConfigV4Success key:",a),n=e.aesStdDecrypt("ecb",n.appcfg,a,"base64"),n="string"==typeof n?JSON.parse(n):n),i&&(n.server_time=i,pe=!0,we=1e3*n.server_time-(new Date).getTime(),be("@onGetConfigV4Success server time:",n.server_time)),be("@onGetConfigV4Success",r.stringify(n,null,3)),n=t.convertToV3(n),be("@onGetConfigV4Success translated",JSON.stringify(n,null,3)),c(n)}function u(e){be("error:",e),s()}function c(t){be("@onGetConfigSuccess"),ue=0,le=e.deepCopy(ce),Ee=0,be(t),be(ce),(t="string"==typeof t?JSON.parse(t):t)&&t.api&&(Ce[ge]={},t.api.event_metadata_by_mcpeventid&&(Ce[ge].eventId=t.api.event_metadata_by_mcpeventid),t.api.event_metadata_by_upid&&(Ce[ge].upid=t.api.event_metadata_by_upid),t.api.video_metadata_by_mcpvideoid&&(Ce[ge].videoMetadata=t.api.video_metadata_by_mcpvideoid),t.api.tve&&(Ce[ge].tve=t.api.tve),t.api.time&&(Ce[ge].time=t.api.time),t.api.schedule&&(Ce[ge].schedule=t.api.schedule),t.api.video&&(Ce[ge].video=t.api.video),t.api.seckey&&(Ce[ge].decryptionKey=t.api.seckey),t.api.tpi&&(Ce[ge].tpi=t.api.tpi));for(var n in Ce[ge])Ce[ge].hasOwnProperty(n)&&Ce[ge][n]&&/^\/\//.test(Ce[ge][n])&&(Ce[ge][n]=Ce[ge][n].replace(/^\/\//i,e.isSecureSocket()?"https://":"http://"));pe||!ge?(ve.getConfigSuccess&&(ve.getConfigSuccess(t),delete ve.getConfigSuccess),ye.getConfig&&ye.getConfig.apply(null,Ie.getConfig)):(fe=ve.getConfigSuccess,he=arguments,R(ge))}function d(t,r){var i;return Ce&&Ce[t]&&Ce[t][r]?(i=["w",n.revision,e.md5(Date.now().toString()).slice(-24)].join(""),e.updateURLParam(Ce[t][r],"anvtrid",i,!0)):null}function A(e,t){be("Fail to retrieve config using "+le[ue]),ue++,o(ge,ve.getConfigSuccess,ve.getConfigError)}function g(){var e=Math.floor(10*Math.random())%le.length;return le[e]}function p(t,n,i,a){be("@getTpiToken",t);var o,s=d(t,de.TPI),l=W(t),u=e.deepCopy(n);be("@getTpiToken",r.stringify(l,null,3)),u.api=l.api,ve.getTpiSuccess=i,ve.getTpiError=a,o=s.replace(Be.anvack,t),e.sendPostRequest(o,JSON.stringify(u),f,h)}function f(e){ve.getTpiSuccess&&ve.getTpiSuccess(e)}function h(e,t){ve.getTpiError&&ve.getTpiError(e)}function m(t,n,r,i,a){var o,s,l;if(ve.getMetadataSuccess=i,ve.getMetadataError=a,r?(o=d(t,de.UPID),s=Be.upid,l=r):(o=d(t,de.EVENT_ID),s=Be.eventId,l=n),be(o,s,l),o){var u=o.replace(s,l);u=u.replace(Be.anvack,t),be(">> URL:",u),e.sendPostRequest(u,null,E,v)}else console.warn("Metadata lookup service URL is not available.")}function E(e){var t;be("metadata",e),e=JSON.parse(e),e.server_time&&(N(e.server_time),be("timeDelta:",we)),e.exception?(t=e.exception.user_msg,ve.getMetadataError&&ve.getMetadataError(t)):ve.getMetadataSuccess&&ve.getMetadataSuccess(e)}function v(e,t){be("ERROR @getMetadata",e),ve.getMetadataError&&ve.getMetadataError(e)}function y(t,n,r,i){var a,o;if(ve.getVideoMetadataSuccess=r,ve.getVideoMetadataError=i,a=d(t,de.VIDEO_METADATA),o=Be.videoId,!a)throw new Error("No templateURL to generate metadata lookup URL.");var s=a.replace(o,n);s=s.replace(Be.anvack,t),be(">> URL:",s),e.download(s,null,I,b)}function I(e){var t;be("metadata",e),e=JSON.parse(e),e.server_time&&(N(e.server_time),be("timeDelta:",we)),e.exception?(t=e.exception.user_msg,ve.getVideoMetadataError&&ve.getVideoMetadataError(t)):ve.getVideoMetadataSuccess&&ve.getVideoMetadataSuccess(e)}function b(e){be("ERROR @getMetadata",e),ve.getVideoMetadataError&&ve.getVideoMetadataError(e)}function C(t){return e.md5(t)}function B(t,n,r){var i;if(Ae[t])return i=[t,n,r,Ae[t]].join("|"),e.md5(i)}function w(){return e.md5(String((new Date).getTime()*Math.random())).slice(0,30)}function S(t,n,r,i,a){var o=W(t,n,r);o=JSON.stringify(o);var s=d(t,de.SCHEDULE);s&&s.length?(s=s.replace(Be.videoId,n.video),s=s.replace(Be.anvack,t),be("scheduleURL:",s),ve.getScheduleSuccess=i,ve.getScheduleError=a,e.sendPostRequest(s,o,Q,D)):D("No schedule service")}function T(e){var t,n,r={};for(var i in e)e.hasOwnProperty(i)&&(t=e[i].name,n=e[i].value,r[t]=n);return r}function k(t){var n;for(var r in t)if("object"==typeof t[r]&&"length"in t[r])for(var i=0,a=t[r].length;i<a;i++)n=t[r][i],n.custom_metadata_map=e.deepCopy(T(n.custom_metadata)),delete n.custom_metadata;else n=t[r],n.custom_metadata_map=e.deepCopy(T(n.custom_metadata)),delete n.custom_metadata;return t}function Q(e){be("onScheduleSuccess"),e?(e=JSON.parse(e),e=e.schedule,e=k(e),e.server_time&&(N(e.server_time),be("timeDelta:",we)),ve.getScheduleSuccess&&ve.getScheduleSuccess(e)):D("Schedule service returned an empty response")}function D(e,t){ve.getScheduleError&&ve.getScheduleError(e)}function R(t,n,r){var i=d(t,de.TIME).replace(Be.anvack,t);B(t,null,null),e.download(i,null,M,P),ve.getTimeSuccess=n,ve.getTimeError=r}function _(){return we}function M(e){pe=!0,e=JSON.parse(e),we=1e3*e.server_time-(new Date).getTime(),be("server time:",e.server_time),be("time delta:",we),ve.getTimeSuccess&&ve.getTimeSuccess(1e3*e.server_time,we),fe&&(fe.apply(null,Array.prototype.slice.call(he)),fe=null)}function N(e){we=1e3*e-(new Date).getTime()}function P(e){ve.getTimeError&&ve.getTimeError(e),pe=!0,we=0,fe&&(fe.apply(null,Array.prototype.slice.call(he)),fe=null)}function O(t,n,r){ve.getLogosSuccess=n,ve.getLogosError=r,t.station.logo_url?e.download(t.station.logo_url,null,L,x):x("There is no logo url in schedule JSON")}function L(e){e=JSON.parse(e),ve.getLogosSuccess&&ve.getLogosSuccess(e)}function x(e){ve.getLogosError&&ve.getLogosError(e)}function F(t,n,r,i,s){var l,u,c,A,g,p,f={};if("function"==typeof Se&&!Te){ye.onPreVideoJsonTaskCompleted=F;for(var h=[],m=0,E=arguments.length;m<E;m++)h[m]=arguments[m];return Ie.onPreVideoJsonTaskCompleted=h,void Se()}if(delete ye.getConfig,n&&n.accessKey&&n.secretKey&&!Ae[n.accessKey]&&(Ae[n.accessKey]=n.secretKey),l=W(t,n,r),ve.getVideoJSONSuccess=i,ve.getVideoJSONError=s,l&&l.api&&(l.api.anvstk||l.api.anvstk2))if(Ce[t]){if(p=l.api.anvrid,l=JSON.stringify(l),A="adBreakDetail"in n&&n.adBreakDetail||!("adBreakDetail"in n)?"fp":"plan",n.video||n.xUrl){var v=d(t,de.VIDEO);v=n.xUrl?v.replace(Be.videoId,"xurl"):v.replace(Be.videoId,n.video),v=v.replace(Be.anvack,t),be("videoURL:",v),u=a(v),g=v.indexOf("?")>-1?"&":"?",f.rtyp=A,f["X-Anvato-Adst-Auth"]=u,n.debug&&(f.anvsrt="375231e94afeb649223f2e67e05fba3d"),v+=g+e.encodeURLParams(f,!1),n.rstv&&(n.rstv.event?(g=v.indexOf("?")>-1?"&":"?",v+=g+"rstv_event="+n.rstv.event):n.rstv.dvr&&(g=v.indexOf("?")>-1?"&":"?",v+=g+"rstv_drv="+n.rstv.dvr)),e.sendPostRequest(v,l,G.bind(null,{anvrid:p,videoId:n.video}),Y)}}else ye.getConfig=F,Ie.getConfig=arguments,o(t,null,null);else c={cause:{dev_msg:"Failed to generate security token"},code:99,sdkErrorCode:"ACTRL070",type:"exception",user_msg:"Failed to generate security token"},Y(c)}function U(e,t,n){be("@generateVideoJsonFromContentType",t,n);var r={"application/x-mpegurl":"m3u8-variant","application/dash+xml":"dash"};return n in r?{upload_id:e.videoId,def_title:"",published_urls:[{format:r[n],embed_url:t}]}:null}function V(e){for(var t,n={},r=e.split("\n"),i=0,a=r.length;i<a;i++)t=r[i].split(":"),2==t.length&&(n[t[0].trim().toLowerCase()]=t[1].trim().toLowerCase());return n}function G(t,r,i,a){var o,s,l,u,c="_vpng=",d=/_vpng=[0-9]/,A=/dcs-.*\.apis/,g=!("clientSideAdTracking"in n)||n.clientSideAdTracking;r=r.replace(/anvatoVideoJSONLoaded *\( */,""),r=r.replace(/\} *\)/,"}");try{r=JSON.parse(r)}catch(e){if("string"==typeof i&&(i=V(i)),!(r=U(t,a.responseUrl||a.url,i["content-type"])))return void console.error("Failed to parse videoJSON.");console.warn("Found a manifest while expecting a videoJSON. \nProceeding with the videoJSON generated from this manifest URL...")}if(u="2"==r.video_type,c+=g?u?"{{NEED_SERVER_SIDE_AD_TRACKING}}":0:1,r.published_urls&&r.published_urls.length){r.resolvedUrls={};for(var p=0,f=r.published_urls.length;p<f;p++)if(o={},"format"in r.published_urls[p]&&"embed_url"in r.published_urls[p]&&r.published_urls[p].format in{"m3u8-variant":1,dash:1}){o.primary=r.published_urls[p].embed_url,o.backup=r.published_urls[p].backup_url;for(var h in o)o.hasOwnProperty(h)&&A.test(o[h])&&"string"==typeof o[h]&&(s=o[h].indexOf("?")>-1?"&":"?",d.test(o[h])?o[h]=o[h].replace(d,c):o[h]+=s+c);be("for",r.published_urls[p].format,"pushing",o),r.published_urls[p].embed_url=o.primary,r.published_urls[p].backup_url=o.backup,r.resolvedUrls[e.md5(r.published_urls[p].embed_url)]=o,r.published_urls[p].replaced=!1,r.published_urls[p].anvrid=t.anvrid}}else r.exception=r.exception||{cause:{dev_msg:"Failed to retrieve the video publish URLs."},code:99,type:"exception",user_msg:"Failed to retrieve publish URLs."};if(r.exception)Y(r.exception);else if(ve.getVideoJSONSuccess)if(r.atvm){be("@onGetVideoJSONSuccess resolved",JSON.stringify(r.resolvedUrls,null,3));for(var m in r.resolvedUrls)r.resolvedUrls.hasOwnProperty(m)&&(l=r.resolvedUrls[m].primary,be("@onGetVideoJSONSuccess detected atvm entry, entering atvm flow for",l),be("@onGetVideoJSONSuccess request ad break info",l),e.download(l,null,H.bind(null,r,m),j.bind(null,r)))}else ve.getVideoJSONSuccess(r)}function H(t,n,r){var i=!0;be("@onAdBreakInfo",n);try{r=JSON.parse(r)}catch(e){return void j(t,"Malformed ad break info; resuming without ad presentation")}if(r&&"master_m3u8"in r){r.interstitials=r.interstitials||{cues:[]};for(var a=0,o=t.published_urls.length;a<o;a++)(t.published_urls[a].format.indexOf("m3u8")>-1||t.published_urls[a].format.indexOf("dash")>-1)&&(n==e.md5(t.published_urls[a].embed_url)&&(be("@onAdBreakInfo replacing",t.published_urls[a].embed_url,"with",r.master_m3u8),t.published_urls[a].embed_url=r.master_m3u8,t.published_urls[a].adBreakInfo=r,t.published_urls[a].replaced=!0),"replaced"in t.published_urls[a]&&!1===t.published_urls[a].replaced&&(i=!1))}else t.exception={cause:{dev_msg:"Failed to retrieve the video publish URLs."},code:99,type:"exception",user_msg:"Failed to retrieve publish URLs."};i&&(t.exception?Y(t.exception):ve.getVideoJSONSuccess&&ve.getVideoJSONSuccess(t))}function j(e,t){console.error(t||"Error while getting ad info, resuming without ad presentation"),ve.getVideoJSONSuccess&&ve.getVideoJSONSuccess(e)}function Y(e,t){var n;"string"==typeof t&&0==t.indexOf("anvatoVideoJSONLoaded")&&(t=t.replace(/anvatoVideoJSONLoaded *\( */,""),t=t.replace(/\} *\)/,"}"));try{n=JSON.parse(t)}catch(e){be("@onGetVideoJSONError Error parsing responseText")}ve.getVideoJSONError&&ve.getVideoJSONError(n&&n.exception?n.exception:e)}function K(t,n,r,i,a){var o=W(t,n,r);o=JSON.stringify(o);var s={schedule:!1},l=d(t,de.TVE)+"&"+e.encodeURLParams(s);l=l.replace(Be.anvack,t),ve.tveCheckSuccess=i,ve.tveCheckError=a,e.sendPostRequest(l,o,q,J)}function q(e){var t={current:{},next:{}};e=JSON.parse(e),e.user&&(t.tveAuthorized=e.user["tve-authorized"],t.notAuthorizedCode=e.user.not_authorized_code,t.notAuthorizedReason=e.user.not_authorized_reason,e.user["home-station"]&&(t.hasHomeStationRights=e.user["home-station"].has_tve_rights),e.user["geo-station"]&&(t.hasGeoStationRights=e.user["geo-station"].has_tve_rights)),e.station&&(t.callsign=e.station.callsign,e.station.current_event&&e.station.current_event.title&&e.station.current_event.event_id&&(t.current.title=e.station.current_event.title,t.current.id=e.station.current_event.event_id),e.station.next_event&&e.station.next_event.title&&e.station.next_event.event_id&&(t.next.title=e.station.next_event.title,t.next.id=e.station.next_event.event_id)),e.server_time&&(N(e.server_time),be("timeDelta:",we)),be("@onTVECheckSuccess:",t),ve.tveCheckSuccess&&ve.tveCheckSuccess(t)}function J(e,t){be("@onTVECheckError:",e),ve.tveCheckError&&ve.tveCheckError(e)}function z(e,t){be("@generateVerificationObject",e);var n=w(),r=(new Date).getTime()+we,i=Math.round(r/1e3),a={};return a.api={anvrid:n,anvstk:B(e,n,i),anvts:i},a.user={anvkey:e,secret:Ae[e]},t&&(delete a.api.anvstk,delete a.user.secret,a.api.anvstk2=t),a}function W(e,t,n){be("@generatePostObject static:",JSON.stringify(t,null,3)),be("@generatePostObject dynamic:",JSON.stringify(n,null,3));var r=w(),i=(new Date).getTime()+we,a=X(t,n),o=Math.round(i/1e3);return a=a||{},a.api={anvrid:r,anvstk:B(e,r,o),anvts:o},(t.token||n.tkxToken)&&(delete a.api.anvstk,a.api.anvstk2=n.tkxToken||t.token),a}function Z(e,t){t.video_asset_id=t.videoAssetId||e.caid,t.site_section_id=t.siteSectionId||e.csid,t.network_id=t.networkId||e.fwNetwork,t.profile_id=t.profileId||e.fwProf,t.server_url=t.serverUrl||t.serverURL||e.fwServerUrl,t.event_type=t.eventType||e.fwEventType,t.companion=t.companion||e.fwCompanion,t.mvpd=t.mvpd||e.mvpd,delete t.videoAssetId,delete t.siteSectionId,delete t.networkId,delete t.profileId,delete t.serverUrl,delete t.eventType}function X(t,n){var r={};return t&&t.plugins&&t.plugins.freewheel&&t.plugins.freewheel.serverSide&&(r=e.deepCopy(t.plugins.freewheel.serverSide)),t&&t.plugins&&t.plugins.dfp&&t.plugins.dfp.serverSide&&n.adKeyValues&&(t.plugins.dfp.serverSide=e.merge(t.plugins.dfp.serverSide,n.adKeyValues)),t=t||{},n=n||{},Z(t,r),{ads:{freewheel:r,dfp:t&&t.plugins&&t.plugins.dfp&&t.plugins.dfp.serverSide?t.plugins.dfp.serverSide:void 0},content:{mcp_video_id:t.video,mpx_guid:t.mpx?t.video:"",video_type:t.xUrl?t.live?"2":"1":void 0,xurl:t.xUrl,xurlAdTag:t.xUrlAdTag,video_format:t.xUrl?"hls":void 0,def_title:t.title,extarnal_id:t.xUrl?"123456":void 0},user:{glg:"",glt:"",gst:"",gzip:t.geozip||n.geoZip||(t.user?t.user.geoZip:""),hst:"",hzip:(t.user?t.user.homeZip:"")||n.homeZip,ehzip:(t.user?t.user.encryptedHomeZip:"")||n.encryptedZip,device:e.getDeviceInfo.ott?"ftv":"web",device_id:t.deviceId,sdkver:[t.version,t.built,t.revision].join("."),sdkenv:t.desktop?"desktop":"html5",host:t.host,referrer:t.referrer,adobepass:t.accessControl&&"alternate"==t.accessControl.authenticator?{}:{mvpd:n.provider||(t.accessControl?t.accessControl.mvpd:void 0),max_rating:n.maxRating,requestor:n.requestor,resource:n.resource,short_token:t.accessControl&&t.accessControl.token?t.accessControl.token:n.token?decodeURIComponent(n.token):void 0,environment:t.accessControl?t.accessControl.environment:void 0,server_url:t.accessControl?t.accessControl.serverUrl:void 0},mvpd_authorization:t.accessControl&&"alternate"==t.accessControl.authenticator?{mvpd:t.accessControl?t.accessControl.mvpd:void 0,token:t.accessControl?t.accessControl.token:void 0,max_rating:t.user?t.user.maxRating:void 0}:{},mvpd:n.provider||(t.accessControl?t.accessControl.mvpd:t.user?t.user.mvpd:void 0)}}}function $(t,n,r,i){var a,o;ve.getDecryptionKeySuccess=r,ve.getDecryptionKeyError=i,ge=ge||t,(a=d(t,de.DECRYPTION_KEY))&&(o=a.replace(Be.anvack,ge),o=o.replace(Be.refKey,encodeURIComponent(n)),e.download(o,null,ee,function(e){te(n,e)}))}function ee(e){ve.getDecryptionKeySuccess&&ve.getDecryptionKeySuccess(e)}function te(e,t){ve.getDecryptionKeyError&&ve.getDecryptionKeyError(e,t)}function ne(e){Se=e,Te=!1}function re(){Te=!0,"function"==typeof ye.onPreVideoJsonTaskCompleted&&(ye.onPreVideoJsonTaskCompleted.apply(null,Ie.onPreVideoJsonTaskCompleted),delete ye.onPreVideoJsonTaskCompleted,delete Ie.onPreVideoJsonTaskCompleted),Te=!1}function ie(e){Ce[de.UPDATE_AD_SESSION]=e}function ae(t){var n=Ce[de.UPDATE_AD_SESSION];n&&e.sendPostRequest(n,JSON.stringify(t),oe,se)}function oe(){be("@onUpdateAdSessionSuccess")}function se(){be("@onUpdateAdSessionError")}var le=["https://access-prod.apis.anvato.net/anvacks/{{ANVACK}}?apikey=3hwbSuqqT690uxjNYBktSQpa5ZrpYYR0Iofx7NcJHyA","https://storage.googleapis.com/anvato-api-config/anvacks/{{ANVACK}}.json"],ue=0,ce=e.deepCopy(le),de={TPI:"tpi",UPID:"upid",EVENT_ID:"eventId",VIDEO_METADATA:"videoMetadata",SCHEDULE:"schedule",TIME:"time",VIDEO:"video",TVE:"tve",DECRYPTION_KEY:"decryptionKey",UPDATE_AD_SESSION:"updateAdSession"
},Ae="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";n.accessKey&&function(){var t;if("string"==typeof Ae)if(n.token||n.secretKey)Ae={};else try{t=[n.hashPrefix,"anvrocks"].join("~"),t=e.md5(t).slice(-16),Ae=e.aesStdDecrypt("ecb",Ae,t,"base64"),Ae=JSON.parse(Ae)}catch(e){console.error("Error decrypting/parsing the ACCESS_KEY_MAP",e,e.message),Ae={}}}();var ge,pe,fe,he,me=null,Ee=0,ve={},ye={},Ie={},be=void 0!==r?r.getLogFn("TVEAPI"):function(){console.log.apply(console,["[!TVEAPI!]\t"].concat(Array.prototype.slice.call(arguments)))},Ce={},Be={upid:"{{UPID}}",eventId:"{{MCP_EVENT_ID}}",anvack:"{{ANVACK}}",videoId:"{{VIDEO_ID}}",refKey:"{{KEYREF}}"},we=0,Se=null,Te=!1;return n&&n.accessKey&&n.secretKey&&!Ae[n.accessKey]&&(Ae[n.accessKey]=n.secretKey),be("TVE API initialized"),{getConfig:o,getConfigV4:s,getRandomConfigURL:g,getMetadata:m,getVideoMetadata:y,md5:C,generateSecurityToken:B,generatePostObject:W,getSchedule:S,tveCheck:K,getVideoJSON:F,getTime:R,getTimeDelta:_,getLogos:O,getDecryptionKey:$,getTpiToken:p,getVerificationObject:z,registerPreVideoJsonTask:ne,onPreVideoJsonTaskCompleted:re,registerAdSessionUpdateUrl:ie,updateAdSession:ae}}return n}),anv.define("DataAPI",["util"],function(e){function t(t){function n(t,n,a,o,c){d("@getMediaJSON",t);var A,g,p=t.split(":");p.length>0&&(t=p[p.length-1]),u.getMediaJSONSuccess=n,u.getMediaJSONError=a,A=s.replace(l.media,t),d("url:",A),g={email:o,password:c},e.download(A,g,r,i,!1)}function r(e){d("@onMedia");var t;try{t=JSON.parse(e)}catch(e){return void i("Invalid Media returned")}d("media:",t),"published_urls"in t&&(t=a(t)),u.getMediaJSONSuccess&&u.getMediaJSONSuccess(t)}function i(e){u.getMediaJSONError&&u.getMediaJSONError(e)}function a(e){var t;d("@transformPublishedURLs",e);for(var n=0,r=e.published_urls.length;n<r;n++){t=e.published_urls[n];for(var i in t)t.hasOwnProperty(i)&&i.indexOf("url")>-1&&"string"==typeof t[i]&&-1==t[i].indexOf("//")&&(t[i]=o+t[i],d("transformPublishedURLs",t[i]))}return e}var o="http://api.anvato.net",s="http://api.anvato.net/v1/media/{{MEDIA}}",l={media:"{{MEDIA}}"},u={},c=!1,d=void 0!==t?t.getLogFn("DataAPI"):function(){console.log.apply(console,["[!DataAPI!]\t"].concat(Array.prototype.slice.call(arguments)))};return{getMediaJSON:n,logout:function(){d("@logout")},setBlocked:function(e){c=e},getBlocked:function(){return c}}}return t}),anv.define("ProviderMenu",["util"],function(e){function t(t,n,r){function i(t){b("@init"),I=t,a(),e.addEventListener(C.downButton,"click",p),e.addEventListener(C.upButton,"click",p),e.addEventListener(C.secondaryBackBtn,"click",c),e.addEventListener(C.moreButton,"click",c)}function a(){var t=C;t.main=e.generateChild(n,"div","provider-main","provider-main"),t.secondary=e.generateChild(n,"div","provider-secondary","provider-secondary"),t.secondaryHeader=e.generateChild(t.secondary,"div","secondary-provider-header","secondary-provider-header"),t.secondaryBackBtn=e.generateChild(t.secondaryHeader,"div","secondary-provider-back-btn","secondary-provider-back-btn","Back"),t.secondaryTitle=e.generateChild(t.secondaryHeader,"div","secondary-provider-title","secondary-provider-title","Select your TV provider to watch live and full episodes"),t.secondaryFrame=e.generateChild(t.secondary,"div","secondary-provider-frame","secondary-provider-frame"),t.header=e.generateChild(t.main,"div","provider-header","provider-header","Select your TV provider to watch live and full episodes"),t.up=e.generateChild(t.main,"div","provider-up","provider-up"),t.frame=e.generateChild(t.main,"div","provider-frame","provider-frame"),t.tabs=e.generateChild(t.frame,"div","provider-tabs","provider-tabs"),t.down=e.generateChild(t.main,"div","provider-down","provider-down"),t.upButton=e.generateChild(t.up,"div","provider-up-btn","provider-up-btn"),t.downButton=e.generateChild(t.down,"div","provider-down-btn","provider-down-btn"),t.moreButton=e.generateChild(t.down,"div","provider-more-btn","provider-more-btn","Show more")}function o(t){var n,r,i,a,o,s,l,u,c,d=t.length,g=B/w;v=Math.ceil(d/B),y=0,e.safeSetInnerHtml(C.tabs,""),C.tabs.style.width=100*v+"%",E=t;for(var p=0;p<d;p++)r=Math.floor(p/B),a=Math.floor(p%B/g),r!=n&&(b("tab change"),n=r,o=e.generateChild(C.tabs,"div","provider-tab"+n,"provider-tab"),o.style.width=100/v+"%"),a!=i&&(b("row change"),i=a,s=e.generateChild(o,"div","provider-row"+i,"provider-row"),s.style.height=Math.floor(100/w-2)+"%",s.style.marginBottom="1%"),l=e.generateChild(s,"div","provider-item"+p,"provider-item"),l.style.width=100/g+"%",e.addEventListener(l,"click",A),u=e.generateChild(l,"div","provider-item-content"+p,"provider-item-content"),b(n,i,p),c=e.generateChild(u,"img","provider-logo"+p,"provider-logo"),c.src=t[p].logoURL,c.onload=function(){this.style.display="block"};f()}function s(t){b("@setProviders"),"object"==typeof t&&t.length?(o(t),T=!1):"string"==typeof t&&t.length&&(T=!0,e.download(t,null,l))}function l(e){primaryList=[],secondaryList=[],e=JSON.parse(e),b("provider list fetched whiteList #:",e.mvpdWhitelist.length);var t,n,r=e.basePath.pickerImage;if("mvpdWhitelist"in e)for(var i=0,a=e.mvpdWhitelist.length;i<a;i++)n=e.mvpdWhitelist[i],t={ID:n.mvpdId,displayName:n.displayName,logoURL:r+n.pickerImage.ipadLowRes,loggedInImage:r+n.loggedInImage.ipadLowRes},1==n.tier?primaryList.push(t):secondaryList.push(t);b("primaryList",primaryList.length),b("secondaryList",secondaryList.length),o(primaryList),u(secondaryList)}function u(t){var n,r,i,a,o;e.safeSetInnerHtml(C.secondaryFrame,""),C.secondary.style.visibility="hidden",C.secondaryHeader.style.lineHeight=C.secondaryHeader.clientHeight+"px";for(var s=0,l=t.length;s<l;s++)i=Math.floor(s/S),i!=r&&(r=i,n=e.generateChild(C.secondaryFrame,"div","secondary-provider-row","secondary-provider-row"),n.style.height=Math.floor(100/w/2)+"%"),o=o||n.clientHeight+"px",a=e.generateChild(n,"div","secondary-provider-item"+s,"secondary-provider-item",t[s].displayName),a.style.width=Math.floor(100/S-8-2)+"%",a.style.padding="0 4%",a.style.margin="1%",a.style.height="98%",a.style.lineHeight=o,e.addEventListener(a,"click",g)}function c(){"hidden"==C.secondary.style.visibility?(C.main.style.display="none",C.secondary.style.visibility="visible"):(C.main.style.display="block",C.secondary.style.visibility="hidden")}function d(e){var t=C.frame.clientWidth;y=(e+y)%v,y<0&&(y=v-1),C.frame.scrollLeft=y*t,C.upButton.style.display=0==y?"none":"block",y==v-1&&T?(C.downButton.style.display="none",C.moreButton.style.display="block",C.moreButton.style.lineHeight=C.down.clientHeight+"px"):(C.downButton.style.display="block",C.moreButton.style.display="none")}function A(){var e=/provider-item([0-9]+)/.exec(this.id),t=e[1];b("selected provider",t,JSON.stringify(E[t])),I&&I(E[t]),h()}function g(){var e=/secondary-provider-item([0-9]+)/.exec(this.id),t=e[1];b("selected provider",t,JSON.stringify(secondaryList[t])),I&&I(secondaryList[t]),h()}function p(e){var t=e.target.className,n=t.indexOf("down")>-1?1:-1;b("delta:",n),d(n)}function f(){b("@show"),n.style.visibility="visible",n.style.display="block"}function h(){b("@hide"),n.style.visibility="hidden",n.style.display="none"}function m(e){I=e}var E,v,y,I,b=r?r.getLogFn("ProviderMenu"):function(){console.log.apply(console,["[!ProviderMenu!]\t"].concat(Array.prototype.slice.call(arguments)))},C={},B=9,w=3,S=2,T=!1;return{init:i,setProviders:s,show:f,hide:h,switchTab:d,setSelectionCallback:m}}return t}),anv.define("ProxyAdobePass",["util","ProviderMenu"],function(e,t){function n(e,n,r,i,a,o){function s(e,t){M("Dispatching event",e,typeof r);var n=Array.prototype.slice.call(arguments,1);if(a){for(var i=0,s=P.length;i<s;i++)a(P[i]),o(P[i].name,P[i].args);P=[],a({name:e,time:r&&r.getTime?r.getTime():"",info:N[e],args:n}),o(e,n)}else P.push({name:e,time:r&&r.getTime?r.getTime():"",info:N[e],args:n})}function l(t,r,a){M("@init pInstance:",n);var o=document.getElementsByTagName("head")[0],s=document.createElement("link");s.href=i.baseURL+"anvprovidermenu.css",s.type="text/css",s.rel="stylesheet",o.appendChild(s),e.send(n,"remoteAgent","entitlement",{object:"AdobePass",args:[t]}),e.send(n,"remoteAgent","entitlement",{fn:"init",args:[{autoLogin:r,debug:i.debug,parentalControl:a,useFlash:!(!i||!i.accessControl)&&i.accessControl.useFlash,accessEnablerLoaderPath:i&&i.accessControl?i.accessControl.accessEnablerLoaderPath:"",environment:i&&i.accessControl?i.accessControl.environment:"production",refreshless:!(!i||!i.accessControl)&&i.accessControl.refreshless,zipDecryption:!(!i||!i.accessControl)&&i.accessControl.zipDecryption}]})}function u(){e.send(n,"remoteAgent","entitlement",{fn:"checkAuthentication",args:Array.prototype.slice.call(arguments)})}function c(){M("@authorize"),e.send(n,"remoteAgent","entitlement",{fn:"authorize",args:Array.prototype.slice.call(arguments)})}function d(){e.send(n,"remoteAgent","entitlement",{fn:"getSelectedProviderInfo",args:[]})}function A(){e.send(n,"remoteAgent","entitlement",{fn:"getReuseStatus",args:[]})}function g(e){var n=document.createElement("div"),i=document.body;D=e,s("PICKER_REQUESTED"),M("defaultPicker:",R),R&&(void 0===T&&(n.style.width=Math.min(640,i.clientWidth)+"px",n.style.height=Math.min(360,i.clientHeight)+"px",n.style.position="absolute",n.style.margin="auto",n.style.top="0",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.zIndex="2147483649",i.style.position="relative",n.id="anv-provider-menu",n.className="anv-provider-menu",i.appendChild(n),T=new t(null,n,r),T.init(p)),T.setProviders("https://storage.googleapis.com/anvato-cdn-west/resource/mvpd.json"),s("PICKER_DISPLAYED"),n.style.display="block")}function p(t,r){M("@sendSelectedProviderInfo",k[t.ID]);var a;r||t.ID in k&&("false"!=k[t.ID].iFrameRequired&&"iFrameRequired"in k[t.ID]?(t.iFrameRequired=!0,i&&i.accessControl&&"iFramedLoginPlaceholderId"in i.accessControl&&(s("PROVIDER_IFRAME_INJECTED",t.ID,i.accessControl.iFramedLoginPlaceholderId,parseInt(k[t.ID].iFrameWidth),parseInt(k[t.ID].iFrameHeight)),t.iFramedLoginPlaceholderId=i.accessControl.iFramedLoginPlaceholderId)):(M("@setSelectedProviderInfo",k[t.ID].iFrameRequired),!O&&i&&i.accessControl&&i.accessControl.refreshless&&(a=!0,E(t,r)))),M("@sendSelectedProviderInfo before polling",D),!a&&(R||t.iFrameRequired||r)&&(D&&e.send(n,"remoteAgent","entitlement",{fn:"resetProvider",args:Array.prototype.slice.call(arguments)}),e.send(n,"remoteAgent","entitlement",{fn:"setSelectedProviderInfo",args:Array.prototype.slice.call(arguments)}))}function f(){s("PROVIDER_IFRAME_REMOVED",i.accessControl.iFramedLoginPlaceholderId)}function h(){
s("POPUP_BLOCKED")}function m(){s("POPUP_DISPLAYED")}function E(t,r){var a,o;a=i&&i.accessControl&&i.accessControl.environment&&"staging"==i.accessControl.environment?"https://entitlement.auth-staging.adobe.com":"https://entitlement.auth.adobe.com",o=window.open(a,"mvpdwindow"),M("@pollForPopup",t,r,o),o?(s("POPUP_DISPLAYED"),o.focus(),D&&e.send(n,"remoteAgent","entitlement",{fn:"resetProvider",args:Array.prototype.slice.call(arguments)}),e.send(n,"remoteAgent","entitlement",{fn:"setSelectedProviderInfo",args:Array.prototype.slice.call(arguments)}),clearTimeout(_.popup),delete _.popup):(_.popup||s("POPUP_BLOCKED"),_.popup=setTimeout(function(){E(t,r)},500))}function v(e){M("@onProviderSelected",e)}function y(e,t,n){M("@authorizationCallback")}function I(e){Q=e,M("@onReadyCallback",Q),Q&&(d(),T&&T.hide())}function b(e){M("@authenticate",e),g(e)}function C(){}function B(e){s("PROVIDER_LIST_SET",e),k=e}function w(t){M("@checkPreauthorizedResources",t),e.send(n,"remoteAgent","entitlement",{fn:"checkPreauthorizedResources",args:Array.prototype.slice.call(arguments)})}function S(e){return k[e]&&k[e].displayName||e}var T,k,Q=!1,D=!1,R=i.accessControl&&"defaultPicker"in i.accessControl&&i.accessControl.defaultPicker||i.accessControl&&!("defaultPicker"in i.accessControl),_={},M=r?r.getLogFn("ProxyAdobePass"):function(){console.log.apply(console,["[!ProxyAdobePass!]\t"].concat(Array.prototype.slice.call(arguments)))},N={},P=[],O=!!(i&&i.accessControl&&i.accessControl.useFlash)&&i.accessControl.useFlash;return function(){M("registering events"),N.PICKER_REQUESTED="MVPD picker has been requested",N.PICKER_DISPLAYED="MVPD picker has been displayed",N.POPUP_BLOCKED="Browser has blocked the popup",N.POPUP_DISPLAYED="Browser has allowed the popup",N.PROVIDER_LIST_SET="Provider list is available",N.PROVIDER_IFRAME_INJECTED="Provider IFrame has been injected",N.PROVIDER_IFRAME_REMOVED="Provider IFrame has been removed"}(),{init:l,onReadyCallback:I,sendSelectedProviderInfo:p,onProviderIFrameDestroyed:f,onProviderPopupBlocked:h,onProviderPopupDisplayed:m,onProviderSelected:v,checkAuthentication:u,authenticate:b,authorize:c,checkPreauthorizedResources:w,setMetadataStatus:C,authorizationCallback:y,getSelectedProviderInfo:d,getReuseStatus:A,getMvpdDisplayName:S,showPicker:g,setConfig:B}}return n}),anv.define("pluginThePlatform",["util"],function(e){function t(t,n,r,i,a,o){function s(e){switch(Oe("@evaluateEntitlement"),X.profile){case"nbc":return"auth"==e.pl1$entitlement;case"fox":return e.fsmobile$authenticated;case"fs-rsn":return!1}}function l(t){ie=t,Oe("Requesting token for user object:",JSON.stringify($,null,3)),a&&r.accessKey?(Oe("using tve tpi service via accessControl"),a(r.accessKey,$,u,c)):e.sendPostRequest(_e,JSON.stringify($),u,c)}function u(t){t=JSON.parse(t),Oe("@onTokenResponse",JSON.stringify(t)),t.signInResponse&&t.signInResponse.token?(ee=t.signInResponse.token,Oe("token:",ee,new Date((new Date).getTime()+t.signInResponse.duration)),($&&"attributes"in $&&$.attributes.afterPreflight||"alternate"==X.authenticator)&&(new Date,e.setCookie("token",ee,new Date((new Date).getTime()+t.signInResponse.duration))),"function"==typeof ie&&ie(ee)):(t.error&&J("PLAYER_ERROR","MPX002",t.error,!0),Oe("Failed to receive the token"))}function c(){J("PLAYER_ERROR","MPX003","Failed to retrieve the token",!0)}function d(t){ee?(ae=t,e.download(Me+ee,null,A,g)):Oe("No token available!")}function A(e){e=JSON.parse(e),Oe("@onResourcesResponse",JSON.stringify(e)),e.getSelfResponse&&e.getSelfResponse.attributes?(te=e.getSelfResponse,ne=p(e),Oe("candidateResources:",ne.join("|")),"function"==typeof ae&&ae(ne)):(Oe("No resources available"),g())}function g(){J("PLAYER_ERROR","MPX004","Failed to retrieve the resources (getSelf object)",!0)}function p(e){var t=e.getSelfResponse.attributes.homeAffiliateResources?e.getSelfResponse.attributes.homeAffiliateResources.split("|"):[],n=e.getSelfResponse.attributes.homeNationalResources?e.getSelfResponse.attributes.homeNationalResources.split("|"):[],r=e.getSelfResponse.attributes.homeRSNResources?e.getSelfResponse.attributes.homeRSNResources.split("|"):[],i=e.getSelfResponse.attributes.geoAffiliateResources?e.getSelfResponse.attributes.geoAffiliateResources.split("|"):[],a=e.getSelfResponse.attributes.geoNationalResources?e.getSelfResponse.attributes.geoNationalResources.split("|"):[],o=e.getSelfResponse.attributes.geoRSNResources?e.getSelfResponse.attributes.geoRSNResources.split("|"):[];return 1==e.getSelfResponse.attributes.subscriber?(Oe("@generateResourcesFromSelf generating resources from home resources"),t.concat(n).concat(r)):(Oe("@generateResourcesFromSelf generating resources from geo resources"),i.concat(a).concat(o))}function f(e){ne=[];for(var t=0,n=e.length;t<n;t++)ne[t]=e[t]}function h(t){var n=e.getCookie("user_object");try{n=JSON.parse(n)}catch(e){console.error("Invalid userobject format from cached userObject")}if(t)return delete $.attributes.beforePreflight,$.attributes.afterPreflight=1,$.attributes.authorizedResources=t.join("|"),null!=$.attributes.serviceZip&&/service/i.test($.attributes.serviceZip)&&n&&n.attributes&&n.attributes.serviceZip?Oe("@generateFinalUserObject ",$.attributes.serviceZip):(Oe("@generateFinalUserObject caching user object"),e.setCookie("user_object",JSON.stringify($),1/0),/service/i.test($.attributes.serviceZip)&&(Oe("@generateFinalUserObject proceeding with invalid service zip",$.attributes.serviceZip),J("PLAYER_ERROR","MPX020","Received an invalid service zip from Adobe Pass and there is no cached service zip from previous sessions.",!1))),$}function m(){if(Oe("@generateFeedURL",X.profile),Oe("@generateFeedURL chunkIndex:",Pe),"nbc"==X.profile)ge=fe+pe[X.profile]+"/"+X.playlist+"?form=cjson&count=true&params=manifest%3Dm3u%26format&byCustomValue={entitlement}{auth}";else if("fs-rsn"==X.profile)ge=fe+pe[X.profile]+"/"+X.playlist+"?form=cjson&count=true&params=manifest%3Dm3u%26format",Oe("@generateFeedURL",ge);else{var e=[];e.push(te.attributes.geoAffiliateCallsigns),e.push(te.attributes.geoNationalCallsigns),e.push(te.attributes.geoRSNCallsigns),1==te.attributes.subscriber&&(Oe("@generateFeedURL generating callsigns from both geo and home"),e.push(te.attributes.homeAffiliateCallsigns),e.push(te.attributes.homeNationalCallsigns),e.push(te.attributes.homeRSNCallsigns)),e=e.join("|"),ge=E(e,te.attributes.authorizedResources),Oe("feedURL:",ge)}return ge}function E(e,t){Oe("@filterRequest",Pe);var n=Re?fe+pe[X.profile]+"/"+X.playlist:"http://feed.theplatform.com/f/fs2go-staging/xRBZLs4etm__",r=X.playlistChunk||360,i=Pe*r+1+"-"+(Pe+1)*r,a="?range="+i+"&form=cjson&count=true&byCustomValue={device}{web},{delivery}{Live},{operatingUnit},{channelID}";return a=a.replace(",{operatingUnit}",",{operatingUnit}{"+e+"}"),a=a.replace(",{channelID}",t?",{channelID}{"+t+"}":""),a=n+a,Oe("@filterRequest:",a),a}function v(t){oe=t,e.download(ge,null,y,b)}function y(e){ue=JSON.parse(e),ue.entryCount?(Oe("There are",ue.entryCount,"items in the feed"),I()):J("PLAYER_ERROR","MPX001","No items in the feed",!0)}function I(){var t,n,r,i,a=new Date,o=a.getDate(),s=a.getMonth(),l=a.getFullYear();if(X.playlist&&X.playlistChunk&&X.playlistDays){Oe("@evaluatePlaylistChunkStatus",o,s,l,"delta",24*X.playlistDays*36e5),n=new Date(l,s,o).getTime()+24*X.playlistDays*36e5,r=e.deepCopy(ue),r.entries=[];for(var u=0,c=ue.entries.length;u<c;u++){if(t=ue.entries[u].fsmobile$eventStartTime,Oe("@evaluatePlaylistChunkStatus",t<n,t,n),!(t<n)){Ne=!0;break}r.entries.push(ue.entries[u])}ue=r,i=Ne||(Pe+1)*X.playlistChunk+1>=ue.totalResults,oe&&oe(ue,i),Pe++,Oe("totalResults:",ue.totalResults,"(chunkIndex * chunk + 1)",Pe*X.playlistChunk+1),!i&&oe?B(oe):Ne=!1}else oe&&oe(ue,!0)}function b(){J("PLAYER_ERROR","MPX005","Failed to fetch the feed",!0)}function C(n,r){function i(e){d(a)}function a(e){e=X.channels||e,o(e)}function o(e){f(e),h(e),l(s)}function s(e){try{A&&(A=JSON.parse(A))}catch(e){console.error("Invalid userobject format from selfResponse")}g&&A&&$.attributes.adobeMvpdId==A.attributes.adobeMvpdId?(Oe("cached selfResponse",JSON.stringify(A,null,3)),te=A,ne=p({getSelfResponse:te}),u()):d(u)}function u(t){e.removeCookie("self_response"),e.setCookie("self_response",JSON.stringify(te)),Oe("@onPostFlightResources",JSON.stringify(te,null,3)),c(r)}function c(t){Oe("@getItem");var r=fe+pe[X.profile]+"/"+X.playlist+"?";Oe("@getItem:",r),oe=t,e.download(r+"byGuid="+n+"&form=cjson",null,y,b)}var A,g;"alternate"!=X.authenticator&&(g=e.getCookie("token"),A=e.getCookie("self_response")),Oe("@getItemWithGuid"),Oe("activating alternate authentication flow?",X.authenticator),"alternate"==X.authenticator?(Oe("activating alternate authentication flow"),function(){delete $.beforePreflight,$.attributes.adobeMvpdId=t.mvpdID,$.attributes.VOD=!1,$.attributes.serviceZip=t.zip,$.attributes.maxrating=t.maxRating,$.attributes.authorizedResources=t.channels.join("|"),$.mvpdToken=t.token,Oe("alternate user object",JSON.stringify($))}(),g?(ee=g,Oe("cached token",JSON.stringify(g,null,3)),s(ee)):l(s)):ye.userObject?l(i):c(r)}function B(n){function r(e){d(i)}function i(e){Oe("onPreflightResources",e.join("|")),e=X.channels||e,o&&o.preauth?o.preauth(e,a):a(e)}function a(e){Oe("@onPreflightAuthorized",e.join("|")),f(e),Oe("@onPreflightAuthorized",e.join("|")),h(e),c(ee,s)}function s(){Oe("Final token:",ee),d(u)}function u(t){re||(re=Y(te.attributes.authorizedResources.split("|")),J("CHANNEL_LIST_AVAILABLE",re)),e.setCookie("self_response",JSON.stringify(te),(new Date).getTime()+1e4),Oe("@onPostFlightResources",JSON.stringify(te,null,3)),Oe("feed URL:",m()),v(n)}function c(t,n){Oe("@signOut",t),b=n;e.download("https://euid.theplatform.com/idm/web/Authentication/signOut?schema=1.0&form=json&_token="+t,void 0,A,g)}function A(){Oe("@onSignOut",ee),l(b)}function g(){Oe("@onSignOutError",ee),l(b)}var E,y,I,b;if(Oe("@getFeed"),Oe("activating alternate authentication flow?",X.authenticator),"alternate"==X.authenticator)Oe("activating alternate authentication flow"),function(){delete $.beforePreflight,$.attributes.adobeMvpdId=t.mvpdID,$.attributes.VOD=t.vod,$.attributes.serviceZip=t.zip,$.attributes.maxrating=t.maxRating,$.attributes.authorizedResources=t.channels.join("|"),$.mvpdToken=t.token,Oe("alternate user object",JSON.stringify($))}(),l(s);else if(ye.userObject){I=e.getCookie("token"),y=e.getCookie("user_object"),E=e.getCookie("self_response");try{y=JSON.parse(y),E&&(E=JSON.parse(E))}catch(e){console.error("Invalid userobject format from selfResponse",y,y.length,typeof y)}y&&(Oe("@getFeed evaluating to use cached userobject",y.attributes.serviceZip,"->",$.attributes.serviceZip),Oe("@getFeed evaluating to use cached userobject decision",null==y.attributes.serviceZip||!(!/service/i.test($.attributes.serviceZip)&&/service/i.test(y.attributes.serviceZip)))),I&&y&&$.attributes.adobeMvpdId==y.attributes.adobeMvpdId&&(null==y.attributes.serviceZip||/service/i.test($.attributes.serviceZip)||!/service/i.test(y.attributes.serviceZip))?(ee=I,$=y,Oe("using cached values",ee,y,JSON.stringify(y,null,3)),E?(Oe("using cached selfResponse"),te=E,ne=p({getSelfResponse:te}),u()):c(I,s)):I||ee?c(I||ee,r):l(r)}else u()}function w(e){for(var t=[],n=0,r=ue.entries.length;n<r;n++){var i=ue.entries[n];i.fsmobile$channelID==e&&t.push(i)}return t}function S(t,n,r){var i=n||i.entries;if(t<i.length){var a,o=i[t];se=r;for(var s=0,l=o[ye.contentKey].length;s<l;s++)"M3U"==o[ye.contentKey][s][ye.formatKey]&&(a=o[ye.contentKey][s][ye.urlKey]);e.download(a+ee?"&token="+ee:"",null,T,k)}}function T(e){Oe("SMIL CONTENT:",e),se&&se(e)}function k(){J("PLAYER_ERROR","MPX006","Failed to retrieve the smil source",!0)}function Q(e,t){var n,r={};if(e){n=e.split("|");for(var i=0,a=n.length;i<a;i++)"function"==typeof t?r[t(n[i])]=1:r[n[i]]=1}return r}function D(e,t,n){Oe("@applyProgramPriority",t,n,"timeDelta",he);for(var r,i=(new Date).getTime()+he,a=[],o=[],s=0,l=e.length;s<l;s++)r=e[s],r.startTime<i&&r.endTime>i&&(Oe("@applyProgramPriority live now",s,r.sponsorEnabled,r.channelId),a.push(r),o.push(s));a.sort(function(e,n){return e.upload_id==t?-1:n.upload_id==t?1:e.sponsorEnabled?-1:n.sponsorEnabled?1:void 0});for(var s=0,l=a.length;s<l;s++)e[o[s]]=a[s],Oe("@applyProgramPriority live now",s,a[s].upload_id,a[s].sponsorEnabled,a[s].channelId);return a.length&&(Oe("@applyProgramPriority prioritized:",e[0].upload_id,e[0].sponsorEnabled,e[0].channelId),e[0].sponsorEnabled&&J("SPONSORED_PROGRAM",e[0].upload_id),t&&(e[0].upload_id==t?J("DEEPLINKED_PROGRAM",e[0].upload_id):J("PLAYER_ERROR","MPX010","Deeplinked item is not available now",!1))),e}function R(t,n,i){Oe("@getSmilPlaylist totalPreload:",n);var a=(new Date).getTime()+he;t=t||ue.entries,we=[];var o=Q(te.attributes.geoNationalCallsigns,function(e){return e.toLowerCase()}),l=Q(te.attributes.geoAffiliateCallsigns),u=Q(te.attributes.homeAffiliateCallsigns),c=e.array2Object(ne),d={firstRule:!1,secondRule:!1,thirdRule:!1};d.firstRule="fsgo"in c;for(var A=0,g=t.length;A<g;A++){var p,f,h,m,E,v={M3U:"m3u8",MPEG4:"mp4"},y=[],I=ye.contentKey,b=ye.urlKey,C=ye.formatKey,B=t[A];Oe("contentKey:",I),Oe("item[contentKey]:",JSON.stringify(B[I],null,3));for(var w=0,S=B[I].length;w<S;w++)B[I][w][C]in{M3U:1,MPEG4:1}&&(p=B[I][w][b],f=v[B[I][w][C]],h={embed_url:p,cdn_name:"akamai",format:"smil",expectedFormat:f,protocol:"http",upload_id:"0",kbps:B[I][w].bitrate/1e3},y.push(h)),m=X.profile in{fox:1,"fs-rsn":1}?B.thumbnails&&B.thumbnails.length&&B.thumbnails[0].url?B.thumbnails[0].url:P(B):"nbc"==X.profile&&B.defaultThumbnailUrl?B.defaultThumbnailUrl:"",Oe("posterImage:",m);var T={video_type:B[ye.deliveryKey]&&"live"==B[ye.deliveryKey].toLowerCase()?2:1,formats:y,exception:null,upload_id:B.fsmobile$mcpid,captions:null,duration:B[I].length&&B[I][0].duration?B[I][0].duration:null,previews:null,pvw_matrices:null,src_image_url:m,thumbnailMd5:e.md5(m),channelLogo:B.fsmobile$channelID?N(B.fsmobile$channelID):null,def_title:B.title,def_description:B.description,recommendations:null,startTime:B.fsmobile$eventStartTime||void 0,endTime:B.fsmobile$eventEndTime||void 0,airDate:B.fsmobile$airDate,seriesName:B.fsmobile$seriesName,operatingUnit:B.fsmobile$operatingUnit,sportName:B.fsmobile$sportName,tvSeason:B.fsmobile$tvSeason,tvSeries:B.fsmobile$tvSeries,episode:B.episode,authenticated:B.fsmobile$authenticated,authenticate:"0"!=$.attributes.subscriber&&!!$.attributes.subscriber,mvpd:$.attributes.adobeMvpdId,id:B.guid,channelId:B.fsmobile$channelID,sponsor:B.fsmobile$sponsor,categories:_(B),authentication:s(B),authorization:s(B),teamNames:B.fsmobile$teamNames,leagueNames:B.fsmobile$leagueNames,geoAffiliate:B.fsmobile$operatingUnit in l};if("string"==typeof T.upload_id&&-1==T.upload_id.indexOf("e")&&(T.upload_id="e"+T.upload_id),T.sponsor&&(T.sponsor=T.sponsor.toLowerCase(),d.firstRule&&T.sponsor in o&&(d.secondRule=!0,d.thirdRule=!0,T.sponsor in c||ne.push(T.sponsor),T.channelId=T.sponsor,T.sponsorEnabled=!0,T.authentication=!1,T.authorization=!1),Oe("channelId - authorization:",T.channelId,T.upload_id,T.authorization)),Oe("sponsorInfo.firstRule applied",JSON.stringify(d,null,3)),Oe("push to smil playlist:",new Date(T.endTime),T.endTime>a,ye.vod,!T.endTime),B.ratings&&r&&r.accessControl&&r.accessControl.parentalControl)for(var k=0,R=B.ratings.length;k<R;k++)if("scheme"in B.ratings[k]&&"rating"in B.ratings[k]&&B.ratings[k].scheme){T.rating=B.ratings[k].rating;break}r&&r.debug&&(T.def_title=r.debug+T.def_title),"fbc-fox"==T.channelId&&"1"==$.attributes.subscriber?(Oe(">>>event operating Unit ",T.operatingUnit),E=T.operatingUnit in u,Oe("fbc-fox check fbcGeoCheckPassed?",E),"NFL"==T.sportName?(E=T.operatingUnit in l,Oe("nfl check fbcGeoCheckPassed?",E)):T.sportName in{NBA:1,MLB:1}&&(E=T.operatingUnit in u,Oe("nba check fbcGeoCheckPassed?",E))):E=!0,!(T.endTime>a||ye.vod)&&T.endTime||r.blackList&&T.channelId in r.blackList||!E||we.push(T)}if(Oe("total items in smil playlist:",we.length),n="totalPreload"in ye?ye.totalPreload:n,r&&!Te&&(we=D(we,r.deepLinkId,r.deepLinkChannelId),Te=!0),Se=Se.concat(we),Oe("smilPlaylistCache size",Se.length,we.length),void 0!=n&&i){for(var M=0,L=n;M<we.length&&we[M].endTime<a;)M++;ke=M,L=Math.min(we.length,M+n),Oe("calling preloadSmilResources with index,",M,"limit",L),M<L?O(L,i,M):i(we,Pe)}return we.length||J("PLAYER_ERROR","MPX007","No valid items in the feed",!0),we}function _(e){Oe("@generateCategories");var t=[];if(e&&"categories"in e){if(M(e.categories)){for(var n=0,r=e.categories.length;n<r;n++)"name"in e.categories[n]&&t.push(e.categories[n].name);return Oe("@generateCategories",t),t}return[]}return[]}function M(e){return null!=e&&"object"==typeof e&&"splice"in e&&"join"in e}function N(e){return r&&r.channelLogoUrl?r.channelLogoUrl+e+".png":null}function P(e){var t,n=r.thumbnailBaseUrl||"http://thumbs.staging-data.foxsports.com/thumbs/";if(e.fsmobile$tvSeries&&me.shows[e.fsmobile$tvSeries]&&(t=me.shows[e.fsmobile$tvSeries]),!t&&e.title)for(var i in me.strings)if(me.strings.hasOwnProperty(i)&&e.title.toLowerCase().indexOf(i.toLowerCase())>-1){t=me.strings[i];break}if(!t&&e.fsmobile$sportName)for(var a in me.sports)if(me.sports.hasOwnProperty(a)&&e.fsmobile$sportName.toLowerCase().indexOf(a.toLowerCase())>-1){t=me.sports[a];break}return t||(t="chip_channel_fs"),n+t+".png"}function O(e,t,n){de=e,Ae=Ae||t,x(we[n].formats[0].embed_url,L)}function L(e){Oe("@preloadSmilItemCallback");var t=we[ke];t.exception=e.exception,t.exception&&Qe<5?(Qe++,Oe("Exception observed in smil resource #",Qe)):(Qe=0,t.formats[0].embed_url=e.formats[0].embed_url,t.formats[0].format=t.formats[0].expectedFormat,ke++),ke<de?O(de,null,ke):(Oe("length of smilPlaylist:",we.length),Ae&&Ae(we),de=0,ke=0)}function x(t,n,r){var i;Oe("@getSmilResource",t,r),le=n,i=F(t,r),Oe("@getSmilResource param:",i),e.download(i,null,U)}function F(e,t){switch(Oe("@evaluateTokenSuffix",t),X.profile){case"nbc":return t?e+"&auth="+t:e;case"fox":return e+"&token="+ee+"&format=smil";case"fs-rsn":return(e=e.replace("&format",""))+"&format=smil"}}function U(e){Oe("@onGetSmilResponse");var t=j(e);return Oe("onGetSmilResponse",JSON.stringify(t,null,3)),Oe("@onGetSmilResponse calling getSmilResponseCallback? ",!!le),t.exception?(J("PLAYER_ERROR","MPX008",t.exception,!1),o&&o.block&&o.block(t.exception)):le&&le(t),t}function V(e,t){Oe("@transfromFeed"),e=e||ue.entries,"object"==typeof t?(t.formats[0].kbps=e[be][contentKey][0].bitrate/1e3,t.startTime=e[be].fsmobile$eventStartTime||void 0,t.endTime=e[be].fsmobile$eventEndTime||void 0,t.def_title=e[be].title,t.def_description=e[be].description,t.video_type=e[be].fsmobile$delivery&&"live"==e[be].fsmobile$delivery.toLowerCase()?2:1,t.id=e[be].guid,t.src_image_url=e[be].fsmobile$channelID in De?De[e[be].fsmobile$channelID]:"http://msn.foxsports.com/foxsportsgo/img/header_logo.png",t.channelId=e[be].fsmobile$channelID,Be.push(t),be++,be<e.length?S(be,e,G):(H(Be),be=0,Ie=!1,Ce=null)):("function"==typeof t&&(ce=t),be=0,Ie=!0,Be=[],Ce=e,S(0,e,G))}function G(e){var t=j(e);V(Ce,t)}function H(e){ce&&ce(e)}function j(e){Oe("@transform",e);var t={video_type:1,formats:[{embed_url:"",cdn_name:"akamai",format:"m3u8",protocol:"http",upload_id:"0",kbps:"0"}],exception:null,upload_id:null,captions:null,duration:null,previews:null,pvw_matrices:null,src_image_url:null,def_title:null,def_description:null,recommendations:null};window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(e,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async=!1,xmlDoc.loadXML(e));var n=xmlDoc.getElementsByTagName("video")[0],r=xmlDoc.getElementsByTagName("ref")[0];return n?t.formats[0].embed_url=n.getAttribute("src"):r&&(t.exception=r.getAttribute("title")),t}function Y(e){Oe("@getChannelObj"),e=e||ne;for(var t=[],n={},r=0,i=e.length;r<i;r++){var a={},o=e[r];n[o]||(n[o]=1,a.callSign=o.toUpperCase(),a.channelId=o,a.logo=N(o),Oe("@getChannelObj",o),t.push(a))}return t}function K(e){for(var t={},n=[],r=0,i=e.length;r<i;r++)t[e[r]]=1;for(var a=0,o=Be.length;a<o;a++)Be[a].channelId in t&&n.push(Be[a]);return n}function q(e){for(var t={},n=[],r=0,i=e.length;r<i;r++)t[e[r]]=1;for(var a=0,o=we.length;a<o;a++)we[a].channelId in t&&n.push(we[a]);return n}function J(e,t){Oe("Dispatching event",e,typeof n);var r=Array.prototype.slice.call(arguments,1);i?(ve=[],i({name:e,time:n&&n.getTime?n.getTime():"",info:Ee[e],args:r})):ve.push({name:e,time:n&&n.getTime?n.getTime():"",info:Ee[e],args:r})}function z(e){X.playlistDays=e}function W(e){X.playlistChunk=e}function Z(e,t){Oe("@lookupItem",e,t);var n;e=e.replace("e","");for(var r=0,i=Se.length;r<i;r++)if(n=Se[r],e==n.upload_id&&t==n.operatingUnit)return Oe("@lookupItem found!",e,t),n;return null}var X={environment:t.environment,profile:t.profile,playlist:t.playlist,video:t.video,authenticator:t.authenticator,token:t.token,channels:t.channels,zip:t.zip,maxRating:t.maxRating,vod:t.vod,mvpdID:t.mvpdID,playlistDays:t.playlistDays,playlistChunk:t.playlistChunk},$={userName:e.getCookie("user_name")||e.createUUID(),attributes:{adobeMvpdId:X.mvpdID||"fstve",device:"web",VOD:X.vod||0,subscriber:1,version:2,serviceZip:X.zip||null,beforePreflight:1,maxrating:X.maxRating||"TV-Y"}};e.setCookie("user_name",$.userName,new Date((new Date).getTime()+2592e6));var ee,te,ne,re,ie,ae,oe,se,le,ue,ce,de,Ae,ge,pe={"fs-rsn":"fs-rsn",fox:"fKc3BC",nbc:"HNK2IC"},fe="http://feed.theplatform.com/f/",he=o&&"getTimeDelta"in o&&o.getTimeDelta?o.getTimeDelta():0,me=r.thumbnailFallbackDictionary||{shows:{10516630:"chip_MLBWhipAround",388834:"chip_Central_FOX",9993683:"chip_FOX_Para_TOdos",236733:"chip_FOX_Gol_Mexico",375797:"chip_El_Show_de_Copa_Libertadores",422760:"chip_La_Ultima_Palabra",191260:"chip_sport_Baloncesto_Universitario",3552373:"chip_La_Previa_Copa_Libertadores",7871891:"chip_nascarRaceHub",10084805:"chip_foxFootballDaily",10084795:"chip_crowdGoesWild",1:"chip_foxCollegeFootballExtra",10385632:"chip_sport_NCAABB",10321304:"chip_foxCollegeHoopsExtra",2:"chip_foxCollegeSaturdayExtra",3:"chip_foxCollegeThursday",4:"chip_foxNFLKickoff",5:"chip_foxSoccerDaily",10083627:"chip_foxSports1on1",10120144:"chip_fslive",12:"chip_foxSportsMorning",11:"chip_MLBPregame",267354:"chip_sport_NASCAR",267380:"chip_nascarRaceday",267388:"chip_NASCARVictoryLane",10:"chip_UEFAchampionsLeagueHighlights",308818:"chip_UFCCountdown",7944088:"chip_theBestOfPride",7:"chip_ufcRoadToTheOctagon",8:"chip_sport_UFC",8999447:"chip_UFCWeighin",8999424:"chip_UFCTonight",9027568:"chip_ufcUltimateInsider",10385646:"chip_UFCtheUltimateFighter",10614843:"chip_foxSportsSaluteTheTroops"},sports:{NBA:"chip_sport_NBA",NFL:"chip_sport_NFL",MLB:"chip_sport_MLB",GOLF:"chip_sport_golf",NASCAR:"chip_sport_NASCAR",CBK:"chip_sport_NCAABB",CFB:"chip_sport_NCAAFB",WCBK:"chip_sport_NCAAWB",NHL:"chip_sport_NHL",SOCCER:"chip_sport_soccer",TENNIS:"chip_sport_tennis",UFC:"chip_sport_UFC",WNBA:"chip_sport_WNBA"},strings:{UFC:"chip_sport_UFC",NASCAR:"chip_sport_NASCAR",UEFA:"chip_sport_soccer","UEFA Champions":"chip_sport_uefaCL","UEFA Europa":"chip_sport_uefaEuropa","A-League":"chip_sport_soccer","College Baseball":"chip_sport_NCAA_Baseball","College Basketball":"chip_sport_NCAABB",Burton:"chip_sport_Burton","Monster Jam":"chip_sport_MonsterJam","Motorcycle Racing":"chip_sport_Motor_Racing","Motorcycle Racing - Monster Energy Supercross":"chip_sport_Monster_Supercross","Monster Cup":"chip_sport_Monster_Cup",Monster:"chip_sport_Monster","Red Bull":"chip_sport_Red_Bull",Boxing:"chip_sport_Boxing",Boxeo:"chip_sport_Boxeo",Rugby:"chip_sport_Rugby","World Poker Tour":"chip_sport_Poker","AFL Premiership":"chip_sport_soccer","Golden Boy Promotions":"chip_sport_Boxing","Table Tennis":"chip_sport_Table_Tennis","Auto Racing":"chip_sport_Auto_Racing"}},Ee={},ve=[],ye={},Ie=!1,be=0,Ce=null,Be=[],we=[],Se=[],Te=!1,ke=0,Qe=0,De={fs1:"http://up.anv.bz/demo/imgfox/fs1.png",fs2:"http://up.anv.bz/demo/imgfox/fs2.png"},Re="stage"!=X.environment,_e=Re?"http://tpi.fs.anvato.net/tpa":"http://tpistage.fs.anvato.net/tpa",Me="https://euid.theplatform.com/idm/web/Self/getSelf?schema=1.0&form=json&token=",Ne=!1,Pe=0,Oe=void 0!==n?n.getLogFn("ThePlatform"):function(){console.log.apply(console,["[!ThePlatform!]\t"].concat(Array.prototype.slice.call(arguments)))};return Oe("initializing pluginThePlatform"),function(){Oe("registering events"),Ee.PLAYER_ERROR="Player has thrown an error",Ee.CHANNEL_LIST_AVAILABLE="Live channel list is available",Ee.SPONSORED_PROGRAM="The initial item is a sponsored item",Ee.DEEPLINKED_PROGRAM="The initial item is a deeplinked item"}(),function(){Oe("@applyProfile",JSON.stringify(X,null,3)),"nbc"==X.profile?(ye.vod=!0,ye.userObject=!1,ye.token=!1,ye.totalPreload=0,ye.contentKey="content",ye.urlKey="url",ye.formatKey="format"):"fox"==X.profile?(ye.vod=!1,ye.userObject=!0,ye.token=!0,ye.totalPreload=0,ye.contentKey="content",ye.urlKey="url",ye.formatKey="format",ye.deliveryKey="fsmobile$delivery"):"fs-rsn"==X.profile&&(ye.vod=!1,ye.userObject=!1,ye.token=!1,ye.totalPreload=0,ye.contentKey="content",ye.urlKey="url",ye.formatKey="format",ye.deliveryKey="pl1$delivery"),Oe("@applyProfile",JSON.stringify(ye,null,3))}(),{setZipcode:function(e){$.attributes.serviceZip=e},setMaxRating:function(e){$.attributes.maxrating=e},setMVPDID:function(e){$.attributes.adobeMvpdId=e||"fstve",$.attributes.subscriber=e?1:0},setVOD:function(e){$.attributes.VOD=e},getUserObject:function(){return $},setToken:function(){return ee},getToken:function(){return ee},requestToken:l,requestResources:d,getResources:function(){return ne},getChannelObj:Y,filterTransformedPlaylist:K,filterSmilPlaylist:q,updateResources:f,generateFinalUserObject:h,generateFeedURL:m,requestFeed:v,getFeed:B,filterFeed:w,requestItemSource:S,transformFeed:V,getSmilPlaylist:R,getSmilResource:x,getItemWithGuid:C,setPlaylistDays:z,setPlaylistChunk:W,lookupItem:Z}}return t}),anv.define("TempPass",["util"],function(e){function t(t,n,r,i,a){function o(e,t){R("Dispatching event",e,typeof n,JSON.stringify(arguments));var i=Array.prototype.slice.call(arguments,1);n?(Q=[],n({name:e,time:r&&r.getTime?r.getTime():"",info:w[e],args:i})):Q.push({name:e,time:r&&r.getTime?r.getTime():"",info:w[e],args:i})}function s(e,t){return R("@isValid",e,t),e in b&&t in b&&t in C[e]}function l(e,n,r){R("@updateState",e,n,r);var i;if(B=!0,e)switch(n){case t.short:i=b.SHORT;break;case t.long:i=b.LONG;break;default:i=b.ENTITLEMENT}else D?i=b.PASSIVE:(i=b.START,p()),n=null,r=null;R("nextState",i),s(y,i)?(y=i,y==b.LONG||y==b.SHORT?(A(y,r),c(r)):d(),o(S.PREVIEW_STATUS,i,n,r)):y!=i&&y!=b.ENTITLEMENT&&o(S.PLAYER_ERROR,T.TMPP001,k.TMPP001)}function c(e){R("@startAuthorizationCycle",a),i.authorize("preview",null),I.authZTimer=setTimeout(c,1e3*(t.checkPeriod||60))}function d(){R("@resetTimers");for(var e in I)I.hasOwnProperty(e)&&clearTimeout(I[e])}function A(t,n){var r,i,a,o,s,l=24*(t==b.LONG?1e5:1)*3600*1e3;"string"==typeof t&&(o="anv_tp_"+t[0].toLowerCase(),a=(new Date).getTime(),i=e.md5(o+"|Congrats"),R("key:",i),s={ttl:n},r=e.aesStdEncrypt("ecb",JSON.stringify(s),i,"base64"),r=encodeURIComponent(r),e.setCookie(o,r,new Date(a+l)),R("Cookie written for",t,r))}function g(t){var n,r,i,a,s;if("string"==typeof t){if(s="anv_tp_"+t[0].toLowerCase(),n=e.getCookie(s)){a=e.md5(s+"|Congrats"),R("key:",a),i=decodeURIComponent(n),r=e.aesStdDecrypt("ecb",i,a,"base64"),R("Cookie read for",t,r);try{r=JSON.parse(r)}catch(e){return o(S.PLAYER_ERROR,T.TMPP002,k.TMPP002),-1}return r.ttl?parseInt(r.ttl):null==r.ttl?-1:(o(S.PLAYER_ERROR,T.TMPP002,k.TMPP002),-1)}return null}return null}function p(){R("@performTransition state:",y);var n=g(b.LONG),r=g(b.SHORT),a=!1,s=!1,l=(new Date).getTime();y==b.PASSIVE||y==b.START||y==b.ENTITLEMENT?(R("------------------- applying preview cookie logic ------------"),R("1st RULE for LONG; basic expiration:",n<l),R("2nd RULE for LONG; cookie manipulated",-1==n),R("3rd RULE for LONG; cookie missing",!n),n&&-1!=n?n<l&&(a=!0):a=-1==n,R("longExpired?",a),R("now:",e.prettifyDate(l).string),R("shortTTL value\t\t:",r?e.prettifyDate(r).string:r),R("shortTTL + 24-hour\t:",r?e.prettifyDate(r+864e5).string:r),R("longTTL value\t\t:",n?e.prettifyDate(n).string:n),R("longTTL + 24-hour\t:",n?e.prettifyDate(n+864e5).string:n),a?(o(S.PREVIEW_EXPIRED,"LONG"),R("1st RULE for SHORT; basic expiration:",r<l),R("2nd RULE for SHORT; inside 24-hour range after previous Short TTL:",l<r+864e5),R("3rd RULE for SHORT; cookie manipulated",-1==r),R("4th RULE for SHORT; cookie missing",!r),R("5th RULE for SHORT; inside 24-hour range after previous LONG TTL",n>-1&&l<n+864e5),s=r&&-1!=r?r<l&&l<r+864e5:-1==r,s&&o(S.PREVIEW_EXPIRED,"SHORT"),R("shortExpired?",s),s||n>-1&&l<n+864e5?(i&&i.authenticate&&i.authenticate(!0),R("time to start entitlement")):(A(b.SHORT,l),i&&i.sendSelectedProviderInfo&&i.sendSelectedProviderInfo({ID:t.short},!0),R("time to call short preview"))):(A(b.LONG,l),R("time to call long preview",t.long,!!i,!!i.sendSelectedProviderInfo),i&&i.sendSelectedProviderInfo&&i.sendSelectedProviderInfo({ID:t.long},!0)),R("------------------- end of preview cookie logic ------------")):f()}function f(){(y==b.LONG||y==b.SHORT)&&i&&i.authenticate&&(o(S.PREVIEW_EXPIRED,y),i.authenticate(!0),d()),R("time to start entitlement")}function h(e){return e==t.long||e==t.short}function m(){return y}function E(){return D}function v(){y==b.PASSIVE&&B&&p()}u=e;var y="START",I={},b={START:"START",PASSIVE:"PASSIVE",LONG:"LONG",SHORT:"SHORT",ENTITLEMENT:"ENTITLEMENT"},C={START:{START:1,PASSIVE:1,LONG:1,SHORT:1,ENTITLEMENT:1},PASSIVE:{PASSIVE:1,LONG:1,SHORT:1,ENTITLEMENT:1},LONG:{PASSIVE:1,START:1,SHORT:1,ENTITLEMENT:1},SHORT:{START:1,PASSIVE:1,ENTITLEMENT:1},ENTITLEMENT:{START:1,PASSIVE:1}},B=!1,w={},S={PLAYER_ERROR:"PLAYER_ERROR",PREVIEW_STARTED:"PREVIEW_STARTED",PREVIEW_STATUS:"PREVIEW_STATUS",PREVIEW_EXPIRED:"PREVIEW_EXPIRED"},T={TMPP001:"TMPP001",TMPP002:"TMPP002"},k={TMPP001:"Invalid preview state transition",TMPP002:"Manipulated preview cookie value / device info"},Q=[],D=!("passive"in t)||t.passive,R=r?r.getLogFn("TempPass"):function(){console.log.apply(console,["[!TempPass!]\t"].concat(Array.prototype.slice.call(arguments)))};return R("TempPass init completed"),o("PREVIEW_STARTED",y),function(){R("registering events"),w.PLAYER_ERROR="Player has thrown an error",w.PREVIEW_STARTED="Live preview has started",w.PREVIEW_STATUS="Live preview state has changed",w.PREVIEW_EXPIRED="Live preview has expired"}(),{isValid:s,getState:function(){return y},onAuthenticationRequested:d,updateState:l,onUserInteraction:v,onAuthorizationFailure:f,isPreviewID:h,getPreviewState:m,getPassive:E}}return t}),anv.define("AccessControl",["util","ProxyAdobePass","pluginThePlatform","TempPass"],function(e,t,n,r){function i(i,a,o,s,l){function u(e,t){Ze[e]=t,We[e]=e}function c(e,t,n){$e[e]={code:e,info:t,isCritical:n}}function d(e,t){e in $e&&(A(We.PLAYER_ERROR,$e[e].code,t||$e[e].info,$e[e].isCritical),$e[e].isCritical?console.error(["PLAYER_ERROR"].concat([$e[e].code,t||$e[e].info,$e[e].isCritical]).join(", ")):console.warn(["PLAYER_ERROR"].concat([$e[e].code,t||$e[e].info,$e[e].isCritical]).join(", ")))}function A(e,t){xe("Dispatching event",e,typeof i,!!Ne);var n=Array.prototype.slice.call(arguments,1);if(Ne){for(var r=0,a=Xe.length;r<a;r++)Ne(Xe[r]);Xe=[],Ne({name:e,time:i&&i.getTime?i.getTime():"",info:Ze[e],args:n}),g(e,n)}else xe("deciding to call notifyEvent",window.top===window.self),window.top===window.self?g(e,n):(xe("pushing event to the queue",e),Xe.push({name:e,time:i&&i.getTime?i.getTime():"",info:Ze[e],args:n}))}function g(e,t){var n;if(xe("@notifyEvent",!!Me),Me&&Me.notifyEvent){if(et)for(;et.length;)n=et.shift(),xe("@notifyEvent from queue",n.name,n.args),Me.notifyEvent(n.name,n.args);Me.notifyEvent(e,t),xe("@notifyEvent ",e,t)}else xe("notifyEvent API method is not available on player adding to the queue"),et.push({name:e,args:t})}function p(e){xe("@init"),we=e,we?(f(we),h(we)):(we=window.iFrameConfig,window.anvLoader.load())}function f(e){xe("@evaluateMergedConfig",!!e),Fe.dataSource=e.mcp||e.media?Ge:He
;var n=!e.accessControl||!e.accessControl.preview;if(window.anvLoader.setTVEInstance(s),e.profile)switch(Fe.profile=e.profile,Fe.preview=!!e.accessControl&&e.accessControl.preview,e.profile){case"nbc":break;case"fox":Fe.authenticator=je,Fe.authorizer=je,Fe.dataSource=He,Be=new t(a,o,i,e,Ne,g)}e.accessControl&&(Fe.geoLocation=e.accessControl.geoLocation,Fe.authenticator=e.accessControl.authenticator?e.accessControl.authenticator.toLowerCase():null,Fe.authorizer=e.accessControl.authorizer?e.accessControl.authorizer.toLowerCase():null,Fe.onDemand=!!e.accessControl.onDemand&&e.accessControl.onDemand,Fe.selective=!!e.accessControl.selective&&e.accessControl.selective,e.accessControl.token&&e.accessControl.mvpd&&(xe("token and mvpd detected",e.accessControl.token,e.accessControl.mvpd),Fe.authenticator=null,Fe.authorizer=null),Fe.requestor=e.accessControl.requestor,Fe.resource=e.accessControl.resourceId,Fe.preview=e.accessControl.preview,Fe.parentalControl=e.accessControl.parentalControl,e.user&&"maxRating"in e.user&&(Fe.maxRating=e.user.maxRating),Fe.timeOut=e.accessControl.timeOut&&e.accessControl.timeOut>60?e.accessControl.timeOut:60,Fe.authenticator==je&&(Be=new t(a,o,i,e,Ne,g))),Fe.authenticator&&Fe.authenticator==je?(e&&e.accessControl&&!e.accessControl.token&&!e.accessControl.useFlash&&window.anvLoader.check3rdPartyCookies(e.pInstance),Be.init(Fe.requestor,n,Fe.parentalControl),xe("setting timeout for adobeReady"),Ue.adobeReady=setTimeout(function(){d($e.ACTRL050.code),P($e.ACTRL050.info)},1e3*Fe.timeOut),Fe.preview?(xe("Initializing PreviewController: TempPass..."),Pe=new r(Fe.preview,Ne,i,{sendSelectedProviderInfo:ce,authenticate:te,authorize:ne},s&&"getTimeDelta"in s?s.getTimeDelta():null),xe("Initialized PreviewController: TempPass"),window.anvLoader.load(e)):(Fe.onDemand||Fe.selective)&&window.anvLoader.load(e)):Fe.dataSource==Ge?(xe("loading mergedConfig"),e.media&&window.anvLoader.setDataAPIInstance(l),window.anvLoader.load(e)):Fe.dataSource==He&&window.anvLoader.load(e),Fe.preview,xe("mergedConfig:",i.stringify(e))}function h(t){var n={},r={};if(m()&&t.preview){for(var a in t.preview)t.preview.hasOwnProperty(a)&&(n["anv"+e.capitalize(a)]=t.preview[a]);r=e.getCookies(n),xe("old:",i.stringify(r)),xe("new:",i.stringify(n)),e.setCookies(n)}}function m(){document.cookie="anvCookieCheck=1";var e=document.cookie.length>1&&document.cookie.indexOf("anvCookieCheck=1")>-1;return document.cookie="anvCookieCheck=1;expires="+new Date(1976,8,16).toUTCString(),e}function E(){var e=we.accessKey&&we.accessKey.indexOf("stage")>-1?"stage":"prod",t=(s&"getTpiToken"in s&&s.getTpiToken,Fe.authenticator==je?Ie:void 0);xe("@processMpxRequest"),Ve.platform=new n({environment:e,profile:we.mpx,playlist:we.playlist,playlistDays:we.playlistDays,playlistChunk:we.playlistChunk,video:we.video,channels:we.channels,authenticator:Fe.authenticator,token:we.accessControl?we.accessControl.token:null,zip:Fe.homeZip||we.homezip,maxRating:Fe.maxRating||"TV-Y",vod:!1,mvpdID:Fe.provider||we.mvpd},i,we,Ne,s.getTpiToken,{preauth:t,block:P,getTimeDelta:s&&"getTimeDelta"in s?s.getTimeDelta.bind(s):void 0})}function v(e){xe("@getFeed"),Je?(xe("@getFeed",i.stringify(Fe,null,3)),Fe.fetchedHomeZips&&Fe.fetchedHomeZips.length&&Fe.fetchedHomeZips[0]?Ve.platform.setZipcode(Fe.fetchedHomeZips[0]):Fe.fetchedEncryptedHomeZips&&Fe.fetchedEncryptedHomeZips.length&&Fe.fetchedEncryptedHomeZips[0]&&Ve.platform.setZipcode(Fe.fetchedEncryptedHomeZips[0]),Ve.platform.setMaxRating(Fe.maxRating),Ve.platform.setMVPDID(Fe.provider),Ve.platform.setVOD(0),Ve.platform.getFeed(e)):(xe("deferring call to getFeed until onReadyCallback"),ke=v,Qe=arguments)}function y(e,t){xe("@getItemWithGuid guid=",e),Ve.platform.getItemWithGuid(e,t)}function I(e,t,n){return xe("@getSmilPlaylist"),Ve.platform.getSmilPlaylist(e,t,n)}function b(e,t,n,r,a,o){xe("@getSmilResource authorizationNeeded",n),Fe.resource=r||Fe.resource,Fe.adKeyValues=o,Fe.programRating="NR"==a?"TV-Y":a,xe("@getSmilResource SESSION: ",i.stringify(Fe,null,3)),Fe.geoLocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(X,$,{maximumAge:6e4}),Se=C,Te=arguments,Fe.authorizer&&!Fe.onDemand?ne(Fe.resource,Fe.programRating):Fe.onDemand&&n?(xe("TODO: check authentication and authorize for ",Fe.resource,"authN",Fe.isAuthenticated,"authZ",Fe.isAuthorized,"authorizationNeeded",n),Fe.isAuthenticated?(xe("@getSmilResource calling authorize",JSON.stringify(Fe,null,3)),ne(Fe.resource,Fe.programRating)):te(!0)):(qe=!0,Se(e,t,n))}function C(e,t,n){xe("@secureGetSmilResource",JSON.stringify(Te,null,3)),xe("@secureGetSmilResource arguments",JSON.stringify(arguments,null,3),arguments[2],n),xe("@secureGetSmilResource session:",JSON.stringify(Fe,null,3)),(Fe.authorizer&&Fe.isAuthorized||!Fe.authorizer||!n)&&(xe("@secureGetSmilResource",Fe.authorizer&&Fe.isAuthorized,!Fe.authorizer,!n),Ve.platform.getSmilResource.apply(null,Array.prototype.slice.call(Te).concat([Fe.token]))),Se=null,Te=null}function B(){return Ve.platform.getChannelObj()}function w(e){return Ve.platform.filterSmilPlaylist(e)}function S(e){xe("@onReadyCallback",i.stringify(Fe,null,3),typeof e);var t;Fe.authorizationInProgress=!1,Fe.isAuthenticated=e,Fe.fetchedHomeZips=[],Fe.fetchedEncryptedHomeZips=[],Je=!0,Ue.adobeReady?(xe("clearTimeout for adobeReady"),clearTimeout(Ue.adobeReady),delete Ue.adobeReady):(Ue.adobeAuthorize&&Ue.adobeAuthorize.length&&(t=Ue.adobeAuthorize.shift(),xe("clearTimeout"),clearTimeout(t)),xe("timers.adobeAuthorize timer #",Ue.adobeAuthorize?Ue.adobeAuthorize.length:"")),A("AUTHENTICATION_STATUS",e,Fe.authenticator),Be.onReadyCallback.apply(null,Array.prototype.slice.call(arguments)),e?O():Fe.preview?(Pe.updateState(Fe.isAuthenticated,Fe.provider,Fe.TTL_AUTHN),Pe.getPassive()||P()):Fe.onDemand||Fe.selective?(xe("Ready for onDemand authN and authZ"),ke&&Qe&&(ke.apply(null,Qe),ke=null,Qe=null)):(d($e.ACTRL030.code),Be.authenticate(),P())}function T(e){xe("@onProviderSelected",i.stringify(e));var t;Fe.provider=e.ID,we.mvpd=e.ID,we.mvpdDisplayName=Be&&Be.getMvpdDisplayName&&Be.getMvpdDisplayName(e.ID),A("PROVIDER_SELECTED",e.ID),Fe.isAuthenticated&&Fe.preview&&(t=Pe.isPreviewID(Fe.provider),t?Pe.updateState(Fe.isAuthenticated,Fe.provider,Fe.TTL_AUTHN):ne(Fe.resource,Fe.programRating,we.video)),Be.onProviderSelected.apply(null,Array.prototype.slice.call(arguments)),Fe.preview||Fe.onDemand||window.anvLoader.load(we),(1==Fe.fetchedEncryptedHomeZips.length&&Fe.fetchedEncryptedHomeZips[0]||1==Fe.fetchedHomeZips.length&&Fe.fetchedHomeZips[0]||Fe.fetchedEncryptedHomeZips.length+Fe.fetchedHomeZips.length>=2)&&Fe.onDemand&&ke&&Qe&&(xe("@onProviderSelected having evaluated home zips, gotten the provider calling authN callback"),ke.apply(null,Qe),ke=null,Qe=null)}function k(e,t,n,r){xe("@authorizationCallback");var a,o;Fe.authorizationInProgress=!1,Fe.isAuthorized=e,Fe.token=t,Fe.authorizationError=n,Fe.authorizationErrorDetail=r,xe("session:",i.stringify(Fe,null,3)),xe("tve available:",!!s),xe("tveCheck set:",we.accessControl.tveCheck),xe("parentalControl set:",we.accessControl.parentalControl),xe("accessKey:",we.accessKey),Ue.adobeAuthorize&&Ue.adobeAuthorize.length&&(o=Ue.adobeAuthorize.shift(),xe("clearTimeout for authZ"),clearTimeout(o)),xe("timers.adobeAuthorize timer #",Ue.adobeAuthorize?Ue.adobeAuthorize.length:""),Fe.isAuthorized||(Fe.fetchedHomeZips=[],Fe.fetchedEncryptedHomeZips=[],$e.ACTRL031.info=r||n,d($e.ACTRL031.code)),Fe.preview&&(a=Pe.isPreviewID(Fe.provider)),!Fe.isAuthorized||!s||void 0!==we.accessControl.tveCheck&&!we.accessControl.tveCheck||!we.accessKey||Fe.preview&&(!Fe.preview||a&&"ENTITLEMENT"!=Pe.getState())?N():(Fe.tveCheckInProgress=!0,xe("@authorizationCallback calling evaluateHomeZip"),Q())}function Q(){var e=Fe.fetchedHomeZips.length,t=Fe.fetchedEncryptedHomeZips.length;xe("@evaluateHomeZip"),xe("@evaluateHomeZip",i.stringify(Fe.fetchedHomeZips),i.stringify(Fe.fetchedEncryptedHomeZips)),xe("session.tveCheckInProgress:",Fe.tveCheckInProgress),(1==e&&Fe.fetchedHomeZips[0]||2==e)&&Fe.tveCheckInProgress&&(void 0===we.accessControl.tveCheck||we.accessControl.tveCheck)&&(xe("@evaluateHomeZip calling tveCheck",JSON.stringify(Fe.fetchedHomeZips)),s.tveCheck(we.accessKey,we,Fe,D,R),Fe.tveCheckInProgress=!1),(1==t&&Fe.fetchedEncryptedHomeZips[0]||t>=2)&&Fe.tveCheckInProgress&&(void 0===we.accessControl.tveCheck||we.accessControl.tveCheck)&&(xe("@evaluateHomeZip calling tveCheck",JSON.stringify(Fe.fetchedEncryptedHomeZips)),s.tveCheck(we.accessKey,we,Fe,D,R),Fe.tveCheckInProgress=!1),(1==t&&Fe.fetchedEncryptedHomeZips[0]||1==e&&Fe.fetchedHomeZips[0]||t+e>=2)&&Fe.onDemand&&ke&&Qe&&(xe("executing deferred authenticationCallbackFn",ke.toString()),t>=1&&!Fe.fetchedEncryptedHomeZips[t-1]&&e>=1&&!Fe.fetchedHomeZips[e-1]&&d($e.ACTRL060.code),Fe.provider&&(xe("@evaluateHomezips having gotten the provider, evaluated home zips calling authN callback"),ke.apply(null,Qe),ke=null,Qe=null))}function D(e){xe("@onTVECheckSuccess",i.stringify(e,null,3));var t;e&&(Fe.isAuthorized=e.tveAuthorized,Fe.authorizedStation=e.callsign,Fe.isAuthorized||(t=e.notAuthorizedCode&&e.notAuthorizedReason?[e.notAuthorizedCode,e.notAuthorizedReason].join(" | "):void 0,!e.hasHomeStationRights&&e.hasGeoStationRights?(d($e.ACTRL041.code,t),Fe.authorizationError=e.notAuthorizedReason||"The user doesn't have home station rights."):!e.hasGeoStationRights&&e.hasHomeStationRights?(d($e.ACTRL042.code,t),Fe.authorizationError=e.notAuthorizedReason||"The user doesn't have geo station rights."):e.notAuthorizedCode?(e.notAuthorizedCode in $e&&c("ACTRL"+e.notAuthorizedCode,t,!0),d("ACTRL"+e.notAuthorizedCode)):(d($e.ACTRL043.code,t),Fe.authorizationError=e.notAuthorizedReason||"The user doesn't have TVE rights."))),N()}function R(){N()}function _(){var e,t,n;we.accessControl.parentalControl&&(!Fe.preview||Fe.preview&&"ENTITLEMENT"==Pe.getState())&&(xe("@checkParentalControl parentalControl set",JSON.stringify(Fe,null,3),Fe.programRating,Fe.maxRating),t=Fe.maxRating||"TV-MA",t=/[TV]*-*(\w+)-*/.exec(t),t=t.length>1?t[1]:"Y",n=Fe.programRating||"TV-Y",n=/[TV]*-*(\w+)-*/.exec(n),n=n.length>1?n[1]:"Y",e={Y:1,Y7:2,G:3,PG:4,14:5,MA:6},Fe.isAuthorized&&t in e&&n in e?(Fe.isAuthorized=e[t]>=e[n],xe("@checkParentalControl",e[t],e[n]),Fe.isAuthorized||(Fe.authorizationError=$e.ACTRL020.info,d($e.ACTRL020.code))):Fe.isAuthorized&&d($e.ACTRL021.code))}function M(){xe("@checkGeoRights"),Fe.isAuthorized&&Fe.currentStationInfo&&Fe.authorizedStation&&(xe("@checkGeoRights",Fe.authorizedStation,Fe.currentStationInfo.channel),Fe.isAuthorized=Fe.authorizedStation==Fe.currentStationInfo.channel,Fe.isAuthorized||(Fe.authorizationError=$e.ACTRL040.info,d($e.ACTRL040.code)))}function N(){var e;_(),M(),A("AUTHORIZATION_STATUS",Fe.isAuthorized,Fe.authorizer,Fe.token,Fe.authorizationError,Fe.authorizationErrorDetail),Be&&Be.authorizationCallback&&Be.authorizationCallback.apply(null,Array.prototype.slice.call(arguments)),qe=!0,Fe.preview?(e=Pe.isPreviewID(Fe.provider),e||Pe.updateState(Fe.isAuthorized,Fe.provider,Fe.TTL_AUTHN),!Fe.isAuthorized&&Pe&&Pe.onAuthorizationFailure&&Pe.onAuthorizationFailure()):Se&&(Fe.geoLocation?Ke&&(xe("calling authorizationCallbackFn from authorizationCallback"),Se.apply(null,Array.prototype.slice.call(Te)),Ke=!1):(xe("calling authorizationCallbackFn from authorizationCallback"),Se.apply(null,Array.prototype.slice.call(Te)),qe=!1),Se=null),Fe.isAuthorized?(xe("hiding slate, player instance available?",!!Me),O(),"programReauthorized"in Fe&&!Fe.programReauthorized&&!e&&(xe("possible adobe pass latency, reauthorizing with rating"),ne(Fe.resource,Fe.programRating,we.video),Fe.programReauthorized=!0)):(xe("showing slate, player instance available?",!!Me),P())}function P(e){xe("@blockContent"),xe("clearTimeout for unblockTimer"),clearTimeout(Ue.unblockTimer),Me&&Me.block?(xe("blocking"),Me.block(e||"You are not authorized to watch the current program."),ze=!0):Ue.blockTimer=setTimeout(P,2e3)}function O(){xe("@unblockContent"),xe("clearTimeout for blockTimer"),clearTimeout(Ue.blockTimer),Me&&Me.unblock?ze&&(xe("unblocking"),Me.unblock(e.md5("anvrocks")),ze=!1):Ue.unblockTimer=setTimeout(O,2e3)}function L(e,t){switch(xe("@setMetadataSatus",e,t),Fe[e]=t,e){case"homeZip":Fe.fetchedHomeZips=Fe.fetchedHomeZips||[],Fe.fetchedHomeZips.length<2&&Fe.fetchedHomeZips.push(t),xe("@setMetadataSatus fetchedHomeZips",JSON.stringify(Fe.fetchedHomeZips)),A("HOMEZIP_DETECTED",t),xe("@setMetadataStatus calling evaluateHomeZip"),Q();break;case"encryptedZip":Fe.fetchedEncryptedHomeZips=Fe.fetchedEncryptedHomeZips||[],Fe.fetchedHomeZips.length<2&&Fe.fetchedEncryptedHomeZips.push(t),xe("@setMetadataSatus fetchedEncryptedHomeZips",JSON.stringify(Fe.fetchedEncryptedHomeZips)),A("ENCRYPTED_HOMEZIP_DETECTED",t),Q();break;case"maxRating":t&&(Fe.maxRating="VCHIP"in t?t.VCHIP:t),A("MAX_RATING_DETECTED",Fe.maxRating);break;case"TTL_AUTHN":xe("TTL_AUTHN:",new Date(t))}}function x(){xe("showPicker"),Be.showPicker(!0)}function F(){return Fe}function U(e){xe("@registerPlayer"),Me=e}function V(e,t,n,r,i){xe("@getMediaJSON".media),l.getMediaJSON(e,t,n,r,i)}function G(e){xe("@getEntitlementRequirement",e),s&&s.getVideoMetadata(we.accessKey,e,j,H)}function H(e){d($e.ACTRL002.code),j()}function j(e){Fe.entitlementReqInfo={authenticationNeeded:!(e&&"video"in e&&"authorization"in e.video&&"mvpd"in e.video.authorization)||e.video.authorization.mvpd},De&&Re&&De.apply(null,Re)}function Y(e,t,n,r,a,o){if(xe("@loadVideoJSON",e,t,n,r,a),xe("SESSION: ",i.stringify(Fe,null,3)),Fe.selective){if(!Fe.entitlementReqInfo)return De=Y,Re=arguments,void G(n);if(Fe.entitlementReqInfo.authenticationNeeded){if(!Fe.isAuthenticated)return Qe=arguments,ke=Y,void(!1===Fe.isAuthenticated&&te(!0));Fe.selectiveByPass=!1}else Fe.selectiveByPass=!0}n==Fe.failoverChannel&&(xe("setting session.failoverChannelRequested = true"),Fe.failoverChannelRequested=!0),we&&(we.video=n),a?Fe.tkxToken=a:delete Fe.tkxToken,Fe.geoLocation&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(X,$,{maximumAge:6e4}),Se=K,Te=arguments,Fe.selectiveByPass||Fe.failoverChannelRequested||Fe.authorizer!=je||Fe.preview&&(!Fe.preview||"ENTITLEMENT"!=Pe.getState())?(Fe.authenticator==Ye&&we.accessControl&&we.accessControl.token&&(Fe.token=we.accessControl.token),xe("token:",Fe.token),qe=!0,Fe.geoLocation||Se.apply(null,Array.prototype.slice.call(Te))):ne(Fe.resource,Fe.programRating,we.video)}function K(e,t,n,r,a,o){xe("@secureLoadVideoJSON"),xe("SESSION:",i.stringify(Fe,null,3));var l=we.accessKey&&(a||Fe.tkxToken||we.token);if(we.accessKey&&we.enableJwtEvaluation&&l&&!q(n,l))return Oe=K,Le=arguments,void xe("deferred secureLoadVideoJSON as a callback for refreshJwt");Oe=null,Le=null,window.anvLoader.setTVEInstance(s),window.anvLoader.loadVideoJSON.apply(null,Array.prototype.slice.call(Te)),s&&we.accessKey&&s.getVideoJSON(we.accessKey,we,Fe,z,W.bind(null,o,n))}function q(t,n){var r=n.split(".");if(3==r.length){var i=e.base64Decode(r[1]),a=s.getTimeDelta(),o=(Date.now()+a)/1e3;try{i=JSON.parse(i)}catch(e){return!1}return i.vid!=t?(setTimeout(function(){A("JWT_ASSET_ID_MISMATCH",t,i.vid,n)},0),xe("JWT vid and asset id mismatch"),!1):!(o>i.exp)||(setTimeout(function(){A("JWT_EXPIRED",t,n)},0),!1)}return!0}function J(e,t,n){we&&(we.video=e),s&&we.accessKey&&s.getVideoJSON(we.accessKey,we,Fe,t,n)}function z(e){xe("@onVideoJSON",e),window.anvatoVideoJSONLoaded(e)}function W(e,t,n){var r,a;xe("@onVideoJSONError",i.stringify(n,null,3));var o={10:"ACTRL071",711:"ACTRL072"};"object"==typeof n?n.sdkErrorCode?d(n.sdkErrorCode):383==n.code?(r="The accessKey is restricted",n.cause&&n.cause.access_rule&&(a=n.cause.access_rule,r+=" | Access rule: "+a.rule_id),d("ACTRL073",r)):n.code in o?d(o[n.code]):d("ACTRL079","Generic backend error | "+n.user_msg):"string"==typeof n&&d("ACTRL079","Generic backend error | "+n),"function"==typeof e&&e(t)}function Z(){xe("@getSchedule"),s&&we.accessKey&&s.getSchedule(we.accessKey,we,Fe,ae,oe)}function X(e){var t=e.coords.latitude,n=e.coords.longitude;Fe.latitude=t,Fe.longitude=n,xe("COORDINATES:",t,n),A("GEOLOCATION_STATUS",n,t,null),ee()}function $(e){1==e&&xe("User did not allow geoLocation service"),A("GEOLOCATION_STATUS",null,null,"geoLocation failed to get coordinates"),Fe.latitude="",Fe.longitude="",ee()}function ee(){Ke=!0,Se&&qe&&(xe("calling authorizationCallback from geoCallback"),Se(),Ke=!1,qe=!1)}function te(e){xe("@authenticate",e);Fe.preview&&Pe&&Pe.onAuthenticationRequested(),Be&&Be.authenticate(e)}function ne(e,t,n){xe("@authorize",e,t,n);var r;Fe.authorizer&&Be&&!Fe.authorizationInProgress?(Fe.authorizationInProgress=!0,Be.authorize(e,t,n),Ue.adobeAuthorize=Ue.adobeAuthorize||[],xe("setting timeout for authZ"),r=setTimeout(function(){d($e.ACTRL052.code),P($e.ACTRL052.info)},1e3*Fe.timeOut),Ue.adobeAuthorize.push(r),xe("timers.adobeAuthorize timer #",Ue.adobeAuthorize?Ue.adobeAuthorize.length:"")):Fe.authorizationInProgress&&xe("cancelling authorize call since one is in progress now")}function re(e){Ne=e}function ie(e,t){xe("@onProgramChanged",e,t),(!Fe.fetchingMetadata&&e||t&&t>10)&&(Fe.eventId=e,Fe.upid=t,s?(Fe.fetchingMetadata=!0,s.getMetadata(we.accessKey,e,t,se,le),s.getSchedule(we.accessKey,we,Fe,ae,oe)):(Fe.fetchingMetadata=!1,se()))}function ae(e){var t,n,r,a,o={current_event:"PROGRAM_CHANGED",next_event:"NEXT_PROGRAM"};for(var s in o)o.hasOwnProperty(s)&&(r=e&&e[s]?e[s]:null,a=e&&e[s]?{title:e[s].def_title||e[s].title}:{},t=e&&e[s]?e[s].event_id:null,n=e&&e[s]?e[s].upid:null,e&&e[s]&&e[s].custom_metadata_map&&(a.description=e[s].custom_metadata_map.rovi_long_description,a.rating=e[s].custom_metadata_map.rovi_tv_rating,a.mvpdAuthenticationNeeded="yes"==e[s].custom_metadata_map.authenticated,a.tveCheckNeeded="yes"==e[s].custom_metadata_map.tveauthorized)),"PROGRAM_CHANGED"==o[s]&&(Me&&"updateMetadata"in Me?Me.updateMetadata(t,n,a,r,"schedule"):xe("playerObject is not ready/registered for updateMetadata call!")),"NEXT_PROGRAM"==o[s]&&A(o[s],t,n,a,r);Me&&"onScheduleLoaded"in Me&&Me.onScheduleLoaded(),xe("@onSchedule",i.stringify(e,null,3))}function oe(e){xe("@onScheduleError",e),Me&&"onScheduleLoaded"in Me&&Me.onScheduleLoaded()}function se(e){Fe.fetchingMetadata=!1,xe("@onMetadata",i.stringify(e,null,3));var t,n=e&&e.event?e.event:null,r=e&&e.event?{title:e.event.def_title}:{};we.debug&&(n.def_title=we.debug+n.def_title,r.title=we.debug+r.title),e&&e.event&&e.event.custom_metadata_map&&(r.description=e.event.custom_metadata_map.rovi_long_description,r.rating=e.event.custom_metadata_map.rovi_tv_rating,r.mvpdAuthenticationNeeded="yes"==e.event.custom_metadata_map.authenticated,r.tveCheckNeeded="yes"==e.event.custom_metadata_map.tveauthorized,Fe.callsign=e.event.def_callsign),Fe.programRating=r.rating,xe("@onMetadata session:",i.stringify(Fe,null,3)),Me?Me.parentNode?(window.proxyDispatcher&&"dispatch"in window.proxyDispatcher&&window.proxyDispatcher.dispatch({name:"PROGRAM_CHANGED",info:"Live program has changed",args:[Fe.eventId,Fe.upid,r,n]}),g("PROGRAM_CHANGED",[Fe.eventId,Fe.upid,r,n])):"updateMetadata"in Me&&Me.updateMetadata(Fe.eventId,Fe.upid,r,n,"metadata"):console.error("Failed to update metadata; playerObject is not available"),Fe.programReauthorized=!1,Fe.onDemand||Fe.preview&&(!Fe.preview||"ENTITLEMENT"!=Pe.getState())||(ne(Fe.resource,r.rating,we.video),Fe.programReauthorized=!0),Fe.onDemand&&(xe("@onMetadata",Fe.eventId,Fe.callsign),(t=Ve.platform.lookupItem(Fe.eventId,Fe.callsign))&&(Fe.programRating="NR"==t.rating?"TV-Y":t.rating,xe("@onMetadata item found",!!t,Fe.programRating,t.authenticated),t.authenticated&&(ne(Fe.resource,t.programRating),Fe.programReauthorized=!0))),Fe.authenticator!=je&&r.tveCheckNeeded&&(xe("@onMetadata calling evaluateHomeZip directly:",Fe.authenticator!=je,r.tveCheckNeeded),Fe.maxRating=we.user?we.user.maxRating:null,Fe.fetchedHomeZips=[we.user?we.user.homeZip:null],Fe.fetchedEncryptedHomeZips=[we.user?we.user.encryptedHomeZip:null],Fe.tveCheckInProgress=!0,Q())}function le(e){Fe.fetchingMetadata=!1,A(We.PLAYER_ERROR,$e.ACTRL001.code,$e.ACTRL001.info,$e.ACTRL001.isCritical)}function ue(){xe("@onUserInteraction"),Pe&&Pe.onUserInteraction()}function ce(e,t){xe("@sendSelectedProviderInfo",e.ID,t,!!Be,!!Be.sendSelectedProviderInfo),Be&&Be.sendSelectedProviderInfo(e,t)}function de(){Be&&Be.onProviderIFrameDestroyed()}function Ae(){Be&&Be.onProviderPopupBlocked()}function ge(){Be&&Be.onProviderPopupDisplayed()}function pe(e,t){xe("@setSelectedProvider",e,t),ce({ID:e},t)}function fe(e){Be&&Be.setConfig(e)}function he(e){Fe.currentStationInfo=e}function me(){return Pe?Pe.getPreviewState():null}function Ee(e){xe("@setFailoverChannel",e),Fe.failoverChannel=e}function ve(e){we.accessControl.token=e,xe("token updated")}function ye(e){we.accessControl.mvpd=e,xe("mvpd updated")}function Ie(e,t){xe("@checkPreauthorizedResources",e),_e=t,Je&&Fe.isAuthenticated?Be.checkPreauthorizedResources(e):be(e)}function be(e){xe("@onPreauthorizedResources",e),_e&&_e(e)}function Ce(e,t){xe("@refreshToken",e),"function"==typeof Oe&&(Le[4]=t,Fe.tkxToken=t,Oe.apply(null,Array.prototype.slice.call(Le)))}var Be,we,Se,Te,ke,Qe,De,Re,_e,Me,Ne,Pe,Oe,Le,xe=i?i.getLogFn("AccessControl"):function(){console.log.apply(console,["[!AccessControl!]\t"].concat(Array.prototype.slice.call(arguments)))},Fe={geoLocation:!1,requestor:null,provider:null,profile:null,authenticator:null,authorizer:null,isAuthenticated:null,resource:null,isAuthorized:null,token:null,eventId:null,dataSource:null,preview:!1},Ue={},Ve={},Ge="mcp",He="mpx",je="adobepass",Ye="alternate",Ke=!1,qe=!1,Je=!1,ze=!1,We={},Ze={},Xe=[],$e={},et=[];return function(){xe("registering events"),u("PROGRAM_CHANGED","Live program has changed"),u("NEXT_PROGRAM","Next program information has arrived"),u("AUTHENTICATION_STATUS","Authentication status has changed"),u("AUTHORIZATION_STATUS","Authorization status has changed"),u("HOMEZIP_DETECTED","Userâs home zip detected"),u("ENCRYPTED_HOMEZIP_DETECTED","Userâs home zip detected"),u("MAX_RATING_DETECTED","Userâs allowed max rating detected"),u("PROVIDER_SELECTED","User selected a provider/previously selected provider has been set"),u("GEOLOCATION_STATUS","Userâs geolocation information updated"),u("PLAYER_ERROR","Player has thrown an error"),u("JWT_EXPIRED","Provided JWT has expired"),u("JWT_ASSET_ID_MISMATCH","Provided JWT has mismatching asset id")}(),function(){xe("registering errors"),c("ACTRL001","Failed to retrieve the metadata",!1),c("ACTRL002","Failed to retrieve the video metadata",!1),c("ACTRL010","Failed to retrieve the TVE rights",!1),c("ACTRL020","The user's maximum allowed rating is smaller than program's rating",!0),c("ACTRL021","Provided rating string does not have the standard format",!1),c("ACTRL030","Adobe Pass authentication failed",!0),c("ACTRL031","Adobe Pass authorization failed",!0),c("ACTRL040","The user's geo-station doesn't match the streaming station",!0),c("ACTRL041","The user doesn't have home station rights.",!0),c("ACTRL042","The user doesn't have geo station rights.",!0),c("ACTRL043","The user doesn't have TVE rights.",!0),c("ACTRL050","Adobe Pass failed to respond within the specified time out limit.",!0),c("ACTRL051","Adobe Pass failed to check authentication within the specified time out limit.",!0),c("ACTRL052","Adobe Pass failed to check authorization within the specified time out limit.",!0),c("ACTRL060","Adobe Pass did not return any valid service zip",!1),c("ACTRL070","Failed to generate security token. Possible reason: accessKey is not recognized",!0),c("ACTRL071","Failed to retrieve the content. Possible reason: the content is either invalid or not provisioned for the accessKey",!0),c("ACTRL072","Cannot access this video or channel.",!0),c("ACTRL073","The accessKey is restricted.",!0),c("ACTRL079","Generic backend error",!0)}(),window.onProgramChanged=ie,{init:p,isCookiesEnabled:m,setListener:re,registerPlayer:U,onProgramChanged:ie,setStationInfo:he,setFailoverChannel:Ee,processMpxRequest:E,getSmilPlaylist:I,getFeed:v,getItemWithGuid:y,getSmilResource:b,getChannelObj:B,filterSmilPlaylist:w,loadVideoJSON:Y,getVideoJSON:J,getSchedule:Z,onReadyCallback:S,preauthorizedResources:be,onProviderSelected:T,authorizationCallback:k,setMetadataStatus:L,onProviderIFrameDestroyed:de,onProviderPopupBlocked:Ae,onProviderPopupDisplayed:ge,showPicker:x,sendSelectedProviderInfo:ce,setSelectedProvider:pe,setConfig:fe,getSession:F,authenticate:te,authorize:ne,onUserInteraction:ue,getPreviewState:me,getMediaJSON:V,setToken:ve,setMVPD:ye,refreshJwt:Ce}}return i}),anv.define("Logger",["util"],function(e){function t(t,n,r,i,a,o){function s(n,r){var i;t&&(n in h?i=h[n]:(i=e.md5(n),i="#7"+i.substr(3,5),h[n]=i),(!b||b&&n in b)&&console.log("%c "+r,"color: "+i)),y&&y(r),m>=v&&(f.shift(),m--),f.push(r),m++,++E%v==0&&o&&a.dispatchEvent({name:"LOG_CHUNK",info:"Player has sent a key-value pair",time:l(),args:[Math.floor(E)/v,f]})}function l(e){var t,n,r,a,o,s,l;return t=e?i?new Date(e):e:new Date,i?(n=t.getHours(),r=t.getMinutes(),a=t.getSeconds(),o=t.getMilliseconds()):(s=t-I,n=Math.floor(s/1e3/60/60),s-=1e3*n*60*60,r=Math.floor(s/1e3/60),s-=1e3*r*60,a=Math.floor(s/1e3),s-=1e3*a,o=s),n<10&&(n="0"+n),r<10&&(r="0"+r),a<10&&(a="0"+a),o<10?o="00"+o:o<100&&(o="0"+o),l=[r,a,o],i&&l.unshift(n),"("+l.join(":")+")"}function u(){if(t){var e=Array.prototype.slice.call(arguments,1),r=n?l():"",i="["+arguments[0]+"] \t"+e.join(" ")+"\t "+r;s(arguments[0],i)}}function c(){return f}function d(e){return t?JSON.stringify(e):null}function A(e){if(C){g=g||0,p=p||0;var t=performance.now(),n=t-g;g&&(p+=n);var r="[PERF] @"+e+"\t\t delta:"+parseInt(n)+"\t cumulativeDelta:"+parseInt(p);console.log("%c "+r,"color: blue;font-weight: bold;"),g=t}}var g,p,f=[],h={PluginLoader:"#0000ff"},m=0,E=0,v=r||50,y=null,I=(new Date).getTime(),b=!1,C=e.getParameterByName("anvperf");return C="1"==C||"true"==C,{getLogFn:function(e){return function(){var t=[e].concat(Array.prototype.slice.call(arguments));u.apply(null,t)}},on:function(e){if("object"==typeof e&&e.length){b=[];for(var n=0,r=e.length;n<r;n++)b[e[n]]=1}t=!0},off:function(){t=!1},displayLogs:function(){for(var e=0;e<m;e++)console.log(f[e])},getTotalLogs:function(){return m},setExposeFn:function(e){y=e},getTime:function(e){return l(e).replace("(","").replace(")","")},getInitialOffset:function(){return I},getLogs:c,stringify:d,perf:A}}return t}),anv.define("PlayerSelector",["util"],function(e){function t(n,r,i,a,o){function s(){E={},E[v.players.MSE]={},E[v.players.HTML5]={},E[v.players.FLASH]={},E[v.players.DASH]={},E[v.players.SHAKA]={},E[v.players.AUDIO]={},E[v.players.AUDIO][v.formats.MP3]=!0,E[v.players.AUDIO][v.formats.AAC]=l(v.formats.AAC),E[v.players.MSE][v.formats.HLS_LIVE]=!!window.MediaSource,E[v.players.MSE][v.formats.HLS_VOD]=!!window.MediaSource,E[v.players.MSE][v.formats.MP4_BP]=!1,E[v.players.MSE][v.formats.MP4]=!1,E[v.players.MSE][v.formats.DASH_VOD]=!1,E[v.players.MSE][v.formats.DASH_LIVE]=!1,E[v.players.MSE][v.formats.HDS]=!1,E[v.players.FLASH][v.formats.HLS_LIVE]=h,E[v.players.FLASH][v.formats.HLS_VOD]=h,E[v.players.FLASH][v.formats.MP4_BP]=h,E[v.players.FLASH][v.formats.MP4]=h,E[v.players.FLASH][v.formats.DASH_VOD]=!1,E[v.players.FLASH][v.formats.DASH_LIVE]=!1,E[v.players.FLASH][v.formats.HDS]=!0,E[v.players.HTML5][v.formats.HLS_LIVE]=l(v.formats.HLS_LIVE),E[v.players.HTML5][v.formats.HLS_VOD]=l(v.formats.HLS_VOD),E[v.players.HTML5][v.formats.MP4]=l(v.formats.MP4),E[v.players.HTML5][v.formats.MP4_BP]=l(v.formats.MP4_BP),E[v.players.HTML5][v.formats.DASH_VOD]=!1,E[v.players.HTML5][v.formats.DASH_LIVE]=!1,E[v.players.HTML5][v.formats.HDS]=!1,o.excludedModules&&"DashVideo"in o.excludedModules?delete v.players.DASH:(E[v.players.DASH][v.formats.HLS_LIVE]=!1,E[v.players.DASH][v.formats.HLS_VOD]=!1,E[v.players.DASH][v.formats.MP4]=!1,E[v.players.DASH][v.formats.MP4_BP]=!1,E[v.players.DASH][v.formats.DASH_LIVE]=!0,E[v.players.DASH][v.formats.DASH_VOD]=!1,E[v.players.DASH][v.formats.HDS]=!1),o.excludedModules&&"ShakaVideo"in o.excludedModules?delete v.players.SHAKA:(E[v.players.SHAKA][v.formats.HLS_LIVE]=!1,E[v.players.SHAKA][v.formats.HLS_VOD]=!1,E[v.players.SHAKA][v.formats.MP4]=!1,E[v.players.SHAKA][v.formats.MP4_BP]=!1,E[v.players.SHAKA][v.formats.DASH_LIVE]=!1,E[v.players.SHAKA][v.formats.DASH_VOD]=!0,E[v.players.SHAKA][v.formats.HDS]=!1),r&&"tagName"in r&&"VIDEO"==r.tagName||(r=document.createElement("video"))}function l(e,t,n){var a,o;e?o=y[e]:t&&(a=(t.split("?")[0].match(/.*\.(.*)$/)||[])[1],o=n||m[a]||[]),o=o.constructor===Array?o:[o];for(var s=0,l=o.length;s<l;s++)if(/audio/.test(o[s])&&i.canPlayType){if(p("evaluating",o[s],i.canPlayType(o[s])),""!=i.canPlayType(o[s]))return p("Native player can play",e,"with codec",o[s]),!0}else if(r.canPlayType&&(p("evaluating",o[s],r.canPlayType(o[s])),""!=r.canPlayType(o[s])))return p("Native player can play",e,"with codec",o[s]),!0;return p("Native player can NOT play",e,"with any codecs listed"),!1}function u(e,n,r,i){p("@getSelection selectionType:",n);var a,o,s;if(n==t.SelectionTypes.PLAYER_PRIORITY){for(a in v.players)if(v.players.hasOwnProperty(a))for(o in v.formats)if(v.formats.hasOwnProperty(o)&&(r&&o in r||!r)){if(e.isLive&&o==v.formats.HLS_VOD||!e.isLive&&o==v.formats.HLS_LIVE)continue;if(E[a][o])return{selectedPlayer:a,selectedFormat:o}}}else if(n==t.SelectionTypes.FORMAT_PRIORITY){for(o in v.formats)if(v.formats.hasOwnProperty(o)&&(r&&o in r||!r))for(a in v.players)if(v.players.hasOwnProperty(a)){if(e.isLive&&o==v.formats.HLS_VOD||!e.isLive&&o==v.formats.HLS_LIVE)continue;if(E[a][o])return{selectedFormat:o,selectedPlayer:a}}}else if(n==t.SelectionTypes.STRICT_MEDIA_URL_ORDER)for(var l=0,u=i.length;l<u;l++){s=i[l].convertedFormatName;for(a in v.players)if(v.players.hasOwnProperty(a)&&(r&&s in r||!r)){if(e.isLive&&s==v.formats.HLS_VOD||!e.isLive&&s==v.formats.HLS_LIVE)continue;if(E[a][s])return{selectedPlayer:a,selectedFormat:s,selectedFormatIndex:l}}}return null}function c(e,t){p("@blackListCapability",e,t),E[e][t]=!1}function d(e){var t={m3u8:/\.m3u8/,mp4:/\.mp4/,mp3:/\.mp3/,dash:/\.mpd/,aac:/\.aac/,hds:/\.hds/};if(e.format)return e.format;for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e.embed_url))return n}function A(t,n){for(var r,i,a,s={},l=[],u=0,c=t.length;u<c;u++)if(r=t[u],p("format",r.format),r.format||(r.format=d(r)),r.format){if(r.format=r.format.toLowerCase(),r.format.indexOf("m3u8")>-1)i=n?v.formats.HLS_LIVE:v.formats.HLS_VOD,e.getDeviceInfo.safari&&(o.drm||"license_url"in r||o.nativeHlsOnSafari||o.nativeHlsOnSafariForVod&&!n||o.nativeHlsOnSafariForLive&&n)&&(E[v.players.MSE][i]=!1);else if(/mp4.*bp/.test(r.format))i=v.formats.MP4_BP;else if(r.format.indexOf("mp4")>-1)i=v.formats.MP4;else if(/dash|mpd/.test(r.format))i=n?v.formats.DASH_LIVE:v.formats.DASH_VOD;else if(/hds/.test(r.format))i=v.formats.HDS;else if(/mp3/.test(r.format))i=v.formats.MP3;else{if(!/aac/.test(r.format)){p("skipping unrecognized format:",r.format);continue}i=v.formats.AAC}a=!1;for(var A in v.players)v.players.hasOwnProperty(A)&&(E[A][i]?(a=!0,s[i]||(s[i]={canPlay:E[A][i]})):p("skipping",i,"addition to filtered for",A));a&&(r.convertedFormatName=i,l.push(r))}return{filtered:l,filteredTypes:s}}function g(e,t,n){E[e][t]=n}a&&"string"!=typeof a||(a=e.getLogger(a));var p=a.getLogFn("PlayerSelector"),f=e.getDeviceInfo,h=!!(f.pv&&f.pv[0]&&f.pv[0]>=11),m={mp4:["avc1.42E01E","avc1.58A01E","avc1.4D401E","avc1.64001E","mp4v.20.8","mp4v.20.240","mp4a.40.2"].map(function(e){return'video/mp4; codecs="'+e+'"'}),ogg:['video/ogg; codecs="theora, vorbis"','video/ogg; codecs="dirac"','video/ogg; codecs="theora, speex"'],"3gpp":['video/3gpp; codecs="mp4v.20.8, samr"'],webm:['video/webm; codecs="vp8, vorbis"'],mkv:['video/x-matroska; codecs="theora, vorbis"'],m3u8:["application/x-mpegurl"]};m.ogv=m.ogg,m["3gp"]=m["3gpp"];var E,v={players:{SHAKA:"SHAKA",DASH:"DASH",MSE:"MSE",HTML5:"HTML5",FLASH:"FLASH",AUDIO:"AUDIO"},formats:{DASH_VOD:"DASH_VOD",DASH_LIVE:"DASH_LIVE",HLS_LIVE:"HLS_LIVE",HLS_VOD:"HLS_VOD",MP4_BP:"MP4_BP",MP4:"MP4",HDS:"HDS",
MP3:"MP3",AAC:"AAC"}},y={HLS_LIVE:["application/x-mpegurl"],HLS_VOD:["application/x-mpegurl"],MP4_BP:['video/mp4; codecs="avc1.42E01E, mp4a.40.2"','video/mp4; codecs="avc1.58A01E, mp4a.40.2"'],MP4:m.mp4,AAC:["audio/aac"]};return s(),p("mimetypes:",a.stringify(m,null,3)),p("capabilityLookup:",a.stringify(E,null,3)),{canPlayType:l,filterPublishedUrls:A,getSelection:u,blackListCapability:c,resetCapabilities:s,overrideCapability:g}}return t.SelectionTypes={PLAYER_PRIORITY:0,FORMAT_PRIORITY:1,STRICT_MEDIA_URL_ORDER:2},t}),anv.define("Video",["util"],function(e){function t(t,n,r,i){function a(e){o("onWaiting")}function o(e){var n=fe();n=Math.max(n,0),!ye.paused&&he()&&("onWaiting"==e?(Ge=n,clearTimeout(Qe.checkBufferOnWaiting),Qe.checkBufferOnWaiting=setTimeout(o,Ue)):Math.floor(n)==Math.floor(Ge)&&n<Ve&&ye.duration-ye.currentTime>Ve&&t.publish("streamError","PLAY490"))}function s(e){Re("@onStalled",e.type)}function l(e){Re("@onEmptied",e.type)}function u(t,n,r){"string"==typeof t&&(t=e.getElementById(i.pInstance,t)),Re("initializing video"),t.width=t.parentNode.clientWidth,t.height=t.parentNode.clientHeight,t.style.display="block",ye=t;for(var a in Me)Me.hasOwnProperty(a)&&e.addEventListener(ye,a,Me[a],!1);Re("video initialized")}function c(e){var t=new Uint16Array(e.buffer);return String.fromCharCode.apply(null,t)}function d(e){Re("@extractContentId",e);var t=c(e);return t=t.replace(/.*skd:\/\//g,"")}function A(t){var n,r,i,a,o,s,l=0;return"string"==typeof t.id&&(t.id=e.stringToUint16Array(t.id)),r=t.initData.byteLength+4+t.id.byteLength+4+t.cert.byteLength,n=new ArrayBuffer(r),i=new DataView(n),a=new Uint8Array(n,0,t.initData.byteLength),a.set(t.initData),l+=t.initData.byteLength,i.setUint32(l,t.id.byteLength,!0),l+=4,o=new Uint16Array(n,l,t.id.length),o.set(t.id),l+=o.byteLength,i.setUint32(l,t.cert.byteLength,!0),l+=4,s=new Uint8Array(n,l,t.cert.byteLength),s.set(t.cert),new Uint8Array(n,0,n.byteLength)}function g(n,a){function o(n){Re("@handleMessage");var i=n.target,a={spc:e.uint8ArrayToBase64(n.message),assetid:s};Re("@handleMessage",r.stringify(a,null,3)),e.sendPostRequest(Pe.servers["com.apple.fps.1_0"],JSON.stringify(a),function(n){Re("license server response:",n,typeof n);try{n=JSON.parse(n)}catch(e){console.error("Failed to parse fairplay license server response")}var r=n.ckc.trim(),a=e.base64ToUint8Array(r);try{i.update(a)}catch(e){t.publish("streamError","DRM020")}},null,null,null,"application/json"),Re("Requesting license")}var s=d(a),l=Ce||i.drm&&i.drm.certificate;l||(l="MIIE6jCCA9KgAwIBAgIILoPvydLY59owDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTYwNTAzMTQzNjEzWhcNMTgwNTA0MTQzNjEzWjB6MQswCQYDVQQGEwJVUzEgMB4GA1UECgwXTkJDVW5pdmVyc2FsIE1lZGlhLCBMTEMxEzARBgNVBAsMClZGQlNEM0VWSjMxNDAyBgNVBAMMK0ZhaXJQbGF5IFN0cmVhbWluZzogTkJDVW5pdmVyc2FsIE1lZGlhLCBMTEMwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAMKj63AuNhgETv/0jXkE5Ha0AFXQZbakNHAcChVtgNbZ40YCzckDTo6h0xojoLSIRP5y+ZoFbsYud/JKm7zGXb6rPriWXc0UbemiXBe4KOMbpfbJZG5XNEDKfqQT1a4GAQGrMeQYGwZlEL1pJ+/bSEQwP67OnCCCtk+1W7uJtG8NAgMBAAGjggHxMIIB7TAdBgNVHQ4EFgQUZfwXeHSN9LSnRF2UopFDq1D8JlwwDAYDVR0TAQH/BAIwADAfBgNVHSMEGDAWgBRj5EdUy4VxWUYsg6zMRDFkZwMsvjCB4gYDVR0gBIHaMIHXMIHUBgkqhkiG92NkBQEwgcYwgcMGCCsGAQUFBwICMIG2DIGzUmVsaWFuY2Ugb24gdGhpcyBjZXJ0aWZpY2F0ZSBieSBhbnkgcGFydHkgYXNzdW1lcyBhY2NlcHRhbmNlIG9mIHRoZSB0aGVuIGFwcGxpY2FibGUgc3RhbmRhcmQgdGVybXMgYW5kIGNvbmRpdGlvbnMgb2YgdXNlLCBjZXJ0aWZpY2F0ZSBwb2xpY3kgYW5kIGNlcnRpZmljYXRpb24gcHJhY3RpY2Ugc3RhdGVtZW50cy4wNQYDVR0fBC4wLDAqoCigJoYkaHR0cDovL2NybC5hcHBsZS5jb20va2V5c2VydmljZXMuY3JsMA4GA1UdDwEB/wQEAwIFIDBFBgsqhkiG92NkBg0BAwEB/wQzAW0wZ3U1aHFsaWtzZ3RwejV2dzZ6NjAxYmt0a3N1eXRsaDV5c2dwanVqcmFhM3J3cmpkMCoGCyqGSIb3Y2QGDQEEAQH/BBgBYWJnZDBzZWJ4YW1yamdzZDBzcHYxYWcwDQYJKoZIhvcNAQEFBQADggEBAA/Plel/Jqzsuu/z4bK7/n2lPeAXr0cyebPO/rTSD75JsQScgF5vkEUqzYxGoJhDovWadr/VK5QCfRs3ms1WKIyMJm4rbTFs6VTxtprBBSeTQbWJcmN7bhvkykcr9CA7PDKO/qEkn2j6qAUTA4Zc7d/Y3fge6NlGwjv2yuEufjhNekpZXXZ/Pw5ldaQstHHezAYamkAnPheKIjcjoMfuQ0/AzlcLBFAUEIbYrDE1UHn0mJS2BatlK6HczRnhzukioy3h4VCwWIqUVcUlkQ+6Gm/zNQVuPdq/329IrZh8rg63yIfNC7rKDUORZPiF2XSR3uUg0QxYtJUrpG/f+M9yN9Q=",t.publish("backupFairplayCertUsed"));var u=A({id:s,initData:a,cert:e.base64ToUint8Array(l)}),c=n.webkitKeys.createSession("video/mp4",u);if(!c)return void console.error("[JSHls] Failed create session on webkitKeys");c.addEventListener("webkitkeymessage",o),c.addEventListener("webkitkeyadded",function(){Re("createFairplaySession->webkitkeyadded",event)}),c.addEventListener("webkitkeyerror",function(){Re("createFairplaySession->webkitkeyerror",event)})}function p(e,t,n,i){Re("@initMediaKeys",e,r.stringify(t,null,3),85);return t&&(t[e]=!1),new Promise(function(r,a){Re("@Promise",e),"com.apple.fps.1_0"==e?"WebKitMediaKeys"in window?i&&!n?(t&&(t[e]=!0),r()):n&&(n.webkitKeys||n.webkitSetMediaKeys(new window.WebKitMediaKeys(e)),n.webkitKeys?(t&&(t[e]=!0),r()):i?r():a()):i?r():a():(Re("non-fairplay not supported"),i?r():a())})}function f(){Re("detectDrmSupport"),Oe={},p("com.apple.fps.1_0",Oe,null,!0).then(function(){Re("@detectDrmSupport",JSON.stringify(Oe,null,3))})}function h(e){Re("@onEncrypted",r.stringify(Oe,null,3))}function m(e){Re("@onWebkitNeedKey",e,e.initData);try{g(ye,e.initData)}catch(e){console.error("Failed to create session",e)}}function E(n,a,o,s){Ce=null,Se.lastPosition=0,Se.marked=0,Se.persistCounter=0,Le=0,xe=-1,Re("@setSource with",r.stringify(n)),e.safeSetInnerHtml(ye,""),ye.removeAttribute("src");var l,u,c=document.createElement("source"),d=s?n.backup_url:n.embed_url,A=!1;_e=!1;var g=function(){Re("supported drms",r.stringify(Oe,null,3)),c.src=u,ye.appendChild(c),ye.load(),Ie=u,_e=!0};switch(c.onerror=x.bind(c,"source",a),ye.onerror=x.bind(ye,"video",a),n.format){case"mp4":case"mp4bp":case"m3u8":case"m3u8-variant":c.type="video/mp4";break;case"webm":c.type="video/webm"}Re("@setSource initial url",d,"openCaptions",we),we?(l=d.indexOf("?")>-1?"&":"?",u=d+l+"caption=open"):(u=d,u=u.replace(/.caption=open/,"")),Re("@setSource final url",u),Pe=i.drm||n.drm||n.license_url,Pe?(Re("drm config detected"),"string"==typeof Pe&&(Pe={servers:{"com.widevine.alpha":Pe,"com.microsoft.playready":Pe,"com.apple.fps.1_0":Pe}},n.fp_cert&&n.fp_cert.payload&&(Ce=n.fp_cert.encrypted?e.aesStdDecrypt("cbc",n.fp_cert.payload,n.anvrid.slice(0,16),"base64",n.anvrid.slice(16).padStart(16,"0"),e.paddingSchemes.PKCS7):n.fp_cert.payload)),p("com.apple.fps.1_0",null,ye,!0).then(function(){for(var e in Oe)if(Oe.hasOwnProperty(e)&&Oe[e]){A=!0;break}A?g():t.publish("streamError","DRM004")}).catch(function(e){x.bind(ye)("setSource",a),Re("Failed to initialize media keys"),t.publish("streamError","DRM002")})):g(),isNaN(n.kbps)||t.publish("bitrateChanged",parseInt(n.kbps))}function v(n){var r=n.track,a=i.styleNativeCaptions;"metadata"==r.kind?r.mode="showing":r.kind in{subtitles:1,captions:1}&&(r.mode=Ne.isEnabled?"showing":"hidden",Re("@onAddTrack set mode to",r.mode,"due to closedCaptionStatus.isEnabled",Ne.isEnabled),r.oncuechange=function(e){var n=e.target||e.srcElement||e.currentTarget;if(n&&n.cues&&n.cues.length&&!De[n.language]&&(De[n.language]=!0,a?(t.publish("captionUpdate",[{format:"custom",language:n.language}]),t.publish("captionLoaded",!1)):(t.publish("embeddedCaptionDetected",r.language),t.publish("toggleCaptionSettingButton",!1))),a&&n.activeCues&&n.activeCues.length){clearTimeout(Qe.delay608CueChange),delete Qe.delay608CueChange;var i=y(n.activeCues),o=I(i.splice(0,3));t.publish("caption608Updated",o,n.language),i.length>0&&b(i,n.language)}}),Re("@onAddTrack",r.kind),e.addEventListener(r,"cuechange",C)}function y(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].text;if(r&&r.length<=32)t.push(r);else{for(var i=r.split(" "),a="";i.length;){var o=i.shift();0==a.length||a.length+o.length<32?a+=o+" ":(t.push(a),a=o+" ")}a.length>0&&t.push(a)}}return t}function I(e){for(var t=15-e.length,n={},r=0;r<e.length;r++)n[t+r]=e[r];return n}function b(e,n){Qe.delay608CueChange=setTimeout(function(){var r=e.splice(0,3),i=I(r);t.publish("caption608Updated",i,n),e.length>0&&b(e,n)},1500)}function C(e){B(e)}function B(e){var n,r,i={};e&&e.target&&"metadata"==e.target.kind&&e.target.activeCues&&e.target.activeCues.length&&e.target.activeCues[0].value&&(n=e.target.activeCues[0],"org.id3"==e.target.activeCues[0].type&&(Re("textTrack detected with metadata kind detected on cuechange event includes id3 type cues"),r=n.value.info,i=/nielsen/.test(r.toLowerCase())?"nielsen":/anvato/.test(r.toLowerCase())?"anvato":"unknown",Re("id3:",r),t.publish("id3TagDetected",r,i)))}function w(){t.publish("loadedmetadata",this.duration,this.readyState),ye&&ye.textTracks&&(e.removeEventListener(ye.textTracks,"addtrack",v),e.addEventListener(ye.textTracks,"addtrack",v))}function S(){t.publish("loadeddata",this.duration)}function T(){Re("oncanplay"),t.publish("videoReady2Play","canplay")}function k(){Re("oncanplaythrough")}function Q(){Re("onprogress",ye.readyState,ye.networkState);var e;ye.buffered&&ye.buffered.length&&(e=ye.buffered.end(ye.buffered.length-1),Re("@progress->bufferEnd",e),t.publish("bufferLimitUpdated",e))}function D(){Re("onplay")}function R(){Re("@onPaused");var e=(n.iphone||n.ipod)&&Be,r="isPauseInternal"in ye?!ye.isPauseInternal:e;t.publish("evaluatePausedState"),Math.abs(ye.duration-ye.currentTime)<=1&&(ye.isPauseInternal=!1),r||t.publish("userEvent","IMPLICIT_PAUSE"),e&&(Re("onpause"),r&&t.publish("userEvent","USER_PAUSE",ye.isPauseInternal)),delete ye.isPauseInternal}function _(){Re("onplaying"),ce(!1),t.publish("playing"),he()&&ye.currentTime>K()&&te()}function M(){if(Re(" # ended"),!_e)return void Re("ignoring ended event observed before video load");Se.lastPosition=0,Se.marked=0,Se.persistCounter=0,t.publish("completedVideoContent"),Ne.isEnabled&&(Ne.isPauseCleanupEnabled=!0,toggleClosedCaptions(!1,null,!0))}function N(){Re("seeking")}function P(){Re("@onSeeked"),t.publish("videoReady2Play","seeked")}function O(e,t){Ee=e,ve=t,ye.width=e,ye.height=t}function L(e){Se.lastPosition=Se.lastPosition||0,Se.marked=Se.marked||0,Se.persistCounter=Se.persistCounter||0,Math.abs(e-Se.lastPosition)<2?Se.lastPosition=e:(Math.abs(e-Se.marked)<2?(Se.marked=e,Se.persistCounter++):(Se.marked=e,Se.persistCounter=0),Se.persistCounter>5&&(Re("seek detected from",Se.lastPosition,"to",Se.marked),(n.iphone||n.ipod||Be||n.ott)&&ye.duration!=1/0&&t.publish("userEvent",Se.marked>Se.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",Se.lastPosition,Se.marked),Se.lastPosition=e,Se.marked=0,Se.persistCounter=0))}function x(e,n,r){console.error("@onVideoError",e,r,r.message);var i,a,o;return _e?("source"==e?i=this.parentNode:"video"==e&&(i=this),i&&i.error&&(Re("video error message",i.error),Re("video error code",i.error.code),i.error instanceof MediaError&&i.error.code===MediaError.MEDIA_ERR_DECODE)?void t.publish("streamError","PLAY457","The browser encountered a media decode error"):i.readyState==i.HAVE_NOTHING&&i.networkState==i.NETWORK_NO_SOURCE?void t.publish("streamError","PLAY499"):(a=Te[i.networkState],o=ke[i.readyState],Re("Error network state",a),Re("Error ready state",o),Re("Error h264 support",!(!i.canPlayType||!i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),void(n&&n(null,e,["networkState: "+a,"readyState: "+o].join(" | "),r)))):void Re("ignoring video error observed before video load; possibly drm capability detection")}function F(e){Qe.startTimeNotification||(Qe.startTimeNotification=setInterval(U.bind(null,"timer"),300))}function U(){ye&&(t.publish("updateTime",ye.currentTime),L(Math.floor(ye.currentTime)))}function V(){Re("@cancelTimeNotification",Qe.startTimeNotification),clearTimeout(Qe.startTimeNotification),delete Qe.startTimeNotification}function G(e){ye.playbackRate=e}function H(){ye.playbackRate=1}function j(){return ye.playbackRate}function Y(){var e;return ye.buffered&&ye.buffered.length?(e=ye.buffered.start(ye.buffered.length-1),Re("@getBufferStart",e),e):0}function K(){var e;return ye.buffered&&ye.buffered.length?(e=ye.buffered.end(ye.buffered.length-1),Re("@getBufferEnd",e),e):0}function q(){z(!0)}function J(){z(!1)}function z(e){Re("@toggleOpenCaption ",e),we=e,Se.lastPosition=0,Se.marked=0,Se.persistCounter=0;var t,n,r,i,a=ye.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,Re("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",Re("@toggleOpenCaption final url",i),t.onerror=x.bind(t,"source",J),ye.onerror=x.bind(ye,"video",J)),r!=i&&(t.src=i,ye.load())}function W(){return ye&&ye.currentTime}function Z(e){Re("@seekTo",e),ye.currentTime=e}function X(){return"HTML5"}function $(){if(Re("@destroy"),ye){for(var t in Me)Me.hasOwnProperty(t)&&e.removeEventListener(ye,t,Me[t],!1);for(var n in Qe)Qe.hasOwnProperty(n)&&clearTimeout(Qe[n]);ye.textTracks&&e.removeEventListener(ye.textTracks,"addtrack",v),"paused"in ye&&!ye.paused&&ye.pause(),e.safeSetInnerHtml(ye,"")}ye=null,Ie=null,Ce=null,Qe={}}function ee(){if(ye&&"readyState"in ye)return ye.readyState}function te(){var e,t,n="bufferForCatchLive"in i?i.bufferForCatchLive:10;pe(),e=ye.currentTime+Le,t=ye.buffered.length,ye.currentTime<e&&t&&Y()<e&&e<K()-n?ye.currentTime=e:ye.load(),Le=0}function ne(e,t){Re("@setVolume",e),Fe=e,ue()&&!t||(ye.volume=e,ye.muted=!e)}function re(){return ye.muted?0:ye.volume}function ie(e,t){ye.style[e]=t}function ae(){return Ie}function oe(){ye.load()}function se(e){Re("@toggleInlinePlayback",e),e?ye.setAttribute("playsinline",""):ye.removeAttribute("playsinline")}function le(e){Re("toggleMobileAutoPlay",e),e?(ye.setAttribute("playsinline",""),ye.setAttribute("autoplay",""),ye.setAttribute("muted",""),ye.muted=!0,ye.volume=0):(ye.removeAttribute("autoplay"),ye.removeAttribute("muted"),ye.muted=!1),ce(!!e)}function ue(){return"true"==ye.getAttribute("data-autoplay-mute-lock")}function ce(e){ye.setAttribute("data-autoplay-mute-lock",e)}function de(){return ye.muted}function Ae(e){}function ge(e){Re("@pause",e),ye.isPauseInternal=e,ye.pause(),xe=Date.now()/1e3}function pe(){xe>0&&(Le+=Date.now()/1e3-xe,xe=-1)}function fe(){return K()-ye.currentTime}function he(){return ye&&ye.duration===1/0}var me,Ee,ve,ye,Ie,be,Ce,Be=!1,we=!1,Se={},Te={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},ke={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},Qe={},De={},Re=r?r.getLogFn("Video"):function(){console.log.apply(console,["[!Video!]\t"].concat(Array.prototype.slice.call(arguments)))},_e=!1,Me={loadedmetadata:w,loadeddata:S,canplay:T,canplaythrough:k,progress:Q,play:D,pause:R,playing:_,ended:M,seeked:P,seeking:N,waiting:a,stalled:s,emptied:l,encrypted:h,webkitneedkey:m},Ne={},Pe=null,Oe=null,Le=0,xe=-1,Fe=1,Ue=5e3,Ve=2,Ge=null;return{videoContent:function(){return ye},init:function(e,t,n){me=e,Ee=t,ve=n,f(),u(e,t,n)},width:function(e){return"number"==typeof e&&(Ee=e),Ee},height:function(e){return"number"==typeof e&&(ve=e),ve},getCurrentTime:W,seekTo:Z,getDuration:function(){return ye.duration},setSource:E,load:oe,getSource:ae,play:function(e,t){Re("@play");var n=ye.play();void 0!==n?n.then(function(){Re("@play promise succeeded"),ce(!1),"function"==typeof e&&e(),pe()}).catch(function(e){"function"==typeof t&&t(e),console.error("@play promise failed with error",e.name,e.message,e)}):Re("browser does not support promises")},pause:ge,hardPause:ge,setSpherical:function(e){Re("@setSpherical",e),be=e,ye.style.display=be?"none":"block",ye.style.visibility=be?"hidden":"visible",be&&!ye.hasAttribute("crossorigin")&&ye.readyState>0&&ye.load()},hide:function(){ye.style.display="none",ye.style.visibility="hidden"},show:function(){be||(ye.style.visibility="visible",ye.style.display="block")},hasEmbedCaption:function(){return!!ye.textTracks.length},enableEmbedCaption:function(){ye.textTracks&&ye.textTracks.length?(Re("embed caption enabled"),ye.textTracks[0].mode="showing",t.publish("captionLoaded",!1)):Re("No embed caption available")},disableEmbedCaption:function(){ye.textTracks&&ye.textTracks.length?(Re("embed caption disabled"),ye.textTracks[0].mode="hidden"):Re("No embed caption available")},resize:O,setFullscreen:function(e){Re("@setFullscreen",e),Be=e},getPaused:function(){return ye.paused},isBitrateSwitchSupported:function(){return!1},startTimeNotification:F,cancelTimeNotification:V,setPlaybackRate:G,getPlaybackRate:j,resetPlaybackRate:H,getBufferEnd:K,loadOpenCaption:q,unloadOpenCaption:J,getType:X,destroy:$,getReadyState:ee,catchLive:te,setVolume:ne,getVolume:re,setStyle:ie,toggleMobileAutoPlay:le,notifyCaptionStatus:Ae,toggleInlinePlayback:se,isMuted:de,getRemainingBuffer:fe}}return t}),anv.define("ExternalVideoInterface",["util"],function(e){function t(e,t,n,r,i){function a(e,t,n){T={},P("video initialized")}function o(e,t){w=e,S=t,T.width=e,T.height=t}function s(n){R.lastPosition=R.lastPosition||0,R.marked=R.marked||0,R.persistCounter=R.persistCounter||0,Math.abs(n-R.lastPosition)<2?R.lastPosition=n:(Math.abs(n-R.marked)<2?(R.marked=n,R.persistCounter++):(R.marked=n,R.persistCounter=0),R.persistCounter>5&&(P("seek detected from",R.lastPosition,"to",R.marked),(t.iphone||t.ipod||Q)&&e.publish("userEvent",R.marked>R.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",R.lastPosition,R.marked),R.lastPosition=n,R.marked=0,R.persistCounter=0))}function l(e,t,n){var r,i,a;"source"==e?r=this.parentNode:"video"==e&&(r=this),i=_[r.networkState],a=M[r.readyState],P("Error network state",i),P("Error ready state",a),P("Error h264 support",!(!r.canPlayType||!r.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),t&&t(null,e,["networkState: "+i,"readyState: "+a].join(" | "),n)}function u(e){N.startTimeNotification||(N.startTimeNotification=setInterval(c.bind(null,"timer"),300),P("@startTimeNotification",e,N.startTimeNotification))}function c(){s(Math.floor(T.currentTime))}function d(){P("@cancelTimeNotification",N.startTimeNotification),clearTimeout(N.startTimeNotification),delete N.startTimeNotification}function A(e){T.playbackRate=e}function g(){T.playbackRate=1}function p(){return T.playbackRate}function f(){return k.bufferEnd}function h(){E(!0)}function m(){E(!1)}function E(e){P("@toggleOpenCaption ",e),D=e,R.lastPosition=0,R.marked=0,R.persistCounter=0;var t,n,r,i,a=T.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,P("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",P("@toggleOpenCaption final url",i),t.onerror=l.bind(t,"source",m),T.onerror=l.bind(T,"video",m)),r!=i&&(t.src=i,T.load())}function v(t){P("@onExternalVideoEvent",JSON.stringify(t,null,3));var n,r,i={loadedmetadata:["loadedmetadata"],loadeddata:["loadeddata"],canplay:["videoReady2Play","canplay"],pause:["userEvent","USER_PAUSE"],playing:["playing"],ended:["completedVideoContent"],seeked:["videoReady2Play","seeked"],timeupdated:["updateTime"],bufferupdated:["bufferLimitUpdated"]};if(t.name in i)switch(n=i[t.name],r=n.concat(t.args),P("@onExternalVideoEvent args:",JSON.stringify(r,null,3)),e.publish.apply(e,r),t.name){case"ended":R.lastPosition=0,R.marked=0,R.persistCounter=0;break;case"timeupdated":s(t.args[1])}else"setValue"==t.name&&(k[t.args[0]]=t.args[1],P("@onExternalVideoEvent setValue",JSON.stringify(k,null,3)))}function y(){return P("@getCurrentTime"),i({fn:"getCurrentTime",args:[]}),T.currentTime}function I(e){P("@seekTo",e),i({fn:"seekTo",args:[e]}),T.currentTime=e}function b(){return"EXTERNAL"}function C(){P("@destroy"),i({fn:"destroy",args:[]})}var B,w,S,T,k={},Q=!1,D=!1,R={},_={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},M={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},N={},P=n?n.getLogFn("ExternalVideoInterface"):function(){console.log.apply(console,["[!ExternalVideoInterface!]\t"].concat(Array.prototype.slice.call(arguments)))};return{videoContent:function(){return T},init:function(e,t,n){B=e,w=t,S=n,a(e,t,n)},width:function(e){return"number"==typeof e&&(w=e),w},height:function(e){return"number"==typeof e&&(S=e),S},getDuration:function(){return T.duration},setSource:function(e,t){i({fn:"setSource",args:[e]}),R.lastPosition=0,R.marked=0,R.persistCounter=0,P("@setSource with",JSON.stringify(e))},play:function(){P("@play"),i({fn:"play",args:[]})},pause:function(e){P("@pause",e),i({fn:"pause",args:[e]}),T.isPauseInternal=e},hide:function(){i({fn:"hide",args:[]})},show:function(){i({fn:"show",args:[]})},hasEmbedCaption:function(){return!0},enableEmbedCaption:function(){i({fn:"toggleClosedCaption",args:[!0]})},disableEmbedCaption:function(){i({fn:"toggleClosedCaption",args:[!1]})},resize:o,setFullscreen:function(e){P("@setFullscreen",e),Q=e},getPaused:function(){return T.paused},startTimeNotification:u,cancelTimeNotification:d,setPlaybackRate:A,getPlaybackRate:p,resetPlaybackRate:g,loadOpenCaption:h,unloadOpenCaption:m,getBufferEnd:f,getCurrentTime:y,seekTo:I,onExternalVideoEvent:v,getType:b,destroy:C}}return t}),anv.define("Caption608",["util"],function(e){function t(t,n,r,i){function a(t){n.style.display="none",h=e.generateChild(n,"div","frame","caption-608-frame");for(var r,i,a,o=[],s=0;s<v;s++){i=e.generateChild(h,"div","frame-line-"+s,"caption-608-frame-line"),r=[];for(var l=0;l<I;l++)a=e.generateChild(i,"div","frame-line-"+s+"-char-"+l,"caption-608-frame-line-char",t?l%10||"0":""),t&&(a.style.visibility="visible"),r.push(a);o.push(r)}return o}function o(){var t,i,a,o,l,u,c,d,A,g,p,y=!0;B&&(p=h.parentNode.offsetHeight,g=4*p/3,g>h.parentNode.offsetWidth&&(g=h.parentNode.offsetWidth,p=3*g/4,y=!1),o=g<500?0:b,l=b,i=p-1-(y?o+l:0),(a=g-1-(y?0:2*b))>b+1&&(h.style.width=a+"px",h.style.height=i+"px",u=a/I,c=i/v,d=f[0][0].style.fontSize?parseInt(f[0][0].style.fontSize):20,A=e.getElementById(r.pInstance,"anv-caption-608-resize-style"),A||(A=document.createElement("style"),A.id="anv-caption-608-resize-style",n.appendChild(A)),m||(m=document.createElement("div"),m.style.fontFamily="Courier, monospace",m.style.fontWeight="bold",m.style.textShadow="2px 0 0 #fff, -2px 0 0 #fff, 0 2px 0 #fff, 0 -2px 0 #fff, 1px 1px #fff, -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff",m.style.position="absolute",m.style.visibility="hidden",h.appendChild(m)),e.safeSetInnerHtml(m,"#"),m.style.fontSize=d+"px",t=m.offsetWidth,E("@resize",u,t,Math.abs(u-t)>1,t-u>0),d=s(u,d)||d,e.safeSetInnerHtml(A,".anv-caption-608-frame-line-char {font-size: "+(Math.min(d,c)-2)+"px; letter-spacing: "+(g<500?1:0)+"px;line-height: "+(Math.floor(c)-2)+"px; height: "+Math.floor(c)+"px;}.anv-caption-608-frame-line {height: "+Math.floor(c)+"px;}.anv-caption-608-frame {margin: "+o+"px auto "+l+"px;}")))}function s(e,t){var n,r,i,a,o;if(!m||isNaN(t)||e<=0)return null;for(n=t,r=n,i=m.offsetWidth,growFactor=i<e?1:-1;growFactor>0&&i<e||growFactor<0&&i>e;)r=n,n=Math.max(0,n+growFactor),growFactor*=2,m.style.fontSize=n+"px",i=m.offsetWidth+1;for(a=Math.min(n,r),o=Math.max(n,r);Math.abs(e-i)>1&&Math.abs(o-a)>1&&(n=(o+a)/2,m.style.fontSize=n+"px",(i=m.offsetWidth+1)!=e);)i<e?a=n:o=n;return n}function l(){f=null,h=null,m=null,e.safeSetInnerHtml(n,"")}function u(t,n){var r,i,a,o=!1,s=0;if(f&&(!n||n==w)){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){return void console.error("Error parsing caption payload")}for(var l=0;l<v;l++){o=l in t,r=!1,i=o?t[l].length:void 0,f[l][0].parentNode.style.visibility="visible";for(var c=0;c<I;c++)a=f[parseInt(l)][c],o&&c<i?(" "!=t[l][c]?(r=!0,s=0):++s>=C&&(r=!1),r&&(a.style.visibility="visible",a.style.color=T.color||"#fff",a.style.fontWeight="bold",a.style.fontFamily=T.fontFamily||"Courier, monospace",a.style.textShadow=T.textShadow||"2px 0 0 #000, -2px 0 0 #000, 0 2px 0 #000, 0 -2px 0 #000, 1px 1px #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000",a.style.background=T.background||""),e.safeSetInnerHtml(a,Q.capitalize?t[l][c].toUpperCase():t[l][c].toLowerCase())," "==t[l][c]&&e.safeSetInnerHtml(a,"&nbsp;")):(e.safeSetInnerHtml(a," "),a.style.visibility="hidden")}M.cleanCaptions&&(clearTimeout(M.cleanCaptions),delete M.cleanCaptions),"{}"!=JSON.stringify(t)&&(M.cleanCaptions=setTimeout(function(){u({})},y))}}function c(){E("@hide"),u({}),n.style.display="none",B=!1}function d(){E("@show"),B=!0,n.style.display="block",o()}function A(n){e.getDeviceInfo.firetv&&(n={fontType:1,fontSize:7,textColor:0,textAlpha:4,bgColor:7,bgAlpha:4,textEdge:2,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0}),n=n||Q;for(var r in k)if(k.hasOwnProperty(r)&&k[r]!=n[r]){t.publish("caption608StyleRejected",n);break}switch(T.fontFamily=D[n.fontType],parseInt(n.textEdge)){case 0:break;case 1:T.textShadow="1px 1px 1px #000";break;case 2:T.textShadow="0px 1px 0px #ccc";break;case 3:T.textShadow="-1px -1px 2px #000";break;case 4:T.textShadow="-1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000"}T.capitalize=n.capitalize,T.color=g(_[n.textColor],R[n.textAlpha]/100),T.background=g(_[n.highlightColor],R[n.highlightAlpha]/100),Q=n,E("style applied",i.stringify(Q,null,3))}function g(e,t){return"rgba("+e.join(",")+","+t+")"}function p(e){var t,n={scale:1,capitalize:1,override:1};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&r in Q&&(r in n?Q[r]=1==e[r]:(t=parseInt(e[r]),isNaN(t)||(Q[r]=t)));A(Q)}return Q}var f,h,m,E=i?i.getLogFn("Caption608"):function(){console.log.apply(console,["[!Caption608!]\t"].concat(Array.prototype.slice.call(arguments)))},v=15,y=1e4,I=32,b=50,C=5,B=!1,w=null,S=[],T={},k={fontSize:3,bgColor:7,bgAlpha:0},Q=e.merge({fontType:0,textColor:0,textAlpha:4,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0},k),D=["Arial","Courier","Georgia","Lucida Sans","Tahoma","Times New Roman","Verdana"],R=[0,25,50,75,100],_=[[255,255,255],[7,247,247],[9,9,249],[4,246,5],[252,252,10],[248,9,248],[246,5,6],[0,0,0]],M={};return{init:function(e){f=a(e)},resize:o,destroy:l,updateCaption:u,loadCaptionInfo:function(e){},getNode:function(){},getLayout:function(){},show:d,turnOn:d,hide:c,hideCue:c,turnOff:c,getAvailableLanguages:function(){return S},setAvailableLanguages:function(e){e&&e.length&&(S=e||[])},getCurrentLanguage:function(){return w},loadLanguage:function(e){if(e){for(var n=!0,r=0;r<S.length;r++)if(S[r]==e){n=!1;break}n&&S.push(e)}w=e,t.publish("captionLoaded",!1)},updateTime:function(e){},getCueList:function(){},applyStyle:A,setStyle:p,setFullscreenRatio:function(e){},getType:function(){return"cea608"}}}return t}),anv.define("AnvatoMse",["util"],function(e){function t(){function e(){var e,t,r,i;if("open"!==a.readyState)return void(n=!0);try{A&&/avc1\..*\..*/.test(A)&&(A=A.replace(/(avc1)\.(.*)\.(.*)/,function(n,a,o,s){return e=parseInt(o),t=parseInt(s),isNaN(e)||isNaN(t)?A:(r=("0"+e.toString(16)).slice(-2),i=("0"+t.toString(16)).slice(-2),[a,r+"00"+i].join("."))})),l.sb=a.addSourceBuffer('video/mp4; codecs="'+A+'"'),o.video&&(l.sb.timestampOffset=o.video,delete o.video),h(l)}catch(e){console.log("ERROR: Video not supported",e)}if(!l.sb)return g.callback&&g.callback(null,{type:"stream-error",data:{errorCode:"PLAY455",errorInfo:"The browser does not support the specified video codec"}}),void y();l.sb&&(l.sb.addEventListener("updateend",m.bind(null,l)),l.sb.addEventListener("error",E.bind(null,l)))}function t(){if("open"!==a.readyState)return void(r=!0);try{u.sb=a.addSourceBuffer('audio/mp4; codecs="'+d+'"'),o.audio&&(u.sb.timestampOffset=o.audio,delete o.audio),h(u)}catch(e){console.log("ERROR: Audio not supported")}if(!u.sb)return g&&g.callback&&g.callback(null,{type:"stream-error",data:{errorCode:"PLAY456",errorInfo:"The browser does not support the specified audio codec"}}),void y();u.sb&&(u.sb.addEventListener("updateend",m.bind(null,u)),u.sb.addEventListener("error",E.bind(null,u)))}var n=!1,r=!1,i=null,a=null,o={video:0,audio:0},s=0,l={sb:null,buffer:[],operation:"NONE"},u={sb:null,buffer:[],operation:"NONE"},c=null,d=null,A=null,g=null,p=function(e,t){var n=!1;try{e.appendBuffer(t),n=!0}catch(e){}return n},f=function(e,t,n){if(e.sb&&!e.sb.updating&&"NONE"==e.operation){e.operation="REMOVE";try{e.sb.remove(t,n)}catch(e){}}},h=function(e){if(e.sb&&e.buffer.length&&!e.sb.updating&&"NONE"==e.operation){var t=e.buffer.shift();switch(t.type){case"INIT":e.operation="APPEND_INIT";break;case"DATA":e.operation="APPEND_DATA";break;default:return}p(e.sb,t.data)}},m=function(e){if(e.sb){var t=e.operation;switch(e.operation="NONE",t){case"APPEND_INIT":h(e);break;case"APPEND_DATA":"function"==typeof c&&c()}}},E=function(e){console.log("Error during",e.operation,"source buffer operation"),m(e)},v=function(e,t,n){e.push({type:t,data:n})},y=function(){a&&delete a,l.sb=null,l.buffer=[],l.operation="NONE",u.sb=null,u.buffer=[],u.operation="NONE",c=null,d=null,A=null,g=null},I=function(o,l,u,c,p){function f(){a.removeEventListener("sourceopen",f),a.duration||(a.duration=s),n&&e(),r&&t(),c()}if(i=o,A=l||"avc1.42e015",d=u||"mp4a.40.2",g=p,!window.MediaSource)return console.log("No MSE support: Failed to find window.MediaSource()"),!1;try{a=new window.MediaSource}catch(e){a=null}if(!a)return console.log("No MSE support: Failed to instantiate MediaSource()"),!1;i.src=URL.createObjectURL(a),a.addEventListener("sourceopen",f)};this.set_duration=function(e){s=e;try{a.duration=e}catch(e){console.warn("Error while setting the duration using fallback")}},this.set_real_offset=function(e){o={video:e,audio:e}},this.clean_up=y,this.create=function(e,t,n,r,i){I(e,t,n,r,i)},this.mseEndOfStream=function(){if(a&&"open"==a.readyState)try{a.endOfStream()}catch(e){g.callback?g.callback(null,{type:"end-of-stream-failure"}):console.warn("Failed to call endOfStream and callback is not available to report.")}},this.mseReadyState=function(){if(a)return a.readyState},this.mseSourceBuffers=function(){return a?a.sourceBuffers:[]},this.append_video_data=function(t,n){return l.sb||e(),v(l.buffer,t,n)},this.append_audio_data=function(e,n){return u.sb||t(),v(u.buffer,e,n)},this.buffer_check=function(){h(u),h(l)},this.min_sb_buffer_length=function(){return Math.min(l.buffer.length,u.buffer.length)},this.remove_buffer=function(e,t){f(l,e,t),f(u,e,t)},this.register_update_end_cb=function(e){c=e}}function n(n,r){function i(){var e=T.currentTime,t=null;for(var n in le)if(le.hasOwnProperty(n)&&le[n]){if(!(e>=le[n].start_time))return t;t=n}return t}function a(t,n,r,i){var a,s,l=e.getUrlParts(t).host,u=arguments.length,c=[];s=R.streamTokenizationCheck?e.getCookie("IS_TOKENIZED_"+e.md5(l).toUpperCase()):null;var d="number"==typeof R.renditionCacheDuration?1e3*R.renditionCacheDuration:1e4;if(R.parentScope.master_m3u8_cache&&t in R.parentScope.master_m3u8_cache)return void r("success",R.parentScope.master_m3u8_cache[t].data,{instance_id:n.instance_id});if(window.manifestCache_&&t in window.manifestCache_){var A=window.manifestCache_[t]
;if("master"==A.type||"rendition"==A.type&&(!A.live||A.live&&Date.now()-A.timeStamp<d))return void r("success",window.manifestCache_[t].data,{instance_id:n.instance_id});_e("detected manifest cache is not usable"),delete window.manifestCache_[t]}_e("Cookie:","IS_TOKENIZED_"+e.md5(l).toUpperCase(),s,null!=s),R.streamTokenizationCheck?null!=s?(a="true"==s,He[l]={lastCredentialFlag:a,success:null,cachedFlagUsed:!0}):l in He?He[l].success?a=He[l].lastCredentialFlag:(a=!He[l].lastCredentialFlag,He[l].lastCredentialFlag=a,He[l].success=null):(a=!0,He[l]={lastCredentialFlag:a,success:null}):(a=!1,He[l]={lastCredentialFlag:a,success:null});for(;u--;)c[u]=arguments[u];Ve[t]=r,Ge[t]=c,_e("@download_with_failover",JSON.stringify(He,null,3)),je(t,n,o.bind(null,t),a,i)}function o(t,n,r,i){_e("@download_with_failover_callback",[t,n].join(" | "));var o,s=e.getUrlParts(t).host;return"error"==n?(He[s].success=!1,He[s].cachedFlagUsed&&(He[s].cachedFlagUsed=!1,_e("Removing cookie:","IS_TOKENIZED_"+e.md5(s).toUpperCase()),e.removeCookie("IS_TOKENIZED_"+e.md5(s).toUpperCase())),_e("@download_with_failover_callback",JSON.stringify(He,null,3)),He[s].lastCredentialFlag?(a.apply(null,Ge[t]),0):(_e("@download_with_failover_callback nothing left to do for CORS failover"),Ve[t](n,r,i))):("success"==n&&(He[s].success=!0,_e("@download_with_failover_callback",JSON.stringify(He,null,3)),R.streamTokenizationCheck&&(o="IS_TOKENIZED_"+e.md5(s).toUpperCase(),e.setCookie(o,He[s].lastCredentialFlag,new Date(Date.now()+2592e6)))),Ve[t](n,r,i))}function s(e,t){var n={};if(e=e.trim(),e.indexOf(t))return null;var r=e.substring(t.length+1);return r=r.split(","),r.forEach(function(e){var t=e.indexOf("=");t>0&&(n[e.substring(0,t).trim()]=e.substring(t+1).trim().replace(/"/g,""))}),n}function l(t,n){var r,i=0,a=t&&t[n];if(a&&"ad"==a.type&&!a.vast_json)for(var o=n-1;o>=0;o--)if(i+=t[o].duration||0,t[o].vast_json){try{r=JSON.parse(e.base64Decode(t[o].vast_json)),r.duration-=i,a.vast_json=e.base64Encode(JSON.stringify(r)),a.vast_json_keyref=t[o].vast_json_keyref}catch(e){_e("@set_vast_json error parsing vast json")}break}}function u(){var e=N.renditions[G].pars.bandwidth;if(!x){x=!0;for(var t=0,n=ne.length;t<n;t++)(!e||e>ne[t].speed)&&(e=ne[t].speed);"function"==typeof R.callback&&R.callback(k,{type:"low-bandwidth-detected",data:{bandwidth:e}})}}function c(e,t){var n,r=0,i=null,a=0;for(var o in e)if(e.hasOwnProperty(o)&&(n=e[o],"master"!=i&&(a+=parseFloat(n.start_time)-r),r=parseFloat(n.start_time),i=n.type,o==t))return a;return null}function d(t,n){var r=-1,i=null;for(var a in t.segments)a>r&&(r=a,i=t.segments[a]);var o=e.deepCopy(i);return n&&(o={url:o.url.split("?")[0]}),{seq_no:a,segment:o}}function A(){_e("All renditions are stale, turning on _playlist_update_lock"),J=!0,R.parentScope.stale_m3u8_last_segments=R.parentScope.stale_m3u8_last_segments||{},R.parentScope.stale_m3u8_last_segments=e.merge(R.parentScope.stale_m3u8_last_segments,K),R.callback&&R.callback(k,{type:"stream-error",data:{errorCode:"PLAY462",errorInfo:"All renditions are stale (no new segments)"}})}function g(t,n,r,i){var a,o=t.filter(function(e){return e.LANGUAGE==n});o.length&&(a=o[0],e.download(a.URI,null,r.bind(null,a.URI,n),i.bind(null,a.URI,n)))}function p(e,t,n){console.warn("Error while downloading the subtitle manifest")}function f(t,n,r){var i=Ke(t,r);i.segments&&i.segments.length&&i.segments.forEach(function(t){e.download(t.url,null,m.bind(null,t.seq_no,n),h.bind(null,t.seq_no,n))})}function h(e,t){console.warn("error while downloading subtitle seq#",e)}function m(t,n,r){R.callback&&R.callback(k,{type:"subtitle-payload",data:{payload:e.parseVTT(r),lang:n}})}function E(e){g(N.subtitles,e,f,p)}function v(e,t){var n=t[e].data.type;n="string"==typeof n?n.toUpperCase():"UNKNOWN";var r={CUE:1,BEACON:1,PRIV:1},i=e+": ["+n+"] : ";if(n in r)_e(i+t[e].data.payload,"cue");else{var a=[];for(var o in t[e].data)a.push(o);_e(i+t[e].data.type+": "+a.join(","),"cue")}}function y(e,t){var n,r,a,o,s=N.renditions.length;if(_e("@set_bitrate requested bitrate: "+e," _desired_rendition_idx:"+G+" resume_auto"+t),"auto"==e)q=!1;else{for(_e("@set_bitrate total bitrates:",s);s--;)r=Math.abs(N.renditions[s].pars.bandwidth/1e3-e),(void 0===a||r<a)&&(n=s,a=r);_e("@set_bitrate",[e,n,N.renditions[n].pars.bandwidth].join(":")),G=n,q=!t}-1!=L&&null!==(o=i())&&(_e("@set_bitrate current_seg_no",o),L=parseInt(o)+1),z&&(Se=!0),_e("@set_bitrate _next_seq_no",L),rt(L),w&&(w=!1,gt())}var I=r.Module,b=r.FS,C=0,B=null,w=!1,S=!1,T=null,k=null,Q={},D=null,R={},_=n,M={state:"pending",reason:"No request yet"},N=null,P=-1,O=-1,L=-1,x=!1,F=!1,U=!1,V=0,G=-1,H=0,j=0,Y=0,K={},q=!1,J=!1,z=!1,W=I.cwrap("convert_segment_file","number",["number","number","number","string","string","number","number","array","array"]),Z=I.cwrap("get_last_vpts","number",["number"]),X=I.cwrap("get_dts_offset","number",["number"]),$=I.cwrap("get_key_frame_first","number",["number"]),ee=I.cwrap("stream_ctx_new","number",[]),te=I.cwrap("stream_ctx_delete","number",["number"]),ne=[],re=!0,ie=0,ae={},oe={},se={},le={},ue=-1,ce=-1,de=-1,Ae=!1,ge=-1,pe=null,fe=null,he=10,me=0,Ee=null,ve=new Date,ye={},Ie={},be={},Ce=0,Be=0,we=!1,Se=!1,Te=!1,ke={"aes-128":1,"sample-aes":1},Qe={},De={urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(e){if("object"==typeof e)return e;var t=this.urlParseRE.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},makePathAbsolute:function(e,t){var n,r,i,a;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",n=t?t.split("/"):[],r=e.split("/"),i=0;i<r.length;i++)switch(a=r[i]){case".":break;case"..":n.length&&n.pop();break;default:n.push(a)}return"/"+n.join("/")},isRelativeUrl:function(e){return""===this.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==this.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!this.isRelativeUrl(t))return t;var n=this.parseUrl(t),r=this.parseUrl(e),i=n.protocol||r.protocol,a=n.protocol?n.doubleSlash:n.doubleSlash||r.doubleSlash,o=n.authority||r.authority,s=""!==n.pathname;return i+a+o+this.makePathAbsolute(n.pathname||r.filename,r.pathname)+(n.search||!s&&r.search||"")+n.hash}},Re=function(e){return e.trim()},_e=function(e,t){R.verbose&&(t||(t="info"),console.log("JSPLOG",(new Date-ve)/1e3,t,e))},Me=function(e){this.cur=0,this.error=!1,this.data=e,this.read_uint8=function(){if(this.cur+1>this.data.length)return this.error=!0,0;var e=this.data[this.cur];return this.cur++,e},this.read_uint32=function(){if(this.cur+4>this.data.length)return this.error=!0,0;var e=(this.data[this.cur]<<0)+(this.data[this.cur+1]<<8)+(this.data[this.cur+2]<<16)+(this.data[this.cur+3]<<24);return this.cur+=4,e},this.read_uint64=function(){if(this.cur+8>this.data.length)return this.error=!0,0;var e=(this.data[this.cur]<<0)+(this.data[this.cur+1]<<8)+(this.data[this.cur+2]<<16)+(this.data[this.cur+3]<<24)+(this.data[this.cur+4]<<32)+(this.data[this.cur+5]<<40)+(this.data[this.cur+6]<<48)+(this.data[this.cur+7]<<56);return this.cur+=8,e},this.read_n=function(e){if(this.cur+e>this.data.length)return this.error=!0,null;var t=this.data.subarray(this.cur,this.cur+e);return this.cur+=e,t}},Ne=function(){pe&&te(pe),fe&&clearTimeout(fe),Ee&&(Ee.stop(),delete Ee),B&&(B.clean_up(),B=null),Ee=null,fe=null,T=null,M={state:"pending",reason:"No request yet"},N=null,P=-1,L=-1,G=-1,O=-1,J=!1,z=!1,ne=[],pe=null,ie=null,ae={},oe={},se={},C=0,de=-1,ue=-1,ye={},Ie={},be={},Ce=0,Be=0,we=!1,Se=!1,x=!1,F=!1,U=!1,H=0,j=0,Y=0,K={},Te=!1,D=null,w=!1,Qe={}},Pe=function(e){return Math.round(10*e)/10},Oe=function(){if(B&&!Q.live){var e=T.currentTime,t=Q.duration;w&&t-e<1&&B.mseEndOfStream()}},Le=function(e){for(var t=new Me(e),n=t.read_uint32(),r=0;r<n;r++){var i=t.read_uint32()/1e3+C,a=t.read_uint32(),o=t.read_n(a);if(t.error)console.error("encountered an error while parsing cue");else{var s=function(e){var t,n,r={};if(-1!=(n=e.indexOf("type=priv&payload=")))r.type="priv",r.payload=e.substring(n+"type=priv&payload=".length);else{t=e.split("&");for(var i=0;i<t.length;i++){var a=t[i].split("=");2==a.length&&(r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]))}}return r}(et(o));s&&"caption"!=s.type&&(oe[i]={data:s})}}},xe=function(e){for(var t=new Me(e),n=t.read_uint32(),r=!1,i=0;i<n;i++){for(var a=t.read_uint32()/1e3+C,o=t.read_uint8(),s={},l=0;l<o;l++){var u=t.read_uint8(),c=t.read_uint8(),d=t.read_n(c),A=et(d);s[u]=A,A&&(r=!0)}t.error||r&&R.callback&&(ae[a]=s,R.callback(k,{type:"caption-detected",data:!0}))}},Fe=function(e,t){M.state=e,M.reason=t,_e("Setting player status: "+e+", "+t)},Ue=function(e){if(e<0)return"N/A";var t=Pe(e/1e3),n=t+" KBits/sec";return t>1e3&&(n=Pe(t/1e3)+" MBits/sec"),n},Ve={},Ge={},He={},je=function(t,n,r,i,a){var o=-1,s=-1,l=new Date,u=new XMLHttpRequest,c=0,d=!1,A=8,g=!1,p=null,f=0,h=-1;if(e.isSecureSocket()&&(t=t.replace(/^https*:\/\//,"https://")),n&&n.timeout&&(A=n.timeout),n&&n.binary&&(g=n.binary),n&&n.instance_id&&(p=n.instance_id),n&&n.expected&&(f=n.expected),A>0&&(A=Math.max(10,A)),u.onprogress=function(e){s=e.loaded;var t=(new Date-l)/1e3;t>0&&(o=e.loaded/t*8),h=-1,t>0&&e.loaded>8192&&e.total>e.loaded&&(h=(e.total-e.loaded)/(e.loaded/t)),r("progress",{speed:o,size:s,spent:t,eta:h,expected:f,timeout:A-t})},u.ontimeout=function(){d=!0},u.onreadystatechange=function(){if(2==u.readyState&&(c=u.status),4===u.readyState||3===u.readyState){var e={instance_id:p,speed:o,size:s,timed_out:d,time:(new Date-l)/1e3,response_code:c};3==u.readyState&&(f>0&&(new Date-l)/1e3>5&&h>f-e.time+5?"function"==typeof a?a():(_e("Looks like we hit a bad edge node. Early terminating this request","error"),u.abort()):r("update",null,e)||(_e("Aborting network request"),u.abort())),4==u.readyState&&(200!=u.status&&206!=u.status?(_e("Network Error: "+t+" status:"+u.status),e.instance_id==ie?r("error",null,e):_e("discarded aborted previous session request")):(u.responseURL&&u.responseURL!=t&&r("redirect",u.responseURL,e),_e("Network Success: "+t+" status:"+u.status),r("success",g?new Uint8Array(u.response):u.responseText,e)))}},u.withCredentials=!!i,u.open("GET",t),A>0&&(u.timeout=1e3*A),n.custom_headers)for(var m in n.custom_headers)n.custom_headers.hasOwnProperty(m)&&u.setRequestHeader(m,n.custom_headers[m]);return u.responseType=g?"arraybuffer":"text",u.send(),u},Ye=function(e){var t,n,r,i,a={};return"string"!=typeof e?a:(t=e.split(","),t.map(function(e){(n=e.indexOf("="))>-1&&(r=e.substring(0,n).toLowerCase(),i=e.substring(n+1),i&&/^[\'\"].*[\'\"]$/.test(i)&&(i=i.substring(1,i.length-1)),a[r]=i)}),a)},Ke=function(e,t){for(var n,r,i,a,o,s,l,u,c=!1,d=0,A=[],g=t.split("\n"),p=!1,f={segment_type:{pattern:/#ANVATO-SEGMENT-INFO: *type=/,value:"master"},stream_info_tag:{pattern:/#ANVATO-STREAM: *info=/,value:null},timed_metadata:{pattern:/#ANVATO-TIMED-METADATA: */,value:null},vast_json:{pattern:/#ANVATO-STREAM-CUE: *ctx=vast, *json=/,value:null},vast_json_keyref:{pattern:/#ANVATO-STREAM-CUE-SEC: *keyref=/,value:null},session_id:{pattern:/#ANVATO-SESSION-ID:/,value:null},cdn_provider:{pattern:/#ANVATO-CDN-PROVIDER: */,value:null},key_info:{pattern:/#EXT-X-KEY: */,value:null},event_access:{pattern:/#ANVATO-EVENT-ACCESS:/,value:null}},h=0;h<g.length;h++)if(g[h]=Re(g[h]),0!=g[h].length){0==g[h].indexOf("#EXT-X-TARGETDURATION:")&&(o=1*Re(g[h].substr("#EXT-X-TARGETDURATION:".length))),0==g[h].indexOf("#EXT-X-MEDIA-SEQUENCE:")&&(d=1*Re(g[h].substr("#EXT-X-MEDIA-SEQUENCE:".length))),0==g[h].indexOf("#EXT-X-BYTERANGE:")&&(r=Re(g[h].substr("#EXT-X-BYTERANGE:".length)),_e("#EXT-X-BYTERANGE detected on line:"+h+" "+r),r=r.split("@"),r.length>1?a=parseInt(r[1]):(_e("using previous segment offset and length to determine range"+a+" "+i),a+=i),i=parseInt(r[0]),n=[a,a+i-1],_e("#EXT-X-BYTERANGE detected on line:"+h+JSON.stringify(n,null,3))),0==g[h].indexOf("#EXTINF:")&&(u=parseFloat(g[h].substr("#EXTINF:".length)),isNaN(u)&&(_e('Error parsing EXTINF from line: "'+g[h]+'"',"error"),u=1));for(var m in f)f.hasOwnProperty(m)&&(s=f[m],s.pattern.test(g[h])&&(s.value=g[h].replace(s.pattern,"").trim()));f.session_id.value&&R.callback&&R.callback(k,{type:"session-id-updated",data:f.session_id.value}),f.cdn_provider.value&&R.callback&&R.callback(k,{type:"cdn-provider-updated",data:f.cdn_provider.value}),0==g[h].indexOf("#EXT-X-ENDLIST")&&(c=!0),0==g[h].indexOf("#EXT-X-DISCONTINUITY")&&(p=!0),"#"!=g[h].substr(0,1)&&(l=Ye(f.key_info.value),l.iv||(l.iv=d.toString(16)),A.push({seq_no:d,type:f.segment_type.value,stream_info_tag:f.stream_info_tag.value,timed_metadata:f.timed_metadata.value,vast_json:f.vast_json.value,vast_json_keyref:f.vast_json_keyref.value,event_access:f.event_access.value,url:De.makeUrlAbsolute(e,g[h]),relative_url:De.isRelativeUrl(g[h])?g[h]:null,redirect_url_index:De.isRelativeUrl(g[h])?0:-1,error:!1,discontinuity:p,duration:u,range:n,key_info:l,is_encrypted:l.method&&l.method.toLowerCase()in ke}),f.segment_type.value="master",f.stream_info_tag.value=null,f.timed_metadata.value=null,f.vast_json.value=null,f.vast_json_keyref.value=null,f.session_id.value=null,f.cdn_provider.value=null,f.event_access.value=null,n=null,p=!1,d++)}return{segments:A,info:{end_list:c,target_duration:o}}},qe=function(e){if(0!==e.indexOf("#EXT-X-STREAM-INF"))return null;var t=/CODECS/.test(e),n=e.indexOf(":");if(-1===n)return null;e=e.substr(n+1);for(var r={vcodec:t?null:"avc1.42e015",acodec:"mp4a.40.2",bandwidth:6e5},i=0;i<20;i++){var a="",o=e.indexOf("=");if(-1==o)break;var s=e.substr(0,o),l=e.substr(o),u=-1;if('"'==l[1]){if(l=l.substr(1),-1==(u=l.indexOf('"',2)))break;a=l.substr(1,u-1),e=l.substr(u+2)}else u=l.indexOf(","),-1==u?a=l.substr(1):(a=l.substr(1,u-1),e=l.substr(u+1));if(s=s.trim(),a=a.trim(),"BANDWIDTH"==s&&(r.bandwidth=1*a),"RESOLUTION"==s){2==a.toLowerCase().split("x").length&&(r.resolution=a)}if("CODECS"==s)for(var c=a.split(","),d=0;d<c.length;d++)c[d]=c[d].trim(),/^avc1/.test(c[d])&&(r.vcodec=c[d]),/^mp4a/.test(c[d])&&(r.acodec=c[d]);if(-1==u)break}return r},Je=function(e,t){_e("@parse_master");for(var n=[],r=[],i=t.split("\n"),a=null,o=null,l=!1,u=0;u<i.length;u++)if(i[u]=Re(i[u]),0!=i[u].length){if(0===i[u].indexOf("#EXT-X-STREAM-INF")){var c=qe(i[u]);c&&(a=c)}if(0===i[u].indexOf("#EXT-X-MEDIA")){var d=s(i[u],"#EXT-X-MEDIA");"SUBTITLES"==d.TYPE&&(d.URI=De.makeUrlAbsolute(e,d.URI),r.push(d))}if("#"!=i[u].substr(0,1)&&a){var A=De.isRelativeUrl(i[u])?i[u]:null,g=De.makeUrlAbsolute(e,i[u]),p=document.createElement("a");if(p.href=g,null!=o&&o!=p.host)continue;o=p.host,n.push({url:g,relative_url:A,last_change:0,error:!1,segments:{},pars:{bandwidth:a.bandwidth,vcodec:a.vcodec,acodec:a.acodec,resolution:a.resolution},segment_length:10,failed_download_attempts:0,refresh_period:8e3}),a=null}if(0===i[u].indexOf("#EXTINF")){l=!0,n.push({url:e,last_change:0,error:!1,segments:{},pars:{bandwidth:6e5,vcodec:"avc1.42e015",acodec:"mp4a.40.2"},segment_length:10,failed_download_attempts:0,refresh_period:8e3});break}}_e("Master playlist:");for(var f=0;f<n.length;f++)_e("Rendition "+n[f].pars.bandwidth+" at "+n[f].url);return n.length&&n.sort(function(e,t){return e.pars.bandwidth-t.pars.bandwidth}),{renditions:n,is_rendition:l,subtitles:r}},ze=function(e){if(e.speed&&e.size){ne.push({ts:new Date,speed:e.speed,size:e.size}),ne=ne.splice(-5);for(var t=[],n=ne.length-1;n>=0;n--)t.push(Ue(ne[n].speed));_e("NW STATS: "+t.join(", ")),R.callback(k,{type:"network-info",data:{speed:e.speed,size:e.size,comment:"size is in bytes. speed is in bits per second"}})}},We=function(){for(var e=1e8,t=0,n=0,r=ne.length-1;r>=0;r--){var i=1+r;t+=ne[r].speed*i,n+=i,ne[r].speed<e&&(e=ne[r].speed)}var a=6e5;return n&&(a=t/n),e<a/2?a/4:a},Ze=function(){var t=parseFloat(_.width),n=parseFloat(_.height),r=parseFloat(_.auto_bitrate_switch_cap_scale);return t>0&&n>0&&r>=0?r*e.getBitrateForScreenSize(t,n,30):-1},Xe=function(){if(!T||!N||G<0||G>=N.renditions.length)return!1;var e=N.renditions[G].segment_length,t=e*B.min_sb_buffer_length();return 0==T.buffered.length?t:t+T.buffered.end(T.buffered.length-1)-T.currentTime},$e=function(){if(!N||G<0||G>=N.renditions.length)return 0;for(var e=-1,t=0;t<N.renditions.length;t++)for(var n in N.renditions[t].segments)n>e&&(e=n);return e<0||e<L?0:(e-L+1)*N.renditions[G].segment_length},et=function(e){var t,n,r,i,a,o;for(t="",r=e.length,n=0;n<r;)switch((i=e[n++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(i);break;case 12:case 13:a=e[n++],t+=String.fromCharCode((31&i)<<6|63&a);break;case 14:a=e[n++],o=e[n++],t+=String.fromCharCode((15&i)<<12|(63&a)<<6|(63&o)<<0)}return t},tt=function(e){if(!T)return null;var t=-99999,n=null;for(var r in ae)r<=e&&r>t&&r>e-3&&(t=r,n=ae[r]);return n},nt=function(){if(T&&B){var e=T.currentTime-60;if(e>0){B.remove_buffer(0,e);for(var t in ae)t<e&&delete ae[t];for(var t in oe)t<e&&delete oe[t]}T.buffered.length}},rt=function(e){if(le)for(var t in le)le.hasOwnProperty(t)&&t>=e&&(le[t].is_valid=!1)},it=function(){var e,t,n,r,a,o=We(),s=parseInt(i()),l=s;if(!(!N||!le||G<0||isNaN(s)||s<0)){for(e=N.renditions[G].pars.bandwidth;s in le;)le[s]&&le[s].discontinuity&&(l=s+1),s++;if(a=le[l]){for(t=a.duration*e/o+2,r=a.start_time-T.currentTime;l in le;)if(a=le[l],n=le[l-1],t+=a.duration*e/o,r+=a.duration,a.bitrate>=parseInt(e/1e3)||a.discontinuity||n&&n.discontinuity)a.is_valid=!0,l++;else{if(t<r)break;l++}Te=!0,we=!0,L=l,rt(L),_e("setting _next_seq_no to",L,"for new rendition"),gt()}}},at=function(){if(!N||G<0||G>=N.renditions.length)return!0;var e=We(),t=Xe(),n=$e();if(R.callback&&R.callback(k,{type:"bandwidth-estimate",data:e}),_e("DEBUG",JSON.stringify({client_bw:e,client_buffer:t,pending_duration:n,_next_seq_no:L,_desired_rendition_idx:G},null,3)),_e("Client BW: "+Ue(e)),!1===t)return!0;for(var r=[],i=0;i<N.renditions.length;i++)N.renditions[i].segments&&N.renditions[i].segments[L]?N.renditions[i].segments[L].error||r.push(i):r.push(i);if(0==r.length){_e("All segments failed. Skipping this segment","error");for(var i=0;i<N.renditions.length;i++)N.renditions[i].segments?_e("Rendition "+i+" has segments"):N.renditions[i].segments[L]?_e("Rendition "+i+": has "+L,"error"):N.renditions[i].segments[L].error&&_e("Rendition "+i+": has "+L+" has error","error");return!1}t<10&&n>20&&(e/=2);var a=-1,o=N.renditions[G].segment_length,s=o;ge=Math.max(ge,Ze());for(var i=N.renditions.length-1;i>=0;i--)if(-1!=r.indexOf(i))if(ye[i])_e("skipping blacklisted rendition "+i);else{var l=N.renditions[i].pars.bandwidth,u=l<=ge||ge<0;if(0==i||e>1.2*l&&u){s=o*N.renditions[i].pars.bandwidth/e,a=i;break}}if(-1==a){for(var i=0;i<r.length;i++)if(!(r[i]in ye))return _e("Adapting to rendition "+r[i]+" since lower bitrate rendition segments failed"),G=r[i],!0;return _e("All segments failed. Skipping this segment "+r.length,"error"),!1}return a!=G&&(s*=2),s+=2,x&&e>N.renditions[G].pars.bandwidth&&(x=!1,"function"==typeof R.callback&&R.callback(k,{type:"bandwidth-improvement-detected",data:{bandwidth:ne[ne.length-1].speed}})),q||(G<a?t>s?(_e("Switching up.\n"),G=a,it(),_e("updating _desired_rendition_idx",G)):_e("Bandwidth is good but client buffer is insufficient. Not switching at this time"):G>a&&(_e("Switching down.\n"),G=a)),!0},ot=e.debounce(at,500),st=function(e){var t,n,r=[];for(var i in e.segments)r.push(e.segments[i]);if(0==r.length)return-1;if(r.sort(function(e,t){return e.seq_no-t.seq_no}),0==Q.pending&&!Q.live){var a=0;if(!isNaN(parseFloat(R.offset))){var o=parseFloat(R.offset),s=0;for(t=0;t<r.length;t++){if(s+r[t].duration>o){C=s,a=t;break}s+=r[t].duration}n=o-C,B.set_real_offset(C),n&&"function"==typeof R.callback&&R.callback(k,{type:"offset-correction-needed",data:{delta:n,goal:o}})}return r[a].seq_no}R.liveDelayInSegments=parseInt(R.liveDelayInSegments);var u=3;return isNaN(R.liveDelayInSegments)||(u=R.liveDelayInSegments),t=r.length-u,t>=r.length&&(t=r.length-1),t<0&&(t=0),_e("total seg: "+r.length+" last seq no: "+r[r.length-1].seq_no),r[t]&&"ad"==r[t].type&&l(r,t),r[t].seq_no},lt=function(){for(var e in be)be.hasOwnProperty(e)&&e<L&&delete be[e]},ut=function(e,t,n,r){var i,a,o=!1;if(!(++Be<Ce)){if(Ce=0,Be=0,O=e,Se)return Se=!1,z=!1,void gt();i=T.buffered.length?T.buffered.start(0):0,0==T.currentTime&&i>0&&(_e("Setting current time to buffer start:",i),T.currentTime=i),U&&T.buffered.length&&(a=Math.max(T.buffered.start(T.buffered.length-1),T.buffered.end(T.buffered.length-1)-30),T.currentTime<a&&(T.currentTime=a,U=!1)),r?L++:t&&L>P&&(T.buffered.length>n||!$(pe))?(_e("Cannot smoothly switch renditions. Fetching previous segment"),L--,o=!0,we=!0):t&&L>P&&!we?(we=!0,L--,_e("Downloading previous segment for initial bitrate switch")):Te||(L++,at()),Te=!1,lt(),z=!1,gt(o)}},ct=function(t,n,r){t in Qe?n(Qe[t]):e.download(t,null,function(e){e=new Uint8Array(e),Qe[t]=e,n(e)},r,null,null,null,"arraybuffer")},dt=function(t){var n=e.hex2AscArray(t.replace("0x","")),r=new Uint8Array(16);return r.set(n,16-n.length),r},At=function(t,n,r,i){var a=t.key_info.encryption_key,o=dt(t.key_info.iv);e.importKey("raw",a,{name:"AES-CBC"},!1,["decrypt"]).then(function(t){return e.decrypt({name:"AES-CBC",iv:o},t,n)}).then(function(e){t.is_encrypted=!1,r(new Uint8Array(e))}).catch(function(e){_e("Failed to decrypt segment:",e),i(e)})},gt=function(e){var t=Xe();if(!(S&&t>10||!B||z||!N||G<0||G>=N.renditions.length)){var n=N.renditions[G],r=n.target_duration||10;if(-1==L){if(L=st(n),_e("initial seq no: "+L),L<0)return;P=L}if(0==Q.pending&&n.last_change&&!Q.live&&!n.segments[L]&&B)return _e("All segments downloaded."),void(w=!0);if(!(L in le)&&!Q.live&&0==Q.pending&&t>60)return _e("We have enough buffer. Throttling download"),void setTimeout(gt,3e3);var i=!1,o=0;for(var s in n.segments)if(o++,L>=s){i=!0;break}if(o>0&&!i){_e("Next segment was completely past in the playlist. Perhaps a large outage occurred. Moving playhead up.","error");var l=st(n);if(l<0)return;_e("Changing from "+L+" to "+l+".","error"),L=l}if(!z&&n.segments[L]){var d=n.segments[L];z=!0;var A=L-P+1;_e("Begin download segment: "+A+JSON.stringify(d,null,3)+" from "+d.url);var g={timeout:10,binary:!0,instance_id:ie,custom_headers:{}};d.range&&d.range.length>1&&(g.custom_headers.Range="bytes="+d.range[0]+"-"+d.range[1]);var p=Xe();if(!1!==p){var f=d.duration*n.pars.bandwidth/We()*1.2;f<d.duration&&(f=d.duration),g.expected=f,g.timeout=1.5*f;var h=Math.max(p-r,r);g.timeout>h&&(g.timeout=h)}var m=function(e){_e("@on_decryption_error:",e),d.error=!0,!1===at()?(L++,++V>=1&&R.callback&&R.callback(k,{type:"stream-error",data:{errorCode:"PLAY520",errorInfo:"Failed to decrypt segments"}})):(z=!1,gt())},E=function(t,r,i,a,o){var s=null,l=null,u=null,g=null;if("success"==i&&o.instance_id==ie){if(d.is_encrypted&&!d.key_info.encryption_key)return d.key_info.uri?void ct(d.key_info.uri,function(e){d.key_info.encryption_key=e,E(t,r,i,a,o)},m):(_e("Segment is missing encryption key URI value"),void m());if(d.is_encrypted&&"aes-128"==d.key_info.method.toLowerCase())return void At(d,a,function(e){E(t,r,i,e,o)},m);_e("  ... success: "+d.url+" speed: "+Ue(o.speed)+", in: "+Pe(o.time));var p=a.length*a.BYTES_PER_ELEMENT;V=0,_e("Segment "+A+" downloaded: "+d.url+", size: "+p);new Date;try{b.unlink("/input")}catch(e){}try{b.unlink("output-v-init.mp4")}catch(e){}try{b.unlink("output-v-data.mp4")}catch(e){}try{b.unlink("output-s-init.mp4")}catch(e){}try{b.unlink("output-s-data.mp4")}catch(e){}try{b.unlink("output.608")}catch(e){}try{b.unlink("output.cue")}catch(e){}var f=(b.createDataFile("/","input",a,!0,!0),Z(pe)-X(pe)+C);se[f]={type:d.type,vast_json:d.vast_json,vast_json_keyref:d.vast_json_keyref,stream_info_tag:d.stream_info_tag,timed_metadata:d.timed_metadata,event_access:d.event_access,start_time:se[f]?se[f].start_time:f},se[f].content_offset=c(se,f),le[L]={start_time:le[L]?le[L].start_time:f,seq_no:t,bitrate:parseInt(N.renditions[r].pars.bandwidth/1e3),rendition_index:r,is_valid:!0,duration:d.duration,discontinuity:d.discontinuity},R.callback&&R.callback(k,{type:"bitrate-info-updated",data:le}),R.callback&&R.callback(k,{type:"segment-queue-updated",data:se[f]});var h=d.is_encrypted&&"sample-aes"==d.key_info.method.toLowerCase(),v=h?d.key_info.encryption_key:new Uint8Array(16),y=h?dt(d.key_info.iv):new Uint8Array(16),I=W(pe,A,d.discontinuity?1:0,"input","output",e?1:0,h?1:0,v,y),w=O!=r&&-1!=O;try{l=b.readFile("output-v-data.mp4")}catch(e){_e("No video data segment found")}if(null!=l){try{s=b.readFile("output-v-init.mp4")}catch(e){s=null}if(s||(s=Ie[r]),!s)return w?G=O:(ye[r]=1,at()),_e("Could not find video init segment. Switching renditions"),z=!1,void gt()}try{var S=b.readFile("output.608"),Q=b.readFile("output.cue")}catch(e){I=1}try{var u=b.readFile("output-s-init.mp4"),g=b.readFile("output-s-data.mp4")}catch(e){u=null,g=null}if(0!=I&&T)return _e("TS convert error","error"),void Ct();!w&&Ie[r]&&!d.discontinuity||null==s||B.append_video_data("INIT",s),null!=l&&(B.append_video_data("DATA",l),Ce++),null!=u&&null!=g&&(B.append_audio_data("INIT",u),B.append_audio_data("DATA",g),Ce++),xe(S),Le(Q),B.buffer_check(),ze(o),Ie[r]=s,L in be||(be[L]={}),be[L][r]=a,B.register_update_end_cb(ut.bind(null,r,w,T.buffered.length,d.discontinuity))}else if("error"==i&&o.instance_id==ie){if(200==o.response_code&&o.size>1024?ze(o):_e("Not recording stats"),404==o.response_code&&d.relative_url&&n.redirect_urls&&d.redirect_url_index>=0&&d.redirect_url_index<n.redirect_urls.length-1)return d.redirect_url_index++,d.url=De.makeUrlAbsolute(n.redirect_urls[d.redirect_url_index],d.relative_url),z=!1,void gt();if(_e("  ... ERROR: "+d.url+" speed: "+Ue(o.speed)+", in: "+Pe(o.time)+" ("+o.response_code+")"),d.error=200!=o.response_code,_e("Failed to download segment at "+d.url,"error"),!1===at()&&(L++,++V>=1))return void(R.callback&&R.callback(k,{type:"stream-error",data:{errorCode:"PLAY470",errorInfo:"All segment download attempts within FAILED_SEQ_LIMIT failed"}}));z=!1,gt()}else if("progress"==i){var D="";a.eta>=0&&(D=" (eta: "+Pe(a.eta)+" / exp: "+Pe(a.expected-a.spent)+" / rst: "+Pe(a.timeout)+")"),_e("Progress: "+Ue(a.speed)+D)}else if("update"==i)return o.instance_id!=ie&&_e("detected in progress download from previous session:",o.instance_id,ie),o.instance_id==ie};be[L]&&be[L][G]?E(L,G,"success",be[L][G],{instance_id:ie}):(G||(g.timeout=-1),a(d.url,g,E.bind(null,L,G),G?null:u))}}},pt=function(){var e,t,n,r=0;if(N&&N.renditions&&G>-1&&(t=N.renditions[G])&&t.segments){e=Math.max.apply(null,Object.keys(t.segments));for(var i=0;i<3;i++)(n=t.segments[e-i])&&n.duration&&(r+=1e3*n.duration);if(r>0)return Math.max(1e3,Math.min(8e3,r/2))}return 8e3},ft=function(e,t){var n=-1;if(!e||!e.length||!t)return!1;for(var r in t)t.hasOwnProperty(r)&&(n=Math.max(n,r));return N.highest_seq_no=Math.max(n,N.highest_seq_no),!(n<0&&N.highest_seq_no<0)&&e[e.length-1].seq_no<N.highest_seq_no},ht=function(){var e,t=new Date;if(!(!B||J||!N||G<0||G>=N.renditions.length)&&(e=N.renditions[G],!(t-e.last_change<e.refresh_period)&&!(T.paused&&Xe()>60)&&!(e&&e.info&&e.info.end_list)&&(0!=Q.pending||Q.live||!e.update_time)&&!(Q.live&&e.update_time>0&&t-e.update_time<3e3))){_e("Requesting rendition "+e.url+", "+e.pars.bandwidth+" bps"),e.update_time=(new Date).getTime(),J=!0;var n={instance_id:ie},r=function(t){if(t&&404==t.response_code&&e.relative_url&&e.redirect_urls.length)return void(e.url=De.makeUrlAbsolute(e.redirect_urls.shift(),e.relative_url));e.error=!0,e.failed_download_attempts++,e.failed_download_attempts>=2&&(ye[G]=1),G=(N.renditions.length+G-1)%N.renditions.length,N.renditions[G].segments={},N.renditions[G].last_change=0},i=function(t,n,i){if(N){if("success"==t&&i.instance_id==ie){var a=Ke(e.url,n);if(a&&0!=a.segments.length){if(e.error=!1,e.failed_download_attempts=0,j=0,_e("active rendition:",e.url),_e("active rendition last seq_no:",a.segments[a.segments.length-1].seq_no),a.info.target_duration&&(e.target_duration=a.info.target_duration),Q.pending){if(Q.pending=!1,Q.live=!a.info.end_list,!Q.live){Q.duration=0;for(var o=0;o<a.segments.length;o++)Q.duration+=a.segments[o].duration}_e("M3U8 information parsed: "+JSON.stringify(Q)),R.callback&&R.callback(k,{type:"stream-info",data:{duration:Q.duration,live:Q.live}}),B.set_duration(Q.live?1/0:Q.duration)}N.has_stream_restarted=N.has_stream_restarted||ft(a.segments,e.segments),R.callback&&N.has_stream_restarted&&R.callback(k,{type:"stream-restart-detected"});var s=!1;_e("total segments: "+a.segments.length);for(var o=0;o<a.segments.length;o++){var l=a.segments[o];e.segments[1*l.seq_no]||(s=!0,e.segments[1*l.seq_no]=l)}_e("new_segment_found ? "+s);var u=e.url.split("?")[0],c=e.pars&&e.pars.bandwidth||0,g=[u,c].join("|");if(R.parentScope&&R.parentScope.stale_m3u8_last_segments&&g in R.parentScope.stale_m3u8_last_segments){var p=d(e,!0);if(R.parentScope.stale_m3u8_last_segments[g]==JSON.stringify(p))return void A()}for(var f in e.segments){for(var h=!1,o=0;o<a.segments.length;o++)if(f==1*a.segments[o].seq_no){h=!0;break}h||(!x||U||x&&1*f<1*L?delete e.segments[f]:F||(F=!0,"function"==typeof R.callback&&R.callback(k,{type:"live-sync-status-updated",data:{live_sync:!1}})))}if(s?(e.last_change=new Date,_e("downloading next segment"),e.stale_counter=0,Y=0,K={},gt()):(e.stale_counter=e.stale_counter||0,e.stale_counter++),e.stale_counter>=2){G=(N.renditions.length+G-1)%N.renditions.length,N.renditions[G].last_change=0,Y++;var m=d(e,!0),E=JSON.stringify(m);K[g]=E,Y>=N.renditions.length&&Xe()<5&&A(e.url)}e.refresh_period=pt()}else{if(++j>=N.renditions.length)return _e("All renditions are empty, turning on _playlist_update_lock"),J=!0,void(R.callback&&R.callback(k,{type:"stream-error",data:{errorCode:"PLAY461",errorInfo:"All renditions are empty"}}));r()}}else if("error"==t&&i.instance_id==ie)_e("Failed to download rendition at "+e.url),r(i);else{if("update"==t)return i.instance_id==ie;"redirect"==t&&(e.redirect_urls.unshift(e.url),e.url=n)}"error"!=t&&"success"!=t||(J=!1,"error"==t?++H>=N.renditions.length&&(_e("Failed to download rendition, turning on _playlist_update_lock"),J=!0,R.callback&&R.callback(k,{type:"stream-error",data:{errorCode:"PLAY460",errorInfo:"Failed to download all renditions"}})):H=0)}};a(e.url,n,i)}},mt=function(e){var n={instance_id:ie},r=function(n,r,i){var a,o,s=[];if("success"==n&&i.instance_id==ie){if(N=Je(e,r),N.subtitles&&N.subtitles.length&&"function"==typeof R.callback&&R.callback(k,{type:"subtitles-detected",data:N.subtitles.map(function(e){return e.LANGUAGE})}),N.redirect_urls=s,N.highest_seq_no=-1,R.parentScope.master_m3u8_cache=R.parentScope.master_m3u8_cache||{},N.is_rendition||(R.parentScope.master_m3u8_cache[e]={data:r}),(!N.renditions||!N.renditions.length)&&R.callback)return delete R.parentScope.master_m3u8_cache[e],void R.callback(k,{type:"stream-error",data:{errorCode:"PLAY459",errorInfo:"Manifest does not have any renditions"}});for(var l=0;l<N.renditions.length;l++)N.renditions[l].redirect_urls=N.redirect_urls;if(R.callback&&R.callback(k,{type:"renditions",data:N}),!N)return void Fe("stopped","Video is not playable");if(R.callback){for(var u=[],l=0;l<N.renditions.length;l++)u.push({bitrate:N.renditions[l].pars.bandwidth});R.callback(k,{type:"rendition-info",data:{renditions:u}})}if(_e("Master downloaded:"+JSON.stringify(N)),Fe("loading","Master found."),N.renditions.length){for(var c=0;c<N.renditions.length;c++)if(!a&&N.renditions[c].pars.vcodec){a=N.renditions[c].pars.vcodec,o=N.renditions[c].pars.acodec;break}B=new t,B.create(T,a,o,function(){},R)}G=0;var d=We();if(R.initialBitrate)_e("setting initial bitrate",R.initialBitrate,R.autoBitrateSwitch),
y(R.initialBitrate,R.autoBitrateSwitch);else for(var l=0;l<N.renditions.length;l++)!ye[l]&&Math.abs(N.renditions[l].pars.bandwidth-d)<Math.abs(N.renditions[G].pars.bandwidth-d)&&(G=l);_e("Selecting rendition "+N.renditions[G].pars.bandwidth+" for client bw: "+d),ht()}else if("error"==n&&i.instance_id==ie)_e("Failed to download master video at "+e,"critical"),R.callback&&R.callback(k,{type:"stream-error",data:{errorCode:"PLAY450",errorInfo:"Failed to download master"}}),Fe("stopped","Video is not found");else{if("update"==n)return i.instance_id==ie;"redirect"==n&&(s.unshift(e),e=r)}};_e("Requesting master"),Fe("loading","Requesting master"),a(e,n,r)},Et=function(){if(T&&N){if(0==T.buffered.length)_e("Waiting");else{for(var e=[],t=0;t<T.buffered.length;t++)e.push("("+Pe(T.buffered.start(t))+" - "+Pe(T.buffered.end(t))+")");e=e.join(", ")+" @ "+Pe(T.currentTime),_e("Current Buffer: "+Pe(T.buffered.end(T.buffered.length-1)-T.currentTime)+" seconds. "+e),T.buffered.end(T.buffered.length-1)-T.currentTime<.2?re||(_e("Buffer empty","error"),re=!0):re=!1}var n=T.videoHeight,r=T.videoWidth;_e(r&&n?"Current quality: "+r+" x "+n:"Current quality: ...");var i=Xe(),a=$e();_e("Current delay: "+Pe(i+a))}},vt=function(){if(T){if(Oe(),function(){var e=T.currentTime;for(var t in oe)t>de&&t<=e&&Math.floor(t)==Math.floor(e)&&(oe[t].data.payload&&(oe[t].data.payload=oe[t].data.payload.replace(/,/g,", ")),R.callback&&R.callback(k,{type:"cue",data:oe[t].data}),v(t,oe));de=e}(),function(){var e=T.currentTime;for(var t in se)t>=ue&&t<=e&&(ce=t,R.callback&&R.callback(k,{type:"segment-info",data:se[t]}),_e(t+": [SEGMENT-INFO] : "+JSON.stringify(se[t])));ue=e}(),Ae&&ce&&se[ce]&&se[ce].type in{master:1,slate:1}){var e=tt(T.currentTime+.5);e&&(R.callback&&R.callback(k,{type:"caption",data:e}),_e("Captions: "+JSON.stringify(e)))}}},yt=function(){B&&B.buffer_check(),me++,ht(),Et(),nt();he=6,S||(fe=setTimeout(yt,500))},It=function(){if(T)if(F)U=!0;else for(var e=T.buffered.length-1;e>=0;e--)if(T.buffered.end(e)>T.currentTime){_e("Forcing playhead to live."),T.currentTime=Math.max(T.buffered.start(e),T.buffered.end(e)-30);break}},bt=function(t,n,r){if(R=r,k=t,D=n,ie=(new Date).getTime(),Q={pending:!0,live:!1,duration:0},q=!r.autoBitrateSwitch||q,T=e.getElementById(r.shadowHostId,t),ye=R.blacklisted_renditions||ye,T)return T.addEventListener("timeupdate",function(e){vt()}),pe=ee(),mt(n),yt(),_e("Returning a tentative true for create() but still need to see codecs."),!0},Ct=function(){var e=D,t=k,n=R;e&&t&&(Ne(),bt(t,e,n))};this.skip_to_live=function(){It()},this.create=function(e,t,n){return bt(e,t,n)},this.destroy=function(){Ne()},this.get_captions=function(e){return tt(e)},this.reset=function(){Ct()},this.toggle_caption=function(e){Ae=e},this.real_offset=function(){return C},this.get_current_segment_index=function(){return i()},this.get_bitrate_info=function(){return le},this.set_bitrate=y,this.toggle_hard_pause=function(e){var t=S;S=e,!e&&t&&(yt(),gt())},this.blacklist_rendition=function(){var e,t,n,r,a;if(!N)return!1;if(t=i(),a=le[t]){r=a.rendition_index,ye[r]=1,e=0;for(n in ye)ye.hasOwnProperty(n)&&e++;return e!==N.renditions.length&&(R.blacklisted_renditions=ye,Q&&!Q.live&&(R.offset=a.start_time),Ct(),!0)}return!1},this.set_player_size=function(e,t){isNaN(e)||(_.width=e),isNaN(t)||(_.height=t),ot()},this.has_stream_restarted=function(){return!(!N||!N.has_stream_restarted)},this.set_vast_json_=l,this.load_web_vtt=E}return"undefined"==typeof ArrayBuffer||"undefined"==typeof Int8Array?void console.error("ArrayBuffer/Int8Array (needed for AnvatoMse) is not supported by the browser"):n}),anv.define("JSHlsVideo",["util","Caption608","AnvatoMse"],function(e,t,n){function r(t,r,i,a,o){function s(t,n,r){Ue={width:parseInt(n),height:parseInt(r)},a.disableAutoBitrateSwitchCap||(Ue.auto_bitrate_switch_cap_scale="autoBitrateSwitchCapScale"in a?a.autoBitrateSwitchCapScale:1),Pe=arguments,"string"==typeof t&&(t=e.getElementById(a.pInstance,t)),Ge("initializing video"),t.width=t.parentNode.clientWidth,t.height=t.parentNode.clientHeight,t.style.display="block",ye=t;for(var i in He)He.hasOwnProperty(i)&&e.addEventListener(ye,i,He[i],!1);Ge("video initialized")}function l(e,t){for(var n,r,i,a,o=e.buffered.length,s=100,l=null,u=0;u<o;u++)n=e.buffered.start(u),r=e.buffered.end(u),i=r-n,(a=n-e.currentTime)>0&&a<s&&i>1.5&&(s=a,l=n);return null!=l?l:t>0&&t-e.currentTime<1.1?t:-1}function u(){Ge("@resetGapCounters"),Je=0,ze=0}function c(){Ge("@applyGapRecovery @"+ye.currentTime);var e=l(ye,xe);xe>0&&!st&&e==xe?(Ge("forcing ended due to smaller than END_THRESHOLD distance to the end"),C()):-1==e?(Ge("no buffer start to jump"),t.publish("toggleBufferSpinner",!0),Je<We?(Ge("incrementing currentTime"),ye.currentTime+=1,Je++,clearTimeout(Re.resetGapCounters),Re.resetGapCounters=setTimeout(u,Xe)):ze<Ze&&(Ge("reloading for gap recovery"),ze++,clearTimeout(Re.resetGapCounters),Re.resetGapCounters=setTimeout(u,Xe),A())):(Ge("@applyGapRecovery jumping from",ye.currentTime,"to",e),ye.currentTime=e)}function d(e){if(Ge("@onWaiting",e.type,this.currentTime),Me&&Me.has_stream_restarted())Ge("dispatching stream error due to detected stream restart"),t.publish("streamError","PLAY480","Stream media sequence number has reset");else{if(!st&&Math.abs(xe-ye.currentTime)<$e&&!Re.impliedEnded)return void(Re.impliedEnded=setTimeout(function(){C.call(ye,"impliedFromWaitingEvent")},et));c()}}function A(){var e=Array.prototype.slice.call(Ne),t=Array.prototype.slice.call(Pe);if(je)return void Ge("cancelling reloadForGapRecovery due to the pending play promise");e[2]=re(),Ge("@reloadForGapRecovery re-init due to stall"),le(),s.apply(null,t),k.apply(null,e)}function g(e){Ge("@onStalled",e.type,ye.paused,ye.networkState,ye.readyState),ye.paused?ye.readyState<3&&c():(_e=ye.currentTime,clearTimeout(Re.applyGapRecovery),Re.applyGapRecovery=setTimeout(function(){ye.currentTime==_e&&(Ge("@applying non-paused stall recovery"),c())},1e3))}function p(e){Ge("@onEmptied",e.type)}function f(){t.publish("loadedmetadata",xe,this.readyState)}function h(){t.publish("loadeddata",xe)}function m(){tt||(t.publish("videoReady2Play","canplay"+(nt?"-mse-seeked":"")),nt=!1)}function E(){Ge("oncanplaythrough")}function v(){Ge("onprogress",ye.readyState,ye.networkState);var e,n;ye.buffered&&ye.buffered.length&&(e=ye.buffered.end(ye.buffered.length-1),n=Math.min(xe,e+3),tt&&n>=tt&&(ie(tt)?(oe(tt),tt=null):(tt=null,nt=!0,m()),t.publish("setOffsetCorrectionProgress",!1)),t.publish("bufferLimitUpdated",e))}function y(){Ge("onplay")}function I(){Ge("@onPaused");var e=(r.iphone||r.ipod)&&Ce,n="isPauseInternal"in ye?!ye.isPauseInternal:e;t.publish("evaluatePausedState"),Math.abs(xe-ye.currentTime)<=1&&(ye.isPauseInternal=!1),n||t.publish("userEvent","IMPLICIT_PAUSE"),e&&(Ge("onpause"),n&&t.publish("userEvent","USER_PAUSE",ye.isPauseInternal)),delete ye.isPauseInternal}function b(){Ge("onplaying"),L(!1),it||Me.toggle_hard_pause(!1),t.publish("toggleBufferSpinner",!1),t.publish("playing"),u()}function C(e){Ge("@onEnded origin:","string"==typeof e?e:"default"),Re.impliedEnded&&(clearTimeout(Re.impliedEnded),delete Re.impliedEnded),ke.lastPosition=0,ke.marked=0,ke.persistCounter=0,t.publish("completedVideoContent")}function B(){Ge("@onSeeking")}function w(){Ge("@onSeeked"),tt||t.publish("videoReady2Play","seeked")}function S(e,n){var r,i=/dcs-.*\.apis/,a=/ts_play_at=[0-9]*]/,o="ts_play_at=";return n=parseInt(n),!isNaN(n)&&i.test(e)&&(o+=n,a.test(e)?e=e.replace(a,o):(r=e.indexOf("?")>-1?"&":"?",e+=r+o),lt=n,t.publish("liveOffsetDetected",n)),e}function T(e){Fe=e,"function"==typeof at.setHlscore&&(at.setHlscore(),delete at.setHlscore)}function k(r,i,s,l,u){var c,d,A,g,p=[];if(Ne=arguments,ke.lastPosition=0,ke.marked=0,ke.persistCounter=0,e.safeSetInnerHtml(ye,""),ye.removeAttribute("src"),Ie=!1,ut=r.timeDelta||ut,qe=null,A=l?r.backup_url:r.embed_url,Ke=r.update_url?r.update_url:null,a.drm||r.drm||r.license_url)return void t.publish("streamError","DRM005","The current media module does not have DRM support");nt||(Ve=null),Ge("@setSource initial url",A,"openCaptions",Be),Be?(c=A.indexOf("?")>-1?"&":"?",d=A+c+"caption=open"):(d=A,d=d.replace(/.caption=open/,"")),u&&(s=0),d=S(d,u);var f=function(){Me=Me||new n(Ue,Fe),Me.create(ye.id,d,g),ye.load(),Oe=d};Oe!=d?(g={offset:s||0,parentScope:o,initialBitrate:fe(),shadowHostId:a.pInstance,liveDelayInSegments:a.liveDelayInSegments,autoBitrateSwitch:Ve?"auto"===Ve:!("autoBitrateSwitch"in a)||!!a.autoBitrateSwitch,verbose:ot,renditionCacheDuration:a.renditionCacheDuration,masterCacheDuration:a.masterCacheDuration,streamTokenizationCheck:!("streamTokenizationCheck"in a)||!!a.streamTokenizationCheck,callback:function(e,n){switch(n.type){case"subtitles-detected":be||(t.publish("subtitlesDetected",n.data),be=!0);break;case"subtitle-payload":ct||(ct=!0,t.publish("captionLoaded",!0)),t.publish("webVttUpdated",n.data.payload,n.data.lang);break;case"caption-detected":Ie||(t.publish("caption608Detected"),Ie=!0);break;case"caption":t.publish("caption608Updated",n.data,null);break;case"cue":t.publish("cueUpdated",n.data);break;case"segment-info":t.publish("segmentInfoUpdated",n.data);break;case"segment-queue-updated":t.publish("segmentQueueUpdated",n.data);break;case"session-id-updated":n.data!=Ye&&(Ye=n.data,t.publish("sessionIdUpdated",Ye),Ke&&t.publish("adSessionUpdateUrlDetected",Ke.replace("{{DCS_SESSION_ID}}",Ye)));break;case"cdn-provider-updated":n.data!=qe&&(qe=n.data,t.publish("cdnProviderUpdated",qe));break;case"bitrate-info-updated":G(n.data);break;case"stream-info":n.data&&("boolean"==typeof n.data.live&&(st=n.data.live,lt=(Date.now()+ut)/1e3,t.publish("setLive",st)),"number"==typeof n.data.duration&&(xe=n.data.duration),st&&(xe=1/0));break;case"stream-error":Ge("stream-error"),t.publish("streamError",n.data.errorCode,n.data.errorInfo);break;case"renditions":var r={};if("object"==typeof n.data&&"object"==typeof n.data.renditions&&"length"in n.data.renditions){for(var i,a=0,s=n.data.renditions.length;a<s;a++)i=parseInt(n.data.renditions[a].pars.bandwidth/1e3),p.push(i),!r[i]&&n.data.renditions[a].pars.resolution&&(r[i]=n.data.renditions[a].pars.resolution);t.publish("bitrateUpdate",p,Ve||"auto",r)}break;case"low-bandwidth-detected":t.publish("lowBandwidthDetected",n.data.bandwidth);break;case"bandwidth-improvement-detected":t.publish("bandwidthImprovementDetected",n.data.bandwidth);break;case"live-sync-status-updated":t.publish("liveSyncStatusUpdated",n.data.live_sync);break;case"offset-correction-needed":tt=n.data.goal,t.publish("setOffsetCorrectionProgress",!0);break;case"stream-restart-detected":Ge("stream-restart-detected"),ye.buffered.length&&Math.abs($()-ye.currentTime)<1&&(Ge("dispatching stream error due to detected stream restart"),t.publish("streamError","PLAY480","Stream media sequence number has reset"));break;case"bandwidth-estimate":o.bandwidthEstimateInKbps=n.data/1024;break;case"end-of-stream-failure":st||C.call(ye,"endOfStreamFailure")}}},He.error=Y.bind(ye,"video",i),e.addEventListener(ye,"error",He.error),Ge("@setSource final url:",d,"with offset:",s),Fe?f():(at.setHlscore=f,ye.load())):t.publish("videoReady2Play","canplay")}function Q(){return Oe}function D(e){Ge("@pause",e),ye.isPauseInternal=e,ye.pause()}function R(){Ge("@stopDownload"),it=!0,Me.toggle_hard_pause(!0)}function _(){Ge("@resumeDownload"),it=!1,Me.toggle_hard_pause(!1)}function M(e){Ge("@hardPause"),Me.toggle_hard_pause(!0),D(e)}function N(e){Ge("@toggleInlinePlayback",e),e?ye.setAttribute("playsinline",""):ye.removeAttribute("playsinline")}function P(e){Ge("@toggleMobileAutoPlay",e),e?(ye.setAttribute("playsinline",""),ye.setAttribute("autoplay",""),ye.setAttribute("muted",""),ye.muted=!0,ye.volume=0):(ye.removeAttribute("autoplay"),ye.removeAttribute("muted"),ye.muted=!1),L(!!e)}function O(){return"true"==ye.getAttribute("data-autoplay-mute-lock")}function L(e){ye.setAttribute("data-autoplay-mute-lock",e)}function x(){return ye.muted}function F(e){Me&&Me.toggle_caption&&Me.toggle_caption(e)}function U(e){Ve=e,Me.set_bitrate(e)}function V(e,t){Ee=e,ve=t,ye.width=e,ye.height=t,Me&&Me.set_player_size&&Me.set_player_size(Math.floor(e),Math.floor(t)),Pe&&(Pe[1]=Ee,Pe[2]=ve)}function G(e){var n,r,i=Me.get_current_segment_index();if(null!=i&&(n=e[i].bitrate,n!=we&&e[i].is_valid&&(we=n,Te=null,t.publish("bitrateChanged",we)),e))for(var a in e)if(e.hasOwnProperty(a)){if(a==i){r=!0;continue}if(r&&e[a].bitrate!=we&&e[a].is_valid){e[a].bitrate!=Se&&(Se=e[a].bitrate,Te=e[a].start_time,t.publish("bitrateChangeInProgress",Se));break}}}function H(){Ge("@fetchBitrateUpdate");var e;Me&&Me.get_bitrate_info&&(e=Me.get_bitrate_info(),G(e)),Te=null}function j(e){ke.lastPosition=ke.lastPosition||0,ke.marked=ke.marked||0,ke.persistCounter=ke.persistCounter||0,Math.abs(e-ke.lastPosition)<2?ke.lastPosition=e:(Math.abs(e-ke.marked)<2?(ke.marked=e,ke.persistCounter++):(ke.marked=e,ke.persistCounter=0),ke.persistCounter>5&&(Ge("seek detected from",ke.lastPosition,"to",ke.marked),(r.iphone||r.ipod||Ce)&&t.publish("userEvent",ke.marked>ke.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",ke.lastPosition,ke.marked),ke.lastPosition=e,ke.marked=0,ke.persistCounter=0))}function Y(e,n,r){var i,a,o;if("source"==e?i=this.parentNode:"video"==e&&(i=this),i&&i.error&&i.error instanceof MediaError){if(Ge("video error message",i.error),Ge("video error code",i.error.code),i.error.code===MediaError.MEDIA_ERR_DECODE)return void(Me&&Me.blacklist_rendition()||t.publish("streamError","PLAY457","The browser encountered a media decode error"));if(i.error.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED)return void t.publish("streamError","PLAY458","Media source is not supported")}Ge("@onVideoError",i,r,r.message),a=Qe[i.networkState],o=De[i.readyState],Ge("Error network state",a),Ge("Error ready state",o),Ge("Error h264 support",!(!i.canPlayType||!i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'))),n&&n(null,e,["networkState: "+a,"readyState: "+o].join(" | "),r)}function K(e){Re.startTimeNotification||(Re.startTimeNotification=setInterval(q.bind(null,"timer"),300),Ge("@startTimeNotification",e,Re.startTimeNotification))}function q(){var e=ye.currentTime;t.publish("updateTime",e),j(Math.floor(e)),Te&&Te<e&&H()}function J(){Ge("@cancelTimeNotification",Re.startTimeNotification),clearTimeout(Re.startTimeNotification),delete Re.startTimeNotification}function z(e){ye.playbackRate=e}function W(){ye.playbackRate=1}function Z(){return ye.playbackRate}function X(){return $()-ye.currentTime}function $(){var e;return ye.buffered&&ye.buffered.length?(e=ye.buffered.end(ye.buffered.length-1),Ge("@getBufferEnd",e),e):0}function ee(){ne(!0)}function te(){ne(!1)}function ne(e){Ge("@toggleOpenCaption ",e),Be=e,ke.lastPosition=0,ke.marked=0,ke.persistCounter=0;var t,n,r,i,a=ye.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,Ge("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",Ge("@toggleOpenCaption final url",i),t.onerror=Y.bind(t,"source",te),ye.onerror=Y.bind(ye,"video",te)),r!=i&&(t.src=i,ye.load())}function re(){return ye.currentTime}function ie(e){var t,n,r=ye.buffered.length;if(e>=0)for(var i=0;i<r;i++)if(t=ye.buffered.start(i),n=ye.buffered.end(i),e<n&&e>t)return!0;return!1}function ae(e){Ge("@seekForLive",e),nt=!0;var t,n,r=e-lt;ie(r)?(Ge("@seekTo using available buffer"),ye.currentTime=r):(Ge("@seekTo buffer NOT available re-init"),t=Array.prototype.slice.call(Ne),n=Array.prototype.slice.call(Pe),t[4]=e,le(),s.apply(null,n),k.apply(null,t))}function oe(e){if(Ge("@seekTo",e),st)return void ae(e);if(!(e<0||e>xe)){nt=!0;var t,n;ie(e)?(Ge("@seekTo using available buffer"),ye.currentTime=e):(Ge("@seekTo buffer NOT available re-init"),t=Array.prototype.slice.call(Ne),n=Array.prototype.slice.call(Pe),t[2]=e,le(),s.apply(null,n),k.apply(null,t))}}function se(){return"MSE"}function le(){if(ye){Ge("@destroy"),ue(ye);try{ce(),Me&&"destroy"in Me&&Me.destroy()}catch(t){console.error("encountered an error while destroying jsp instance")}for(var t in He)He.hasOwnProperty(t)&&e.removeEventListener(ye,t,He[t],!1);delete He.error;for(var n in Re)Re.hasOwnProperty(n)&&clearTimeout(Re[n]);Re={},Me=null,Oe=null,Ke=null}}function ue(e){for(var t=0,n=e.textTracks.length;t<n;t++){var r=e.textTracks[t];if(r.cues)for(var i=r.cues.length-1;i>=0;i--)r.cues[i]&&r.removeCue(r.cues[i])}}function ce(){Ge("@reset"),Me&&"reset"in Me&&Me.reset()}function de(){Me&&"skip_to_live"in Me&&Me.skip_to_live()}function Ae(){}function ge(e,t){Ge("@setVolume",e),rt=e,O()&&!t||(ye.volume=e,ye.muted=!e)}function pe(){return ye.volume}function fe(){return Ve||(o.bandwidthEstimateInKbps?o.bandwidthEstimateInKbps:"number"==typeof a.initialBitrate?a.initialBitrate:null)}function he(e){ct=!1,Me.load_web_vtt(e)}var me,Ee,ve,ye,Ie,be,Ce=!1,Be=!1,we=null,Se=null,Te=null,ke={},Qe={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},De={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},Re={};i&&"string"!=typeof i||(i=e.getLogger(i));var _e,Me,Ne,Pe,Oe,Le,xe,Fe,Ue,Ve,Ge=i.getLogFn("JSHls"),He={loadedmetadata:f,loadeddata:h,canplay:m,canplaythrough:E,progress:v,play:y,pause:I,playing:b,ended:C,seeking:B,seeked:w,waiting:d,stalled:g,emptied:p},je=!1,Ye=null,Ke=null,qe=null,Je=0,ze=0,We=3,Ze=1,Xe=1e4,$e=1,et=2e3,tt=0,nt=!1,rt=1,it=!1,at={},ot=a.debug&&"object"==typeof a.debug&&"length"in a.debug&&function(){for(var e=0,t=a.debug.length;e<t;e++)if("JSP"==a.debug[e])return!0;return!1}(),st=!1,lt=0,ut=0,ct=!1;return{videoContent:function(){return ye},init:function(e,t,n){me=e,Ee=t,ve=n,s(e,t,n)},width:function(e){return"number"==typeof e&&(Ee=e),Ee},height:function(e){return"number"==typeof e&&(ve=e),ve},getCurrentTime:re,seekTo:oe,getDuration:function(){return Ge("@getDuration"),xe},setSource:k,getSource:Q,play:function(e,t){Ge("@play");var n=ye.play();je=!0,void 0!==n&&n.then(function(){Ge("@play promise succeeded"),je=!1,L(!1),"function"==typeof e&&e()}).catch(function(e){je=!1,console.error("play promise failed",ye),"function"==typeof t&&t(e),Ge("@play promise failed with error",e.name,e.message,e)})},pause:D,hardPause:M,setSpherical:function(e){Ge("@setSpherical",e),Le=e,ye.style.display=Le?"none":"block",ye.style.visibility=Le?"hidden":"visible",Le&&!ye.hasAttribute("crossorigin")&&ye.readyState>0&&ye.load()},hide:function(){ye.style.display="none",ye.style.visibility="hidden"},show:function(){Le||(ye.style.visibility="visible",ye.style.display="block")},hasEmbedCaption:Ae,enableEmbedCaption:function(){Ge("@enableEmbedCaption"),Ge("No embed caption available")},disableEmbedCaption:function(){ye.textTracks&&ye.textTracks.length?(Ge("embed caption disabled"),ye.textTracks[0].mode="hidden"):Ge("No embed caption available")},resize:V,setFullscreen:function(e){Ge("@setFullscreen",e),Ce=e},getPaused:function(){return ye.paused},isBitrateSwitchSupported:function(){return!0},setBitrate:U,startTimeNotification:K,cancelTimeNotification:J,setPlaybackRate:z,getPlaybackRate:Z,resetPlaybackRate:W,getBufferEnd:$,loadOpenCaption:ee,unloadOpenCaption:te,getType:se,destroy:le,reset:ce,catchLive:de,setVolume:ge,getVolume:pe,toggleMobileAutoPlay:P,notifyCaptionStatus:F,toggleInlinePlayback:N,getGapJumpIndex_:l,isMuted:x,stopDownload:R,resumeDownload:_,getRemainingBuffer:X,setHlscore:T,loadWebVtt:he}}return r}),anv.define("AnvatoDash",["util"],function(e){function t(e,t){var n=function(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e.getUint8(t+r));return n},r=function(e,t,n,r){var i=n;do{i=s(e,t,i)}while(i>=0)},i=function(e,t,n,r){var i=n;do{i=s(e,t,i)}while(i>=0)},a=function(e,t,n,r){var i=t.getUint8(n);t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3);if(0==i){t.getUint32(n),e.time_scale;t.setUint32(n,e.pts*e.time_scale)}else{var a=Math.floor(e.pts*e.time_scale/4294967296),o=e.pts*e.time_scale-4294967296*a;t.setUint32(n,a),t.setUint32(n+4,o)}},o=function(e,t,n,r){var i=t.getUint8(n);t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3);n+=4;t.getUint32(n);n+=4;var a=t.getUint32(n);if(n+=4,e.time_scale=a,0==i){t.getUint32(n);t.setUint32(n,e.pts*a),n+=4;t.getUint32(n);n+=4}else{var o=(t.getUint32(n),t.getUint32(n+4),Math.floor(e.pts*a/4294967296)),s=e.pts*a-4294967296*o;t.setUint32(n,o),t.setUint32(n+4,s),n+=8;t.getUint32(n),t.getUint32(n+4);n+=8}},s=function(e,t,s){if(s==t.byteLength)return-1;try{var l=t.getUint32(s,!1),u=n(t,s+4);return"sidx"==u?o(e,t,s+8):"moof"==u?r(e,t,s+8):"traf"==u?i(e,t,s+8):"tfdt"==u&&a(e,t,s+8),s+l}catch(e){return-1}};return function(e,t){var n={pts:t,time_scale:1},r=new DataView(e.buffer),i=0;do{i=s(n,r,i)}while(i>=0)}(e,t)}function n(e){function t(e){var t=String.fromCharCode.apply(null,e);return decodeURIComponent(escape(t))}var n=function(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e.getUint8(t+r));return n},r=function(e,t,n,r){var i=n;do{i=u(e,t,i)}while(i>=0)},i=function(e,t,n,r){var i=n;do{i=u(e,t,i)}while(i>=0)},a=function(e,t,n,r){var i=(t.getUint8(n),[t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3)]);n+=4;var a=t.getUint32(n);if(n+=4,1&i[2]){t.getUint32(n);n+=4}if(4&i[2]){t.getUint32(n);n+=4}e.duration=0;for(var o=0;o<a;o++){var s=0;1&i[1]&&(s=t.getUint32(n),n+=4),2&i[1]&&(t.getUint32(n),n+=4),4&i[1]&&(t.getUint32(n),n+=4),8&i[1]&&(smp_comp_odd=t.getUint32(n),n+=4),e.duration+=s}},o=function(e,t,n,r){var i=t.getUint8(n);t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3);n+=4;t.getUint32(n);n+=4;var a=t.getUint32(n);if(n+=4,e.time_scale=a,0==i){e.begin_pts=t.getUint32(n)/a,n+=4;t.getUint32(n);n+=4}else{var o=t.getUint32(n),s=t.getUint32(n+4);n+=8,e.begin_pts=o*(4294967296/a)+s/a;t.getUint32(n),t.getUint32(n+4);n+=8}},s=function(e,n,r){for(var i=0,a=[],o=0;o<r;o++){var s=e.getUint8(n+o);if(i++,0==s)break;a.push(s)}return{s:t(a),l:i}},l=function(e,t,n,r){var i=n;t.getUint8(n),t.getUint8(n+1),t.getUint8(n+2),t.getUint8(n+3);n+=4;var a=s(t,n,r-(n-i));if("urn:anvato:es1:052016"==a.s){n+=a.l;var a=s(t,n,r-(n-i));if("0"==a.s){n+=a.l;var o=t.getUint32(n);n+=4;var l=t.getUint32(n);n+=4;t.getUint32(n);n+=4;var u=t.getUint32(n);n+=4;var a=s(t,n,r-(n-i));e.emsg[u]={payload:a.s,offset:l/o}}}},u=function(e,t,s){if(s==t.byteLength)return-1;try{var u=t.getUint32(s,!1),c=n(t,s+4);return"sidx"==c?o(e,t,s+8):"moof"==c?r(e,t,s+8):"trun"==c?a(e,t,s+8):"traf"==c?i(e,t,s+8):"emsg"==c&&l(e,t,s+8,u),s+u}catch(e){return-1}};return function(e){var t={begin_pts:null,end_pts:null,duration:null,time_scale:null,emsg:{}},n=new DataView(e.buffer),r=0;do{r=u(t,n,r)}while(r>=0);return t.time_scale&&(t.duration/=t.time_scale,t.end_pts=t.begin_pts+t.duration),t}(e)}function r(e,t,n,r){function i(e){var t=e.getElementsByTagName("BaseURL");return 0!=t.length&&t[0].firstChild?t[0].firstChild.nodeValue:null}function a(e,t){for(var n=0;n<t.length;n++)if(t[n])return s.makeUrlAbsolute(t[n],e);return e}var o,s={urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(e){if("object"==typeof e)return e;var t=this.urlParseRE.exec(e||"")||[];return{href:t[0]||"",hrefNoHash:t[1]||"",hrefNoSearch:t[2]||"",domain:t[3]||"",protocol:t[4]||"",doubleSlash:t[5]||"",authority:t[6]||"",username:t[8]||"",password:t[9]||"",host:t[10]||"",hostname:t[11]||"",port:t[12]||"",pathname:t[13]||"",directory:t[14]||"",filename:t[15]||"",search:t[16]||"",hash:t[17]||""}},makePathAbsolute:function(e,t){var n,r,i,a;if(e&&"/"===e.charAt(0))return e;for(e=e||"",t=t?t.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"",n=t?t.split("/"):[],r=e.split("/"),i=0;i<r.length;i++)switch(a=r[i]){case".":break;case"..":n.length&&n.pop();break;default:n.push(a)}return"/"+n.join("/")},isRelativeUrl:function(e){return""===this.parseUrl(e).protocol},isAbsoluteUrl:function(e){return""!==this.parseUrl(e).protocol},makeUrlAbsolute:function(e,t){if(!this.isRelativeUrl(t))return t;var n=this.parseUrl(t),r=this.parseUrl(e),i=n.protocol||r.protocol,a=n.protocol?n.doubleSlash:n.doubleSlash||r.doubleSlash,o=n.authority||r.authority,s=""!==n.pathname;return i+a+o+this.makePathAbsolute(n.pathname||r.filename,r.pathname)+(n.search||!s&&r.search||"")+n.hash}};if(void 0!==window.DOMParser){t=t.replace(/(<MPD[\s\S]*<\/MPD>)([\s\S]*)/gim,"$1");try{o=function(e){return(new window.DOMParser).parseFromString(e,"text/xml")}}catch(e){console.error("encountered an error while parsing the XML",e,e.message)}}else{if(void 0===window.ActiveXObject||!new window.ActiveXObject("Microsoft.XMLDOM"))throw new Error("No XML parser found");o=function(e){var t=new window.ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t}}var l,u=[],c=o(t),d=c.firstChild.getElementsByTagName("Location");if(d.length>0&&(l=d[0].firstChild.nodeValue)&&l!=e){return{location:l}}var A={},g=c.firstChild.getAttribute("publishTime"),p=c.firstChild.getAttribute("minimumUpdatePeriod"),f=null;if("string"==typeof p&&(p=p.replace("PT",""),p=parseInt(p),p=isNaN(p)?0:p),p=p||0,p=Math.max(p,10),"string"==typeof g){g=g.trim(),/([+-][0-9]{2}:?[0-9]{2}|Z)$/.test(g)||(g+="Z");try{f=new Date(g).getTime()}catch(e){jsplog("Encountered an error while converting publish time to ts")}}for(var h=c.firstChild.getElementsByTagName("Period"),m=0;m<h.length;m++){for(var E={id:h[m].getAttribute("id"),streams:[],base_url:i(h[m]),start_number:""},v=h[m].getElementsByTagName("EventStream"),y=0;y<v.length;y++){var I=v[y],b=I.getAttribute("schemeIdUri");if("urn:anvato:ms1:20160719"==b||"urn:anvato:ms2:20160719"==b)for(var C=I.getElementsByTagName("Event"),B=0;B<C.length;B++){var w=C[B],S=w.getAttribute("id"),T=null;try{T=atob(w.firstChild.nodeValue)}catch(e){T=null}T&&("urn:anvato:ms2:20160719"==b?(A["period-"+S]=A["period-"+S]||[],A["period-"+S].push({type:"segment-info",payload:T})):(A["fragment-"+S]=A["fragment-"+S]||[],A["fragment-"+S].push({type:"cue-sec",payload:T})))}}for(var k=h[m].getElementsByTagName("AdaptationSet"),Q=0;Q<k.length;Q++)for(var D=k[Q].getAttribute("contentType"),R=k[Q].getElementsByTagName("Representation"),_=0,M=R.length;_<M;_++){var N=[];if(R.length>=1&&(N=R[_].getElementsByTagName("SegmentList")),R.length>=1&&1==N.length){var P=i(R[_]),O=R[_].getAttribute("mimeType");"video/mp4"==O&&(D="video"),"audio/mp4"==O&&(D="audio");var L=N[0].getElementsByTagName("Initialization");if(1==L.length&&("audio"==D||"video"==D)){for(var x=[],F=N[0].getElementsByTagName("SegmentURL"),U=0;U<F.length;U++){var V=a(F[U].getAttribute("media"),[P,E.base_url,e]);x.push({url:V})}var G=parseInt(N[0].getAttribute("startNumber"),10);if(isNaN(G)&&(G=0),""!=E.start_number&&G!=E.start_number){console.log("ERROR: Stream is not CMAF compliant. Sequence number mismatch."),!0;continue}E.start_number=G;var H=a(L[0].getAttribute("sourceURL"),[P,E.base_url,e]);E.streams.push({type:D,stream_id:R[_].getAttribute("id")?R[_].getAttribute("id"):"",language:"en",width:parseInt(R[_].getAttribute("width"),10),height:parseInt(R[_].getAttribute("height"),10),bandwidth:parseInt(R[_].getAttribute("bandwidth"),10),codecs:R[_].getAttribute("codecs"),init:H,urls:x})}}}u.push(E)}for(var j=[],Y={},m=0;m<u.length;m++)for(var E=u[m],Q=0;Q<E.streams.length;Q++)for(var K=E.streams[Q],q=0;q<K.urls.length;q++){var J=E.start_number+q;Y[J]||(Y[J]=[]);var z={period_id:E.id,type:K.type,init:K.init,id:K.stream_id,width:K.width,height:K.height,bandwidth:K.bandwidth,codecs:K.codecs,url:K.urls[q].url,events:[]};A["period-"+z.period_id]&&(z.events=z.events.concat(A["period-"+z.period_id])),A["fragment-"+J]&&(z.events=z.events.concat(A["fragment-"+J])),Y[J].push(z),q||"video"!=K.type||j.push({idx:Q,bw:K.bandwidth,resolution:K.width&&K.height?[K.width,K.height].join("x"):void 0})}return{fragments:Y,rendition_info:j,publish_ts:f,minimum_update_period:p}}function i(e){function t(){for(var e=0,t=0,n=0;n<u.length;n++)t+=u[n].byteLength;for(var r=0;r<c.length;r++)e+=c[r].byteLength;return{audio:e,video:t}}function n(){for(var e,t,n,r=0,i=0,o=0,s=a.buffered.length;o<s;o++){t=Math.floor(a.buffered.start(o)),n=a.buffered.end(o);for(var l in d)(l=parseInt(l))>=t&&l<n&&(e=d[t])&&(i+=e.video,r+=e.audio)}return{audio:r,video:i}}function r(){return a&&a.buffered&&a.buffered.length?a.buffered.end(a.buffered.length-1)-a.currentTime:0}function i(){o&&delete o,l&&delete l,s&&delete s}var a=null,o=null,s=null,l=null,u=[],c=[],d={},A=e,g=null,p=function(e,t,r){var i=!1,a=n();if(A.videoBufferQuota&&"video"==e&&a.video+r.byteLength>A.videoBufferQuota)return!1;if(A.audioBufferQuota&&"audio"==e&&a.audio+r.byteLength>A.audioBufferQuota)return!1;try{t.appendBuffer(r),i=!0}catch(t){"QuotaExceededError"==t.name&&("video"==e?(A.videoBufferQuota=a.video,console.info("Dynamically determined video source buffer quota:",A.videoBufferQuota)):"audio"==e&&(A.audioBufferQuota=a.audio),"function"==typeof g&&g())}return i},f=p.bind(this,"audio"),h=p.bind(this,"video"),m=function(){l&&u.length&&!l.updating&&h(l,u[0])&&u.splice(0,1)},E=function(){s&&c.length&&!s.updating&&f(s,c[0])&&c.splice(0,1)},v=function(e){s&&(c.length||s.updating||!f(s,e))&&c.push(e)},y=function(e){l&&(u.length||l.updating||!h(l,e))&&u.push(e)},I=function(e,t,n,r){if(a=e,!window.MediaSource)return console.log("No MSE support: Failed to find window.MediaSource()"),!1;try{o=new window.MediaSource}catch(e){console.log(e),o=null}if(!o)return console.log("No MSE support: Failed to instantiate MediaSource()"),!1;a.src=URL.createObjectURL(o),o.addEventListener("sourceopen",function(){try{l=o.addSourceBuffer('video/mp4; codecs="'+t+'"')}catch(e){console.log("ERROR: Video not supported",e)}l||A.callback&&A.callback(null,{type:"stream-error",data:{errorCode:"PLAY455",errorInfo:"The browser does not support the specified video codec"}});try{s=o.addSourceBuffer('audio/mp4; codecs="'+n+'"')}catch(e){console.log("ERROR: Audio not supported")}if(s||A.callback&&A.callback(null,{type:"stream-error",data:{errorCode:"PLAY456",errorInfo:"The browser does not support the specified audio codec"}}),!l||!s)return i(),console.log("Browser supports MSE but does not support the codecs in this master. Cannot play."),null;l&&l.addEventListener("update",m),s&&s.addEventListener("update",E),r()})};this.clean_up=i,this.create=function(e,t,n,r){I(e,t,n,r)},this.mseEndOfStream=function(){o&&"open"==o.readyState&&o.endOfStream()},this.mseReadyState=function(){if(o)return o.readyState},this.mseSourceBuffers=function(){return o?o.sourceBuffers:[]},this.append_video_data=function(e){return y(e)},this.append_audio_data=function(e){return v(e)},this.buffer_check=function(){E(),m()},this.min_sb_buffer_length=function(){return Math.min(u.length,c.length)},this.segment_byte_lengths=d,this.get_buffer_size=n,this.get_buffer_queue_size=t,this.get_playback_buffer=r,this.set_quota_limit_exceeded_callback=function(e){g=e}}function a(a){function o(){var e=m.currentTime+A,t=null;for(var n in F)if(F.hasOwnProperty(n)&&F[n]){if(!(e>=F[n].start_time))return t;t=n}return t}function s(e,t){I.parentScope&&"string"==typeof e&&(I.parentScope.stale_mpd_last_segment[e]=t),I.callback&&(I.callback(E,{type:"stream-error",data:{errorCode:"PLAY462",errorInfo:"All renditions are stale (no new segments)"}}),f=!0)}function l(t,n){var r=-1,i=null;for(var a in t.fragments)a>r&&(r=a,i=t.fragments[a]);if(null==i)return null;var o=e.deepCopy(i);if(n){for(var s=0,l=o.length;s<l;s++)o[s].init="string"==typeof o[s].init?o[s].init.split("?")[0]:null,o[s].url="string"==typeof o[s].url?o[s].url.split("?")[0]:null,
delete o[s].events;o.sort(function(e,t){return e.bandwidth-t.bandwidth})}return{seq_no:a,segment:o}}function u(e,t){var n,r,i,a,s,l=U.length;if(te("@set_bitrate requested bitrate: "+e," _desired_rendition_idx:"+k+" resume_auto"+t),"auto"==e)Q=!1;else{for(te("@set_bitrate total bitrates:",l);l--;)r=Math.abs(U[l].bw/1e3-e),(void 0===i||r<i)&&(n=U[l].idx,i=r);te("@set_bitrate",[e,n,U[n]].join(":")),k=n,Q=!t}-1!=S&&null!==(a=o())&&(te("@set_bitrate current_seg_no",a),S=parseInt(a)+1),te("@set_bitrate _next_seq_no",S);for(var u in F)F.hasOwnProperty(u)&&(u==S&&(s=!0),s&&(F[u].is_valid=!1));p&&(p=!1,he())}var c=null,d=null,A=0,g=null,p=!1,f=!1,h=!1,m=null,E=null,v={},y=null,I={},b={state:"pending",reason:"No request yet"},C={},B=null,w=-1,S=-1,T=null,k=-1,Q=!1,D=!1,R=!1,_=[],M=!0,N=0,P={},O=!1,L={},x={},F={},U=[],V=-1,G=-1,H=-1;for(var j in a)_cfg[j]=a[j];var Y=null,K=null,q=10,J=0,z=null,W=new Date,Z={next_vpts:0,next_apts:0},X=0,$=0,ee=0,te=function(e,t){I.verbose&&(t||(t="info"),console.log("JSPLOG",(new Date-W)/1e3,t,e))},ne=function(){m&&(m.src=""),C={},Z={next_vpts:0,next_apts:0},K&&clearTimeout(K),c&&clearInterval(c),d&&clearInterval(d),z&&(z.stop(),delete z),g&&(g.clean_up(),g=null),z=null,K=null,m=null,b={state:"pending",reason:"No request yet"},B=null,w=-1,S=-1,k=-1,D=!1,R=!1,_=[],Y=null,N=null,P={},L={},O=!1,V=-1,f=!1,h=!1,y=null,p=!1},re=function(e){return Math.round(10*e)/10},ie=function(){if(g&&!v.live){var e=ce();p&&e<.1&&g.mseEndOfStream()}},ae=function(e){if(e<0)return"N/A";var t=re(e/1e3),n=t+" KBits/sec";return t>1e3&&(n=re(t/1e3)+" MBits/sec"),n},oe=function(e,t,n){var r=-1,i=-1,a=new Date,o=new XMLHttpRequest,s=0,l=!1,u=8,c=!1,d=null,A=0,g=-1;return t&&t.timeout&&(u=t.timeout),t&&t.binary&&(c=t.binary),t&&t.instance_id&&(d=t.instance_id),t&&t.expected&&(A=t.expected),u=Math.max(10,u),o.onprogress=function(e){i=e.loaded;var t=(new Date-a)/1e3;t>0&&(r=e.loaded/t*8),g=-1,t>0&&e.loaded>8192&&e.total>e.loaded&&(g=(e.total-e.loaded)/(e.loaded/t)),n("progress",{speed:r,size:i,spent:t,eta:g,expected:A,timeout:u-t})},o.ontimeout=function(){l=!0},o.onreadystatechange=function(){if(2==o.readyState&&(s=o.status),4===o.readyState||3===o.readyState){var t={instance_id:d,speed:r,size:i,timed_out:l,time:(new Date-a)/1e3,response_code:s};3==o.readyState&&(A>0&&(new Date-a)/1e3>5&&g>A-t.time+5?(te("Looks like we hit a bad edge node. Early terminating this request","error"),o.abort()):n("update",null,t)||(te("Aborting network request because update callback false"),o.abort())),4==o.readyState&&(200!==o.status?(te("Network Error: "+e,"error"),n("error",null,t)):n("success",c?new Uint8Array(o.response):o.responseText,t))}},o.open("GET",e),o.timeout=1e3*u,o.responseType=c?"arraybuffer":"text",o.send(),o},se=function(e){_.push({ts:new Date,speed:e.speed,size:e.size}),_=_.splice(-5);for(var t=[],n=_.length-1;n>=0;n--)t.push(ae(_[n].speed));te("NW STATS: "+t.join(", ")),I.callback(E,{type:"network-info",data:{speed:e.speed,size:e.size,comment:"size is in bytes. speed is in bits per second"}})},le=function(){for(var e=1e8,t=0,n=0,r=_.length-1;r>=0;r--){var i=1+r;t+=_[r].speed*i,n+=i,_[r].speed<e&&(e=_[r].speed)}var a=1e3*I.initialBitrate||6e5;return n&&(a=t/n),e<a/2?a/4:a},ue=function(){if(!m||!B)return!1;var e=10*g.min_sb_buffer_length();return 0==m.buffered.length?e:e+m.buffered.end(m.buffered.length-1)-m.currentTime},ce=function(){if(!B)return 0;var e=-1;for(var t in B.fragments)t>e&&(e=t);return e<0||e<S?0:10*(e-S+1)},de=function(e){if(!m)return null;var e=m.currentTime+.5,t=-99999,n=null;for(var r in P)r<=e&&r>t&&r>e-3&&(t=r,n=P[r],n.data.ts=r);return n},Ae=function(){if(m&&g){var e=g.mseSourceBuffers(),t=0;for(var n in g.segment_byte_lengths)(n=parseInt(n))<m.currentTime&&n>t&&(t=n);if(t>0){for(var r=0;r<e.length;r++){if(!e[r].updating)try{e[r].remove(0,t)}catch(e){console.log(e)}for(var i in P)i<t&&delete P[i];for(var i in L)i<t&&delete L[i]}for(var n in g.segment_byte_lengths)n<t&&delete g.segment_byte_lengths[n]}var a=g.get_buffer_size(),o=g.get_buffer_queue_size();h=!!(I.videoBufferQuota&&a.video>.9*I.videoBufferQuota||I.audioBufferQuota&&a.audio>.9*I.audioBufferQuota)||!!(I.audioBufferQuota&&o.audio>.5*I.audioBufferQuota||I.videoBufferQuota&&o.video>.5*I.videoBufferQuota)}},ge=function(){if(!B)return-1;var e=[];for(var t in B.fragments)e.push(t);if(0==e.length)return-1;e.sort(function(e,t){return e-t}),I.liveDelayInSegments=parseInt(I.liveDelayInSegments);var n=3;isNaN(I.liveDelayInSegments)||(n=I.liveDelayInSegments);var r=e.length-n;return r>=e.length&&(r=e.length-1),r<0&&(r=0),e[r]},pe=function(e){te((e?"SHOW":"HIDE")+"LOADING")},fe=function(t){var n=!1,i=0;I.parentScope.stale_mpd_last_segment=I.parentScope.stale_mpd_last_segment||{};var a=function(a,u,c){if(n=!1,"success"==a&&c.instance_id==N){var d=r(t,u,E,I),A=Date.now()+I.timeDelta,p=A-d.publish_ts;if(d&&d.rendition_info&&d.rendition_info.length){var f=JSON.stringify(T),h=JSON.stringify(l(d,!0)),v=1e3*d.minimum_update_period,y=t.split("?")[0];if(t.indexOf("dcs-live")){var b=e.decodeURLParams(t);I.callback&&b.anvsid&&I.callback(E,{type:"session-id-updated",data:b.anvsid})}if(h==I.parentScope.stale_mpd_last_segment[y]||!isNaN(p)&&p>10*v)return void s(y,h);if(f!=h)U=d.rendition_info,I.callback&&I.callback(E,{type:"rendition-info",data:{renditions:d.rendition_info}});else{ee++;var C=g.get_playback_buffer(),w=m.buffered&&m.buffered.length>0&&m.buffered.end(m.buffered.length-1)>0;if(ee>=2&&C<5&&w)return void s(y,h)}$=0}else if(++$>=2&&g.get_playback_buffer()<5&&I.callback)return void I.callback(E,{type:"stream-error",data:{errorCode:"PLAY461",errorInfo:"All renditions are empty"}});if(X=0,!B&&d.location)i=0,t=d.location,o();else if(B)for(var k in d.fragments)B.fragments[k]||(B.fragments[k]=d.fragments[k]);else B=d,T=l(B,!0),S=ge(),he()}else if("error"==a&&c.instance_id==N)++X>=2&&I.callback&&I.callback(E,{type:"stream-error",data:{errorCode:"PLAY450",errorInfo:"Failed to download master"}});else if("update"==a)return c.instance_id==N},o=function(e){if(!(f||(new Date).getTime()<i+5e3)){i=(new Date).getTime();var r={instance_id:N};te("Requesting manifest"),n=!0,oe(t,r,a)}};c=setInterval(o,200)},he=function(){var e=-1,r=-1,i={},a=!1,o=null,s=null,l=null,c=null,A=0,p=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");2==i.length&&(t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return t},m=function(u,d,f,h,m){var v=m[0].period_id;if(i[h]=null,"success"==u&&f.instance_id==N){if("audio_init"==h?o=d:"audio_data"==h?l=d:"video_init"==h?s=d:"video_data"==h&&(se(f),c=d),g&&l&&o&&c&&s){A=0;var y=n(l),b=n(c);if(!C[v]){C[v]={begin_vpts:b.begin_pts,begin_apts:y.begin_pts,offset:0};var w=b.begin_pts-Z.next_vpts,T=y.begin_pts-Z.next_apts;0==Z.next_vpts&&0==Z.next_apts?C[v].offset=Math.min(w,T):C[v].offset=Math.max(w,T)}t(c,b.begin_pts-C[v].offset),t(l,y.begin_pts-C[v].offset);var k=b.begin_pts-C[v].offset;for(var Q in b.emsg){var D=b.emsg[Q],R=b.begin_pts+D.offset-C[v].offset,d=p(D.payload);b.emsg[Q].cue_ts=R,te(["emsg cued at ",R,D.payload].join(" ")),d&&"caption"==d.type?(P[R]={data:p(d.payload)},!O&&I.callback&&(I.callback(E,{type:"caption-detected",data:!0}),O=!0)):L[R]={data:d}}for(var _={},M=0;M<m[0].events.length;M++){var U,V=m[0].events[M];te(["event-stream cued at ",b.begin_pts-C[v].offset,V.type,V.payload].join(" ")),_.start_time=b.begin_pts-C[v].offset,"segment-info"==V.type?(U=p(V.payload),_.type=U?U.type:"master"):"cue-sec"==V.type&&(_.vast_json=V.payload)}x[k]=_,F[S]={start_time:b.begin_pts-C[v].offset,seq_no:S,bitrate:B.fragments[S][r].bandwidth,is_valid:!0},I.callback&&(I.callback(E,{type:"segment-queue-updated",data:_}),I.callback(E,{type:"bitrate-info-updated",data:F})),Z.next_apts=y.end_pts-C[v].offset,Z.next_vpts=b.end_pts-C[v].offset;var G=Math.floor(k);g.segment_byte_lengths[G]={audio:0,video:0},g.append_video_data(s),g.append_audio_data(o),g.segment_byte_lengths[G].video+=s.byteLength,g.segment_byte_lengths[G].audio+=o.byteLength,g.append_video_data(c),g.append_audio_data(l),g.segment_byte_lengths[G].video+=c.byteLength,g.segment_byte_lengths[G].audio+=l.byteLength,g.buffer_check(),a=!1,S++}}else if("error"==u&&f.instance_id==N){te("Failed to download data","critical"),"audio_init"==h||"audio_data"==h?B.fragments[S][e].error=!0:"video_init"!=h&&"video_data"!=h||(B.fragments[S][r].error=!0);for(var H in i)i[H]&&(te("Aborting download "+H),i[H].abort(),i[H]=null);a=!1}else if("update"==u)return f.instance_id==N},v=function(){if(!(a||f||h)&&B.fragments[S]){a=!0;var t=B.fragments[S],n={instance_id:N,binary:!0},d=null,g=null,p=null,v=null,y=-1,b=-1,C=le();I.callback&&I.callback(E,{type:"bandwidth-estimate",data:C}),te("Estimated Client BW "+C);var w=[],T=0;te("fragment length:",t.length);for(var D=0;D<t.length;D++)w.push({idx:D,bw:t[D].bandwidth,type:t[D].type}),t[D].bandwidth>T&&(T=t[D].bandwidth);w.sort(function(e,t){var n=e.bw-C,r=t.bw-C,i=n>0?T:0,a=r>0?T:0;return Math.abs(n)+i-Math.abs(r)-a}),te("sorted indices by bw",JSON.stringify(w,null,2)),Q&&-1==k&&u(I.initialBitrate||C/1e3,!1);for(var R=0;R<w.length;R++){var D=w[R].idx;if(!t[D].error&&("audio"==t[D].type&&-1==y&&(y=D,d=t[D].init,p=t[D].url),"video"==t[D].type&&(!Q&&-1==b||Q&&D==k)&&(b=D,g=t[D].init,v=t[D].url),d&&p&&g&&v)){e=y,r=b;break}}d&&p&&g&&v?(o=null,s=null,l=null,c=null,i.audio_init=oe(d,n,function(e,n,r){return m(e,n,r,"audio_init",t)}),i.video_init=oe(g,n,function(e,n,r){return m(e,n,r,"video_init",t)}),i.audio_data=oe(p,n,function(e,n,r){return m(e,n,r,"audio_data",t)}),i.video_data=oe(v,n,function(e,n,r){return m(e,n,r,"video_data",t)})):(te("No more available renditions found for this fragment. Skipping to next one"),a=!1,S++,++A>=2&&I.callback&&I.callback(E,{type:"stream-error",data:{errorCode:"PLAY470",errorInfo:"All segment download attempts within FAILED_SEQ_LIMIT failed"}}))}};d=setInterval(v,100)},me=function(){console.info("@on_quota_limit_exceeded",I.videoBufferQuota)},Ee=function(e){g=new i(I),g.create(m,"avc1.64001e","mp4a.40.2",function(){}),g.set_quota_limit_exceeded_callback(me),fe(e)},ve=function(){if(m&&B){if(0==m.buffered.length)pe(!0),te("Waiting");else{for(var e=[],t=0;t<m.buffered.length;t++)e.push("("+re(m.buffered.start(t))+" - "+re(m.buffered.end(t))+")");e=e.join(", ")+" @ "+re(m.currentTime),te("Current Buffer: "+re(m.buffered.end(m.buffered.length-1)-m.currentTime)+" seconds. "+e),m.buffered.end(m.buffered.length-1)-m.currentTime<.2?(pe(!0),M||(te("Buffer empty","error"),M=!0)):(pe(!1),M=!1)}var n=m.videoHeight,r=m.videoWidth;te(r&&n?"Current quality: "+r+" x "+n:"Current quality: ...");var i=ue(),a=ce();te("Current delay: "+re(i+a))}},ye=function(){if(m){ie(),function(){var e=m.currentTime;for(var t in L)if(L.hasOwnProperty(t)&&t>V&&t<=e){var n=[];for(var r in L[t].data)n.hasOwnProperty(r)&&n.push(r);L[t].data.payload&&(L[t].data.payload=L[t].data.payload.replace(/,/g,", ")),I.callback&&I.callback(E,{type:"cue",data:L[t].data}),"beacon"==L[t].data.type?te(t+": [BEACON] : "+L[t].data.payload,"cue"):"cue"==L[t].data.type?te(t+": [CUE] : "+L[t].data.payload,"cue"):te(t+": [UNKNOWN] : "+L[t].data.type+" : "+n.join(","),"cue")}V=e}(),function(){var e=m.currentTime;for(var t in x)t>G&&t<=e&&(H=t,I.callback&&I.callback(E,{type:"segment-info",data:x[t]}),te(t/1e3+": [SEGMENT-INFO] : "+JSON.stringify(x[t])));G=e}();var e=de(m.currentTime+.5);e&&(I.callback&&I.callback(E,{type:"caption",data:e.data}),te("Captions: "+JSON.stringify(e)))}},Ie=function(){J++,ve(),J%10==0&&Ae();q=6,K=setTimeout(Ie,500)},be=function(){if(m)for(var e=m.buffered.length-1;e>=0;e--)if(m.buffered.end(e)>m.currentTime){te("Forcing playhead to live."),m.currentTime=Math.max(m.buffered.start(e),m.buffered.end(e)-30);break}},Ce=function(t,n,r){if(I=r,E=t,y=n,N=(new Date).getTime(),v={pending:!0,live:!1,duration:0},Q=!r.autoBitrateSwitch||Q,m=e.getElementById(r.shadowHostId,t))return m.addEventListener("timeupdate",function(e){ye()}),Ee(n),Ie(),te("Returning a tentative true for create() but still need to see codecs."),!0},Be=function(){var e=y,t=E,n=I;e&&t&&(ne(),Ce(t,e,n))};this.skip_to_live=function(){be()},this.create=function(e,t,n){return Ce(e,t,n)},this.destroy=function(){ne()},this.get_captions=function(e){return de(e)},this.reset=function(){Be()},this.get_current_segment_index=function(){return o()},this.get_bitrate_info=function(){return F},this.set_bitrate=u,this.real_offset=function(){return A},this.toggle_stop_downloads=function(e){f=e}}return"undefined"==typeof ArrayBuffer||"undefined"==typeof Int8Array?void console.error("ArrayBuffer/Int8Array (needed for AnvatoDash) is not supported by the browser"):a}),anv.define("DashVideo",["util","Caption608","AnvatoDash"],function(e,t,n){function r(t,r,i,a,o){function s(t,r,i){we=new n({}),Te=arguments,"string"==typeof t&&(t=e.getElementById(a.pInstance,t)),qe("initializing video"),t.width=t.parentNode.clientWidth,t.height=t.parentNode.clientHeight,t.style.display="block",be=t;for(var o in Je)Je.hasOwnProperty(o)&&e.addEventListener(be,o,Je[o],!1);qe("video initialized")}function l(){t.publish("loadedmetadata",De,this.readyState)}function u(){t.publish("loadeddata",De)}function c(){qe("oncanplay"),it=("real_offset"in we?we.real_offset():0)||0,t.publish("videoReady2Play","canplay"+(ot?"-mse-seeked":"")),ot=!1}function d(){qe("oncanplaythrough")}function A(e){qe("@onEmptied",e.type)}function g(e,t){for(var n,r,i,a,o=e.buffered.length,s=100,l=null,u=!1,c=0;c<o;c++)n=e.buffered.start(c),r=e.buffered.end(c),!u&&e.currentTime>=n&&e.currentTime<=r&&(u=!0),i=r-n,(a=n-e.currentTime)>0&&a<s&&i>1.5&&(s=a,l=n);return null!=l?l:t>0&&t-(e.currentTime+it)<1.1?t:u?-2:-1}function p(){qe("@resetGapCounters"),$e=0,et=0,gt=0}function f(){qe("@applyGapRecovery @"+be.currentTime);var e=g(be,De);De>0&&!Xe&&e==De?(qe("forcing ended due to smaller than END_THRESHOLD distance to the end"),B()):e<0?(qe("no buffer start to jump"),t.publish("toggleBufferSpinner",!0),$e<tt?(qe("incrementing currentTime"),-2==e&&gt<2?(be.currentTime+=.3,gt+=.3,$e++,clearTimeout(Ke.evaluateGapForMidBufferWaiting),Ke.evaluateGapForMidBufferWaiting=setTimeout(E.bind(null,{type:"midBufferWaiting"}),600)):At=!0,clearTimeout(Ke.resetGapCounters),Ke.resetGapCounters=setTimeout(p,rt)):et<nt&&(qe("reloading for gap recovery"),et++,clearTimeout(Ke.resetGapCounters),Ke.resetGapCounters=setTimeout(p,rt),m())):(qe("@applyGapRecovery jumping from",be.currentTime,"to",e),be.currentTime=e)}function h(e){qe("@onWaiting",e.type,this.currentTime),E(e)}function m(){var e,t=Array.prototype.slice.call(Se),n=Array.prototype.slice.call(Te);if(ze)return void qe("cancelling reloadForGapRecovery due to the pending play promise");e="number"==typeof Re?Re+be.currentTime:parseInt((Date.now()+ct)/1e3),dt&&(t[4]=e),ne(),s.apply(null,n),O.apply(null,t)}function E(e){qe("@evaluateEventForGapRecovery",e.type,be.paused,be.networkState,be.readyState,be.currentTime),be.paused?be.readyState<3&&(qe("@evaluateEventForGapRecovery gap recovery for readyState < 3"),f()):(Be=be.currentTime,clearTimeout(Ke.applyGapRecovery),Ke.applyGapRecovery=setTimeout(function(){be.currentTime==Be&&(qe("@applying gap recovery for non-paused "+e.type),f())},1e3))}function v(e){E(e)}function y(){qe("onprogress",be.readyState,be.networkState);var e,n;be.buffered&&be.buffered.length&&(e=be.buffered.end(be.buffered.length-1),n=be.buffered.start(be.buffered.length-1),At&&be.currentTime<n&&(At=!1,f()),t.publish("bufferLimitUpdated",e))}function I(){qe("onplay")}function b(){qe("# paused");var e=(r.iphone||r.ipod)&&Me,n=!("isPauseInternal"in be)||!be.isPauseInternal;t.publish("evaluatePausedState"),Math.abs(De-be.currentTime)<=1&&(be.isPauseInternal=!1),n||t.publish("userEvent","IMPLICIT_PAUSE"),e&&(qe("onpause"),n&&t.publish("userEvent","USER_PAUSE",be.isPauseInternal)),delete be.isPauseInternal}function C(){qe("onplaying"),de(!1),lt||we.toggle_stop_downloads(!1),t.publish("toggleBufferSpinner",!1),t.publish("playing"),p()}function B(){qe("@onEnded"),xe.lastPosition=0,xe.marked=0,xe.persistCounter=0,t.publish("completedVideoContent")}function w(){qe("@onSeeking")}function S(){qe("@onSeeked"),be.readyState>=3&&t.publish("toggleBufferSpinner",!1),t.publish("videoReady2Play","seeked")}function T(n,r,i,a){qe("@initMediaKeys");var o=[{initDataTypes:["keyids","mp4","cenc","webm"],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:""}],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.64001e"',robustness:""}]}];return r&&(r[n]=!1),e.isSecureSocket()?"requestMediaKeySystemAccess"in navigator?navigator.requestMediaKeySystemAccess(n,o).then(function(e){return e.createMediaKeys()}).then(function(e){if(r&&(r[n]=!0),!i)return a?Promise.resolve():Promise.reject();var t=i.src;return i.src="",i.setMediaKeys(null).then(function(){return i.src=t,i.setMediaKeys(e)})}).catch(function(e){if(i&&(qe("Not supported DRM: "+n,a,e),!a))return Promise.reject()}):"undefined"!=typeof MSMediaKeys?(r&&(r[n]="com.microsoft.playready"==n),"com.microsoft.playready"==n||a?Promise.resolve():Promise.reject()):Promise.reject():(t.publish("streamError","DRM010"),Promise.reject())}function k(){qe("detectDrmSupport"),Ve={},T("com.widevine.alpha",Ve,null,!0).then(function(){T("com.microsoft.playready",Ve,null,!0).then(function(){T("org.w3.clearkey",Ve,null,!0).then(function(){qe("@detectDrmSupport",JSON.stringify(Ve,null,3))})})})}function Q(e){if(qe("@onEncrypted",JSON.stringify(Ve,null,3)),Ve=Ve||{},!Ue)for(var n in Ve)if(Ve.hasOwnProperty(n)&&Ve[n]){Ue=n;break}var r=Ue;Fe?r in Ve?r in Ge?Ge[r](e):console.error("DRM encryption type is supported. However, no handler is available"):(G.bind(be)("onEncrypted",He),qe("Browser does not support DRM encryption type"),t.publish("streamError","DRM011")):(G.bind(be)("onEncrypted",He),qe("No drm config is available to handle DRM encryption"),t.publish("streamError","DRM001"))}function D(e){var t=pt[e];return!!(t&&!isNaN(t.session.expiration)&&Date.now()-t.session.expiration>=0)&&(qe("Closing expired key session:",e),t.session.close(),delete pt[e],!0)}function R(n){function r(n){var r=String.fromCharCode.apply(null,new Uint16Array(n.message.buffer||n.message));if("license-request"==n.messageType||"mskeymessage"==n.type){var a,o=(new DOMParser).parseFromString(r,"application/xml");if(!o.getElementsByTagName("Challenge")[0])throw"Can not find Challenge tag in key message";a=atob(o.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue);var s=o.getElementsByTagName("name"),l=o.getElementsByTagName("value"),u={};if(s.length!==l.length)throw"Mismatched header name tag in key message";for(var c=0;c<s.length;c++)u[s[c].childNodes[0].nodeValue]=l[c].childNodes[0].nodeValue;"license-request"!=n.messageType&&"mskeymessage"!=n.type||(e.sendPostRequest(Fe.servers["com.microsoft.playready"],a,function(e){var t=new Uint8Array(e);try{i.update(t)}catch(e){console.error("Failed to update the session",e)}},function(e){console.error("Post error while sending the DRM challenge",e),be.readyState<=1&&be.paused&&t.publish("streamError","DRM015")},u,null,"arraybuffer","arraybuffer"),qe("Requesting license"))}}var i;if(!_(n.initData)){if(be.mediaKeys)i=be.mediaKeys.createSession(),i.addEventListener("message",r);else{if(!be.msKeys)try{be.msSetMediaKeys(new MSMediaKeys("com.microsoft.playready"))}catch(e){console.error("Failed to create MSMediaKeys",e)}i=be.msKeys.createSession("video/mp4",n.initData),i.addEventListener("mskeymessage",r)}if(!i)throw"Could not create key session";i.addEventListener("keystatuseschange",function(e){e.target.keyStatuses.forEach(function(){var e="string"==typeof arguments[1]?arguments[1]:arguments[0];qe("keystatuseschange",e)})}),i.generateRequest&&i.generateRequest(n.initDataType,n.initData).then(function(){var t=i.sessionId||e.createUUID();pt[t]={initData:n.initData,session:i}}).catch(function(e){console.error("Failed to generate a license request",e)})}}function _(t){for(var n in pt)if(pt.hasOwnProperty(n)){var r=pt[n];if(e.arrayEquals(new Uint8Array(t),new Uint8Array(r.initData))&&!D(n))return n}return null}function M(n){function r(t){var n=t.target;qe("MESSAGE:",t,t.message),e.sendPostRequest(Fe.servers["com.widevine.alpha"],t.message,function(e){var t=new Uint8Array(e);n.update(t).catch(function(e){console.error("Failed to update the session",e)})},null,null,null,"arraybuffer","arraybuffer"),qe("Requesting license")}var i;_(n.initData)||(be.mediaKeys?(i=be.mediaKeys.createSession(),i.addEventListener("message",r,!1),i.generateRequest(n.initDataType,n.initData).then(function(){pt[i.sessionId]={initData:n.initData,session:i}}).catch(function(e){console.error("Failed to generate a license request",e)})):(G.bind(be)("handleWidevineEncrypted",He),qe("mediaKeys are not initialized on video element"),t.publish("streamError","DRM003")))}function N(e){function t(e){qe("generate license",e);var t=JSON.parse((new TextDecoder).decode(e));qe("request",t),console.assert(t.kids.length>0),qe(t.kids);for(var n=[],r=0;r<t.kids.length;r++){var i={kty:"oct",alg:"A128KW",kid:t.kids[r],k:"Y8tfcYTdS2iaXF_xHuajKA"};n.push(i)}return(new TextEncoder).encode(JSON.stringify({keys:n}))}function n(e){var n=t(e.message);e.target.update(n).catch(function(e){console.error("Failed to update the session",e)})}qe("handleClearKeyEncrypted",e.initDataType,e.initData);var r=be.mediaKeys.createSession();r.addEventListener("message",n,!1),r.generateRequest(e.initDataType,e.initData).catch(function(e){console.error("Failed to generate a license request",e)})}function P(e,n){var r,i=/dcs-.*\.apis/,a=/ts_play_at=[0-9]*]/,o="ts_play_at=";return n=parseInt(n),!isNaN(n)&&i.test(e)&&(o+=n,a.test(e)?e=e.replace(a,o):(r=e.indexOf("?")>-1?"&":"?",e+=r+o),t.publish("liveOffsetDetected",n)),e}function O(n,r,i,s,l){var u,c,d,A,g;at=!1,c=s?n.backup_url:n.embed_url,Ze=n.update_url?n.update_url:null;var p=function(){be.mediaKeys||(be.onmsneedkey=Q,e.removeEventListener(be,"encrypted",Q)),Re=l,d=P(d,l),dt=l&&d!=c,qe("@setSource",l,d),He=r,we.create(be.id,d,A),be.load(),ke=d,at=!0};ct=n.timeDelta_||ct,Se=arguments,xe.lastPosition=0,xe.marked=0,xe.persistCounter=0,e.safeSetInnerHtml(be,""),be.removeAttribute("src"),Ce=!1,qe("@setSource initial url",c,"openCaptions",Ne),Ne?(u=c.indexOf("?")>-1?"&":"?",d=c+u+"caption=open"):(d=c,d=d.replace(/.caption=open/,"")),ke!=d?(qe("@setSource with",i,JSON.stringify(n)),A={initialBitrate:Ee(),liveDelayInSegments:a.liveDelayInSegments,autoBitrateSwitch:_e?"auto"==_e:!("autoBitrateSwitch"in a)||!!a.autoBitrateSwitch,verbose:ut,parentScope:o,timeDelta:n.timeDelta,shadowHostId:a.pInstance,videoBufferQuota:"number"==typeof a.videoBufferQuota?1024*a.videoBufferQuota*1024:null,audioBufferQuota:"number"==typeof a.audioBufferQuota?1024*a.audioBufferQuota*1024:null,callback:function(e,n){var r=[];switch(qe("Received callback from MSEP: ",e,JSON.stringify(n,null,3)),n.type){case"caption":Ce||(t.publish("captionUpdate",[{format:"custom",language:"en"}]),Ce=!0),t.publish("captionCueAdded",n.data);break;case"cue":t.publish("cueUpdated",n.data);break;case"segment-info":t.publish("segmentInfoUpdated",n.data);break;case"segment-queue-updated":t.publish("segmentQueueUpdated",n.data);break;case"session-id-updated":n.data!=We&&(We=n.data,t.publish("sessionIdUpdated",We),Ze&&t.publish("adSessionUpdateUrlDetected",Ze.replace("{{DCS_SESSION_ID}}",We)));break;case"bitrate-info-updated":U(n.data);break;case"stream-info":n.data&&(n.data.duration&&(De=n.data.duration),"boolean"==typeof n.data.live&&(Xe=n.data.live,t.publish("setLive",n.data.live)));break;case"stream-error":qe("stream-error"),t.publish("streamError",n.data.errorCode,n.data.errorInfo);break;case"rendition-info":qe("@setSource->options->callback->renditions",n.data);var i={};if("object"==typeof n.data&&"object"==typeof n.data.renditions&&"length"in n.data.renditions){for(var a,s=0,l=n.data.renditions.length;s<l;s++)n.data.renditions[s].bw&&!isNaN(n.data.renditions[s].bw)&&(a=parseInt(n.data.renditions[s].bw/1e3),r.push(a),!i[a]&&n.data.renditions[s].resolution&&(i[a]=n.data.renditions[s].resolution));r=r.sort(function(e,t){return e-t}),t.publish("bitrateUpdate",r,_e||"auto",i)}break;case"bandwidth-estimate":o.bandwidthEstimateInKbps=n.data/1024}}},g=G.bind(be,"video",r),e.addEventListener(be,"error",g),Je.error=g,qe("@setSource final url",d),Fe=a.drm||n.drm||n.license_url,Fe?("string"==typeof Fe&&(Fe={servers:{"com.widevine.alpha":Fe,"com.microsoft.playready":Fe}}),T("com.widevine.alpha",null,be,!0).then(function(){T("com.microsoft.playready",null,be,!0).then(function(){p()})}).catch(function(e){G.bind(be)("setSource",r),t.publish("streamError","DRM002")})):p()):t.publish("videoReady2Play","canplay")}function L(){return ke}function x(e){_e=e,we.set_bitrate(e)}function F(e,t){ye=e,Ie=t,be.width=e,be.height=t}function U(e){var n,r,i=we.get_current_segment_index();if(null!=i&&(n=e[i].bitrate,n!=Pe&&e[i].is_valid&&(Pe=n,Le=null,t.publish("bitrateChanged",Pe/1e3)),e))for(var a in e)if(e.hasOwnProperty(a)){if(a==i){r=!0;continue}if(r&&e[a].bitrate!=Pe&&e[a].is_valid){e[a].bitrate!=Oe&&(Oe=e[a].bitrate,Le=e[a].start_time,t.publish("bitrateChangeInProgress",Oe/1e3));break}}}function V(e){xe.lastPosition=xe.lastPosition||0,xe.marked=xe.marked||0,xe.persistCounter=xe.persistCounter||0,Math.abs(e-xe.lastPosition)<2?xe.lastPosition=e:(Math.abs(e-xe.marked)<2?(xe.marked=e,xe.persistCounter++):(xe.marked=e,xe.persistCounter=0),xe.persistCounter>5&&(qe("seek detected from",xe.lastPosition,"to",xe.marked),(r.iphone||r.ipod||Me)&&t.publish("userEvent",xe.marked>xe.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",xe.lastPosition,xe.marked),xe.lastPosition=e,xe.marked=0,xe.persistCounter=0))}function G(e,n,r){qe("@onVideoError");var i,a,o;if(!at)return void qe("ignoring video error observed before video load; possibly drm capability detection");if((i="source"==e?this.parentNode:"video"==e?this:be)&&i.error&&(qe("video error message",i.error),qe("video error code",i.error.code),i.error instanceof MediaError)){if(i.error.code===MediaError.MEDIA_ERR_DECODE)return void t.publish("streamError","PLAY457","The browser encountered a media decode error");if(i.error.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED)return void t.publish("streamError","PLAY458","Media source is not supported")}a=je[i.networkState],o=Ye[i.readyState],qe("Error network state",a),qe("Error ready state",o),qe("Error h264 support",!(!i.canPlayType||!i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),n&&n(null,e,["networkState: "+a,"readyState: "+o].join(" | "),r)}function H(e){Ke.startTimeNotification||(Ke.startTimeNotification=setInterval(j.bind(null,"timer"),300),qe("@startTimeNotification",e,Ke.startTimeNotification))}function j(){var e=be.currentTime+it;it&&qe("@sendTimeNotification",e,it),t.publish("updateTime",e),V(Math.floor(e))}function Y(){qe("@cancelTimeNotification",Ke.startTimeNotification),clearTimeout(Ke.startTimeNotification),delete Ke.startTimeNotification}function K(e){be.playbackRate=e}function q(){be.playbackRate=1}function J(){return be.playbackRate}function z(){var e;return be.buffered&&be.buffered.length?(e=be.buffered.end(be.buffered.length-1),qe("@getBufferEnd",e),e):0}function W(){X(!0)}function Z(){X(!1)}function X(e){qe("@toggleOpenCaption ",e),Ne=e,xe.lastPosition=0,xe.marked=0,xe.persistCounter=0;var t,n,r,i,a=be.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,qe("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",qe("@toggleOpenCaption final url",i),t.onerror=G.bind(t,"source",Z),be.onerror=G.bind(be,"video",Z)),r!=i&&(t.src=i,be.load())}function $(){return it+be.currentTime}function ee(e){qe("@seekTo",e),ot=!0,qe("@seekTo timeIndex",e,"offset",it);var t=Array.prototype.slice.call(Se),n=Array.prototype.slice.call(Te);t[4]=e,ne(),s.apply(null,n),O.apply(null,t)}function te(){return"MSE"}function ne(){qe("@destroy");for(var t in Je)Je.hasOwnProperty(t)&&e.removeEventListener(be,t,Je[t],!1);try{re(),we&&"destroy"in we&&we.destroy()}catch(t){console.error("encountered an error while destroying jsp instance",t)}for(var n in Ke)Ke.hasOwnProperty(n)&&clearTimeout(Ke[n]);for(var r in pt)pt.hasOwnProperty(r)&&(pt[r].session.close(),delete pt[r]);Ke={},At=!1,gt=0,at=!1,we=null,ke=null,Ze=null}function re(){qe("@reset"),we&&"reset"in we&&we.reset()}function ie(){var e=Array.prototype.slice.call(Se),t=Array.prototype.slice.call(Te);if(ze)return void qe("cancelling catchLive due to the pending play promise");dt&&(e[4]=parseInt((Date.now()+ct)/1e3)),qe("@catchLive"),ne(),s.apply(null,t),O.apply(null,e)}function ae(){}function oe(e,t){qe("@setVolume",e),st=e,ce()&&!t||(be.volume=e,be.muted=!e)}function se(e){return be.volume}function le(e){qe("@toggleInlinePlayback",e),e?be.setAttribute("playsinline",""):be.removeAttribute("playsinline")}function ue(e){qe("@toggleMobileAutoPlay",e),e?(be.setAttribute("playsinline",""),be.setAttribute("autoplay",""),be.setAttribute("muted",""),be.muted=!0,be.volume=0):(be.removeAttribute("autoplay"),be.removeAttribute("muted"),be.muted=!1),de(!!e)}function ce(){return"true"==be.getAttribute("data-autoplay-mute-lock")}function de(e){be.setAttribute("data-autoplay-mute-lock",e)}function Ae(){return be.muted}function ge(){qe("@stopDownload"),lt=!0,we.toggle_stop_downloads(!0)}function pe(){qe("@resumeDownload"),lt=!1,we.toggle_stop_downloads(!1)}function fe(e){qe("@hardPause"),we.toggle_stop_downloads(!0),he(e)}function he(e){qe("@pause",e),be.isPauseInternal=e,be.pause()}function me(){return z()-be.currentTime}function Ee(){return _e||(o.bandwidthEstimateInKbps?o.bandwidthEstimateInKbps:"number"==typeof a.initialBitrate?a.initialBitrate:null)}var ve,ye,Ie,be,Ce,Be,we,Se,Te,ke,Qe,De,Re,_e,Me=!1,Ne=!1,Pe=null,Oe=null,Le=null,xe={},Fe=null,Ue=null,Ve=null,Ge={"com.widevine.alpha":M,"org.w3.clearkey":N,"com.microsoft.playready":R},He=null,je={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},Ye={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},Ke={},qe=i?i.getLogFn("DashVideo"):function(){console.log.apply(console,["[!DashVideo!]\t"].concat(Array.prototype.slice.call(arguments)))},Je={loadedmetadata:l,loadeddata:u,canplay:c,canplaythrough:d,progress:y,play:I,pause:b,playing:C,ended:B,seeking:w,seeked:S,waiting:h,stalled:v,emptied:A,encrypted:Q},ze=!1,We=null,Ze=null,Xe=!1,$e=0,et=0,tt=3,nt=1,rt=1e4,it=0,at=!1,ot=!1,st=1,lt=!1,ut=a.debug&&"object"==typeof a.debug&&"length"in a.debug&&function(){for(var e=0,t=a.debug.length;e<t;e++)if("JSP"==a.debug[e])return!0;return!1}(),ct=0,dt=!1,At=!1,gt=0,pt={};return{videoContent:function(){return be},init:function(t,n,r){ve=t,ye=n,Ie=r,e.isSecureSocket()&&k(),s(t,n,r)},width:function(e){return"number"==typeof e&&(ye=e),ye},height:function(e){return"number"==typeof e&&(Ie=e),Ie},getCurrentTime:$,seekTo:ee,getDuration:function(){return qe("@getDuration"),De},setSource:O,getSource:L,play:function(e,t){qe("@play");var n=be.play();ze=!0,void 0!==n&&n.then(function(){qe("@play promise succeeded"),ze=!1,de(!1),"function"==typeof e&&e()}).catch(function(e){ze=!1,"function"==typeof t&&t(e),qe("@play promise failed with error",e.name,e.message,e)})},pause:he,setSpherical:function(e){qe("@setSpherical",e),Qe=e,be.style.display=Qe?"none":"block",be.style.visibility=Qe?"hidden":"visible",Qe&&!be.getAttribute("crossorigin")&&be.readyState>0&&be.load()},hide:function(){be.style.display="none",be.style.visibility="hidden"},show:function(){
Qe||(be.style.visibility="visible",be.style.display="block")},hasEmbedCaption:ae,enableEmbedCaption:function(){qe("@enableEmbedCaption"),qe("No embed caption available")},disableEmbedCaption:function(){be.textTracks&&be.textTracks.length?(qe("embed caption disabled"),be.textTracks[0].mode="hidden"):qe("No embed caption available")},resize:F,setFullscreen:function(e){qe("@setFullscreen",e),Me=e},getPaused:function(){return be.paused},isBitrateSwitchSupported:function(){return!0},setBitrate:x,startTimeNotification:H,cancelTimeNotification:Y,setPlaybackRate:K,getPlaybackRate:J,resetPlaybackRate:q,getBufferEnd:z,loadOpenCaption:W,unloadOpenCaption:Z,getType:te,destroy:ne,reset:re,catchLive:ie,setVolume:oe,getVolume:se,toggleMobileAutoPlay:ue,toggleInlinePlayback:le,getGapJumpIndex_:g,isMuted:Ae,getRemainingBuffer:me,stopDownload:ge,resumeDownload:pe,hardPause:fe}}return r}),anv.define("FlashVideo",["util"],function(e){function t(t,n,r,i){function a(t,n,r){se("Loading Flash Player",t);var a,s=i&&i.flashpath?i.flashpath:i.baseURL+"flash/",l=e.getDeviceInfo,u={style:s+"css/anvflash.css",config:s+"videojs/integrate.js",logFunction:"flashLog",browserInfo:l.browserInfo.length>1?l.browserInfo[0]+l.browserInfo[1]:""},c=s+"anvplayer.swf",d=t.parentNode.getElementsByClassName("anv-video-container-flash"),A={style:"position: fixed; z-index: 9999; display: inline-block; visibility: visible; left: 0px !important; top: 0px !important;"},g=l.ie?"?nocache="+Math.floor(99999*Math.random()):"",p={scale:"exactFit",allowfullscreen:!0,allowScriptAccess:"always",wmode:"transparent",quality:"high"};return a&&se("flash cotainer tagname:",a.tagName),d=d&&d.length?d[0]:null,d?a=d:(a=document.createElement("div"),t.parentNode.appendChild(a)),a.id=a.id||"wrapped-flash",a.style.display="block",a.style.visibility="visible",se("Flash version",l.pv[0],"-",l.pv[1]),l.pv[0]>=10&&l.pv[1]>=3&&(c=s+"anvplayer10.3.swf"),l.pv[0]>=11&&l.pv[1]>=2&&(c=s+"anvplayer.swf"),J=n,z=r,se("Swfobject loaded"),se("Calling embed SWF",c),window.onPlayerLoaded=h,window.proxyDispatcher={dispatch:o},e.removeCookie("lastSeenPosition"),swfobject.embedSWF(c+g,a.id,J,z,"10.3.0",s+"expressInstall.swf",u,p,A),se("initializing video",t),a=e.getElementById(i.pInstance,a.id),a.style.display="block",a.width=t.parentNode.clientWidth,a.height=t.parentNode.clientHeight,a}function o(n){var r,i,a,l={METADATA_LOADED:["loadedmetadata"],loadeddata:["loadeddata"],FIRST_FRAME_READY:["videoReady2Play","FlashVideo->FIRST_FRAME_READY"],"STATE_CHANGE~videoPause":["userEvent","USER_PAUSE"],"STATE_CHANGE~videoPlay":["playing"],VIDEO_COMPLETED:["completedVideoContent"],seeked:["videoReady2Play","seeked"],timeupdated:["updateTime"],bufferupdated:["bufferLimitUpdated"]},u={PLAY400:"PLAY450"};if((a="STATE_CHANGE"==n.name&&n.args&&n.args.length?[n.name,n.args[0]].join("~"):n.name)in l)switch(r=l[a],i=r.concat(n.args),se("@onExternalVideoEvent args:",JSON.stringify(i,null,3)),n.name in{METADATA_LOADED:1,FIRST_FRAME_READY:1}&&(p(),i=i.concat(ee.duration),le[n.name]=1),"FIRST_FRAME_READY"!=n.name||de||(o({name:"loadeddata",args:[]}),de=!0),le.METADATA_LOADED||"STATE_CHANGE~videoPlay"!=n.name||(o({name:"METADATA_LOADED",args:[]}),le.FIRST_FRAME_READY||o({name:"FIRST_FRAME_READY",args:[]})),t.publish.apply(t,i),a){case"ended":re.lastPosition=0,re.marked=0,re.persistCounter=0;break;case"STATE_CHANGE~videoPlay":ee.bufferEnd=ee.currentTime+10,t.publish("bitrateUpdate",W.getBitrates(),"auto");break;case"timeupdated":T(n.args[1])}if("ID3"==n.name){var c=n.args[0];c=A(c),c.type&&"beacon"==c.type&&t.publish("cueUpdated",c)}if("CEA608"==n.name){s(e.base64ToUint8Array(n.args[0]))}"PLAYER_ERROR"==n.name&&n.args&&n.args.length&&n.args[n.args.length-1]&&t.publish("streamError",u[n.args[0]]||n.args[0],"Failed to load the video"),"CURRENT_BITRATE"==n.name&&n.args&&n.args.length&&t.publish("bitrateChanged",n.args[0])}function s(e){var n,r,i={FIELD_1:252,FIELD_2:253};try{for(var a=new g(e),o=a.read_uint32(),s=0;s<o;s++){a.read_uint8()==i.FIELD_1&&(s+=2,n=l(a.read_uint8(),a.read_uint8()),fe+=n,r=fe[fe.length-1],fe.length&&!/[a-zA-Z0-9-_]/.test(r)&&(pe[ve+me]=pe[ve+me]||"",pe[ve+me].length+fe.length>Ee&&(ve==he-1&&(pe={}),ve++,ve%=he),pe[ve+me]=pe[ve+me]||"",pe[ve+me]+=fe,$||(t.publish("caption608Detected"),$=!0),t.publish("caption608Updated",pe),fe=""))}}catch(e){console.error("708 Data Parse Error",e)}}function l(e,t){var n="";return e&=127,t&=127,0==e&&0==t?n:(96&e?n=u(e,t):(17==e||25==e)&&t>=32&&t<=47?n=" ":(17==e||25==e)&&t>=48&&t<=63?n=d(e,t):e>=17&&e<=31&&t>=64&&t<=127?n=c(e,t):(23==e||31==e)&&t>=33&&t<=35?n=" ":20!=e&&28!=e&&21!=e&&29!=e||(se("@handleControl for",e,t),n=""),n||"")}function u(e,t){for(var n="",r=String.fromCharCode(225),i=String.fromCharCode(233),a=String.fromCharCode(237),o=String.fromCharCode(243),s=String.fromCharCode(250),l=String.fromCharCode(250),u=String.fromCharCode(209),c=String.fromCharCode(241),d=String.fromCharCode(247),A=String.fromCharCode(9608),g=[e,t],p=0;p<2;p++){var f=g[p];if(0==f)return n;var h;h=42==f?r:92==f?i:94==f?a:95==f?o:96==f?s:123==f?l:124==f?d:125==f?u:126==f?c:127==f?A:10==f?"###":String.fromCharCode(f),n+=h||""}return n}function c(e,t){se("@handlePreamble for",e,t);var n="",r=[11,-1,1,2,3,4,12,13,14,15,5,6,7,8,9,10],i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,8,8,12,12,16,16,20,20,24,24,28,28],a=r[e<<1&14|t>>5&1]-1;a<0&&(a=0),a>14&&(a=14);var o=0;for(o=t>=96?i[t-96]:i[t-64];o--;)n+=" ";return n}function d(e,t){se("@handleSpecial for",e,t);var n=String.fromCharCode(174),r=String.fromCharCode(176),i=String.fromCharCode(189),a=String.fromCharCode(191),o=String.fromCharCode(8482),s=String.fromCharCode(162),l=String.fromCharCode(163),u=String.fromCharCode(9834),c=String.fromCharCode(224),d=String.fromCharCode(32),A=String.fromCharCode(232),g=String.fromCharCode(226),p=String.fromCharCode(234),f=String.fromCharCode(238),h=String.fromCharCode(244),m=String.fromCharCode(251),E=[n,r,i,a,o,s,l,u,c,d,A,g,p,f,h,m],v=E.length,y=t-48;if(y>=0&&y<v)return E[y]}function A(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i=n[r].split("=");2==i.length&&(t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]))}return t}function g(e){this.cur=0,this.error=!1,this.data=e,this.read_uint8=function(){if(this.cur+1>this.data.length)return this.error=!0,0;var e=this.data[this.cur];return this.cur++,e},this.read_uint32=function(){if(this.cur+4>this.data.length)return this.error=!0,0;var e=(this.data[this.cur+3]<<0)+(this.data[this.cur+2]<<8)+(this.data[this.cur+1]<<16)+(this.data[this.cur]<<24);return this.cur+=4,e},this.read_n=function(e){if(this.cur+e>this.data.length)return this.error=!0,null;var t=this.data.subarray(this.cur,this.cur+e);return this.cur+=e,t}}function p(){se("@pollForDuration");var e=ue?W.getDuration():0;f(e)?ee.duration=e:setTimeout(p,300)}function f(e){return e&&!isNaN(e)&&e>2}function h(){se("Flash player is loaded"),ue=!0;var e=v(i);se("sanitized merged config",JSON.stringify(e,null,3)),W.setParams(e),ge.onFlashLoaded&&Ae.onFlashLoaded.apply(null,Array.prototype.slice.call(ge.onFlashLoaded)),t.publish("flashPlayerLoaded")}function m(e,t){re.lastPosition=0,re.marked=0,re.persistCounter=0,ee={readyState:0,networkState:0,volume:1,style:{}},ue?(W.setVersion("Anvato Universal Player v3"),Z!=e.embed_url&&(se("@setSource seeting source with",JSON.stringify(e),"setPlaylist"in W,"tagName:",W.tagName),de=!1,ce?W.setSource({formats:[e]}):W.setPlaylist([{formats:[e]}]),ce=!0,Z=e.embed_url)):(se("defererring setSource since player is not ready yet"),Ae.onFlashLoaded=m,ge.onFlashLoaded=arguments)}function E(){return Z}function v(t){var n=e.deepCopy(t);return n.chromeless=!0,delete n.plugins,delete n.logo,delete n.recom,n}function y(e,t,n){"undefined"!=typeof swfobject?W=a(e,t,n):(X=arguments,se("loading swf object..."),I(i.baseURL+"lib/swfobject.js")),ee={readyState:0,networkState:0,volume:1,style:{}},se("video initialized")}function I(e){se("@loadScript");var t=document.getElementsByTagName("head")[0],n=document.createElement("script");se("@loadScript",e),t.appendChild(n),n.onload=function(){var e=Array.prototype.slice.call(X);se("just loaded the swfobject with source:",this.src),W=a.apply(null,e)},n.src=e}function b(){se("# seeked"),t.publish("videoReady2Play","seeked")}function C(e,t){J=e,z=t,W.width=e,W.height=t}function B(){se("@catchLive",ue,"goLive"in W),ue&&"goLive"in W&&(se("@catchLive"),W.goLive())}function w(e){ue&&W.setVolume(e),ee.volume=e}function S(e){return ue?W.getVolume():ee.volume}function T(e){re.lastPosition=re.lastPosition||0,re.marked=re.marked||0,re.persistCounter=re.persistCounter||0,Math.abs(e-re.lastPosition)<2?re.lastPosition=e:(Math.abs(e-re.marked)<2?(re.marked=e,re.persistCounter++):(re.marked=e,re.persistCounter=0),re.persistCounter>5&&(se("seek detected from",re.lastPosition,"to",re.marked),(n.iphone||n.ipod||te)&&t.publish("userEvent",re.marked>re.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",re.lastPosition,re.marked),re.lastPosition=e,re.marked=0,re.persistCounter=0))}function k(e,t,n){var r,i,a;"source"==e?r=this.parentNode:"video"==e&&(r=this),i=ie[r.networkState],a=ae[r.readyState],se("Error network state",i),se("Error ready state",a),se("Error h264 support",!(!r.canPlayType||!r.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),t&&t(null,e,["networkState: "+i,"readyState: "+a].join(" | "),n)}function Q(e){oe.startTimeNotification||(oe.startTimeNotification=setInterval(D.bind(null,"timer"),300),se("@startTimeNotification",e,oe.startTimeNotification))}function D(){ee.currentTime=ue&&"getCurrentTime"in W?W.getCurrentTime():0,t.publish("updateTime",ee.currentTime),T(Math.floor(ee.currentTime))}function R(){se("@cancelTimeNotification",oe.startTimeNotification),clearTimeout(oe.startTimeNotification),delete oe.startTimeNotification}function _(e){ee.playbackRate=e}function M(){ee.playbackRate=1}function N(){return ee.playbackRate}function P(){return ee.bufferEnd}function O(){x(!0)}function L(){x(!1)}function x(e){se("@toggleOpenCaption ",e),ne=e,re.lastPosition=0,re.marked=0,re.persistCounter=0;var t,n,r,i,a=ee.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,se("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",se("@toggleOpenCaption final url",i),t.onerror=k.bind(t,"source",L),ee.onerror=k.bind(ee,"video",L)),r!=i&&(t.src=i,ee.load())}function F(){return ee.currentTime}function U(e){se("@seekTo",e),ue&&W.seekTo(1e3*e),ee.currentTime=e,setTimeout(b,200)}function V(){return"FLASH"}function G(){se("@destroy"),Z=null;for(var e in oe)oe.hasOwnProperty(e)&&clearTimeout(oe[e]);ee={},oe={},le={},W.parentNode.removeChild(W),W=null,ue=!1,ce=!1}function H(e,t){W?W.style[e]=t:se("flash player proxy does not exist!")}function j(e){}function Y(e){se("@pause",e),ee.isPauseInternal=e,W&&W.pause&&W.pause()}function K(e){se("@setBitrate",e),W&&W.setBitrate&&(W.setBitrate(e),t.publish("bitrateChangeInProgress",e))}var q,J,z,W,Z,X,$,ee={},te=!1,ne=!1,re={},ie={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},ae={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},oe={},se=r?r.getLogFn("FlashVideo"):function(){console.log.apply(console,["[!FlashVideo!]\t"].concat(Array.prototype.slice.call(arguments)))},le={},ue=!1,ce=!1,de=!1,Ae={},ge={},pe={},fe="",he=2,me=13,Ee=32,ve=0;return{_videoContent:function(){return ee},init:function(e,t,n){q=e,J=t,z=n,y(e,t,n)},width:function(e){return"number"==typeof e&&(J=e),J},height:function(e){return"number"==typeof e&&(z=e),z},getCurrentTime:F,seekTo:U,getDuration:function(){return se("@getDuration",W.getDuration()),ee.duration=ee.duration||(W?W.getDuration():null),se("@getDuration",ee.duration),ee.duration},setSource:m,play:function(){ue&&(se("@play calling play on flash player"),W.play())},pause:Y,hardPause:Y,hide:function(){},show:function(){ee.style.visibility="visible",ee.style.display="block"},hasEmbedCaption:function(){return!!ee.textTracks.length},enableEmbedCaption:function(){ee.textTracks&&ee.textTracks.length?(se("embed caption enabled"),ee.textTracks[0].mode="showing"):se("No embed caption available")},disableEmbedCaption:function(){ee.textTracks&&ee.textTracks.length?(se("embed caption disabled"),ee.textTracks[0].mode="hidden"):se("No embed caption available")},resize:C,setFullscreen:function(e){se("@setFullscreen",e),te=e},getPaused:function(){return ee.paused},isBitrateSwitchSupported:function(){return!0},startTimeNotification:Q,cancelTimeNotification:R,setPlaybackRate:_,getPlaybackRate:N,resetPlaybackRate:M,getBufferEnd:P,loadOpenCaption:O,unloadOpenCaption:L,getType:V,destroy:G,catchLive:B,setVolume:w,getVolume:S,getSource:E,setStyle:H,setBitrate:K,notifyCaptionStatus:j}}return t}),function(){var e="undefined"!=typeof window?window:global,t={};if(function(e,t){function n(){n=function(){},nu.Symbol||(nu.Symbol=ru)}function r(){n();var e=nu.Symbol.iterator;e||(e=nu.Symbol.iterator=nu.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&tu(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return i(this)}}),r=function(){}}function i(e){var t=0;return a(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function a(e){return r(),e={next:e},e[nu.Symbol.iterator]=function(){return this},e}function o(e){r();var t=e[Symbol.iterator];return t?t.call(e):i(e)}function s(e,t){if(t){for(var n=nu,r=e.split("."),i=0;i<r.length-1;i++){var a=r[i];a in n||(n[a]={}),n=n[a]}r=r[r.length-1],i=n[r],a=t(i),a!=i&&null!=a&&tu(n,r,{configurable:!0,writable:!0,value:a})}}function l(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise(function(r,i){function a(e){e.done?r(e.value):Promise.resolve(e.value).then(t,n).then(a,i)}a(e.next())})}function u(e){return l(e())}function c(){this.g=!1,this.c=null,this.B=void 0,this.o=1,this.b=this.f=0,this.i=this.a=null}function d(e){if(e.g)throw new TypeError("Generator is already running");e.g=!0}function A(e,t){e.a={Ac:t,Hc:!0},e.o=e.f||e.b}function g(e,t,n){return e.o=n,{value:t}}function p(e,t,n){e.f=t,void 0!=n&&(e.b=n)}function f(e){e.f=0,e.b=2}function h(e){e.o=0,e.f=0}function m(e){e.f=0;var t=e.a.Ac;return e.a=null,t}function E(e){e.i=[e.a],e.f=0,e.b=0}function v(e,t){var n=e.i.splice(0)[0];(n=e.a=e.a||n)?n.Hc?e.o=e.f||e.b:void 0!=n.O&&e.b<n.O?(e.o=n.O,e.a=null):e.o=e.b:e.o=t}function y(e){this.a=new c,this.b=e}function I(e,t){d(e.a);var n=e.a.c;return n?b(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.a.return):(e.a.return(t),C(e))}function b(e,t,n,r){try{var i=t.call(e.a.c,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return e.a.g=!1,i;var a=i.value}catch(t){return e.a.c=null,A(e.a,t),C(e)}return e.a.c=null,r.call(e.a,a),C(e)}function C(e){for(;e.a.o;)try{var t=e.b(e.a);if(t)return e.a.g=!1,{value:t.value,done:!1}}catch(t){e.a.B=void 0,A(e.a,t)}if(e.a.g=!1,e.a.a){if(t=e.a.a,e.a.a=null,t.Hc)throw t.Ac;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function B(e){this.next=function(t){return d(e.a),e.a.c?t=b(e,e.a.c.next,t,e.a.h):(e.a.h(t),t=C(e)),t},this.throw=function(t){return d(e.a),e.a.c?t=b(e,e.a.c.throw,t,e.a.h):(A(e.a,t),t=C(e)),t},this.return=function(t){return I(e,t)},r(),this[Symbol.iterator]=function(){return this}}function w(e,t){return B.prototype=e.prototype,new B(new y(t))}function S(e,t){var n=e.split("."),r=iu;n[0]in r||!r.execScript||r.execScript("var "+n[0]);for(var i;n.length&&(i=n.shift());)n.length||void 0===t?r=r[i]?r[i]:r[i]={}:r[i]=t}function T(e,t){function n(){}n.prototype=t.prototype,e.tf=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.qf=function(e,n,r){return t.prototype[n].apply(e,Array.prototype.slice.call(arguments,2))}}function k(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function Q(e,t,n){var r=Math.pow(e.c,t);n=n*(1-r)+r*e.a,isNaN(n)||(e.a=n,e.b+=t)}function D(e){return e.a/(1-Math.pow(e.c,e.b))}function R(){this.b=new k(2),this.c=new k(5),this.a=0}function _(){}function M(){}function N(e){var t;e instanceof N?(P(this,e.ma),this.La=e.La,this.pa=e.pa,O(this,e.Ya),this.ca=e.ca,L(this,G(e.a)),this.Da=e.Da):e&&(t=String(e).match(au))?(P(this,t[1]||"",!0),this.La=x(t[2]||""),this.pa=x(t[3]||"",!0),O(this,t[4]),this.ca=x(t[5]||"",!0),L(this,t[6]||"",!0),this.Da=x(t[7]||"")):this.a=new V(null)}function P(e,t,n){e.ma=n?x(t,!0):t,e.ma&&(e.ma=e.ma.replace(/:$/,""))}function O(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Ya=t}else e.Ya=null}function L(e,t,n){t instanceof V?e.a=t:(n||(t=F(t,uu)),e.a=new V(t))}function x(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function F(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,U),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function U(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function V(e){this.b=e||null}function G(e){var t=new V;if(t.b=e.b,e.a){var n,r={};for(n in e.a)r[n]=e.a[n].concat();t.a=r,t.c=e.c}return t}function H(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n}function j(e,t){var n=K();this.i=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function Y(t){if(t.a>=t.i){if(!t.c)return Promise.reject();t.a=1,t.b=t.f}var n=new H;return t.a?(e.setTimeout(n.resolve,t.b*(1+(2*Math.random()-1)*t.h)),t.b*=t.g):n.resolve(),t.a++,n}function K(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}}function q(e,t,n,r){for(var i=[],a=3;a<arguments.length;++a)i[a-3]=arguments[a];this.severity=e,this.category=t,this.code=n,this.data=i,this.handled=!1}function J(e,t){this.promise=e,this.b=t,this.a=!1}function z(e){return new J(Promise.reject(e),function(){return Promise.resolve()})}function W(){var e=Promise.reject(new q(2,7,7001));return e.catch(function(){}),new J(e,function(){return Promise.resolve()})}function Z(e){return new J(Promise.resolve(e),function(){return Promise.resolve()})}function X(e){return new J(e,function(){return e.catch(function(){})})}function $(e){return new J(Promise.all(e.map(function(e){return e.promise})),function(){return Promise.all(e.map(function(e){return e.abort()}))})}function ee(e,t,n){try{var r=e(t);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then(function(){}).catch(function(){})})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}function te(e,t){for(var n=[],r=0;r<e.length;++r){for(var i=!1,a=0;a<n.length&&!(i=t?t(e[r],n[a]):e[r]===n[a]);++a);i||n.push(e[r])}return n}function ne(e,t,n){for(var r=0;r<e.length;++r)if(n(e[r],t))return r;return-1}function re(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function ie(e,t){var n=0;return e.forEach(function(e){n+=t(e)?1:0}),n}function ae(t,n){n=void 0===n?{}:n;for(var r in n)this[r]=n[r];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function oe(){this.a={}}function se(){this.Nb=new oe,this.tb=this}function le(e){function t(e){switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return e;default:if(!e)return e;if(0<=n.indexOf(e))return null;var r=e.constructor==Array;if(e.constructor!=Object&&!r)return null;n.push(e);var i,a=r?[]:{};for(i in e)a[i]=t(e[i]);return r&&(a.length=e.length),a}}var n=[];return t(e)}function ue(){this.a=[]}function ce(e,t){e.a.push(t.finally(function(){re(e.a,t)}))}function de(e){se.call(this),this.c=!1,this.g=new ue,this.a=[],this.b=[],this.f=e||null}function Ae(e,t,n){n=n||3;var r=du[e];(!r||n>=r.priority)&&(du[e]={priority:n,ze:t})}function ge(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t}}function pe(e){return e.then=function(t,n){return _("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5."),e.promise.then(t,n)},e.catch=function(t){return _("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5."),e.promise.catch(t)},e}function fe(e,t,n){var r=Z(void 0);return e.a.forEach(function(e){r=r.Z(function(){return e(t,n)})}),r.Z(void 0,function(e){if(e&&7001==e.code)throw e;throw new q(2,1,1006,e)})}function he(e,t,n,r,i,a){var o=new N(n.uris[i]),s=o.ma;s||(s=location.protocol,s=s.slice(0,-1),P(o,s),n.uris[i]=o.toString());var l=(s=du[s])?s.ze:null;if(!l)return z(new q(2,1,1e3,o));var u;return X(Y(r)).Z(function(){if(e.c)return W();u=Date.now();var r=l(n.uris[i],n,t);return void 0==r.promise&&(_("The scheme plugin interface has changed!  Please update your scheme plugins to the new interface to add support for abort().  Support for the old plugin interface will be removed in v2.5."),r=X(r)),r}).Z(function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-u),e},function(o){if(o&&7001==o.code)throw o;if(e.c)return W();if(o&&1==o.severity)return e.dispatchEvent(new ae("retry",{error:o instanceof q?o:null})),i=(i+1)%n.uris.length,he(e,t,n,r,i,o);throw o||a})}function me(e,t,n){var r=Z(void 0);return e.b.forEach(function(e){r=r.Z(function(){return e(t,n)})}),r.Z(function(){return n},function(e){if(e&&7001==e.code)throw e;var t=2;throw e instanceof q&&(t=e.severity),new q(t,1,1007,e)})}function Ee(){this.a=new oe}function ve(e,t,n,r){e.a&&(t=new be(t,n,r),e.a.push(n,t))}function ye(e,t,n,r){ve(e,t,n,function(e){this.ta(t,n),r(e)}.bind(e))}function Ie(e){if(e.a){var t,n=e.a,r=[];for(t in n.a)r.push.apply(r,n.a[t]);for(n=0;n<r.length;++n)r[n].ta();e.a.a={}}}function be(e,t,n){this.target=e,this.type=t,this.a=n,this.target.addEventListener(t,n,!1)}function Ce(e,t){if(0==t.length)return e;var n=t.map(function(e){return new N(e)});return e.map(function(e){return new N(e)}).map(function(e){return n.map(e.resolve.bind(e))}).reduce(Au.ia,[]).map(function(e){return e.toString()})}function Be(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[]}}function we(e){return!e||0==Object.keys(e).length}function Se(e){return Object.keys(e).map(function(t){return e[t]})}function Te(e,t){return Object.keys(e).every(function(n){return t(n,e[n])})}function ke(e,t){Object.keys(e).forEach(function(n){t(n,e[n])})}function Qe(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function De(e){if(!e)return"";e=new Uint8Array(e),239==e[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=escape(Ne(e));try{return decodeURIComponent(e)}catch(e){throw new q(2,2,2004)}}function Re(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new q(2,2,2004);if(e instanceof ArrayBuffer)var r=e;else n=new Uint8Array(e.byteLength),n.set(new Uint8Array(e)),r=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),r=new DataView(r);for(var i=0;i<e;i++)n[i]=r.getUint16(2*i,t);return Ne(n)}function _e(e){var t=new Uint8Array(e);if(239==t[0]&&187==t[1]&&191==t[2])return De(t);if(254==t[0]&&255==t[1])return Re(t.subarray(2),!1);if(255==t[0]&&254==t[1])return Re(t.subarray(2),!0);var n=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,t);if(0==t[0]&&0==t[2])return Re(e,!1);if(0==t[1]&&0==t[3])return Re(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return De(e);throw new q(2,2,2003)}function Me(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}function Ne(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t}function Pe(e){this.a=null,this.b=function(){this.a=null,e()}.bind(this)}function Oe(e){var t=mu;e.cancel(),e.a=setTimeout(e.b,1e3*t)}function Le(e,t){e.cancel();var n=function(){this.b(),this.a=setTimeout(n,1e3*t)}.bind(e);e.a=setTimeout(n,1e3*t)}function xe(t,n){var r=Ne(t);return n=void 0==n||n,r=e.btoa(r).replace(/\+/g,"-").replace(/\//g,"_"),n?r:r.replace(/=*$/,"")}function Fe(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}function Ue(t){for(var n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r/2]=e.parseInt(t.substr(r,2),16);return n}function Ve(e){for(var t="",n=0;n<e.length;++n){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function Ge(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}function He(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];for(var r=n=0;r<t.length;++r)n+=t[r].length;n=new Uint8Array(n);for(var i=r=0;i<t.length;++i)n.set(t[i],r),r+=t[i].length;return n}function je(e){var t=this;this.w=e,this.l=this.j=this.u=null,this.X=!1,this.b=null,this.g=new Ee,this.a=[],this.s=[],this.i=new H,this.f=null,this.h=function(n){t.i.reject(n),e.onError(n)},this.U={},this.m={},this.J=new Pe(function(){return st(t)}),this.A=this.c=!1,this.N=[],this.ha=!1,this.I=new Pe(function(){return dt(t)}),Le(this.I,1),this.i.catch(function(){})}function Ye(e,t,n){return e.s=[],e.A=n,qe(e,t)}function Ke(e,t,n){return e.s=n,e.A=0<n.length,qe(e,t)}function qe(e,t){var n=t.some(function(e){return 0<e.drmInfos.length});n||gt(t,e.f.servers);var r=et(e);if(r)for(var i=o(t),a=i.next();!a.done;a=i.next())a.value.drmInfos=[r];r={},i=[];var s=o(t);for(a=s.next();!a.done;a=s.next())Xe(e,a.value,r,i);return i.length?(a=$e(e,r,i),n?a:a.catch(function(){})):(e.X=!0,Promise.resolve())}function Je(e,t){return Promise.all(t.map(function(t){return ze(e,t)}))}function ze(e,t){return u(function n(){var r,i,a;return w(n,function(n){switch(n.o){case 1:return g(n,rt(e,t),2);case 2:return(r=n.B)?(i=[],a=e.a.filter(function(e){return e.na==r}),a.forEach(function(e){var t=new H;i.push(t),e.ua=t}),i.push(r.remove()),n.return(Promise.all(i))):n.return()}})})}function We(e){var t=e.b?e.b.initData:[];return t.forEach(function(t){return it(e,t.initDataType,t.initData)}),e.s.forEach(function(t){return rt(e,t)}),t.length||e.s.length||e.i.resolve(),e.i}function Ze(e){return e.a.map(function(e){return e.na.sessionId})}function Xe(t,n,r,i){var a=dn(n);n.drmInfos.forEach(function(n){var r=n.keySystem;if(r){if(!n.licenseServerUri){var i=t.f.servers[r];i&&(n.licenseServerUri=i)}n.keyIds||(n.keyIds=[]),(r=t.f.advanced[r])&&(n.distinctiveIdentifierRequired||(n.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),n.persistentStateRequired||(n.persistentStateRequired=r.persistentStateRequired),n.videoRobustness||(n.videoRobustness=r.videoRobustness),n.audioRobustness||(n.audioRobustness=r.audioRobustness),n.serverCertificate||(n.serverCertificate=r.serverCertificate))}e.cast&&e.cast.__platform__&&"com.microsoft.playready"==n.keySystem&&(n.keySystem="com.chromecast.playready")}),n.drmInfos.forEach(function(e){r[e.keySystem]||(r[e.keySystem]={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:t.A?"required":"optional",sessionTypes:t.A?["persistent-license"]:["temporary"],label:e.keySystem,drmInfos:[]},i.push(e.keySystem))}),n.drmInfos.forEach(function(e){var t=r[e.keySystem];t.drmInfos.push(e),e.distinctiveIdentifierRequired&&(t.distinctiveIdentifier="required"),e.persistentStateRequired&&(t.persistentState="required"),a.forEach(function(n){var r="video"==n.type;n={robustness:(r?e.videoRobustness:e.audioRobustness)||"",contentType:Qe(n.mimeType,n.codecs)},r?t.videoCapabilities.push(n):t.audioCapabilities.push(n)})})}function $e(e,t,n){if(1==n.length&&""==n[0])return Promise.reject(new q(2,6,6e3));var r=new H,i=r;return[!0,!1].forEach(function(e){n.forEach(function(n){var r=t[n];r.drmInfos.some(function(e){return!!e.licenseServerUri})==e&&(0==r.audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities,i=i.catch(function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(n,[r])}.bind(this)))}.bind(this))}.bind(e)),i=i.catch(function(){return Promise.reject(new q(2,6,6001))}),i=i.then(function(e){if(this.c)return Promise.reject();var n=0<=navigator.userAgent.indexOf("Edge/"),r=e.getConfiguration();return this.u=(r.audioCapabilities||[]).concat(r.videoCapabilities||[]).map(function(e){return e.contentType}),n&&(this.u=null),n=t[e.keySystem],tt(this,e.keySystem,n,n.drmInfos),this.b.licenseServerUri?e.createMediaKeys():Promise.reject(new q(2,6,6012))}.bind(e)).then(function(e){if(this.c)return Promise.reject();this.j=e,this.X=!0}.bind(e)).catch(function(e){return this.c?Promise.resolve():(this.u=this.b=null,e instanceof q?Promise.reject(e):Promise.reject(new q(2,6,6002,e.message)))}.bind(e)),r.reject(),i}function et(t){if(we(t.f.clearKeys))return null;var n,r=[],i=[];for(n in t.f.clearKeys){var a=t.f.clearKeys[n],o=Ue(n);a=Ue(a),o={kty:"oct",kid:xe(o,!1),k:xe(a,!1)},r.push(o),i.push(o.kid)}return t=JSON.stringify({keys:r}),i=JSON.stringify({kids:i}),i=[{initData:new Uint8Array(Me(i)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:i,keyIds:[]}}function tt(e,t,n,r){var i=[],a=[],o=[],s=[];nt(r,i,a,o,s),e.b={keySystem:t,licenseServerUri:i[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:a[0],initData:o,keyIds:s}}function nt(e,t,n,r,i){function a(e,t){return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&Ge(e.initData,t.initData)}e.forEach(function(e){if(-1==t.indexOf(e.licenseServerUri)&&t.push(e.licenseServerUri),e.serverCertificate&&-1==ne(n,e.serverCertificate,Ge)&&n.push(e.serverCertificate),e.initData&&e.initData.forEach(function(e){-1==ne(r,e,a)&&r.push(e)}),e.keyIds)for(var o=0;o<e.keyIds.length;++o)-1==i.indexOf(e.keyIds[o])&&i.push(e.keyIds[o])})}function rt(e,t){try{var n=e.j.createSession("persistent-license")}catch(t){var r=new q(2,6,6005,t.message);return e.h(r),Promise.reject(r)}ve(e.g,n,"message",e.Rc.bind(e)),ve(e.g,n,"keystatuseschange",e.Nc.bind(e));var i={initData:null,na:n,loaded:!1,ec:1/0,ua:null};return e.a.push(i),n.load(t).then(function(e){if(!this.c){if(e)return i.loaded=!0,this.a.every(function(e){return e.loaded})&&this.i.resolve(),n;this.a.splice(this.a.indexOf(i),1),this.h(new q(2,6,6013))}}.bind(e),function(e){this.c||(this.a.splice(this.a.indexOf(i),1),this.h(new q(2,6,6005,e.message)))}.bind(e))}function it(e,t,n){try{var r=e.A?e.j.createSession("persistent-license"):e.j.createSession()}catch(t){return void e.h(new q(2,6,6005,t.message))}ve(e.g,r,"message",e.Rc.bind(e)),ve(e.g,r,"keystatuseschange",e.Nc.bind(e)),e.a.push({initData:n,na:r,loaded:!1,ec:1/0,ua:null}),r.generateRequest(t,n.buffer).catch(function(e){if(!this.c){
for(var t=0;t<this.a.length;++t)if(this.a[t].na==r){this.a.splice(t,1);break}this.h(new q(2,6,6006,e.message))}}.bind(e))}function at(e,t){for(var n,r=t.target,i=0;i<e.a.length;i++)if(e.a[i].na==r){n=e.a[i];break}i=ge([e.b.licenseServerUri],e.f.retryParameters),i.body=t.message,i.method="POST","com.microsoft.playready"!=e.b.keySystem&&"com.chromecast.playready"!=e.b.keySystem||ot(i),e.w.Ua.request(2,i).promise.then(function(e){return this.c?Promise.reject():r.update(e.data).then(function(){var e=this;this.w.onEvent(new ae("drmsessionupdate")),n&&(n.ua&&n.ua.resolve(),At(hu).then(function(){n.loaded=!0,e.a.every(function(e){return e.loaded})&&e.i.resolve()}))}.bind(this))}.bind(e),function(e){if(this.c)return Promise.resolve();e=new q(2,6,6007,e),this.h(e),n&&n.ua&&n.ua.reject(e)}.bind(e)).catch(function(e){if(this.c)return Promise.resolve();e=new q(2,6,6008,e.message),this.h(e),n&&n.ua&&n.ua.reject(e)}.bind(e))}function ot(e){var t=Re(e.body,!0,!0);if(-1==t.indexOf("PlayReadyKeyMessage"))e.headers["Content-Type"]="text/xml; charset=utf-8";else{t=(new DOMParser).parseFromString(t,"application/xml");for(var n=t.getElementsByTagName("HttpHeader"),r=0;r<n.length;++r)e.headers[n[r].querySelector("name").textContent]=n[r].querySelector("value").textContent;e.body=Fe(t.querySelector("Challenge").textContent).buffer}}function st(e){function t(e,t){return"expired"==t}e.m={};for(var n in e.U)e.m[n]=e.U[n];!we(e.m)&&Te(e.m,t)&&e.h(new q(2,6,6014)),e.w.Hb(e.m)}function lt(){var e=[],t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],r={};return"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(t){var i=navigator.requestMediaKeySystemAccess(t,n).then(function(e){var n=e.getConfiguration().sessionTypes;return n=!!n&&0<=n.indexOf("persistent-license"),0<=navigator.userAgent.indexOf("Tizen 3")&&(n=!1),r[t]={persistentState:n},e.createMediaKeys()}).catch(function(){r[t]=null});e.push(i)}),Promise.all(e).then(function(){return r})}function ut(e,t){function n(t){if(null==e.u)return!0;var n=Qe(t.mimeType,t.codecs);return e.u.some(function(e){return e==n})}if(t.audio&&!n(t.audio)||t.video&&!n(t.video))return!1;var r=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some(function(e){return e.keySystem==r})}function ct(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],r=0;r<e.length;r++)for(var i=0;i<t.length;i++)if(e[r].keySystem==t[i].keySystem){var a=e[r];i=t[i];var o=[];o=o.concat(a.initData||[]),o=o.concat(i.initData||[]);var s=[];s=s.concat(a.keyIds),s=s.concat(i.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||i.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||i.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||i.persistentStateRequired,videoRobustness:a.videoRobustness||i.videoRobustness,audioRobustness:a.audioRobustness||i.audioRobustness,serverCertificate:a.serverCertificate||i.serverCertificate,initData:o,keyIds:s});break}return n}function dt(e){e.a.forEach(function(e){var t=e.ec,n=e.na.expiration;isNaN(n)&&(n=1/0),n!=t&&(this.w.onExpirationUpdated(e.na.sessionId,n),e.ec=n)}.bind(e))}function At(e){return new Promise(function(t){return setTimeout(t,1e3*e)})}function gt(e,t){var n=[];ke(t,function(e,t){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]})});for(var r=o(e),i=r.next();!i.done;i=r.next())i.value.drmInfos=n}function pt(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function ft(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function ht(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,r=e.length-1;0<=r&&e.end(r)>t;--r)n+=e.end(r)-Math.max(e.start(r),t);return n}function mt(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function Et(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new vt,this.position=null,this.positionAlign=Eu,this.size=100,this.textAlign=vu,this.writingDirection=Cu,this.lineInterpretation=Bu,this.line=null,this.lineHeight="",this.lineAlign=wu,this.displayAlign=Iu,this.fontSize=this.backgroundColor=this.color="",this.fontWeight=Tu,this.fontStyle=ku,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}function vt(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Du,this.scroll=Ru}function yt(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.g=[],this.c=[],this.f=!1,this.a.on("data",this.i.bind(this)),this.a.on("done",this.h.bind(this))}function It(t,n){return!(!e.muxjs||"mp2t"!=t.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(bt(n,t)):MediaSource.isTypeSupported(bt("audio",t))||MediaSource.isTypeSupported(bt("video",t)))}function bt(e,t){var n=t.replace("mp2t","mp4");"audio"==e&&(n=n.replace("video","audio"));var r=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(r){var i="avc1.",a=r[1],o=Number(r[2]);i=("66"==a?i+"4200":"77"==a?i+"4d00":i+"6400")+(o>>4).toString(16),i+=(15&o).toString(16),n=n.replace(r[0],i)}return n}function Ct(e,t){e.f=!0,e.b=new H,e.g=[],e.c=[];var n=new Uint8Array(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new q(2,3,3018)),e.b}function Bt(e){this.f=null,this.c=e,this.i=this.g=0,this.h=1/0,this.b=this.a=null}function wt(e,t,n,r){return Promise.resolve().then(function(){if(this.f&&this.c)if(null==n||null==r)this.f.parseInit(new Uint8Array(t));else{var e={periodStart:this.g,segmentStart:this.g+n,segmentEnd:this.g+r};e=this.f.parseMedia(new Uint8Array(t),e).filter(function(e){return e.startTime>=this.i&&e.startTime<this.h}.bind(this)),this.c.append(e),null==this.a&&(this.a=Math.max(n+this.g,this.i)),this.b=Math.min(r+this.g,this.h)}}.bind(e))}function St(t){this.f=t,this.s=null,this.b={},this.a=null,this.c={},this.i=new Ee,this.m=!1,this.h={},this.l=!1,t=this.j=new H;var n=new MediaSource;ye(this.i,n,"sourceopen",t.resolve),this.f.src=e.URL.createObjectURL(n),this.g=n}function Tt(e){var t,n=Qe(e.mimeType,e.codecs),r=e.mimeType;for(t in pu){var i=e[t],a=pu[t];i&&(r+="; "+a+'="'+i+'"')}return!!_u[n]||MediaSource.isTypeSupported(r)||It(n,e.type)}function kt(){var e={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(t){e[t]=!!_u[t]||MediaSource.isTypeSupported(t)||It(t);var n=t.split(";")[0];e[n]=e[n]||e[t]}),e}function Qt(e,t){e.a||(e.a=new Bt(e.s)),e.a.f=new _u[t]}function Dt(e,t){if("text"==t)var n=e.a.a;else n=Mt(e,t),n=!n||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function Rt(e,t){return"text"==t?e.a.b:pt(Mt(e,t))}function _t(e,t,n){return"text"==t?(e=e.a,null==e.b||e.b<n?0:e.b-Math.max(n,e.a)):(e=Mt(e,t),ht(e,n))}function Mt(e,t){try{return e.b[t].buffered}catch(e){return null}}function Nt(e,t,n,r,i){return"text"==t?wt(e.a,n,r,i):e.h[t]?Ct(e.h[t],n).then(function(e){return this.a||Qt(this,"text/vtt"),this.l&&this.a.vc(e.cues),Lt(this,t,this.ed.bind(this,t,e.data.buffer))}.bind(e)):Lt(e,t,e.ed.bind(e,t,n))}function Pt(e,t){return"text"==t?e.a?e.a.remove(0,1/0):Promise.resolve():Lt(e,t,e.fd.bind(e,t,0,e.g.duration))}function Ot(e,t,n,r,i){return"text"==t?(e.a.g=n,e=e.a,e.i=r,e.h=i,Promise.resolve()):Promise.all([Lt(e,t,e.od.bind(e,t)),Lt(e,t,e.Se.bind(e,t,n)),Lt(e,t,e.Oe.bind(e,t,r,i))])}function Lt(e,t,n){if(e.m)return Promise.reject();if(n={start:n,p:new H},e.c[t].push(n),1==e.c[t].length)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new q(2,3,3017,t)):n.p.reject(new q(2,3,3015,r)),Ft(e,t)}return n.p}function xt(e,t){if(e.m)return Promise.reject();var n,r=[];for(n in e.b){var i=new H,a={start:function(e){e.resolve()}.bind(null,i),p:i};e.c[n].push(a),r.push(i),1==e.c[n].length&&a.start()}return Promise.all(r).then(function(){try{t()}catch(t){var e=Promise.reject(new q(2,3,3015,t))}for(var n in this.b)Ft(this,n);return e}.bind(e),function(){return Promise.reject()}.bind(e))}function Ft(e,t){e.c[t].shift();var n=e.c[t][0];if(n)try{n.start()}catch(r){n.p.reject(new q(2,3,3015,r)),Ft(e,t)}}function Ut(e,t,n){return n==t||e>=Mu&&n==t.split("-")[0]||e>=Nu&&n.split("-")[0]==t.split("-")[0]}function Vt(e){e=e.toLowerCase().split("-");var t=Pu[e[0]];return t&&(e[0]=t),e.join("-")}function Gt(e,t,n){function r(e,t,n){return e>=t&&e<=n}var i=e.video;return!(i&&i.width&&i.height&&!(r(i.width,t.minWidth,Math.min(t.maxWidth,n.width))&&r(i.height,t.minHeight,Math.min(t.maxHeight,n.height))&&r(i.width*i.height,t.minPixels,t.maxPixels))||!r(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function Ht(e,t,n){var r=!1;return e.forEach(function(e){var i=e.allowedByApplication;e.allowedByApplication=Gt(e,t,n),i!=e.allowedByApplication&&(r=!0)}),r}function jt(e,t,n,r){r.variants=r.variants.filter(function(r){if(e&&e.X&&!ut(e,r))return!1;var i=r.audio;return r=r.video,!(i&&!Tt(i)||r&&!Tt(r)||i&&t&&!Yt(i,t)||r&&n&&!Yt(r,n))}),r.textStreams=r.textStreams.filter(function(e){return!!_u[Qe(e.mimeType,e.codecs)]})}function Yt(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function Kt(e){var t=e.audio,n=e.video,r=t?t.codecs:null,i=n?n.codecs:null,a=[];i&&a.push(i),r&&a.push(r);var o=[];n&&o.push(n.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var l=[];return t&&l.push.apply(l,t.roles),n&&l.push.apply(l,n.roles),l=te(l),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:o,codecs:a.join(", "),audioCodec:r,videoCodec:i,primary:e.primary,roles:l,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label),e}function qt(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function Jt(e){var t=[],n=Xt(e.variants);return e=e.textStreams,n.forEach(function(e){t.push(Kt(e))}),e.forEach(function(e){t.push(qt(e))}),t}function zt(e,t,n){return Xt(e.variants).map(function(e){var r=Kt(e);return e.video&&e.audio?r.active=n==e.video.id&&t==e.audio.id:e.video?r.active=n==e.video.id:e.audio&&(r.active=t==e.audio.id),r})}function Wt(e,t){return e.textStreams.map(function(e){var n=qt(e);return n.active=t==e.id,n})}function Zt(e){return e.allowedByApplication&&e.allowedByKeySystem}function Xt(e){return e.filter(function(e){return Zt(e)})}function $t(e,t,n,r,i){return e=en(e,t,n,i),tn(e,r)}function en(e,t,n,r){var i=Xt(e),a=i;e=i.filter(function(e){return e.primary}),e.length&&(a=e);var o=a.length?a[0].language:"";if(a=a.filter(function(e){return e.language==o}),t){var s=Vt(t);[Nu,Mu,0].forEach(function(e){var t=!1;i.forEach(function(n){s=Vt(s);var i=Vt(n.language);Ut(e,s,i)&&(t?a.push(n):(a=[n],t=!0),r&&(r.audio=!0))})})}return n&&(t=rn(a,n),t.length)?t:(t=a.map(function(e){return(e.audio?e.audio.roles:[]).concat(e.video?e.video.roles:[])}).reduce(Au.ia,[]),t.length?rn(a,t[0]):a)}function tn(e,t){var n=e.filter(function(e){return e.audio&&e.audio.channelsCount}).reduce(function(e,t){var n=t.audio.channelsCount;return e[n]?e[n].push(t):e[n]=[t],e},{}),r=Object.keys(n);if(0==r.length)return e;var i=r.filter(function(e){return e<=t});return i.length?n[Math.max.apply(null,i)]:n[Math.min.apply(null,r)]}function nn(e,t,n,r){var i=e,a=e.filter(function(e){return e.primary});a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter(function(e){return e.language==o}),t){var s=Vt(t);[Nu,Mu,0].forEach(function(t){var n=!1;e.forEach(function(e){var a=Vt(e.language);Ut(t,s,a)&&(n?i.push(e):(i=[e],n=!0),r&&(r.text=!0))})})}if(n){if(t=an(i,n),t.length)return t}else if(t=i.filter(function(e){return 0==e.roles.length}),t.length)return t;return t=i.map(function(e){return e.roles}).reduce(Au.ia,[]),t.length?an(i,t[0]):i}function rn(e,t){return e.filter(function(e){return e.audio&&0<=e.audio.roles.indexOf(t)||e.video&&0<=e.video.roles.indexOf(t)})}function an(e,t){return e.filter(function(e){return 0<=e.roles.indexOf(t)})}function on(e,t,n){for(var r=0;r<n.length;r++)if(n[r].audio==e&&n[r].video==t)return n[r];return null}function sn(e,t,n){function r(e,t){return null==e?null==t:t.id==e}for(var i=0;i<n.length;i++)if(r(e,n[i].audio)&&r(t,n[i].video))return n[i];return null}function ln(e,t){for(var n=e.periods.length-1;0<n;--n)if(t+gu>=e.periods[n].startTime)return n;return 0}function un(e,t){for(var n=0;n<e.periods.length;++n){var r=e.periods[n];if("text"==t.type){for(var i=0;i<r.textStreams.length;++i)if(r.textStreams[i]==t)return n}else for(i=0;i<r.variants.length;++i){var a=r.variants[i];if(a.audio==t||a.video==t||a.video&&a.video.trickModeVideo==t)return n}}return-1}function cn(e){var t=[];return e.periods.forEach(function(e){e.variants.forEach(function(e){t.push(e)})}),t}function dn(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t}function An(){this.h=null,this.f=!1,this.b=new R,this.c=[],this.i=!1,this.a=this.g=null}function gn(e,t){return e&&(t=t.filter(function(t){return Gt(t,e,{width:1/0,height:1/0})})),t.sort(function(e,t){return e.bandwidth-t.bandwidth})}function pn(e){return JSON.stringify(e,function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof ae){var n,r={};for(n in t){var i=t[n];i&&"object"==typeof i?"detail"==n&&(r[n]=i):n in Event||(r[n]=i)}return r}if(t instanceof TimeRanges)for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=0;n<t.length;++n)r.start.push(t.start(n)),r.end.push(t.end(n));else r="number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return r}})}function fn(e){return JSON.parse(e,function(e,t){return"NaN"==t?NaN:"-Infinity"==t?-1/0:"Infinity"==t?1/0:t&&"object"==typeof t&&"TimeRanges"==t.__type__?hn(t):t})}function hn(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}function mn(e,t,n,r,i,a){this.J=e,this.g=t,this.N=n,this.j=!1,this.A=r,this.I=i,this.u=a,this.b=this.h=!1,this.w="",this.i=null,this.l=this.Lc.bind(this),this.m=this.de.bind(this),this.a={video:{},player:{}},this.s=0,this.c={},this.f=null}function En(e){var t=Ju;t.removeUpdateListener(e.l),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.m)}function vn(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new q(1,7,7e3))}}function yn(e){e=pn(e),Ju.sendMessage("urn:x-cast:com.google.shaka.v2",e,function(){},M)}function In(e,t,n){se.call(this),this.c=e,this.b=t,this.i=this.g=this.f=this.j=this.h=null,this.a=new mn(n,this.We.bind(this),this.Xe.bind(this),this.Ye.bind(this),this.Ze.bind(this),this.Dc.bind(this)),bn(this)}function bn(e){e.a.init(),e.i=new Ee,Ou.forEach(function(e){ve(this.i,this.c,e,this.lf.bind(this))}.bind(e)),Uu.forEach(function(e){ve(this.i,this.b,e,this.ye.bind(this))}.bind(e)),e.h={};for(var t in e.c)Object.defineProperty(e.h,t,{configurable:!1,enumerable:!0,get:e.kf.bind(e,t),set:e.mf.bind(e,t)});e.j={};for(var n in e.b)Object.defineProperty(e.j,n,{configurable:!1,enumerable:!0,get:e.Sc.bind(e,n)});e.f=new se,e.f.tb=e.h,e.g=new se,e.g.tb=e.j}function Cn(e,t,n,r){se.call(this),this.a=e,this.b=t,this.c=new Ee,this.u={video:e,player:t},this.w=n||function(){},this.A=r||function(e){return e},this.s=!1,this.h=!0,this.g=0,this.m=!1,this.j=!0,this.l=this.i=this.f=null,Bn(this)}function Bn(t){var n=cast.receiver.CastReceiverManager.getInstance();n.onSenderConnected=t.Qc.bind(t),n.onSenderDisconnected=t.Qc.bind(t),n.onSystemVolumeChanged=t.yd.bind(t),t.i=n.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.i.onMessage=t.Zd.bind(t),t.f=n.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.f.onMessage=t.me.bind(t),n.start(),Ou.forEach(function(e){ve(this.c,this.a,e,this.Uc.bind(this,"video"))}.bind(t)),Uu.forEach(function(e){ve(this.c,this.b,e,this.Uc.bind(this,"player"))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.b.mc(3840,2160):t.b.mc(1920,1080),ve(t.c,t.a,"loadeddata",function(){this.m=!0}.bind(t)),ve(t.c,t.b,"loading",function(){this.h=!1,wn(this)}.bind(t)),ve(t.c,t.a,"playing",function(){this.h=!1,wn(this)}.bind(t)),ve(t.c,t.a,"pause",function(){wn(this)}.bind(t)),ve(t.c,t.b,"unloading",function(){this.h=!0,wn(this)}.bind(t)),ve(t.c,t.a,"ended",function(){e.setTimeout(function(){this.a&&this.a.ended&&(this.h=!0,wn(this))}.bind(this),5e3)}.bind(t))}function wn(e){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new ae("caststatuschanged")),Tn(this)||Dn(this,0))}.bind(e))}function Sn(e,t,n){for(var r in t.player)e.b[r](t.player[r]);e.w(n),n=Promise.resolve();var i=e.a.autoplay;t.manifest&&(e.a.autoplay=!1,n=e.b.load(t.manifest,t.startTime)),n.then(function(){if(e.b){for(var n in t.video)e.a[n]=t.video[n];for(var r in t.playerAfterLoad)e.b[r](t.playerAfterLoad[r]);e.a.autoplay=i,t.manifest&&(e.a.play(),Dn(e,0))}},function(t){e.b.dispatchEvent(new ae("error",{detail:t}))})}function Tn(e){return!(!e.j||!e.a.duration&&!e.b.W())&&(kn(e),e.j=!1,!0)}function kn(e){Dn(e,0,{contentId:e.b.Sb(),streamType:e.b.W()?"LIVE":"BUFFERED",duration:e.a.duration,contentType:""})}function Qn(e,t,n,r){e.s&&(e=pn(t),r?n.getCastChannel(r).send(e):n.broadcast(e))}function Dn(e,t,n){var r=e.a.playbackRate,i=zu;i=e.h?i.IDLE:e.b.Gc()?i.jd:e.a.paused?i.ld:i.md,r={mediaSessionId:0,playbackRate:r,playerState:i,currentTime:e.a.currentTime,supportedMediaCommands:15,volume:{level:e.a.volume,muted:e.a.muted}},n&&(r.media=n),Qn(e,{requestId:t,type:"MEDIA_STATUS",status:[r]},e.i)}function Rn(e,t,n){e=Nn(e);var r=null,i=[],a=[],o=e.map(function(e){return e.keyId}).filter(Au.la);if(o.length&&1<o.filter(Au.ka).length)throw new q(2,4,4010);n||(a=e.filter(function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.$c||(r=e.init||r,!1)}),a.length&&(i=Mn(r,t,a),0==i.length&&(i=[Be("",r)]))),!e.length||!n&&a.length||(i=Se(Zu).filter(function(e){return"org.w3.clearkey"!=e}).map(function(e){return Be(e,r)}));var s=o[0]||null;return s&&i.forEach(function(e){e.initData.forEach(function(e){e.keyId=s})}),{xc:s,rf:r,drmInfos:i,Cc:!0}}function _n(e,t,n,r){var i=Rn(e,t,r);if(n.Cc)e=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,t=0==i.drmInfos.length,(0==n.drmInfos.length||e&&!t)&&(n.drmInfos=i.drmInfos),n.Cc=!1;else if(0<i.drmInfos.length&&(n.drmInfos=n.drmInfos.filter(function(e){return i.drmInfos.some(function(t){return t.keySystem==e.keySystem})}),0==n.drmInfos.length))throw new q(2,4,4008);return i.xc||n.xc}function Mn(e,t,n){return n.map(function(n){var r=Zu[n.$c];return r?[Be(r,n.init||e)]:t(n.node)||[]}).reduce(Au.ia,[])}function Nn(e){return e.map(function(e){var t=e.getAttribute("schemeIdUri"),n=Wu.getAttributeNS(e,"urn:mpeg:cenc:2013","default_KID"),r=Wu.zd(e,"urn:mpeg:cenc:2013","pssh").map(Wu.Eb);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),0<=n.indexOf(" ")))throw new q(2,4,4009);var i=[];try{i=r.map(function(e){return{initDataType:"cenc",initData:Fe(e),keyId:null}})}catch(e){throw new q(2,4,4007)}return{node:e,$c:t,keyId:n,init:0<i.length?i:null}}).filter(Au.la)}function Pn(t,n,r,i,a){var o={RepresentationID:n,Number:r,Bandwidth:i,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,function(t,n,r,i){if("$$"==t)return"$";var a=o[n];if(null==a)return t;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&(a=Math.round(a)),i){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return r=e.parseInt(r,10)||1,Array(Math.max(0,r-t.length)+1).join("0")+t})}function On(e,t){var n=Ln(e,t,"timescale"),r=1;n&&(r=Wu.Jb(n)||1),n=Ln(e,t,"duration"),(n=Wu.Jb(n||""))&&(n/=r);var i=Ln(e,t,"startNumber"),a=Number(Ln(e,t,"presentationTimeOffset"))||0,o=Wu.Xa(i||"");null!=i&&null!=o||(o=1);var s=xn(e,t,"SegmentTimeline");if(i=null,s){i=r;var l=e.P.duration||1/0;s=Wu.M(s,"S");for(var u=[],c=0,d=0;d<s.length;++d){var A=s[d],g=Wu.F(A,"t",Wu.Xa),p=Wu.F(A,"d",Wu.Xa);if(A=Wu.F(A,"r",Wu.parseInt),null!=g&&(g-=a),!p)break;if(g=null!=g?g:c,0>(A=A||0))if(d+1<s.length){if(null==(A=Wu.F(s[d+1],"t",Wu.Xa)))break;if(g>=A)break;A=Math.ceil((A-g)/p)-1}else{if(1/0==l)break;if(g/i>=l)break;A=Math.ceil((l*i-g)/p)-1}0<u.length&&g!=c&&(u[u.length-1].end=g/i);for(var f=0;f<=A;++f)c=g+p,u.push({start:g/i,end:c/i,gf:g}),g=c}i=u}return{timescale:r,T:n,Ka:o,fa:a/r||0,rc:a,K:i}}function Ln(e,t,n){return[t(e.v),t(e.Y),t(e.da)].filter(Au.la).map(function(e){return e.getAttribute(n)}).reduce(function(e,t){return e||t})}function xn(e,t,n){return[t(e.v),t(e.Y),t(e.da)].filter(Au.la).map(function(e){return Wu.Cb(e,n)}).reduce(function(e,t){return e||t})}function Fn(e,t){var n=new DOMParser;try{var r=De(e),i=n.parseFromString(r,"text/xml")}catch(e){}if(i&&i.documentElement.tagName==t)var a=i.documentElement;return a&&0<a.getElementsByTagName("parsererror").length?null:a}function Un(e,t,n,r,i,a){for(var o=Wu.getAttributeNS(e,"http://www.w3.org/1999/xlink","href"),s=Wu.getAttributeNS(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",l=0;l<e.attributes.length;l++){var u=e.attributes[l];"http://www.w3.org/1999/xlink"==u.namespaceURI&&(e.removeAttributeNS(u.namespaceURI,u.localName),--l)}if(5<=a)return z(new q(2,4,4028));if("onLoad"!=s)return z(new q(2,4,4027));var c=Ce([r],[o]);return i.request(0,ge(c,t)).Z(function(r){if(!(r=Fn(r.data,e.tagName)))return z(new q(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;r.childNodes.length;){var s=r.childNodes[0];r.removeChild(s),e.appendChild(s)}for(s=0;s<r.attributes.length;s++){var l=r.attributes[s].nodeName,u=r.getAttribute(l);e.setAttribute(l,u)}return Vn(e,t,n,c[0],i,a+1)})}function Vn(e,t,n,r,i,a){if(a=void 0===a?0:a,Wu.getAttributeNS(e,"http://www.w3.org/1999/xlink","href")){var o=Un(e,t,n,r,i,a);return n&&(o=o.Z(void 0,function(){return Vn(e,t,n,r,i,a)})),o}for(o=0;o<e.childNodes.length;o++){var s=e.childNodes[o];s instanceof Element&&"urn:mpeg:dash:resolve-to-zero:2013"==Wu.getAttributeNS(s,"http://www.w3.org/1999/xlink","href")&&(e.removeChild(s),--o)}for(o=[],s=0;s<e.childNodes.length;s++){var l=e.childNodes[s];l.nodeType==Node.ELEMENT_NODE&&o.push(Vn(l,t,n,r,i,a))}return $(o).Z(function(){return e})}function Gn(e,t,n){this.c=e,this.b=t,this.a=n}function Hn(e,t,n,r,i,a){this.position=e,this.startTime=t,this.endTime=n,this.c=r,this.b=i,this.a=a}function jn(e,t){this.G=e,this.b=t==Xu,this.a=0}function Yn(){throw new q(2,3,3e3)}function Kn(){this.c=[],this.b=[],this.a=!1}function qn(e){for(;e.reader.ja()&&!e.parser.a;)e.parser.Ib(e.start,e.reader,e.partialOkay)}function Jn(e){for(var t=e.reader.C();0<t&&!e.parser.a;--t)e.parser.Ib(e.start,e.reader,e.partialOkay)}function zn(e){return function(t){e(t.reader.Ja(t.reader.G.byteLength-t.reader.V()))}}function Wn(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t}function Zn(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Xn(e,t,n,r){var i,a=(new Kn).$("sidx",function(e){i=$n(t,r,n,e)});if(e&&a.parse(e),i)return i;throw new q(2,3,3004)}function $n(e,t,n,r){var i=[];r.reader.H(4);var a=r.reader.C();if(0==a)throw new q(2,3,3005);if(0==r.version)var o=r.reader.C(),s=r.reader.C();else o=r.reader.Za(),s=r.reader.Za();r.reader.H(2);var l=r.reader.lb();for(e=e+r.size+s,s=0;s<l;s++){var u=r.reader.C(),c=(2147483648&u)>>>31;u&=2147483647;var d=r.reader.C();if(r.reader.H(4),1==c)throw new q(2,3,3006);i.push(new Hn(i.length,o/a-t,(o+d)/a-t,function(){return n},e,e+u-1)),o+=d,e+=u}return r.parser.stop(),i}function er(e){this.a=e}function tr(e,t){for(;e.a.length&&e.a[e.a.length-1].startTime>=t;)e.a.pop();for(;e.a.length&&0>=e.a[0].endTime;)e.a.shift();if(0!=e.a.length){var n=e.a[e.a.length-1];e.a[e.a.length-1]=new Hn(n.position,n.startTime,t,n.c,n.b,n.a)}}function nr(e){this.b=e,this.a=new jn(e,0),$u||($u=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function rr(e){var t=ir(e);if(7<t.length)throw new q(2,3,3002);for(var n=0,r=0;r<t.length;r++)n=256*n+t[r];t=n,n=ir(e);e:{for(r=0;r<$u.length;r++)if(Ge(n,$u[r])){r=!0;break e}r=!1}if(r)n=e.b.byteLength-e.a.V();else{if(8==n.length&&224&n[1])throw new q(2,3,3001);r=n[0]&(1<<8-n.length)-1;for(var i=1;i<n.length;i++)r=256*r+n[i];n=r}return n=e.a.V()+n<=e.b.byteLength?n:e.b.byteLength-e.a.V(),r=new DataView(e.b.buffer,e.b.byteOffset+e.a.V(),n),e.a.H(n),new ar(t,r)}function ir(e){var t,n=e.a.ea();for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new q(2,3,3002);var r=new Uint8Array(t);for(r[0]=n,n=1;n<t;n++)r[n]=e.a.ea();return r}function ar(e,t){this.id=e,this.a=t}function or(e){if(8<e.a.byteLength)throw new q(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new q(2,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){t=256*t+e.a.getUint8(n)}return t}function sr(){}function lr(e,t,n,r,i,a){function o(){return i}var s=[];e=new nr(e.a);for(var l=null,u=null;e.ja();){var c=rr(e);if(187==c.id){var d=ur(c);d&&(c=n*d.hf,d=t+d.Ce,null!=l&&s.push(new Hn(s.length,l-a,c-a,o,u,d-1)),l=c,u=d)}}return null!=l&&s.push(new Hn(s.length,l-a,r-a,o,u,null)),s}function ur(e){var t=new nr(e.a);if(e=rr(t),179!=e.id)throw new q(2,3,3013);if(e=or(e),t=rr(t),183!=t.id)throw new q(2,3,3012);t=new nr(t.a);for(var n=0;t.ja();){var r=rr(t);if(241==r.id){n=or(r);break}}return{hf:e,Ce:n}}function cr(e,t){var n=xn(e,t,"Initialization");if(!n)return null;var r=e.v.ga,i=n.getAttribute("sourceURL");i&&(r=Ce(e.v.ga,[i])),i=0;var a=null;return(n=Wu.F(n,"range",Wu.Kb))&&(i=n.start,a=n.end),new Gn(function(){return r},i,a)}function dr(e,t){var n=Number(Ln(e,gr,"presentationTimeOffset"))||0,r=Ln(e,gr,"timescale"),i=1;r&&(i=Wu.Jb(r)||1),n=n/i||0,r=cr(e,gr);var a=e.v.contentType;if(i=e.v.mimeType.split("/")[1],"text"!=a&&"mp4"!=i&&"webm"!=i)throw new q(2,4,4006);if("webm"==i&&!r)throw new q(2,4,4005);a=xn(e,gr,"RepresentationIndex");var o=Ln(e,gr,"indexRange"),s=e.v.ga;if(o=Wu.Kb(o||""),a){var l=a.getAttribute("sourceURL");l&&(s=Ce(e.v.ga,[l])),o=Wu.F(a,"range",Wu.Kb,o)}if(!o)throw new q(2,4,4002);return i=Ar(e,t,r,s,o.start,o.end,i,n),{createSegmentIndex:i.createSegmentIndex,findSegmentPosition:i.findSegmentPosition,getSegmentReference:i.getSegmentReference,initSegmentReference:r,fa:n}}function Ar(e,t,n,r,i,a,o,s){var l=e.presentationTimeline,u=!e.Oa||!e.P.Xb,c=e.P.start,d=e.P.duration,A=t,g=null;return{createSegmentIndex:function(){var e=[A(r,i,a),"webm"==o?A(n.c(),n.b,n.a):null];return A=null,Promise.all(e).then(function(e){var t=e[0];e=e[1]||null,t="mp4"==o?Xn(t,i,r,s):(new sr).parse(t,e,r,s),l.Va(t,c),g=new er(t),u&&tr(g,d)})},findSegmentPosition:function(e){return g.find(e)},getSegmentReference:function(e){return g.get(e)}}}function gr(e){return e.mb}function pr(e,t){var n=cr(e,fr),r=mr(e),i=On(e,fr),a=i.Ka;0==a&&(a=1);var o=0;if(i.T?o=i.T*(a-1):i.K&&0<i.K.length&&(o=i.K[0].start),r={T:i.T,startTime:o,Ka:a,fa:i.fa,K:i.K,Ta:r},!r.T&&!r.K&&1<r.Ta.length)throw new q(2,4,4002);if(!r.T&&!e.P.duration&&!r.K&&1==r.Ta.length)throw new q(2,4,4002);if(r.K&&0==r.K.length)throw new q(2,4,4002);return a=i=null,e.da.id&&e.v.id&&(a=e.da.id+","+e.v.id,i=t[a]),o=hr(e.P.duration,r.Ka,e.v.ga,r),i?(i.ac(o),a=e.presentationTimeline.hb(),i.Qb(a-e.P.start)):(e.presentationTimeline.Va(o,e.P.start),i=new er(o),a&&e.Oa&&(t[a]=i)),e.Oa&&e.P.Xb||tr(i,e.P.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:i.find.bind(i),getSegmentReference:i.get.bind(i),initSegmentReference:n,fa:r.fa}}function fr(e){return e.wa}function hr(e,t,n,r){var i=r.Ta.length;r.K&&r.K.length!=r.Ta.length&&(i=Math.min(r.K.length,r.Ta.length));for(var a=[],o=r.startTime,s=0;s<i;s++){var l=r.Ta[s],u=Ce(n,[l.Vd]),c=void 0;c=null!=r.T?o+r.T:r.K?r.K[s].end:o+e,a.push(new Hn(s+t,o,c,function(e){return e}.bind(null,u),l.start,l.end)),o=c}return a}function mr(e){return[e.v.wa,e.Y.wa,e.da.wa].filter(Au.la).map(function(e){return Wu.M(e,"SegmentURL")}).reduce(function(e,t){return 0<e.length?e:t}).map(function(t){t.getAttribute("indexRange")&&!e.Fc&&(e.Fc=!0);var n=t.getAttribute("media");return t=Wu.F(t,"mediaRange",Wu.Kb,{start:0,end:null}),{Vd:n,start:t.start,end:t.end}})}function Er(e,t,n,r){var i=br(e),a=On(e,vr),o=Ln(e,vr,"media"),s=Ln(e,vr,"index");if(a={T:a.T,timescale:a.timescale,Ka:a.Ka,fa:a.fa,rc:a.rc,K:a.K,$b:o,jb:s},o=a.jb?1:0,o+=a.K?1:0,0==(o+=a.T?1:0))throw new q(2,4,4002);if(1!=o&&(a.jb&&(a.K=null),a.T=null),!a.jb&&!a.$b)throw new q(2,4,4002);if(a.jb){if("mp4"!=(n=e.v.mimeType.split("/")[1])&&"webm"!=n)throw new q(2,4,4006);if("webm"==n&&!i)throw new q(2,4,4005);r=Pn(a.jb,e.v.id,null,e.bandwidth||null,null),r=Ce(e.v.ga,[r]),e=Ar(e,t,i,r,0,null,n,a.fa)}else a.T?(r||e.presentationTimeline.cc(a.T),e=yr(e,a)):(o=t=null,e.da.id&&e.v.id&&(o=e.da.id+","+e.v.id,t=n[o]),s=Ir(e,a),r=!e.Oa||!e.P.Xb,t?(r&&tr(new er(s),e.P.duration),t.ac(s),n=e.presentationTimeline.hb(),t.Qb(n-e.P.start)):(e.presentationTimeline.Va(s,e.P.start),t=new er(s),o&&e.Oa&&(n[o]=t)),r&&tr(t,e.P.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,initSegmentReference:i,fa:a.fa}}function vr(e){return e.ob}function yr(e,t){var n=e.P.duration,r=t.T,i=t.Ka,a=t.timescale,o=t.$b,s=e.bandwidth||null,l=e.v.id,u=e.v.ga;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/r)},getSegmentReference:function(e){var t=e*r,c=t+r;return n&&(c=Math.min(c,n)),0>c||n&&t>=n?null:new Hn(e,t,c,function(){var n=Pn(o,l,e+i,s,t*a);return Ce(u,[n])},0,null)}}}function Ir(e,t){for(var n=[],r=0;r<t.K.length;r++){var i=r+t.Ka;n.push(new Hn(i,t.K[r].start,t.K[r].end,function(e,t,n,r,i,a){return e=Pn(e,t,i,n,a),Ce(r,[e]).map(function(e){return e.toString()})
}.bind(null,t.$b,e.v.id,e.bandwidth||null,e.v.ga,i,t.K[r].gf+t.rc),0,null))}return n}function br(e){var t=Ln(e,vr,"initialization");if(!t)return null;var n=e.v.id,r=e.bandwidth||null,i=e.v.ga;return new Gn(function(){var e=Pn(t,n,null,r,null);return Ce(i,[e])},0,null)}function Cr(){var e,t={};for(e in ec)t[e]=!0;for(var n in tc)t[n]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(e){t[e]=!!ec[e]}),["mpd","m3u8","ism"].forEach(function(e){t[e]=!!tc[e]}),t}function Br(e,t,n,r){return u(function i(){var a;return w(i,function(i){switch(i.o){case 1:return p(i,2),g(i,wr(e,t,n,r),4);case 4:return i.return(i.B);case 2:throw a=m(i),a.severity=2,a}})})}function wr(e,t,n,r){return u(function i(){var a,o,s,l,u,c,d,A,p,f;return w(i,function(i){switch(i.o){case 1:return r&&(a=r.toLowerCase(),o=ec[a])?i.return(o):(s=new N(e),l=s.ca.split("/"),u=l.pop(),c=u.split("."),1<c.length&&(d=c.pop().toLowerCase(),A=tc[d])?i.return(A):g(i,Sr(e,t,n),2));case 2:if(p=i.B,f=ec[p])return i.return(f);throw new q(2,4,4e3,e)}})})}function Sr(e,t,n){return u(function r(){var i,a,o;return w(r,function(r){switch(r.o){case 1:return i=ge([e],n),i.method="HEAD",g(r,t.request(0,i).promise,2);case 2:return a=r.B,o=a.headers["content-type"],r.return(o?o.toLowerCase():"")}})})}function Tr(e,t){this.b=e,this.Lb=t,this.f=this.c=1/0,this.a=1,this.g=this.h=null,this.j=0,this.l=!0,this.i=0}function kr(){this.a=this.b=null,this.h=[],this.c=null,this.j=[],this.i=1,this.l={},this.m=0,this.s=new k(5),this.g=null,this.f=new ue}function Qr(e){var t=Date.now(),n=e.a.networkingEngine.request(0,ge(e.h,e.b.retryParameters));return ce(e.f,n),n.promise.then(function(t){if(e.a)return Dr(e,t.data,t.uri)}).then(function(){var n=(Date.now()-t)/1e3;return Q(e.s,1,n),n})}function Dr(e,t,n){if(!(t=Fn(t,"MPD")))throw new q(2,4,4001,n);return t=Vn(t,e.b.retryParameters,e.b.dash.xlinkFailGracefully,n,e.a.networkingEngine),ce(e.f,t),t.promise.then(function(t){return Rr(e,t,n)})}function Rr(e,t,n){return u(function r(){var i,a,o,s,l,u,c,d,A,p,f,h,m,E,v,y,I,b,C,B,S,T,k,Q;return w(r,function(r){switch(r.o){case 1:s=Au,l=Wu,u=[n],c=l.M(t,"Location").map(l.Eb).filter(s.la),0<c.length&&(u=e.h=c),d=l.M(t,"BaseURL").map(l.Eb),A=Ce(u,d),p=l.F(t,"minBufferTime",l.sa),e.m=l.F(t,"minimumUpdatePeriod",l.sa,-1),f=l.F(t,"availabilityStartTime",l.ue),h=l.F(t,"timeShiftBufferDepth",l.sa),m=l.F(t,"suggestedPresentationDelay",l.sa),E=l.F(t,"maxSegmentDuration",l.sa),v=t.getAttribute("type")||"static",e.c?y=e.c.presentationTimeline:(I=Math.max(e.b.dash.defaultPresentationDelay,1.5*p),b=null!=m?m:I,y=new Tr(f,b)),C={Oa:"static"!=v,presentationTimeline:y,da:null,P:null,Y:null,v:null,bandwidth:0,Fc:!1};for(var w=C,D=A,R=Wu.F(t,"mediaPresentationDuration",Wu.sa),_=[],M=0,N=Wu.M(t,"Period"),P=0;P<N.length;P++){var O=N[P];M=Wu.F(O,"start",Wu.sa,M);var L=Wu.F(O,"duration",Wu.sa),x=null;if(P!=N.length-1){var F=Wu.F(N[P+1],"start",Wu.sa);null!=F&&(x=F-M)}else null!=R&&(x=R-M);if(null==x&&(x=L),O=_r(e,w,D,{start:M,duration:x,node:O,Xb:null==x||P==N.length-1}),_.push(O),L=w.da.id,-1==e.j.indexOf(L)&&(e.j.push(L),e.c&&(e.a.filterNewPeriod(O),e.c.periods.push(O))),null==x){M=null;break}M+=x}if(null==e.c&&e.a.filterAllPeriods(_),null!=R?(i=_,a=R,o=!1):(i=_,a=M,o=!0),B=a,S=i,y.pb("static"==v),"static"!=v&&o||y.oa(B||1/0),(T=y.W())&&!isNaN(e.b.availabilityWindowOverride)&&(h=e.b.availabilityWindowOverride),null==h&&(h=1/0),y.nc(h),y.cc(E||1),e.c){r.O(0);break}if(e.c={presentationTimeline:y,periods:S,offlineSessionIds:[],minBufferTime:p||0},!y.hd()){r.O(0);break}return k=l.M(t,"UTCTiming"),g(r,Ur(e,A,k,T),4);case 4:if(Q=r.B,!e.a)return r.return();y.bd(Q),r.o=0}})})}function _r(e,t,n,r){if(t.da=Or(r.node,null,n),t.P=r,t.da.id||(t.da.id="__shaka_period_"+r.start),Wu.M(r.node,"EventStream").forEach(e.we.bind(e,r.start,r.duration)),n=Wu.M(r.node,"AdaptationSet").map(e.te.bind(e,t)).filter(Au.la),t.Oa){t=n.map(function(e){return e.Ee}).reduce(Au.ia,[]);var i=t.filter(Au.ka);if(t.length!=i.length)throw new q(2,4,4018)}var a=n.filter(function(e){return!e.qc});if(n.filter(function(e){return e.qc}).forEach(function(e){var t=e.streams[0],n=e.qc;a.forEach(function(e){e.id==n&&e.streams.forEach(function(e){e.trickModeVideo=t})})}),t=Mr(a,"video"),i=Mr(a,"audio"),!t.length&&!i.length)throw new q(2,4,4004);i.length||(i=[null]),t.length||(t=[null]),n=[];for(var o=0;o<i.length;o++)for(var s=0;s<t.length;s++)Nr(e,i[o],t[s],n);for(e=Mr(a,"text"),t=[],i=0;i<e.length;i++)t.push.apply(t,e[i].streams);return{startTime:r.start,textStreams:t,variants:n}}function Mr(e,t){return e.filter(function(e){return e.contentType==t})}function Nr(e,t,n,r){if(t||n)if(t&&n){var i=t.drmInfos,a=n.drmInfos;if(i.length&&a.length?0<ct(i,a).length:1){a=ct(t.drmInfos,n.drmInfos);for(var o=0;o<t.streams.length;o++)for(var s=0;s<n.streams.length;s++)i=(n.streams[s].bandwidth||0)+(t.streams[o].bandwidth||0),i={id:e.i++,language:t.language,primary:t.Zb||n.Zb,audio:t.streams[o],video:n.streams[s],bandwidth:i,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}}else for(a=t||n,o=0;o<a.streams.length;o++)i=a.streams[o].bandwidth||0,i={id:e.i++,language:a.language||"und",primary:a.Zb,audio:t?a.streams[o]:null,video:n?a.streams[o]:null,bandwidth:i,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},r.push(i)}function Pr(t,n){0>t.m||(t.g=e.setTimeout(t.$e.bind(t),1e3*Math.max(3,t.m-n,D(t.s))))}function Or(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,dc:null},n=n||t.ga;var r=Wu.Xa,i=Wu.xd,a=Wu.M(e,"BaseURL").map(Wu.Eb),s=e.getAttribute("contentType")||t.contentType,l=e.getAttribute("mimeType")||t.mimeType,u=e.getAttribute("codecs")||t.codecs;i=Wu.F(e,"frameRate",i)||t.frameRate;var c=Wu.M(e,"InbandEventStream"),d=t.emsgSchemeIdUris.slice();c=o(c);for(var A=c.next();!A.done;A=c.next())A=A.value.getAttribute("schemeIdUri"),-1==d.indexOf(A)&&d.push(A);return c=Wu.M(e,"AudioChannelConfiguration"),c=Lr(c)||t.dc,s||(s=Vr(l,u)),{ga:Ce(n,a),mb:Wu.Cb(e,"SegmentBase")||t.mb,wa:Wu.Cb(e,"SegmentList")||t.wa,ob:Wu.Cb(e,"SegmentTemplate")||t.ob,width:Wu.F(e,"width",r)||t.width,height:Wu.F(e,"height",r)||t.height,contentType:s,mimeType:l,codecs:u,frameRate:i,emsgSchemeIdUris:d,id:e.getAttribute("id"),dc:c}}function Lr(e){for(var t=0;t<e.length;++t){var n=e[t],r=n.getAttribute("schemeIdUri");if(r&&(n=n.getAttribute("value")))switch(r){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(r=parseInt(n,10)))continue;return r;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(r=parseInt(n,16)){for(e=0;r;)1&r&&++e,r>>=1;return e}}}return null}function xr(e){var t=e.mb?1:0;return t+=e.wa?1:0,0==(t+=e.ob?1:0)?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.mb&&(e.wa=null),e.ob=null),!0)}function Fr(e,t,n,r){return t=Ce(t,[n]),t=ge(t,e.b.retryParameters),t.method=r,t=e.a.networkingEngine.request(4,t),ce(e.f,t),t.promise.then(function(e){if("HEAD"==r){if(!e.headers||!e.headers.date)return 0;e=e.headers.date}else e=De(e.data);return e=Date.parse(e),isNaN(e)?0:e-Date.now()})}function Ur(e,t,n,r){n=n.map(function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}});var i=e.b.dash.clockSyncUri;return r&&!n.length&&i&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),Au.vd(n,function(e){var n=e.value;switch(e.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Fr(this,t,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Fr(this,t,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return e=Date.parse(n),isNaN(e)?0:e-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:return Promise.reject()}}.bind(e)).catch(function(){return 0})}function Vr(e,t){return _u[Qe(e,t)]?"text":e.split("/")[0]}function Gr(e,t,n,r){this.uri=e,this.type=t,this.a=n,this.segments=r||null}function Hr(e,t,n,r){this.id=e,this.name=t,this.a=n,this.value=void 0===r?null:r}function jr(e,t){this.name=e,this.value=t}function Yr(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function Kr(e,t){this.a=t,this.uri=e}function qr(e,t){return e.filter(function(e){return e.name==t})}function Jr(e,t){var n=qr(e,t);return n.length?n[0]:null}function zr(e,t,n){return e.filter(function(e){var r=e.getAttribute("TYPE");return e=e.getAttribute("GROUP-ID"),r.value==t&&e.value==n})}function Wr(e,t){return Ce([e],[t])[0]}function Zr(e){this.b=e,this.a=0}function Xr(e){$r(e,/[ \t]+/gm)}function $r(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,He:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.He)}function ei(e){return e.a==e.b.length?null:(e=$r(e,/[^ \t\n]*/gm))?e[0]:null}function ti(){this.a=0}function ni(e,t,n){t=De(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var r=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(r[0]))throw new q(2,4,4015);t=0;for(var i=1;i<r.length;i++)if(!/^#(?!EXT)/m.test(r[i])){var a=ii(e,r[i]);if(--e.a,0<=nc.indexOf(a.name)){t=1;break}"EXT-X-STREAM-INF"==a.name&&(i+=1)}for(i=[],a=1;a<r.length;)if(/^#(?!EXT)/m.test(r[a]))a+=1;else{var o=ii(e,r[a]);if(0<=rc.indexOf(o.name)){if(1!=t)throw new q(2,4,4017);return r=r.splice(a,r.length-a),e=ri(e,r,i),new Gr(n,t,i,e)}i.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new jr("URI",r[a])),a+=1)}return new Gr(n,t,i)}function ri(e,t,n){var r=[],i=[];return t.forEach(function(t){if(/^(#EXT)/.test(t))t=ii(e,t),0<=nc.indexOf(t.name)?n.push(t):i.push(t);else{if(/^#(?!EXT)/m.test(t))return[];r.push(new Kr(t.trim(),i)),i=[]}}),r}function ii(e,t){e:{var n=e.a++,r=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!r)throw new q(2,4,4016,t);var i=r[1],a=r[2];if(r=[],a&&0<=a.indexOf("=")){a=new Zr(a);for(var o,s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=$r(a,s);)r.push(new jr(o[1],o[2]||o[3]))}else if(a){n=new Hr(n,i,r,a);break e}n=new Hr(n,i,r)}return n}function ai(e){try{var t=ai.parse(e);return Z({uri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(e){return z(e)}}function oi(){this.g=this.c=null,this.N=1,this.w={},this.J={},this.X={},this.a={},this.b=null,this.l="",this.s=new ti,this.j=this.i=null,this.f=sc,this.m=null,this.u=0,this.A=1/0,this.h=new ue,this.I=[]}function si(e,t,n){Ri(e,n).then(function(e){var r=lc,i=ni(this.s,e.data,n);if(1!=i.type)throw new q(2,4,4017);e=Jr(i.a,"EXT-X-MEDIA-SEQUENCE");var a=t.stream;bi(this,i,e?Number(e.value):0,a.mimeType,a.codecs).then(function(e){t.nb.a=e,e=e[e.length-1],Jr(i.a,"EXT-X-ENDLIST")&&(Mi(this,r.Ba),this.b.oa(e.endTime))}.bind(this))}.bind(e))}function li(e,t,n){if(t=ni(e.s,t,n),0!=t.type)throw new q(2,4,4022);return ui(e,t).then(function(e){this.c.filterAllPeriods([e]);var t,n=1/0,r=0,i=1/0;for(t in this.a){var a=this.a[t];n=Math.min(n,a.bc),r=Math.max(r,a.bc),"text"!=a.stream.type&&(i=Math.min(i,a.duration))}if(this.f!=lc.Ba?(this.b=new Tr(0,3*this.u),this.b.pb(!1)):(this.b=new Tr(null,0),this.b.pb(!0)),Ii(this),this.f!=lc.Ba){for(this.i=this.A,this.f==lc.sc&&(n=this.b.Lb,isNaN(this.g.availabilityWindowOverride)||(n=this.g.availabilityWindowOverride),this.b.nc(n)),n=0;95443.7176888889<=r;)n+=95443.7176888889,r-=95443.7176888889;if(n)for(var o in this.a)r=this.a[o],95443.7176888889>r.bc&&(r.stream.presentationTimeOffset=-n,r.nb.offset(n))}else{this.b.oa(i);for(var s in this.a)o=this.a[s],o.stream.presentationTimeOffset=n,o.nb.offset(-n),tr(o.nb,i)}this.m={presentationTimeline:this.b,periods:[e],offlineSessionIds:[],minBufferTime:0}}.bind(e))}function ui(e,t){var n=t.a,r=qr(t.a,"EXT-X-MEDIA").filter(function(e){return"SUBTITLES"==Qi(e,"TYPE")}.bind(e)).map(function(e){return pi(this,e)}.bind(e));return Promise.all(r).then(function(e){var r=qr(n,"EXT-X-STREAM-INF").map(function(e){return ci(this,e,t)}.bind(this));return Promise.all(r).then(function(t){return{startTime:0,variants:t.reduce(Au.ia,[]),textStreams:e}}.bind(this))}.bind(e))}function ci(e,t,n){var r=Yr(t,"CODECS","avc1.42E01E,mp4a.40.2").split(","),i=t.getAttribute("RESOLUTION"),a=null,o=null,s=Yr(t,"FRAME-RATE"),l=Number(Qi(t,"BANDWIDTH"));if(i){var u=i.value.split("x");a=u[0],o=u[1]}n=qr(n.a,"EXT-X-MEDIA");var c=Yr(t,"AUDIO"),d=Yr(t,"VIDEO");if(c?n=zr(n,"AUDIO",c):d&&(n=zr(n,"VIDEO",d)),u=Ti("text",r)){var A=Yr(t,"SUBTITLES");A&&(A=zr(n,"SUBTITLES",A),A.length&&(e.w[A[0].id].stream.codecs=u)),r.splice(r.indexOf(u),1)}n=n.map(function(e){return fi(this,e,r)}.bind(e));var g=[],p=[];return Promise.all(n).then(function(e){if(c?g=e:d&&(p=e),e=!1,g.length||p.length)if(g.length)if(Qi(t,"URI")==g[0].kc){var n="audio";e=!0}else n="video";else n="audio";else 1==r.length?(n=Ti("video",r),n=i||s||n?"video":"audio"):(n="video",r=[r.join(",")]);return e?Promise.resolve():mi(this,t,r,n)}.bind(e)).then(function(e){return e&&("audio"==e.stream.type?g=[e]:p=[e]),p&&di(p),g&&di(g),Ai(this,g,p,l,a,o,s)}.bind(e))}function di(e){e.forEach(function(e){var t=e.stream.codecs.split(",");t=t.filter(function(e){return"mp4a.40.34"!=e}),e.stream.codecs=t.join(",")})}function Ai(e,t,n,r,i,a,o){n.forEach(function(e){(e=e.stream)&&(e.width=Number(i)||void 0,e.height=Number(a)||void 0,e.frameRate=Number(o)||void 0)}.bind(e)),t.length||(t=[null]),n.length||(n=[null]);for(var s=[],l=0;l<t.length;l++)for(var u=0;u<n.length;u++){var c=t[l]?t[l].stream:null,d=n[u]?n[u].stream:null,A=t[l]?t[l].drmInfos:null,g=n[u]?n[u].drmInfos:null,p=void 0;if(c&&d){if(!(A.length&&g.length?0<ct(A,g).length:1))continue;p=ct(A,g)}else c?p=A:d&&(p=g);A=(n[l]?n[l].kc:"")+" - "+(t[l]?t[l].kc:""),e.J[A]||(c=gi(e,c,d,r,p),s.push(c),e.J[A]=c)}return s}function gi(e,t,n,r,i){return{id:e.N++,language:t?t.language:"und",primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:r,drmInfos:i,allowedByApplication:!0,allowedByKeySystem:!0}}function pi(e,t){return Qi(t,"TYPE"),fi(e,t,[]).then(function(e){return e.stream})}function fi(e,t,n){var r=Qi(t,"URI");if(r=Wr(e.l,r),e.a[r])return Promise.resolve(e.a[r]);var i=Qi(t,"TYPE").toLowerCase();"subtitles"==i&&(i="text");var a=Vt(Yr(t,"LANGUAGE","und")),o=Yr(t,"NAME"),s=t.getAttribute("DEFAULT"),l=t.getAttribute("AUTOSELECT"),u=Yr(t,"CHANNELS");return Ei(e,r,n,i,a,!!s||!!l,o,"audio"==i?hi(u):null).then(function(e){return this.a[r]?this.a[r]:(this.w[t.id]=e,this.a[r]=e)}.bind(e))}function hi(e){return e?(e=e.split("/")[0],parseInt(e,10)):null}function mi(e,t,n,r){var i=Qi(t,"URI");return i=Wr(e.l,i),e.a[i]?Promise.resolve(e.a[i]):Ei(e,i,n,r,"und",!1,null,null).then(function(e){return this.a[i]?this.a[i]:this.a[i]=e}.bind(e))}function Ei(e,t,n,r,i,a,o,s){var l=t;t=Wr(e.l,t);var u,c,d="";return Ri(e,t).then(function(e){if(u=ni(this.s,e.data,t),1!=u.type)throw new q(2,4,4017);e=u;var i=lc,a=Jr(e.a,"EXT-X-PLAYLIST-TYPE"),o=Jr(e.a,"EXT-X-ENDLIST");if(o=a&&"VOD"==a.value||o,a=a&&"EVENT"==a.value&&!o,a=!o&&!a,o?Mi(this,i.Ba):(a?Mi(this,i.sc):Mi(this,i.kd),e=Di(e.a,"EXT-X-TARGETDURATION"),e=Number(e.value),this.u=Math.max(e,this.u),this.A=Math.min(e,this.A)),1==n.length)d=n[0];else{if(null==(e=Ti(r,n)))throw new q(2,4,4025,n);d=e}return ki(this,r,d,u)}.bind(e)).then(function(e){return c=e,e=Jr(u.a,"EXT-X-MEDIA-SEQUENCE"),bi(this,u,e?Number(e.value):0,c,d)}.bind(e)).then(function(e){var t=e[0].startTime,n=e[e.length-1].endTime,A=n-t;e=new er(e);var g=vi(u),p=void 0;"text"==r&&(p="subtitle");var f=[];u.segments.forEach(function(e){e=qr(e.a,"EXT-X-KEY"),f.push.apply(f,e)});var h=!1,m=[],E=null;if(f.forEach(function(e){if("NONE"!=Qi(e,"METHOD")){h=!0;var t=Qi(e,"KEYFORMAT");(e=(t=oc[t])?t(e):null)&&(e.keyIds.length&&(E=e.keyIds[0]),m.push(e))}}),h&&!m.length)throw new q(2,4,4026);return g={id:this.N++,originalId:o,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e),initSegmentReference:g,presentationTimeOffset:0,mimeType:c,codecs:d,kind:p,encrypted:h,keyId:E,language:i,label:o,type:r,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s,closedCaptions:{}},this.X[g.id]=e,{stream:g,nb:e,drmInfos:m,kc:l,bc:t,sf:n,duration:A}}.bind(e))}function vi(e){var t=qr(e.a,"EXT-X-MAP");if(!t.length)return null;if(1<t.length)throw new q(2,4,4020);t=t[0];var n=Qi(t,"URI"),r=Wr(e.uri,n);return e=0,n=null,(t=Yr(t,"BYTERANGE"))&&(e=t.split("@"),t=Number(e[0]),e=Number(e[1]),n=e+t-1),new Gn(function(){return[r]},e,n)}function yi(e,t,n,r,i){var a=n.a,o=Wr(e.uri,n.uri);e=Di(a,"EXTINF").value.split(","),e=i+Number(e[0]),n=0;var s=null;return(a=Jr(a,"EXT-X-BYTERANGE"))&&(n=a.value.split("@"),a=Number(n[0]),n=n[1]?Number(n[1]):t.a+1,s=n+a-1),new Hn(r,i,e,function(){return[o]},n,s)}function Ii(e){e.b&&(e.I.forEach(function(t){e.b.Va(t,0)}),e.I=[])}function bi(e,t,n,r,i){var a=t.segments,o=[],s=Wr(t.uri,a[0].uri),l=yi(t,null,a[0],n,0),u=vi(t);return Bi(e,t.uri,u,l,r,i).then(function(e){s.split("/").pop();for(var r=0;r<a.length;++r){var i=o[o.length-1];i=yi(t,i,a[r],n+r,0==r?e:i.endTime),o.push(i)}return this.I.push(o),Ii(this),o}.bind(e))}function Ci(e,t){var n=e.c.networkingEngine,r=ge(t.c(),e.g.retryParameters),i={},a=t.b;i.Range="bytes="+a+"-"+(a+2048-1);var o={};return 0==a&&null==t.a||(a="bytes="+a+"-",null!=t.a&&(a+=t.a),o.Range=a),r.headers=i,i=n.request(1,r),ce(e.h,i),i.promise.catch(function(){_("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",r.uris[0]),r.headers=o;var t=n.request(1,r);return ce(e.h,t),t.promise})}function Bi(e,t,n,r,i,a){return e.m&&(t=e.a[t].nb.get(r.position))?Promise.resolve(t.startTime):(r=[Ci(e,r)],"video/mp4"!=i&&"audio/mp4"!=i||(n?r.push(Ci(e,n)):r.push(r[0])),Promise.all(r).then(function(e){if("video/mp4"==i||"audio/mp4"==i)return wi(e[0].data,e[1].data);if("audio/mpeg"==i)return 0;if("video/mp2t"==i)return Si(e[0].data);if("application/mp4"==i||0==i.indexOf("text/")){e=e[0].data;var t=Qe(i,a);if(_u[t]){var n=new Bt(null);n.f=new _u[t],e=n.Wb(e)}else e=0;return e}throw new q(2,4,4030)}.bind(e)))}function wi(e,t){var n=0;if((new Kn).D("moov",qn).D("trak",qn).D("mdia",qn).$("mdhd",function(e){e.reader.H(0==e.version?8:16),n=e.reader.C(),e.parser.stop()}).parse(t,!0),!n)throw new q(2,4,4030);var r=0,i=!1;if((new Kn).D("moof",qn).D("traf",qn).$("tfdt",function(e){r=(0==e.version?e.reader.C():e.reader.Za())/n,i=!0,e.parser.stop()}).parse(e,!0),!i)throw new q(2,4,4030);return r}function Si(e){function t(){throw new q(2,4,4030)}e=new jn(new DataView(e),0);for(var n=0,r=0;;){if(n=e.V(),r=e.ea(),71!=r&&t(),16384&e.lb()||t(),r=(48&e.ea())>>4,0!=r&&2!=r||t(),3==r&&(r=e.ea(),e.H(r)),1==e.C()>>8)return e.H(3),n=e.ea()>>6,0!=n&&1!=n||t(),0==e.ea()&&t(),n=e.ea(),r=e.lb(),e=e.lb(),(1073741824*((14&n)>>1)+((65534&r)<<14|(65534&e)>>1))/9e4;e.seek(n+188),r=e.ea(),71!=r&&(e.seek(n+192),r=e.ea()),71!=r&&(e.seek(n+204),r=e.ea()),71!=r&&t(),e.Zc(1)}}function Ti(e,t){for(var n=ic[e],r=0;r<n.length;r++)for(var i=0;i<t.length;i++)if(n[r].test(t[i].trim()))return t[i].trim();return"text"==e?"":null}function ki(e,t,n,r){r=Wr(r.uri,r.segments[0].uri);var i=new N(r).ca.split(".").pop(),a=ac[t][i];return a?Promise.resolve(a):"text"==t?n&&"vtt"!=n?Promise.resolve("application/mp4"):Promise.resolve("text/vtt"):(t=ge([r],e.g.retryParameters),t.method="HEAD",t=e.c.networkingEngine.request(1,t),ce(e.h,t),t.promise.then(function(e){if(!(e=e.headers["content-type"]))throw new q(2,4,4021,i);return e.split(";")[0]}))}function Qi(e,t){var n=e.getAttribute(t);if(!n)throw new q(2,4,4023,t);return n.value}function Di(e,t){var n=Jr(e,t);if(!n)throw new q(2,4,4024,t);return n}function Ri(e,t){var n=e.c.networkingEngine.request(0,ge([t],e.g.retryParameters));return ce(e.h,n),n.promise}function _i(t,n){null!=t.i&&null!=n&&(t.j=e.setTimeout(t.U.bind(t),1e3*n))}function Mi(t,n){t.f=n,t.b&&t.b.pb(t.f==lc.Ba),t.f==lc.Ba&&null!=t.j&&(e.clearTimeout(t.j),t.j=null,t.i=null)}function Ni(){this.a={}}function Pi(e,t,n,r){e.a[t]=e.a[t]||new Oi,e.a[t].a[n]=r}function Oi(){this.a={}}function Li(e,t,n,r){this.a=e,this.w=t,this.s=n,this.u=r,this.h=new Ee,this.b=null,this.g=!1,this.m=e.readyState,this.c=!1,this.j=this.A=-1,this.f=this.i=!1,t=this.l.bind(this),ve(this.h,e,"waiting",t),this.b=new Pe(t),Le(this.b,.25)}function xi(e,t,n){this.a=e,this.i=t,this.h=n,this.c=new Ee,this.f=1,this.g=!1,this.b=null,0<e.readyState?this.Oc():ye(this.c,e,"loadedmetadata",this.Oc.bind(this)),ve(this.c,e,"ratechange",this.ie.bind(this))}function Fi(e){return 0<e.a.readyState?e.a.currentTime:e.h}function Ui(e,t){0<e.a.readyState?Gi(e,e.a.currentTime,t):(e.h=t,setTimeout(e.i,0))}function Vi(e,t){null!=e.b&&(e.b.cancel(),e.b=null),e.f=t,e.a.playbackRate=e.g||0>t?0:t,!e.g&&0>t&&(e.b=new Pe(function(){e.a.currentTime+=t/4}),Le(e.b,.25))}function Gi(e,t,n){function r(){!e.a||10<=i++||e.a.currentTime!=t||(e.a.currentTime=n,setTimeout(r,100))}e.a.currentTime=n;var i=0;setTimeout(r,100)}function Hi(e,t,n,r,i,a,o){this.c=e,this.a=t,this.l=n,this.h=r,this.j=a,this.f=null,this.g=new Li(e,t,r,o),t=this.ke.bind(this),null==i?i=1/0>this.a.S()?this.a.Qa():this.a.qa():0>i&&(i=this.a.qa()+i),i=Yi(this,qi(this,i)),this.b=new xi(e,t,i),this.f=new Pe(this.he.bind(this)),Le(this.f,.25)}function ji(e){var t=Fi(e.b);return 0<e.c.readyState&&(e.c.paused||(t=qi(e,t))),t}function Yi(e,t){var n=e.a.S();return t>=n?n-e.h.durationBackoff:t}function Ki(e,t){var n=ft.bind(null,e.c.buffered),r=Math.max(e.l,e.h.rebufferingGoal),i=e.a.Qa(),a=e.a.qa(),o=e.a.S();3>a-i&&(i=a-3);var s=e.a.gb(r),l=e.a.gb(5);return r=e.a.gb(r+5),t>=o?Yi(e,t):t>a?a:t<i?n(l)?l:r:t>=s||n(t)?t:r}function qi(e,t){var n=e.a.Qa();return t<n?n:(n=e.a.qa(),t>n?n:t)}function Ji(e){this.a=!1,this.b=new H,this.c=e}function zi(e,t){return u(function n(){return w(n,function(n){switch(n.o){case 1:return f(n),g(n,Promise.resolve(t()),4);case 4:return n.return(n.B);case 2:return E(n),g(n,Promise.all(e.map(function(e){return e.destroy()})),5);case 5:v(n,0)}})})}function Wi(e,t,n,r,i,a,o){var s=this;this.a=e,this.J=t,this.u=n,this.l=r,this.h=i,this.w=a,this.f=[],this.j=new Ee,this.c=!1,this.i=-1,this.g=null,this.b=o,this.I=new Ji(function(){var e=Promise.all([s.j?s.j.destroy():null,s.b?s.b.destroy():null]);return s.j=null,$i(s),s.a=null,s.u=null,s.l=null,s.h=null,s.w=null,s.f=[],s.b=null,e}),Xi(this)}function Zi(e){var t=le(e);return t.eventElement=e.eventElement,t}function Xi(t){$i(t),t.g=e.setTimeout(t.A.bind(t),250)}function $i(t){t.g&&(e.clearTimeout(t.g),t.g=null)}function ea(e,t,n){this.c=e,this.b=t,this.a=n}function ta(e,t){this.a=t,this.b=e,this.g=null,this.j=1,this.m=Promise.resolve(),this.h=[],this.i={},this.c={},this.s=!1,this.A=null,this.w=this.f=this.l=!1,this.u=0}function na(e){var t=ji(e.a.Ia);return e.b.periods[ln(e.b,t)]}function ra(e){var t=e.c.video||e.c.audio;return t?e.b.periods[t.Fa]:null}function ia(e){return oa(e,"audio")}function aa(e){return oa(e,"video")}function oa(e,t){var n=e.c[t];return n?n.va||n.stream:null}function sa(e,t,n){Pt(e.a.L,"text"),e.u++,e.w=!1;var r=e.u;return e.a.L.init({text:t},!1).then(function(){return ma(e,[t])}).then(function(){if(!e.f&&n&&e.u==r&&!e.c.text&&!e.w){var i=ji(e.a.Ia);e.c.text=fa(t,ln(e.b,i)),_a(e,e.c.text,0)}})}function la(e){e.w=!0,e.c.text&&(Ma(e.c.text),delete e.c.text)}function ua(e,t){var n=e.c.video;if(n){var r=n.stream;if(r)if(t){var i=r.trickModeVideo;i&&!n.va&&(da(e,i,!1,0),n.va=r)}else(r=n.va)&&(n.va=null,da(e,r,!0,0))}}function ca(e,t,n,r){t.video&&da(e,t.video,n,r),t.audio&&da(e,t.audio,n,r)}function da(e,t,n,r){var i=e.c[t.type];if(!i&&"text"==t.type&&e.g.ignoreTextStreamFailures)sa(e,t,!0);else if(i){var a=un(e.b,t);n&&a!=i.Fa?ga(e):(i.va&&(t.trickModeVideo?(i.va=t,t=t.trickModeVideo):i.va=null),(a=e.h[a])&&a.$a&&(a=e.i[t.id])&&a.$a&&i.stream!=t&&("text"==t.type&&Qt(e.a.L,Qe(t.mimeType,t.codecs)),i.stream=t,i.Gb=!0,n&&(i.Ca?i.Mb=!0:i.Ha?(i.ya=!0,i.Bb=r,i.Mb=!0):(Ma(i),Ra(e,i,!0,r)))))}}function Aa(e){var t=ji(e.a.Ia),n=e.g.smallGapLimit;Object.keys(e.c).every(function(e){var r=this.a.L;return"text"==e?(e=r.a,e=t>=e.a&&t<e.b):(e=Mt(r,e),e=ft(e,t,n)),e}.bind(e))||ga(e)}function ga(e){for(var t in e.c){var n=e.c[t];n.Ca||n.ya||(n.Ha?(n.ya=!0,n.Bb=0):null==Dt(e.a.L,t)?null==n.xa&&_a(e,n,0):(Ma(n),Ra(e,n,!1,0)))}}function pa(e,t,n){var r=ji(e.a.Ia),i=ln(e.b,r),a={},o=[];return t.variant&&t.variant.audio&&(a.audio=t.variant.audio,o.push(t.variant.audio)),t.variant&&t.variant.video&&(a.video=t.variant.video,o.push(t.variant.video)),t.text&&(a.text=t.text,o.push(t.text)),e.a.L.init(a,e.g.forceTransmuxTS).then(function(){if(!e.f){var t=e.b.presentationTimeline.S();return 1/0>t?e.a.L.oa(t):e.a.L.oa(Math.pow(2,32)),ma(e,o)}}).then(function(){if(!e.f)for(var t in a){var r=a[t];e.c[t]||(e.c[t]=fa(r,i,n),_a(e,e.c[t],0))}})}function fa(e,t,n){return{stream:e,type:e.type,Sa:null,ra:null,va:null,Gb:!0,Fa:t,endOfStream:!1,Ha:!1,xa:null,ya:!1,Bb:0,Mb:!1,Ca:!1,jc:!1,ib:!1,Xc:n||0}}function ha(e,t){var n=e.h[t];if(n)return n.promise;n={promise:new H,$a:!1},e.h[t]=n;var r=e.b.periods[t].variants.map(function(e){var t=dn(e);return e.video&&e.video.trickModeVideo&&t.push(e.video.trickModeVideo),t}).reduce(Au.ia,[]).filter(Au.ka);return r.push.apply(r,e.b.periods[t].textStreams),e.m=e.m.then(function(){if(!this.f)return ma(this,r)}.bind(e)).then(function(){this.f||(this.h[t].promise.resolve(),this.h[t].$a=!0)}.bind(e)).catch(function(e){this.f||(this.h[t].promise.catch(function(){}),this.h[t].promise.reject(),delete this.h[t],this.a.onError(e))}.bind(e)),n.promise}function ma(e,t){t.map(function(e){return e.id}).filter(Au.ka);for(var n=[],r=0;r<t.length;++r){var i=t[r],a=e.i[i.id];a?n.push(a.promise):(e.i[i.id]={promise:new H,$a:!1},n.push(i.createSegmentIndex()))}return Promise.all(n).then(function(){if(!this.f)for(var e=0;e<t.length;++e){var n=this.i[t[e].id];n.$a||(n.promise.resolve(),n.$a=!0)}}.bind(e)).catch(function(e){if(!this.f){for(var n=0;n<t.length;n++)this.i[t[n].id].promise.catch(function(){}),this.i[t[n].id].promise.reject(),delete this.i[t[n].id];return Promise.reject(e)}}.bind(e))}function Ea(e,t){var n=ji(e.a.Ia),r=va(e,t,n),i=un(e.b,t.stream),a=ln(e.b,r),o=_t(e.a.L,t.type,n),s=Math.max(e.b.minBufferTime||0,e.g.rebufferingGoal,e.g.bufferingGoal)*e.j;if(r>=e.b.presentationTimeline.S())return t.endOfStream=!0,null;if(t.endOfStream=!1,t.Fa=a,a!=i)return null;if(o>=s)return.5;if(a=Rt(e.a.L,t.type),!(a=ya(e,t,n,a,i)))return 1;var l=1/0;return Se(e.c).forEach(function(t){l=Math.min(l,va(e,t,n))}),r>=l+e.b.presentationTimeline.a?1:(t.Xc=0,ba(e,t,n,i,a),null)}function va(e,t,n){return t.Sa&&t.ra?e.b.periods[un(e.b,t.Sa)].startTime+t.ra.endTime:Math.max(n,t.Xc)}function ya(e,t,n,r,i){if(t.ra&&t.stream==t.Sa)return Ia(e,t,i,t.ra.position+1);if(null==(n=t.ra?t.stream.findSegmentPosition(Math.max(0,e.b.periods[un(e.b,t.Sa)].startTime+t.ra.endTime-e.b.periods[i].startTime)):t.stream.findSegmentPosition(Math.max(0,(r||n)-e.b.periods[i].startTime))))return null;var a=null;return null==r&&(a=Ia(e,t,i,Math.max(0,n-1))),a||Ia(e,t,i,n)}function Ia(e,t,n,r){return n=e.b.periods[n],(t=t.stream.getSegmentReference(r))?(r=e.b.presentationTimeline,e=r.hb(),r=r.Ra(),n.startTime+t.endTime<e||n.startTime+t.startTime>r?null:t):null}function ba(e,t,n,r,i){var a=e.b.periods[r],o=t.stream,s=e.b.presentationTimeline.S(),l=e.b.periods[r+1];r=Ba(e,t,r,Math.max(0,a.startTime-.1),l?l.startTime:s),t.Ha=!0,t.Gb=!1,s=Da(e,i),Promise.all([r,s]).then(function(e){if(!this.f&&!this.l)return wa(this,t,n,a,o,i,e[1])}.bind(e)).then(function(){this.f||this.l||(t.Ha=!1,t.jc=!1,t.ya||this.a.kb(),_a(this,t,0),Ta(this,o))}.bind(e)).catch(function(e){this.f||this.l||(t.Ha=!1,"text"==t.type&&this.g.ignoreTextStreamFailures?delete this.c.text:3017==e.code?Ca(this,t,e):(t.ib=!0,e.severity=2,Na(this,e)))}.bind(e))}function Ca(e,t,n){if(!Se(e.c).some(function(e){return e!=t&&e.jc})){var r=Math.round(100*e.j);if(20<r)e.j-=.2;else{if(!(4<r))return t.ib=!0,e.l=!0,void e.a.onError(n);e.j-=.04}t.jc=!0}_a(e,t,4)}function Ba(e,t,n,r,i){return t.Gb?(n=Ot(e.a.L,t.type,e.b.periods[n].startTime-t.stream.presentationTimeOffset,r,i),t.stream.initSegmentReference?(e=Da(e,t.stream.initSegmentReference).then(function(e){if(!this.f)return Nt(this.a.L,t.type,e,null,null)}.bind(e)).catch(function(e){return t.Gb=!0,Promise.reject(e)}),Promise.all([n,e])):n):Promise.resolve()}function wa(e,t,n,r,i,a,o){return null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Kn).$("emsg",e.ve.bind(e,r,a,i.emsgSchemeIdUris)).parse(o),Sa(e,t,n).then(function(){if(!this.f)return Nt(this.a.L,t.type,o,a.startTime,a.endTime)}.bind(e)).then(function(){if(!this.f)return t.Sa=i,t.ra=a,Promise.resolve()}.bind(e))}function Sa(e,t,n){var r=Math.max(e.g.bufferBehind,e.b.presentationTimeline.a),i=Dt(e.a.L,t.type);return null==i?Promise.resolve():(n=n-i-r,0>=n?Promise.resolve():e.a.L.remove(t.type,i,i+n).then(function(){}.bind(e)))}function Ta(e,t){if(!e.s&&(e.s=Se(e.c).every(function(e){return"text"==e.type||!e.ya&&!e.Ca&&e.ra}),e.s)){var n=un(e.b,t);for(e.h[n]||ha(e,n).then(function(){this.f||this.a.Ic()}.bind(e)).catch(Au.Ga),n=0;n<e.b.periods.length;++n)ha(e,n).catch(Au.Ga);e.a.ne&&e.a.ne()}}function ka(e,t){if(t.Fa!=un(e.b,t.stream)){var n=t.Fa,r=Se(e.c);r.every(function(e){return e.Fa==n})&&r.every(Qa)&&ha(e,n).then(function(){if(!this.f&&r.every(function(e){var t=un(this.b,e.stream);return Qa(e)&&e.Fa==n&&t!=n}.bind(this))){var e=this.b.periods[n],t=this.a.Jc(e),i={};t.variant&&t.variant.video&&(i.video=t.variant.video),t.variant&&t.variant.audio&&(i.audio=t.variant.audio),t.text&&(i.text=t.text);for(var a in this.c)if(!i[a]&&"text"!=a)return void this.a.onError(new q(2,5,5005));for(var o in i)if(!this.c[o]){if("text"!=o)return void this.a.onError(new q(2,5,5005));pa(this,{text:i.text},e.startTime),delete i[o]}for(var s in this.c)(e=i[s])?(da(this,e,!1,0),_a(this,this.c[s],0)):delete this.c[s];this.a.Ic()}}.bind(e)).catch(Au.Ga)}}function Qa(e){return!e.Ha&&null==e.xa&&!e.ya&&!e.Ca}function Da(e,t){var n=ge(t.c(),e.g.retryParameters);if(0!=t.b||null!=t.a){var r="bytes="+t.b+"-";null!=t.a&&(r+=t.a),n.headers.Range=r}return e.a.Ua.request(1,n).promise.then(function(e){return e.data})}function Ra(e,t,n,r){if(t.ya=!1,t.Mb=!1,t.Bb=0,t.Ca=!0,r){var i=ji(e.a.Ia);r=e.a.L.remove(t.type,i+r,e.a.L.S())}else r=Pt(e.a.L,t.type).then(function(){if(!this.f&&n)return this.a.L.flush(t.type)}.bind(e));r.then(function(){this.f||(t.Sa=null,t.ra=null,t.Ca=!1,t.endOfStream=!1,_a(this,t,0))}.bind(e))}function _a(t,n,r){n.xa=e.setTimeout(t.bf.bind(t,n),1e3*r)}function Ma(t){null!=t.xa&&(e.clearTimeout(t.xa),t.xa=null)}function Na(e,t){Y(e.A).then(function(){this.f||(this.a.onError(t),t.handled||this.g.failureCallback(t))}.bind(e))}function Pa(e,t,n,r,i,a){if(200<=n&&299>=n&&202!=n)return i&&(r=i),{uri:r,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};i=null;try{i=_e(t)}catch(e){}throw new q(401==n||403==n?2:1,1,1001,r,n,i,e,a)}function Oa(e,t,n){var r=new Oa.b;ke(t.headers,function(e,t){r.append(e,t)});var i,a=new Oa.a,o={body:t.body||void 0,headers:r,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},s={wc:!1,gd:!1};return t.retryParameters.timeout&&(i=setTimeout(function(){s.gd=!0,a.abort()},t.retryParameters.timeout)),e=Oa.g(e,n,o,s,i),new J(e,function(){return s.wc=!0,a.abort(),Promise.resolve()})}function La(e,t,n){var r=new La.c;return new J(new Promise(function(i,a){r.open(t.method,e,!0),r.responseType="arraybuffer",r.timeout=t.retryParameters.timeout,r.withCredentials=t.allowCrossSiteCredentials,r.onabort=function(){a(new q(1,1,7001,e,n))},r.onload=function(t){t=t.target;var r=t.getAllResponseHeaders().trim().split("\r\n"),s={};r=o(r);for(var l=r.next();!l.done;l=r.next())l=l.value.split(": "),
s[l[0].toLowerCase()]=l.slice(1).join(": ");try{var u=Pa(s,t.response,t.status,e,t.responseURL,n);i(u)}catch(e){a(e)}},r.onerror=function(t){a(new q(1,1,1002,e,t,n))},r.ontimeout=function(){a(new q(1,1,1003,e,n))};for(var s in t.headers)r.setRequestHeader(s.toLowerCase(),t.headers[s]);r.send(t.body)}),function(){return r.abort(),Promise.resolve()})}function xa(e){this.a={},this.c=Promise.resolve(),this.h=!1,this.i=e,this.f=this.b=this.g=0}function Fa(e,t,n,r,i){e.a[t]=e.a[t]||[],e.a[t].push({request:n,yc:r,Xd:i})}function Ua(e,t){var n=Se(e.a);e.a={},n.forEach(function(t){t.forEach(function(t){e.b+=t.yc})});var r=Promise.resolve().then(function(){return Ha(e),Promise.all(n.map(function(n){return Va(e,t,n)}))});return e.c=e.c.then(function(){return r}),r}function Va(e,t,n){var r=Promise.resolve();return n.forEach(function(n){r=r.then(function(){return Ha(e),Ga(e,t,n)})}),r}function Ga(e,t,n){return Promise.resolve().then(function(){return Ha(e),t.request(1,n.request).promise}).then(function(t){return Ha(e),e.g+=n.yc,e.f+=t.data.byteLength,e.i(e.b?e.g/e.b:0,e.f),n.Xd(t.data)})}function Ha(e){if(e.h)throw new q(2,9,7001)}function ja(e,t){var n=this;this.c=e,this.b=e.objectStore(t),this.a=new H,e.onabort=function(e){e.preventDefault(),n.a.reject()},e.onerror=function(e){e.preventDefault(),n.a.reject()},e.oncomplete=function(){n.a.resolve()}}function Ya(e){this.b=e,this.a=[]}function Ka(e,t){return qa(e,t,"readwrite")}function qa(e,t,n){n=e.b.transaction([t],n);var r=new ja(n,t);return e.a.push(r),r.promise().then(function(){re(e.a,r)},function(){re(e.a,r)}),r}function Ja(){this.a={}}function za(e){var t=null;if(ke(e.a,function(e,n){ke(n.getCells(),function(n,r){r.hasFixedKeySpace()||t||(t={path:{ba:e,R:n},R:r})})}),t)return t;throw new q(2,9,9013,"Could not find a cell that supports add-operations")}function Wa(e,t){ke(e.a,function(e,n){ke(n.getCells(),function(n,r){t({ba:e,R:n},r)})})}function Za(e,t,n){if(!(e=e.a[t]))throw new q(2,9,9013,"Could not find mechanism with name "+t);if(!(t=e.getCells()[n]))throw new q(2,9,9013,"Could not find cell with name "+n);return t}function Xa(e){return e=Se(e.a).map(function(e){return e.erase()}),Promise.all(e)}function $a(){return Se(uc).some(function(e){return!!(e=e())&&(e.destroy(),!0)})}function eo(e){this.a=new Ya(e)}function to(e){return Promise.reject(new q(2,9,9011,"Cannot add new value to "+e))}function no(e,t,n,r){e=Ka(e.a,t);var i=e.store();return n.forEach(function(e){i.delete(e).onsuccess=function(){return r(e)}}),e.promise()}function ro(e,t,n){e=qa(e.a,t,"readonly");var r=e.store(),i={},a=[];return n.forEach(function(e){r.get(e).onsuccess=function(t){t=t.target.result,void 0==t&&a.push(e),i[e]=t}}),e.promise().then(function(){return a.length?Promise.reject(new q(2,9,9012,"Could not find values for "+a)):n.map(function(e){return i[e]})})}function io(e){return{originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,periods:e.periods.map(ao),sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata}}function ao(e){return co(e),e.streams.forEach(function(){}),{startTime:e.startTime,streams:e.streams.map(oo)}}function oo(e){var t=e.Sd?uo(e.Sd):null;return{id:e.id,originalId:null,primary:e.primary,presentationTimeOffset:e.presentationTimeOffset,contentType:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:t,encrypted:e.encrypted,keyId:e.keyId,segments:e.segments.map(so),variantIds:e.variantIds}}function so(e){var t=uo(e.uri);return{startTime:e.startTime,endTime:e.endTime,dataKey:t}}function lo(e){return{data:e.data}}function uo(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new q(2,9,9004,"Could not parse uri "+e)}function co(e){var t=e.streams.filter(function(e){return"audio"==e.contentType}),n=e.streams.filter(function(e){return"video"==e.contentType});if(!t.every(function(e){return e.variantIds})||!n.every(function(e){return e.variantIds})){t.forEach(function(e){e.variantIds=[]}),n.forEach(function(e){e.variantIds=[]});var r=0;if(n.length&&!t.length){var i=r++;n.forEach(function(e){e.variantIds.push(i)})}if(!n.length&&t.length){var a=r++;t.forEach(function(e){e.variantIds.push(a)})}n.length&&t.length&&t.forEach(function(e){n.forEach(function(t){var n=r++;e.variantIds.push(n),t.variantIds.push(n)})})}}function Ao(e,t,n,r){this.a=new Ya(e),this.c=t,this.b=n,this.f=r}function go(e,t,n){if(e.f)return Promise.reject(new q(1,9,9011,"Cannot add new value to "+t));e=Ka(e.a,t);var r=e.store(),i=[];return n.forEach(function(e){r.add(e).onsuccess=function(e){i.push(e.target.result)}}),e.promise().then(function(){return i})}function po(e,t,n,r){e=Ka(e.a,t);var i=e.store();return n.forEach(function(e){i.delete(e).onsuccess=function(){return r(e)}}),e.promise()}function fo(e,t,n){e=qa(e.a,t,"readonly");var r=e.store(),i={},a=[];return n.forEach(function(e){var t=r.get(e);t.onsuccess=function(){void 0==t.result&&a.push(e),i[e]=t.result}}),e.promise().then(function(){return a.length?Promise.reject(new q(1,9,9012,"Could not find values for "+a)):n.map(function(e){return i[e]})})}function ho(){this.c=this.b=this.a=this.f=null}function mo(){var t=new H,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new q(2,9,9001,n.error)),e.preventDefault()},t}function Eo(e,t,n,r){this.a=e,this.g=t,this.f=n,this.c=r,this.b=["offline:",e,"/",t,"/",n,"/",r].join("")}function vo(e){if(null==(e=/^offline:([a-z]+)\/([^\/]+)\/([^\/]+)\/([0-9]+)$/.exec(e)))return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var r=e[3];return r&&null!=t?new Eo(t,n,r,Number(e[4])):null}function yo(e,t){this.b=e,this.a=t}function Io(e,t){var n=new Tr(null,0);n.oa(t.duration);var r=t.periods.map(function(t){return bo(e,t,n)}),i=t.drmInfo?[t.drmInfo]:[];return t.drmInfo&&r.forEach(function(e){e.variants.forEach(function(e){e.drmInfos=i})}),{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,periods:r}}function bo(e,t,n){var r=t.streams.filter(function(e){return"audio"==e.contentType}),i=t.streams.filter(function(e){return"video"==e.contentType});return r=Co(e,r,i),i=t.streams.filter(function(e){return"text"==e.contentType}).map(function(t){return Bo(e,t)}),t.streams.forEach(function(r){r=r.segments.map(function(t,n){return wo(e,n,t)}),n.Va(r,t.startTime)}),{startTime:t.startTime,variants:r,textStreams:i}}function Co(e,t,n){var r={},i=[];return i.push.apply(i,t),i.push.apply(i,n),i.forEach(function(e){e.variantIds.forEach(function(e){r[e]=r[e]||{id:e,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:[],allowedByApplication:!0,allowedByKeySystem:!0}})}),t.forEach(function(t){var n=Bo(e,t);t.variantIds.forEach(function(e){e=r[e],e.language=n.language,e.primary=e.primary||n.primary,e.audio=n})}),n.forEach(function(t){var n=Bo(e,t);t.variantIds.forEach(function(e){e=r[e],e.primary=e.primary||n.primary,e.video=n})}),Se(r)}function Bo(e,t){var n=t.segments.map(function(t,n){return wo(e,n,t)}),r=new er(n);return n={id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},findSegmentPosition:function(e){return r.find(e)},getSegmentReference:function(e){return r.get(e)},initSegmentReference:null,presentationTimeOffset:t.presentationTimeOffset,mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate||void 0,kind:t.kind,encrypted:t.encrypted,keyId:t.keyId,language:t.language,label:t.label||null,type:t.contentType,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:{}},null!=t.initSegmentKey&&(n.initSegmentReference=So(e,t.initSegmentKey)),n}function wo(e,t,n){var r=new Eo("segment",e.b,e.a,n.dataKey);return new Hn(t,n.startTime,n.endTime,function(){return[r.toString()]},0,null)}function So(e,t){var n=new Eo("segment",e.b,e.a,t);return new Gn(function(){return[n.toString()]},0,null)}function To(){this.a=null}function ko(e){var t=vo(e);return t&&"manifest"==t.a?ko.a(e):t&&"segment"==t.a?ko.b(t.key(),t):z(new q(2,1,9004,e))}function Qo(e){this.a=null,this.b=e;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function Do(e,t){if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,n.size=e.size;try{n.align=e.textAlign}catch(e){}if("center"==e.textAlign&&"center"!=n.align&&(n.align="middle"),2==e.writingDirection?n.vertical="lr":3==e.writingDirection&&(n.vertical="rl"),1==e.lineInterpretation&&(n.snapToLines=!1),null!=e.line&&(n.line=e.line),null!=e.position&&(n.position=e.position),e.region.id.length){var r=t.filter(function(t){return t.id==e.region.id});r.length&&(n.region=r[0])}return n}function Ro(e,t,n){var r=new VTTRegion;return r.id=e.id,r.regionAnchorX=e.regionAnchorX,r.regionAnchorY=e.regionAnchorY,r.scroll=e.scroll,2==e.heightUnits&&(r.lines=e.height),r.width=0==e.widthUnits?100*e.width/t:e.width,0==e.viewportAnchorUnits?(r.viewportAnchorX=100*e.viewportAnchorX/t,r.viewportAnchorY=100*e.viewportAnchorY/n):(r.viewportAnchorX=e.viewportAnchorX,r.viewportAnchorY=e.viewportAnchorY),r}function _o(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var r=e.cues,i=r.length-1;0<=i;i--){var a=r[i];a&&t(a)&&e.removeCue(a)}e.mode=n}function Mo(e,t,n,r,i){var a,o=i in r,s=!0;for(a in t){var l=i+"."+a,u=o?r[i]:n[a];o||a in e?void 0===t[a]?void 0===u||o?delete e[a]:e[a]=u:u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=u),l=Mo(e[a],t[a],u,r,l),s=s&&l):typeof t[a]!=typeof u||null==t[a]||t[a].constructor!=u.constructor?s=!1:e[a]=t[a]:s=!1}return s}function No(){var e=5e5,t=1/0;navigator.connection&&navigator.connection.type&&(e=1e6*navigator.connection.downlink,navigator.connection.saveData&&(t=360));var n={trackSelectionCallback:function(e){return e},progressCallback:function(){},usePersistentLicense:!0},r={drm:{retryParameters:K(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:K(),availabilityWindowOverride:NaN,dash:{customScheme:function(e){if(e)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10}},streaming:{retryParameters:K(),failureCallback:function(){},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1},offline:n,abrFactory:An,abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return n.trackSelectionCallback=function(e){return Po(e,r.preferredAudioLanguage)},r}function Po(e,t){var n=[],r=Vt(t),i=[0,Mu,Nu],a=e.filter(function(e){return"variant"==e.type});i=i.map(function(e){return a.filter(function(t){return t=Vt(t.language),Ut(e,r,t)})});for(var o,s=0;s<i.length;s++)if(i[s].length){o=i[s];break}o||(i=a.filter(function(e){return e.primary}),i.length&&(o=i)),o||(o=a,a.map(function(e){return e.language}).filter(Au.ka));var l=o.filter(function(e){return e.height&&480>=e.height});return l.length&&(l.sort(function(e,t){return t.height-e.height}),o=l.filter(function(e){return e.height==l[0].height})),o.sort(function(e,t){return e.bandwidth-t.bandwidth}),o.length&&n.push(o[Math.floor(o.length/2)]),n.push.apply(n,e.filter(function(e){return"text"==e.type})),n}function Oo(e,t){var n=this;se.call(this),this.f=null,this.eb=!1,this.w=null,this.s=new Ee,this.h=this.bb=this.b=this.m=this.a=this.A=this.g=this.j=this.i=this.J=null,this.nd=1e9,this.Ob=[],this.xb=!1,this.Aa=!0,this.U=this.yb=this.Na=null,this.uc=!1,this.tc=0,this.I=null,this.wb=[],this.u=new Ni,this.c=Wo(this),this.vb={width:1/0,height:1/0},this.l=Zo(),this.ub=0,this.N=this.c.preferredAudioLanguage,this.ha=this.c.preferredTextLanguage,this.Ma=this.c.preferredVariantRole,this.cb=this.c.preferredTextRole,this.X=this.c.preferredAudioChannelCount,t&&t(this),this.J=Go(this),e&&this.zb(e,!0),this.za=new Ji(function(){return u(function e(){var t;return w(e,function(e){switch(e.o){case 1:return t=Promise.all([n.s?n.s.destroy():null,n.J?n.J.destroy():null]),n.eb=!1,n.s=null,n.h=null,n.J=null,n.c=null,g(e,t,0)}})})})}function Lo(e){if(!e.Na)return Promise.resolve();var t=Promise.resolve();return e.m&&(t=e.m.stop(),e.m=null),Promise.all([t,e.Na()])}function xo(e,t,n){return u(function r(){var i;return w(r,function(r){switch(r.o){case 1:return g(r,Br(t,e.J,e.c.manifest.retryParameters,n),2);case 2:return i=r.B,r.return(new i)}})})}function Fo(e){return e.m.start(e.bb,{networkingEngine:e.J,filterNewPeriod:e.Rb.bind(e),filterAllPeriods:e.Bc.bind(e),onTimelineRegionAdded:function(t){e.A?e.A.s(t):e.wb.push(t)},onEvent:e.qb.bind(e),onError:e.ab.bind(e)})}function Uo(e){if(e.b.periods.some(function(e){return e.variants.some(function(e){return e.video&&e.audio})})&&e.b.periods.forEach(function(e){e.variants=e.variants.filter(function(e){return e.video&&e.audio})}),0==e.b.periods.length)throw new q(2,4,4014)}function Vo(e){function t(e){return(e.video?e.video.codecs.split(".")[0]:"")+"-"+(e.audio?e.audio.codecs.split(".")[0]:"")}var n=e.b.periods.reduce(function(e,t){return e.concat(t.variants)},[]);n=tn(n,e.c.preferredAudioChannelCount);var r=new oe;n.forEach(function(e){r.push(t(e),e)});var i=null,a=1/0;r.forEach(function(e,t){var n=0,r=0;t.forEach(function(e){n+=e.bandwidth||0,++r});var o=n/r;o<a&&(i=e,a=o)}),e.b.periods.forEach(function(e){e.variants=e.variants.filter(function(e){return t(e)==i})})}function Go(e){return new de(function(t,n){e.h&&e.h.segmentDownloaded(t,n)})}function Ho(e){if(e.m&&e.m.configure(e.c.manifest),e.i&&e.i.configure(e.c.drm),e.a){e.a.configure(e.c.streaming);try{e.b.periods.forEach(e.Rb.bind(e))}catch(t){e.ab(t)}var t=ia(e.a),n=aa(e.a),r=na(e.a);(t=on(t,n,r.variants))&&t.allowedByApplication&&t.allowedByKeySystem||ns(e,r)}e.h&&(e.h.configure(e.c.abr),e.c.abr.enabled&&!e.Aa?e.h.enable():e.h.disable())}function jo(e){var t=[];return e.forEach(function(e){if(e){var n=e.language;e.roles.length?e.roles.forEach(function(e){t.push({language:n,role:e})}):t.push({language:n,role:""})}else t.push({language:"und",role:""})}),te(t,function(e,t){return e.language==t.language&&e.role==t.role})}function Yo(e,t,n){t.video&&qo(e,t.video),t.audio&&qo(e,t.audio);var r=ra(e.a);t!=on(ia(e.a),aa(e.a),r?r.variants:[])&&e.l.switchHistory.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})}function Ko(e,t,n){qo(e,t),e.l.switchHistory.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null})}function qo(e,t){Pi(e.u,un(e.b,t),t.type,t.id)}function Jo(e){e.s&&(e.s.ta(e.f,"loadeddata"),e.s.ta(e.f,"playing"),e.s.ta(e.f,"pause"),e.s.ta(e.f,"ended"));var t=Promise.all([e.h?e.h.stop():null,e.j?e.j.destroy():null,e.i?e.i.destroy():null,e.g?e.g.destroy():null,e.A?e.A.destroy():null,e.a?e.a.destroy():null,e.m?e.m.stop():null,e.w?e.w.destroy():null]);return e.Aa=!0,e.i=null,e.j=null,e.g=null,e.A=null,e.a=null,e.m=null,e.w=null,e.b=null,e.bb=null,e.wb=[],e.u=new Ni,e.l=Zo(),t}function zo(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0)}}}function Wo(e){var t=No();return t.streaming.failureCallback=function(t){var n=[1001,1002,1003];e.W()&&0<=n.indexOf(t.code)&&(t.severity=1,e.Yc())},t.textDisplayFactory=function(){return new Qo(e.f)},t}function Zo(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function Xo(e,t,n,r){n=void 0!==n&&n,r=void 0===r?0:r,e.Aa?(e.U=t,e.uc=n,e.tc=r):ca(e.a,t,n,r)}function $o(e){if(e.b){var t=Date.now()/1e3;e.xb?e.l.bufferingTime+=t-e.ub:e.l.playTime+=t-e.ub,e.ub=t}}function es(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-a.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+a.startTime:null}var r=ia(e.a),i=aa(e.a),a=na(e.a);return r=n(r,t),i=n(i,t),null!=i&&null!=r?Math.max(i,r):null!=i?i:null!=r?r:t}function ts(e,t,n){try{ss(e,t.variants)}catch(t){return e.ab(t),null}return e.h.setVariants(n),e.h.chooseVariant()}function ns(e,t){var n=$t(t.variants,e.N,e.Ma,e.X),r=nn(t.textStreams,e.ha,e.cb);(n=ts(e,t,n))&&(Yo(e,n,!0),Xo(e,n,!0)),(r=r[0])&&(e.c.streaming.alwaysStreamText||e.Yb())&&(Ko(e,r,!0),e.Aa?e.I=r:da(e.a,r,!0,0)),rs(e)}function rs(e){u(function t(){var n;return w(t,function(t){switch(t.o){case 1:return g(t,Promise.resolve(),2);case 2:if(e.za.a)return t.return();n=new ae("adaptation"),e.dispatchEvent(n),t.o=0}})})}function is(e){u(function t(){var n;return w(t,function(t){switch(t.o){case 1:return g(t,Promise.resolve(),2);case 2:if(e.za.a)return t.return();n=new ae("trackschanged"),e.dispatchEvent(n),t.o=0}})})}function as(e){e.dispatchEvent(new ae("texttrackvisibility"))}function os(e,t,n,r){0<t&&(r||e.cd(t)),n<e.S()&&(r||e.oa(n))}function ss(e,t){var n=e.i?e.i.m:{},r=Object.keys(n);r=r.length&&"00"==r[0];for(var i=!1,a=!1,s=[],l=[],u=o(t),c=u.next();!c.done;c=u.next()){c=c.value;var d=[];c.audio&&d.push(c.audio),c.video&&d.push(c.video),d=o(d);for(var A=d.next();!A.done;A=d.next())if(A=A.value,A.keyId){var g=n[r?"00":A.keyId];g?0<=cc.indexOf(g)&&0>l.indexOf(g)&&l.push(g):0>s.indexOf(A.keyId)&&s.push(A.keyId)}c.allowedByApplication?c.allowedByKeySystem&&(i=!0):a=!0}if(!i)throw new q(2,4,4012,{hasAppRestrictions:a,missingKeys:s,restrictedKeyStatuses:l})}function ls(e,t,n){var r=void 0==t.expiration?1/0:t.expiration,i=t.presentationTimeline.S();return t=Jt(t.periods[0]),{offlineUri:null,originalManifestUri:e,duration:i,size:0,expiration:r,tracks:t,appMetadata:n}}function us(e,t){var n=bo(new yo(e.ba(),e.R()),t.periods[0],new Tr(null,0)),r=t.appMetadata||{};return n=Jt(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:r}}function cs(){this.a={}}function ds(e,t,n){return n=n.endTime-n.startTime,As(e,t)*n}function As(e,t){var n=e.a[t];return null==n&&(n=0),n}function gs(e,t,n){e=o(e.periods);for(var r=e.next();!r.done;r=e.next())r=r.value,r.variants=r.variants.filter(function(e){return Gt(e,t,n)})}function ps(e){e=o(e.periods);for(var t=e.next();!t.done;t=e.next())t=t.value,t.variants=t.variants.filter(function(e){var t=!0;return e.audio&&(t=t&&Tt(e.audio)),e.video&&(t=t&&Tt(e.video)),t})}function fs(e,t){for(var n=o(e.periods),r=n.next();!r.done;r=n.next())r=r.value,r.variants=r.variants.filter(function(e){return ut(t,e)})}function hs(e){var t=new vs;e.periods.forEach(function(e,n){var r=bs(e.variants);if(0==n){r=o(r.a);for(var i=r.next();!i.done;i=r.next())t.add(i.value)}else ys(t,r)}),e=o(e.periods);for(var n=e.next();!n.done;n=e.next())n=n.value,n.variants=n.variants.filter(function(e){return Is(t,new Es(e))})}function ms(e,t){var n=new vs;e.periods.forEach(function(e,r){0<r&&(e.variants=e.variants.filter(function(e){return Is(n,new Es(e))})),t(e),n=bs(e.variants)})}function Es(e){var t=e.audio;e=e.video,this.b=t?t.mimeType:null,this.a=t?t.codecs.split(".")[0]:null,this.f=e?e.mimeType:null,this.c=e?e.codecs.split(".")[0]:null}function vs(){this.a=[]}function ys(e,t){e.a=e.a.filter(function(e){return Is(t,e)})}function Is(e,t){return e.a.some(function(e){return t.b==e.b&&t.a==e.a&&t.f==e.f&&t.c==e.c})}function bs(e){var t=new vs;e=o(e);for(var n=e.next();!n.done;n=e.next())t.add(new Es(n.value));return t}function Cs(e){var t=this;if(e&&e.constructor!=Oo)throw new q(2,9,9008);this.b=this.a=null,e?(this.a=e.c,this.b=e.Pa()):(this.a=No(),this.b=new de),this.g=!1,this.i=null,this.c=[],this.f=[];var n=!e;this.h=new Ji(function(){return u(function e(){var r;return w(e,function(e){switch(e.o){case 1:return r=function(){},g(e,Promise.all(t.f.map(function(e){return e.then(r,r)})),2);case 2:if(!n){e.O(3);break}return g(e,t.b.destroy(),3);case 3:t.a=null,t.b=null,e.o=0}})})})}function Bs(){return $a()}function ws(e,t,n,r){return u(function i(){var a,s,l,c,d,A,h,y,I;return w(i,function(i){switch(i.o){case 1:return xs(),e.g?i.return(Promise.reject(new q(2,9,9006))):(e.g=!0,a=null,s=function(e){a=a||e},g(i,Rs(e,t,s,r),2));case 2:if(l=i.B,c=l.wd,d=l.manifest,!(A=!d.presentationTimeline.W()&&!d.presentationTimeline.Ea()))throw new q(2,9,9005,t);h={width:1/0,height:1/0},gs(d,e.a.restrictions,h),ps(d),fs(d,c),hs(d),ms(d,function(t){var n=[];n=n.concat(zt(t,null,null)),n=n.concat(Wt(t,null)),n=e.a.offline.trackSelectionCallback(n);var r={};n.filter(function(e){return"variant"==e.type}).forEach(function(e){r[e.id]=!0});var i={};n.filter(function(e){return"text"==e.type}).forEach(function(e){i[e.id]=!0}),t.variants=t.variants.filter(function(e){return r[e.id]}),t.textStreams=t.textStreams.filter(function(e){return i[e.id]})});for(var b=o(d.periods),C=b.next();!C.done;C=b.next())y=C.value,qs(y);if(Ls(e),a)throw a;return I=new Ja,i.return(zi([I,c],function(){return u(function r(){var i,o,s,l,u,A,h;return w(r,function(r){switch(r.o){case 1:return f(r),g(r,I.init(),4);case 4:return Ls(e),g(r,za(I),5);case 5:return i=r.B,Ls(e),p(r,6),g(r,Ss(e,i.R,c,d,t,n),8);case 8:return o=r.B,Ls(e),g(r,i.R.addManifests([o]),9);case 9:return s=r.B,Ls(e),l=new Eo("manifest",i.path.ba,i.path.R,s[0]),r.return(us(l,o));case 6:return u=m(r),A=e.c,h=function(){},g(r,i.R.removeSegments(A,h),10);case 10:throw a||u;case 2:E(r),e.g=!1,e.i=null,e.c=[],v(r,0)}})})}))}})})}function Ss(e,t,n,r,i,a){return u(function o(){var s,l,c,d;return w(o,function(o){switch(o.o){case 1:return s=ls(i,r,a),l=new xa(function(t,n){s.size=n,e.a.offline.progressCallback(s,t)}),c=e.b,g(o,zi([l],function(){return u(function o(){return w(o,function(o){switch(o.o){case 1:return d=Ms(e,l,t,n,r,i,a),g(o,Ua(l,c),0)}})})}),2);case 2:return d.size=s.size,o.return(d)}})})}function Ts(e,t){xs();var n=vo(t);if(null==n||"manifest"!=n.a)return Promise.reject(new q(2,9,9004,t));var r=new Ja;return zi([r],function(){return u(function t(){var i,a,o;return w(t,function(t){switch(t.o){case 1:return g(t,r.init(),2);case 2:return g(t,Za(r,n.ba(),n.R()),3);case 3:return i=t.B,g(t,i.getManifests([n.key()]),4);case 4:return a=t.B,o=a[0],g(t,Promise.all([ks(e,n,o),Qs(e,i,n,o)]),0)}})})})}function ks(e,t,n){var r,i=new je({Ua:e.b,onError:function(e){6013!=e.code&&(r=e)},Hb:function(){},onExpirationUpdated:function(){},onEvent:function(){}});i.configure(e.a.drm);var a=Io(new yo(t.ba(),t.R()),n);return zi([i],function(){return u(function t(){var r;return w(t,function(t){switch(t.o){case 1:return r=cn(a),g(t,Ye(i,r,e.a.usePersistentLicense),2);case 2:return g(t,Je(i,n.sessionIds),0)}})})}).then(function(){if(r)throw r})}function Qs(e,t,n,r){function i(){s+=1,e.a.offline.progressCallback(l,s/o)}var a=Gs(r),o=a.length+1,s=0,l=us(n,r);return Promise.all([t.removeSegments(a,i),t.removeManifests([n.key()],i)])}function Ds(){function e(e,n){return u(function r(){var i;return w(r,function(r){switch(r.o){case 1:return g(r,n.getAllManifests(),2);case 2:i=r.B,ke(i,function(n,r){var i=us(new Eo("manifest",e.ba,e.R,n),r);t.push(i)}),r.o=0}})})}xs();var t=[],n=new Ja;return zi([n],function(){return u(function t(){var r;return w(t,function(t){switch(t.o){case 1:return g(t,n.init(),2);case 2:return r=Promise.resolve(),Wa(n,function(t,n){r=r.then(function(){return e(t,n)})}),g(t,r,0)}})})}).then(function(){return t})}function Rs(e,t,n,r){function i(){}var a,o,s,l=e.b,u=e.a;return r().then(function(e){return Ls(this),s=e,o=new je({Ua:l,onError:n,Hb:i,onExpirationUpdated:function(){},onEvent:function(){}}),o.configure(u.drm),s.start(t,{networkingEngine:l,filterAllPeriods:function(){},filterNewPeriod:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:n})}.bind(e)).then(function(e){return Ls(this),a=e,e=cn(a),Ye(o,e,this.a.usePersistentLicense)}.bind(e)).then(function(){return Ls(this),_s(a)}.bind(e)).then(function(){return Ls(this),We(o)}.bind(e)).then(function(){return Ls(this),s.stop()}.bind(e)).then(function(){return Ls(this),{manifest:a,wd:o}}.bind(e)).catch(function(e){if(s)return s.stop().then(function(){throw e});throw e})}function _s(e){var t=e.periods.map(function(e){return e.variants}).reduce(Au.ia,[]).map(function(e){return dn(e)}).reduce(Au.ia,[]).filter(Au.ka);return e=e.periods.map(function(e){return e.textStreams}).reduce(Au.ia,[]),t.push.apply(t,e),Promise.all(t.map(function(e){return e.createSegmentIndex()}))}function Ms(e,t,n,r,i,a,o){var s=new cs,l=i.periods.map(function(r){return Ns(e,t,n,s,i,r)}),u=r.b,c=Ze(r);if(u&&e.a.offline.usePersistentLicense){if(!c.length)throw new q(2,9,9007,a);u.initData=[]}return{originalManifestUri:a,duration:i.presentationTimeline.S(),size:0,expiration:r.Fb(),periods:l,sessionIds:e.a.offline.usePersistentLicense?c:[],drmInfo:u,appMetadata:o}}function Ns(e,t,n,r,i,a){i.periods.forEach(function(e){e.variants.forEach(function(e){var t=e.audio,n=e.video;if(t&&!n&&(r.a[t.id]=t.bandwidth||e.bandwidth),!t&&n&&(r.a[n.id]=n.bandwidth||e.bandwidth),t&&n){var i=t.bandwidth||393216,a=n.bandwidth||e.bandwidth-i;0>=a&&(a=e.bandwidth),r.a[t.id]=i,r.a[n.id]=a}}),e.textStreams.forEach(function(e){r.a[e.id]=52})});var s=Ys(i),l={};s=o(s);for(var u=s.next();!u.done;u=s.next())u=u.value,l[u.id]=Ps(e,t,n,r,i,u);return a.variants.forEach(function(e){e.audio&&l[e.audio.id].variantIds.push(e.id),e.video&&l[e.video.id].variantIds.push(e.id)}),{startTime:a.startTime,streams:Se(l)}}function Ps(e,t,n,r,i,a){var o={id:a.id,originalId:a.originalId,primary:a.primary,presentationTimeOffset:a.presentationTimeOffset||0,contentType:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,initSegmentKey:null,encrypted:a.encrypted,keyId:a.keyId,segments:[],variantIds:[]};i=i.presentationTimeline.hb();var s=a.id;return Os(a,i,function(i){Fa(t,s,Fs(e,i),ds(r,a.id,i),function(t){return n.addSegments([{data:t}]).then(function(t){e.c.push(t[0]),o.segments.push({startTime:i.startTime,endTime:i.endTime,dataKey:t[0]})})})}),(i=a.initSegmentReference)&&Fa(t,s,Fs(e,i),.5*As(r,a.id),function(t){return n.addSegments([{data:t}]).then(function(t){e.c.push(t[0]),o.initSegmentKey=t[0]})}),o}function Os(e,t,n){t=e.findSegmentPosition(t);for(var r=null==t?null:e.getSegmentReference(t);r;)n(r),r=e.getSegmentReference(++t)}function Ls(e){if(e.h.a)throw new q(2,9,7001)}function xs(){if(!$a())throw new q(2,9,9e3)}function Fs(e,t){var n=e.a.streaming.retryParameters;return n=ge(t.c(),n),0==t.b&&null==t.a||(n.headers.Range="bytes="+t.b+"-"+(null==t.a?"":t.a)),n}function Us(e,t){return u(function n(){return w(n,function(n){switch(n.o){case 1:return e.f.push(t),f(n),g(n,t,4);case 4:return n.return(n.B);case 2:E(n),re(e.f,t),v(n,0)}})})}function Vs(e,t,n){return u(function r(){var i,a;return w(r,function(r){switch(r.o){case 1:return i=e.b,g(r,Br(t,i,e.a.manifest.retryParameters,n),2);case 2:return a=r.B,r.return(new a)}})})}function Gs(e){var t=[];return e.periods.forEach(function(e){e.streams.forEach(function(e){null!=e.initSegmentKey&&t.push(e.initSegmentKey),e.segments.forEach(function(e){t.push(e.dataKey)})})}),t}function Hs(e,t){var n=new Ja;return zi([n],function(){return u(function r(){var i,a;return w(r,function(r){switch(r.o){case 1:return g(r,n.init(),2);case 2:return g(r,Ks(n),3);case 3:return i=r.B,a=Promise.resolve(),i.filter(function(e){return e.offlineSessionIds.length}).forEach(function(n){var r=cn(n),i=n.offlineSessionIds;a=a.then(function(){return js(e,t,r,i)})}),g(r,a,4);case 4:return g(r,Xa(n),0)}})})})}function js(e,t,n,r){var i=new je({Ua:e,onError:function(){},Hb:function(){},onExpirationUpdated:function(){},onEvent:function(){}});return i.configure(t),zi([i],function(){return u(function e(){return w(e,function(e){switch(e.o){case 1:return g(e,Ye(i,n,!0),2);case 2:return g(e,Je(i,r),0)}})})})}function Ys(e){var t={};return e.periods.forEach(function(e){e.textStreams.forEach(function(e){t[e.id]=e}),e.variants.forEach(function(e){e.audio&&(t[e.audio.id]=e.audio),e.video&&(t[e.video.id]=e.video)})}),Se(t)}function Ks(e){var t=[],n=[];return Wa(e,function(e,r){var i=new yo(e.ba,e.R);n.push(r.getAllManifests().then(function(e){Se(e).forEach(function(e){t.push(Io(i,e))})}))}),Promise.all(n).then(function(){return t})}function qs(e){if(0==e.variants.length)throw new q(2,4,4014);te(e.variants.map(function(e){return e.video}));var t=te(e.variants.map(function(e){return e.audio})),n=e.textStreams;t.forEach(function(){t.forEach(function(){})}),n.forEach(function(){n.forEach(function(){})})}function Js(e,t){t=t||0;for(var n={priority:t,pd:e},r=0;r<Ac.length;r++)if(Ac[r].priority<t)return void Ac.splice(r,0,n);Ac.push(n)}function zs(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(t,e);else n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function Ws(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}gc.call(this,e,t,n)}function Zs(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];return n=e.apply(this,n),n.abort=function(){},n}}function Xs(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function $s(){var e=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];for(var i=r=0;i<this.sourceBuffers.length;++i){var a=this.sourceBuffers[i];a=a.buffered.end(a.buffered.length-1),r=Math.max(r,a)}if(!isNaN(this.duration)&&r<this.duration)for(this.Ec=!0,r=0;r<this.sourceBuffers.length;++r)this.sourceBuffers[r].zc=!1;return e.apply(this,n)};var t=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(e){for(var r=[],i=0;i<arguments.length;++i)r[i]=arguments[i];return r=n.apply(this,r),r.mediaSource_=this,r.addEventListener("updateend",el,!1),t||(this.addEventListener("sourceclose",tl,!1),t=!0),r}}function el(e){var t=e.target,n=t.mediaSource_;if(n.Ec){for(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.zc=!0,e=0;e<n.sourceBuffers.length;++e)if(0==n.sourceBuffers[e].zc)return;n.Ec=!1}}function tl(e){e=e.target;for(var t=0;t<e.sourceBuffers.length;++t)e.sourceBuffers[t].removeEventListener("updateend",el,!1);e.removeEventListener("sourceclose",tl,!1)}function nl(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1]&&e(t)}}function rl(){var e=MediaSource.isTypeSupported,t=/^dv(?:he|av)\./;MediaSource.isTypeSupported=function(n){for(var r=n.split(/ *; */),i=r[0],a={},o=1;o<r.length;++o){var s=r[o].split("="),l=s[0];s=s[1].replace(/"(.*)"/,"$1"),a[l]=s}if(!(r=a.codecs))return e(n);var u=!1,c=!1;n=r.split(",").filter(function(e){return t.test(e)?(c=!0,!1):(/^(hev|hvc)1\.2/.test(e)&&(u=!0),!0)}),c&&(u=!1),a.codecs=n.join(","),u&&(a.eotf="smpte2084");for(var d in a)i+="; "+d+'="'+a[d]+'"';return cast.__platform__.canDisplayType(i)
}}function il(e){this.f=[],this.b=[],this.a=[],(new Kn).$("pssh",this.c.bind(this)).parse(e.buffer)}function al(e,t){try{var n=new ol(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function ol(e,t){this.keySystem=e;for(var n=!1,r=0;r<t.length;++r){var i=t[r],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:i.initDataTypes,sessionTypes:["temporary"],label:i.label},o=!1;if(i.audioCapabilities)for(var s=0;s<i.audioCapabilities.length;++s){var l=i.audioCapabilities[s];if(l.contentType){o=!0;var u=l.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.audioCapabilities.push(l),n=!0)}}if(i.videoCapabilities)for(s=0;s<i.videoCapabilities.length;++s)l=i.videoCapabilities[s],l.contentType&&(o=!0,u=l.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,u)&&(a.videoCapabilities.push(l),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==i.persistentState&&(n=!1),n)return void(this.a=a)}throw n=Error("Unsupported keySystem"),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function sl(e){var t=this.mediaKeys;return t&&t!=e&&ul(t,null),delete this.mediaKeys,(this.mediaKeys=e)?ul(e,this):Promise.resolve()}function ll(e){this.a=new MSMediaKeys(e),this.b=new Ee}function ul(e,t){function n(){t.msSetMediaKeys(r.a),t.removeEventListener("loadedmetadata",n)}if(Ie(e.b),!t)return Promise.resolve();ve(e.b,t,"msneedkey",dl);var r=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener("loadedmetadata",n),Promise.resolve()}catch(e){return Promise.reject(e)}}function cl(e){se.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new Ee,this.sessionId="",this.expiration=NaN,this.closed=new H,this.keyStatuses=new pl}function dl(e){var t=document.createEvent("CustomEvent");if(t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",e=e.initData){var n=new il(e);if(!(1>=n.a.length)){for(var r=[],i=0;i<n.a.length;i++)r.push(e.subarray(n.a[i].start,n.a[i].end+1));for(e=te(r,Al),r=n=0;r<e.length;r++)n+=e[r].length;for(n=new Uint8Array(n),i=r=0;i<e.length;i++)n.set(e[i],r),r+=e[i].length;e=n}}t.initData=e,this.dispatchEvent(t)}function Al(e,t){return Ge(e,t)}function gl(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new ae("keystatuseschange"))}function pl(){this.size=0,this.a=void 0}function fl(){return Promise.reject(Error("The key system specified is not supported."))}function hl(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function ml(){throw new TypeError("Illegal constructor.")}function El(){throw new TypeError("Illegal constructor.")}function vl(e){var t=fc;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function yl(e,t){try{var n=new bl(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Il(e){var t=this.mediaKeys;return t&&t!=e&&Bl(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Bl(e,this),Promise.resolve()}function bl(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=0;a<t.length;++a){var o=t[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},l=!1;if(o.audioCapabilities)for(var u=0;u<o.audioCapabilities.length;++u){var c=o.audioCapabilities[u];if(c.contentType){l=!0;var d=c.contentType.split(";")[0];i.canPlayType(d,this.a)&&(s.audioCapabilities.push(c),r=!0)}}if(o.videoCapabilities)for(u=0;u<o.videoCapabilities.length;++u)c=o.videoCapabilities[u],c.contentType&&(l=!0,i.canPlayType(c.contentType,this.a)&&(s.videoCapabilities.push(c),r=!0));if(l||(r=i.canPlayType("video/mp4",this.a)||i.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):r=!1),r)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),n=Error(n),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Cl(e){this.g=e,this.b=null,this.a=new Ee,this.c=[],this.f={}}function Bl(e,t){e.b=t,Ie(e.a);var n=fc;t&&(ve(e.a,t,n+"needkey",e.se.bind(e)),ve(e.a,t,n+"keymessage",e.re.bind(e)),ve(e.a,t,n+"keyadded",e.pe.bind(e)),ve(e.a,t,n+"keyerror",e.qe.bind(e)))}function wl(e,t){var n=e.f[t];return n||((n=e.c.shift())?(n.sessionId=t,e.f[t]=n):null)}function Sl(e,t,n){se.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new H,this.keyStatuses=new Ql}function Tl(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var r=new Uint8Array(Me("LOAD_SESSION|"+n));else{var i=Me("PERSISTENT|"),a=new Uint8Array(i.byteLength+t.byteLength);a.set(new Uint8Array(i),0),a.set(new Uint8Array(t),i.byteLength),r=a}else r=new Uint8Array(t)}catch(e){return Promise.reject(e)}e.b=new H;var o=vl("generateKeyRequest");try{e.f[o](e.c,r)}catch(t){if("InvalidStateError"!=t.name)return e.b=null,Promise.reject(t);setTimeout(function(){try{this.f[o](this.c,r)}catch(e){this.b.reject(e),this.b=null}}.bind(e),10)}return e.b}function kl(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new ae("keystatuseschange"))}function Ql(){this.size=0,this.a=void 0}function Dl(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Rl(t,n,r){return new e.TextTrackCue(t,n,r)}function _l(t,n,r){return new e.TextTrackCue(t+"-"+n+"-"+r,t,n,r)}function Ml(){}function Nl(e){var t=[];if(!e)return t;for(var n=e.childNodes,r=0;r<n.length;r++){var i="span"==n[r].nodeName&&"p"==e.nodeName;n[r].nodeType!=Node.ELEMENT_NODE||"br"==n[r].nodeName||i||(i=Nl(n[r]),t=t.concat(i))}return t.length||t.push(e),t}function Pl(e,t){for(var n=e.childNodes,r=0;r<n.length;r++)if("br"==n[r].nodeName&&0<r)n[r-1].textContent+="\n";else if(0<n[r].childNodes.length)Pl(n[r],t);else if(t){var i=n[r].textContent.trim();i=i.replace(/\s+/g," "),n[r].textContent=i}}function Ol(e,t,n,r,i,a,o){if(!e.hasAttribute("begin")&&!e.hasAttribute("end")&&/^\s*$/.test(e.textContent))return null;Pl(e,o),o=Hl(e.getAttribute("begin"),n);var s=Hl(e.getAttribute("end"),n);n=Hl(e.getAttribute("dur"),n);var l=e.textContent;if(null==s&&null!=n&&(s=o+n),null==o||null==s)throw new q(2,2,2001);if(t=new Et(o+t,s+t,l),(i=Gl(e,"region",i))&&i.getAttribute("xml:id")){var u=i.getAttribute("xml:id");a=a.filter(function(e){return e.id==u}),t.region=a[0]}return Ll(t,e,i,r),t}function Ll(e,t,n,r){"rtl"==Fl(t,n,r,"tts:direction")&&(e.writingDirection=1);var i=Fl(t,n,r,"tts:writingMode");"tb"==i||"tblr"==i?e.writingDirection=2:"tbrl"==i?e.writingDirection=3:"rltb"==i||"rl"==i?e.writingDirection=1:i&&(e.writingDirection=Cu),(i=Fl(t,n,r,"tts:textAlign"))&&(e.positionAlign=Tc[i],e.lineAlign=Sc[i],e.textAlign=yu[i.toUpperCase()]),(i=Fl(t,n,r,"tts:displayAlign"))&&(e.displayAlign=bu[i.toUpperCase()]),(i=Fl(t,n,r,"tts:color"))&&(e.color=i),(i=Fl(t,n,r,"tts:backgroundColor"))&&(e.backgroundColor=i),(i=Fl(t,n,r,"tts:fontFamily"))&&(e.fontFamily=i),(i=Fl(t,n,r,"tts:fontWeight"))&&"bold"==i&&(e.fontWeight=700),(i=Fl(t,n,r,"tts:wrapOption"))&&"noWrap"==i&&(e.wrapLine=!1),(i=Fl(t,n,r,"tts:lineHeight"))&&i.match(Ec)&&(e.lineHeight=i),(i=Fl(t,n,r,"tts:fontSize"))&&i.match(Ec)&&(e.fontSize=i),(i=Fl(t,n,r,"tts:fontStyle"))&&(e.fontStyle=Qu[i.toUpperCase()]),(n=Ul(n,r,"tts:textDecoration"))&&xl(e,n),(t=Vl(t,r,"tts:textDecoration"))&&xl(e,t)}function xl(e,t){for(var n=t.split(" "),r=0;r<n.length;r++)switch(n[r]){case"underline":0>e.textDecoration.indexOf("underline")&&e.textDecoration.push("underline");break;case"noUnderline":0<=e.textDecoration.indexOf("underline")&&re(e.textDecoration,"underline");break;case"lineThrough":0>e.textDecoration.indexOf("lineThrough")&&e.textDecoration.push("lineThrough");break;case"noLineThrough":0<=e.textDecoration.indexOf("lineThrough")&&re(e.textDecoration,"lineThrough");break;case"overline":0>e.textDecoration.indexOf("overline")&&e.textDecoration.push("overline");break;case"noOverline":0<=e.textDecoration.indexOf("overline")&&re(e.textDecoration,"overline")}}function Fl(e,t,n,r){return(e=Vl(e,n,r))?e:Ul(t,n,r)}function Ul(e,t,n){for(var r=Nl(e),i=0;i<r.length;i++){var a=r[i].getAttribute(n);if(a)return a}return(e=Gl(e,"style",t))?e.getAttribute(n):null}function Vl(e,t,n){return(e=Gl(e,"style",t))?e.getAttribute(n):null}function Gl(e,t,n){if(!e||1>n.length)return null;var r=null,i=e;for(e=null;i&&!(e=i.getAttribute(t))&&(i=i.parentNode)instanceof Element;);if(t=e)for(e=0;e<n.length;e++)if(n[e].getAttribute("xml:id")==t){r=n[e];break}return r}function Hl(e,t){var n=null;if(yc.test(e)){n=yc.exec(e);var r=Number(n[1]),i=Number(n[2]),a=Number(n[3]),o=Number(n[4]);o+=(Number(n[5])||0)/t.b,a+=o/t.frameRate,n=a+60*i+3600*r}else Ic.test(e)?n=jl(Ic,e):bc.test(e)?n=jl(bc,e):Cc.test(e)?(n=Cc.exec(e),n=Number(n[1])/t.frameRate):Bc.test(e)?(n=Bc.exec(e),n=Number(n[1])/t.a):wc.test(e)&&(n=jl(wc,e));return n}function jl(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function Yl(e,t,n,r){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(r),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=e[1]/e[2])}function Kl(){this.a=new Ml}function ql(){}function Jl(e,t,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=r[1],e.textAlign="middle"==t?vu:yu[t.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(t))?e.writingDirection="lr"==r[1]?2:3:(r=/^size:([\d.]+)%$/.exec(t))?e.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(r[1]),r[2]&&(t=r[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(r=/^region:(.*)$/.exec(t))?(t=zl(n,r[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=Su[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=Bu,e.line=Number(n[1]),n[2]&&(e.lineAlign=Su[n[2].toUpperCase()]))}function zl(e,t){var n=e.filter(function(e){return e.id==t});return n.length?n[0]:null}function Wl(e){if(null==(e=$r(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function Zl(){this.a=null}function Xl(e,t,n){var r,i,a;return(new Kn).D("payl",zn(function(e){r=De(e)})).D("iden",zn(function(e){i=De(e)})).D("sttg",zn(function(e){a=De(e)})).parse(e),r?$l(r,i,a,t,n):null}function $l(e,t,n,r,i){if(e=new Et(r,i,e),t&&(e.id=t),n)for(t=new Zr(n),n=ei(t);n;)Jl(e,n,[]),Xr(t),n=ei(t);return e}var eu,tu="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},nu=void 0!==e&&e===this?this:void 0!==t&&null!=t?t:this,ru=function(){var e=0;return function(t){return"jscomp_symbol_"+(t||"")+e++}}();s("Promise",function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){null==this.a&&(this.a=[],this.f()),this.a.push(e)},n.prototype.f=function(){var e=this;this.c(function(){e.h()})};var i=nu.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.g(e)}}}this.a=null},n.prototype.g=function(e){this.c(function(){throw e})},t.prototype.c=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.f)}},t.prototype.m=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(e){return void this.f(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)a.b(this.a[e]);this.a=null}};var a=new n;return t.prototype.s=function(e){var t=this.c();e.Ab(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(e){a(e)}}:t}var i,a,o=new t(function(e,t){i=e,a=t});return this.Ab(r(e,i),r(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ab=function(e,t){function n(){switch(r.b){case 1:e(r.g);break;case 2:t(r.g);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=o(e),a=i.next();!a.done;a=i.next())r(a.value).Ab(t,n)})},t.all=function(e){var n=o(e),i=n.next();return i.done?r([]):new t(function(e,t){var a=[],o=0;do{a.push(void 0),o++,r(i.value).Ab(function(t){return function(n){a[t]=n,0==--o&&e(a)}}(a.length-1),t),i=n.next()}while(!i.done)})},t}),s("Promise.prototype.finally",function(e){return e||function(e){return this.then(function(t){return Promise.resolve(e()).then(function(){return t})},function(t){return Promise.resolve(e()).then(function(){throw t})})}}),c.prototype.h=function(e){this.B=e},c.prototype.return=function(e){this.a={return:e},this.o=this.b},c.prototype.O=function(e){this.o=e},s("Array.prototype.find",function(e){return e||function(e,t){e:{var n=this;n instanceof String&&(n=String(n));for(var r=n.length,i=0;i<r;i++){var a=n[i];if(e.call(t,a,i,n)){n=a;break e}}n=void 0}return n}});var iu=this;iu.a=!0,R.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(D(this.b),D(this.c))},e.console&&e.console.log.bind&&(_=console.warn.bind(console));var au=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;eu=N.prototype,eu.ma="",eu.La="",eu.pa="",eu.Ya=null,eu.ca="",eu.Da="",eu.toString=function(){var e=[],t=this.ma;if(t&&e.push(F(t,ou,!0),":"),t=this.pa){e.push("//");var n=this.La;n&&e.push(F(n,ou,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.Ya,null!=t&&e.push(":",String(t))}return(t=this.ca)&&(this.pa&&"/"!=t.charAt(0)&&e.push("/"),e.push(F(t,"/"==t.charAt(0)?lu:su,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Da)&&e.push("#",F(t,cu)),e.join("")},eu.resolve=function(e){var t=new N(this);"data"===t.ma&&(t=new N);var n=!!e.ma;n?P(t,e.ma):n=!!e.La,n?t.La=e.La:n=!!e.pa,n?t.pa=e.pa:n=null!=e.Ya;var r=e.ca;if(n)O(t,e.Ya);else if(n=!!e.ca){if("/"!=r.charAt(0))if(this.pa&&!this.ca)r="/"+r;else{var i=t.ca.lastIndexOf("/");-1!=i&&(r=t.ca.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?t.ca=r:n=""!==e.a.toString(),n?L(t,G(e.a)):n=!!e.Da,n&&(t.Da=e.Da),t};var ou=/[#\/\?@]/g,su=/[#\?:]/g,lu=/[#\?]/g,uu=/[#\?@]/g,cu=/#/g;V.prototype.a=null,V.prototype.c=null,V.prototype.add=function(e,t){if(!this.a&&(this.a={},this.c=0,this.b))for(var n=this.b.split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("="),a=null;if(0<=i){var o=n[r].substring(0,i);a=n[r].substring(i+1)}else o=n[r];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.b=null,(n=this.a.hasOwnProperty(e)&&this.a[e])||(this.a[e]=n=[]),n.push(t),this.c++,this},V.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),r=this.a[e],i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}return this.b=t.join("&")},H.prototype.resolve=function(){},H.prototype.reject=function(){},S("shaka.util.Error",q),q.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},q.Severity={RECOVERABLE:1,CRITICAL:2},q.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},q.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013},S("shaka.util.AbortableOperation",J),J.failed=z,J.aborted=W,J.completed=Z,J.notAbortable=X,J.prototype.abort=function(){return this.a=!0,this.b()},J.prototype.abort=J.prototype.abort,J.all=$,J.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},J.prototype.finally=J.prototype.finally,J.prototype.Z=function(e,t){function n(){return i.reject(new q(2,7,7001)),r.abort()}var r=this,i=new H;return this.promise.then(function(t){r.a?i.reject(new q(2,7,7001)):e?n=ee(e,t,i):i.resolve(t)},function(e){t?n=ee(t,e,i):i.reject(e)}),new J(i,function(){return n()})},J.prototype.chain=J.prototype.Z,ae.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ae.prototype.stopImmediatePropagation=function(){this.a=!0},ae.prototype.stopPropagation=function(){},oe.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},oe.prototype.get=function(e){return(e=this.a[e])?e.slice():null},oe.prototype.remove=function(e,t){var n=this.a[e];if(n)for(var r=0;r<n.length;++r)n[r]==t&&(n.splice(r,1),--r)},oe.prototype.forEach=function(e){for(var t in this.a)e(t,this.a[t])},se.prototype.addEventListener=function(e,t){this.Nb.push(e,t)},se.prototype.removeEventListener=function(e,t){this.Nb.remove(e,t)},se.prototype.dispatchEvent=function(e){for(var t=this.Nb.get(e.type)||[],n=0;n<t.length;++n){e.target=this.tb,e.currentTarget=this.tb;var r=t[n];try{r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(e){}if(e.a)break}return e.defaultPrevented},ue.prototype.destroy=function(){var e=[];return this.a.forEach(function(t){t.promise.catch(function(){}),e.push(t.abort())}),this.a=[],Promise.all(e)},T(de,se),S("shaka.net.NetworkingEngine",de),de.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3,TIMING:4},de.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:3};var du={};de.registerScheme=Ae,de.unregisterScheme=function(e){delete du[e]},de.prototype.Ae=function(e){this.a.push(e)},de.prototype.registerRequestFilter=de.prototype.Ae,de.prototype.ef=function(e){re(this.a,e)},de.prototype.unregisterRequestFilter=de.prototype.ef,de.prototype.td=function(){this.a=[]},de.prototype.clearAllRequestFilters=de.prototype.td,de.prototype.Be=function(e){this.b.push(e)},de.prototype.registerResponseFilter=de.prototype.Be,de.prototype.ff=function(e){re(this.b,e)},de.prototype.unregisterResponseFilter=de.prototype.ff,de.prototype.ud=function(){this.b=[]},de.prototype.clearAllResponseFilters=de.prototype.ud,de.prototype.destroy=function(){return this.c=!0,this.a=[],this.b=[],this.g.destroy()},de.prototype.destroy=de.prototype.destroy,de.prototype.request=function(e,t){var n=this;if(this.c)return pe(W());t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?le(t.retryParameters):K(),t.uris=le(t.uris);var r=fe(this,e,t),i=r.Z(function(){return he(n,e,t,new j(t.retryParameters,!1),0,null)}),a=i.Z(function(t){return me(n,e,t)}),o=Date.now(),s=0;r.promise.then(function(){s=Date.now()-o},function(){});var l=0;return i.promise.then(function(){l=Date.now()},function(){}),r=a.Z(function(t){var r=Date.now()-l;return t.timeMs+=s,t.timeMs+=r,n.f&&!t.fromCache&&1==e&&n.f(t.timeMs,t.data.byteLength),t},function(e){throw e&&(e.severity=2),e}),ce(this.g,r),pe(r)},de.prototype.request=de.prototype.request,Ee.prototype.destroy=function(){return Ie(this),this.a=null,Promise.resolve()},Ee.prototype.ta=function(e,t){if(this.a)for(var n=this.a.get(t)||[],r=0;r<n.length;++r){var i=n[r];i.target==e&&(i.ta(),this.a.remove(t,i))}},be.prototype.ta=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null};var Au={vd:function(e,t){return e.reduce(function(e,t,n){return t.catch(e.bind(null,n))}.bind(null,t),Promise.reject())},ia:function(e,t){return e.concat(t)},Ga:function(){},la:function(e){return null!=e},ka:function(e,t,n){return n.indexOf(e)==t}},gu=1/15,pu={codecs:"codecs",frameRate:"framerate",bandwidth:"bitrate",width:"width",height:"height",channelsCount:"channels"};S("shaka.util.StringUtils.fromUTF8",De),S("shaka.util.StringUtils.fromUTF16",Re),S("shaka.util.StringUtils.fromBytesAutoDetect",_e),S("shaka.util.StringUtils.toUTF8",Me),Pe.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},S("shaka.util.Uint8ArrayUtils.toBase64",xe),S("shaka.util.Uint8ArrayUtils.fromBase64",Fe),S("shaka.util.Uint8ArrayUtils.fromHex",Ue),S("shaka.util.Uint8ArrayUtils.toHex",Ve),S("shaka.util.Uint8ArrayUtils.equal",Ge),S("shaka.util.Uint8ArrayUtils.concat",He),eu=je.prototype,eu.destroy=function(){this.c=!0;var e=[];return this.a.forEach(function(t){t=t.na.close().catch(Au.Ga);var n=At(fu);e.push(Promise.race([t,n]))}),this.i.reject(),this.g&&e.push(this.g.destroy()),this.l&&e.push(this.l.setMediaKeys(null).catch(Au.Ga)),this.I&&(this.I.cancel(),this.I=null),this.J&&(this.J.cancel(),this.J=null),this.g=this.l=this.j=this.u=this.b=null,this.a=[],this.s=[],this.w=this.h=this.f=null,Promise.all(e)},eu.configure=function(e){this.f=e},eu.zb=function(e){var t=this;if(!this.j)return ye(this.g,e,"encrypted",function(){t.h(new q(2,6,6010))}),Promise.resolve();this.l=e,ye(this.g,this.l,"play",function(){for(var e=0;e<t.N.length;e++)at(t,t.N[e]);t.ha=!0,t.N=[]}),e=this.l.setMediaKeys(this.j),e=e.catch(function(e){return Promise.reject(new q(2,6,6003,e.message))});var n=null;return this.b.serverCertificate&&this.b.serverCertificate.length&&(n=this.j.setServerCertificate(this.b.serverCertificate).then(function(){}).catch(function(e){return Promise.reject(new q(2,6,6004,e.message))})),Promise.all([e,n]).then(function(){if(t.c)return Promise.reject();We(t),t.b.initData.length||t.s.length||ve(t.g,t.l,"encrypted",function(e){e:{for(var n=new Uint8Array(e.initData),r=0;r<t.a.length;++r)if(Ge(n,t.a[r].initData)){e=void 0;break e}it(t,e.initDataType,n),e=void 0}return e})}).catch(function(e){return t.c?Promise.resolve():Promise.reject(e)})},eu.keySystem=function(){return this.b?this.b.keySystem:""},eu.Fb=function(){var e=this.a.map(function(e){return e=e.na.expiration,isNaN(e)?1/0:e});return Math.min.apply(Math,e)},eu.Rc=function(e){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.ha?this.N.push(e):at(this,e)},eu.Nc=function(e){e=e.target;var t;for(t=0;t<this.a.length&&this.a[t].na!=e;++t);if(t!=this.a.length){var n=!1;e.keyStatuses.forEach(function(e,r){if("string"==typeof r){var i=r;r=e,e=i}if("com.microsoft.playready"==this.b.keySystem&&16==r.byteLength){i=new DataView(r);var a=i.getUint32(0,!0),o=i.getUint16(4,!0),s=i.getUint16(6,!0);i.setUint32(0,a,!1),i.setUint16(4,o,!1),i.setUint16(6,s,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==e&&(e="usable"),"status-pending"!=e&&(this.a[t].loaded=!0),"expired"==e&&(n=!0),i=Ve(new Uint8Array(r)),this.U[i]=e}.bind(this));var r=e.expiration-Date.now();(0>r||n&&1e3>r)&&!this.a[t].ua&&(this.a.splice(t,1),e.close().catch(function(){})),this.a.every(function(e){return e.loaded})&&(this.i.resolve(),Oe(this.J))}};var fu=1,hu=5,mu=.5;S("shaka.text.Cue",Et);var Eu="auto";Et.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Eu};var vu="center",yu={LEFT:"left",RIGHT:"right",CENTER:vu,START:"start",END:"end"};Et.textAlign=yu;var Iu="before",bu={BEFORE:Iu,CENTER:"center",AFTER:"after"};Et.displayAlign=bu;var Cu=0;Et.writingDirection={HORIZONTAL_LEFT_TO_RIGHT:Cu,HORIZONTAL_RIGHT_TO_LEFT:1,VERTICAL_LEFT_TO_RIGHT:2,VERTICAL_RIGHT_TO_LEFT:3};var Bu=0;Et.lineInterpretation={LINE_NUMBER:Bu,PERCENTAGE:1};var wu="center",Su={CENTER:wu,START:"start",END:"end"};Et.lineAlign=Su;var Tu=400;Et.fontWeight={NORMAL:Tu,BOLD:700};var ku="normal",Qu={NORMAL:ku,ITALIC:"italic",OBLIQUE:"oblique"};Et.fontStyle=Qu,Et.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},S("shaka.text.CueRegion",vt);var Du=1;vt.units={PX:0,PERCENTAGE:Du,LINES:2};var Ru="";vt.scrollMode={NONE:Ru,UP:"up"},yt.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},yt.prototype.i=function(e){for(var t=0;t<e.captions.length;t++){var n=e.captions[t];this.c.push(new Et(n.startTime,n.endTime,n.text))}t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength),t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),this.g.push(t)},yt.prototype.h=function(){var e={data:He.apply(null,this.g),cues:this.c};this.b.resolve(e),this.f=!1};var _u={};S("shaka.text.TextEngine.registerParser",function(e,t){_u[e]=t}),S("shaka.text.TextEngine.unregisterParser",function(e){delete _u[e]}),Bt.prototype.destroy=function(){return this.c=this.f=null,Promise.resolve()},Bt.prototype.Qe=function(e){this.c=e},Bt.prototype.setDisplayer=Bt.prototype.Qe,Bt.prototype.Wb=function(e){var t={periodStart:0,segmentStart:null,segmentEnd:0};try{return this.f.parseMedia(new Uint8Array(e),t)[0].startTime}catch(e){throw new q(2,2,2009,e)}},Bt.prototype.remove=function(e,t){return Promise.resolve().then(function(){!this.c||!this.c.remove(e,t)||null==this.a||t<=this.a||e>=this.b||(e<=this.a&&t>=this.b?this.a=this.b=null:e<=this.a&&t<this.b?this.a=t:e>this.a&&t>=this.b&&(this.b=e))}.bind(this))},Bt.prototype.vc=function(e){this.c.append(e)},Bt.prototype.appendCues=Bt.prototype.vc,eu=St.prototype,eu.destroy=function(){this.m=!0;var e,t=[];for(e in this.c){var n=this.c[e],r=n[0];for(this.c[e]=n.slice(0,1),r&&t.push(r.p.catch(Au.Ga)),r=1;r<n.length;++r)n[r].p.catch(Au.Ga),n[r].p.reject()}this.a&&t.push(this.a.destroy());for(var i in this.h)t.push(this.h[i].destroy());return this.f&&(this.f.removeAttribute("src"),this.f.load()),Promise.all(t).then(function(){this.i.destroy(),this.s=this.a=this.g=this.f=this.i=null,this.b={},this.h={},this.c={}}.bind(this))},eu.init=function(e,t){var n=this;return this.j.then(function(){for(var r in e){var i=e[r];i=Qe(i.mimeType,i.codecs),"text"==r?Qt(n,i):(!t&&MediaSource.isTypeSupported(i)||!It(i,r)||(n.h[r]=new yt,i=bt(r,i)),i=n.g.addSourceBuffer(i),ve(n.i,i,"error",n.af.bind(n,r)),ve(n.i,i,"updateend",n.Wa.bind(n,r)),n.b[r]=i,n.c[r]=[])}})},eu.Tb=function(){var e=this.a&&null!=this.a.a?[{start:this.a.a,end:this.a.b}]:[];return{total:mt(this.f.buffered),audio:mt(Mt(this,"audio")),video:mt(Mt(this,"video")),text:e}},eu.remove=function(e,t,n){return"text"==e?this.a.remove(t,n):Lt(this,e,this.fd.bind(this,e,t,n))},eu.flush=function(e){return"text"==e?Promise.resolve():Lt(this,e,this.Ad.bind(this,e))},eu.endOfStream=function(e){return xt(this,function(){e?this.g.endOfStream(e):this.g.endOfStream()}.bind(this))},eu.oa=function(e){return xt(this,function(){this.g.duration=e}.bind(this))},eu.S=function(){return this.g.duration},eu.ed=function(e,t){this.b[e].appendBuffer(t)},eu.fd=function(e,t,n){n<=t?this.Wa(e):this.b[e].remove(t,n)},eu.od=function(e){var t=this.b[e].appendWindowStart,n=this.b[e].appendWindowEnd;this.b[e].abort(),this.b[e].appendWindowStart=t,this.b[e].appendWindowEnd=n,this.Wa(e)},eu.Ad=function(e){this.f.currentTime-=.001,this.Wa(e)},eu.Se=function(e,t){0>t&&(t+=.001),this.b[e].timestampOffset=t,this.Wa(e)},eu.Oe=function(e,t,n){this.b[e].appendWindowStart=0,this.b[e].appendWindowEnd=n,this.b[e].appendWindowStart=t,this.Wa(e)},eu.af=function(e){this.c[e][0].p.reject(new q(2,3,3014,this.f.error?this.f.error.code:0))},eu.Wa=function(e){var t=this.c[e][0];t&&(t.p.resolve(),Ft(this,e))};var Mu=1,Nu=2,Pu={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",
gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};S("shaka.abr.SimpleAbrManager",An),An.prototype.stop=function(){this.h=null,this.f=!1,this.c=[],this.g=null},An.prototype.stop=An.prototype.stop,An.prototype.init=function(e){this.h=e},An.prototype.init=An.prototype.init,An.prototype.chooseVariant=function(){var e=gn(this.a.restrictions,this.c),t=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);this.c.length&&!e.length&&(e=gn(null,this.c),e=[e[0]]);for(var n=e[0]||null,r=0;r<e.length;++r){var i=e[r],a=(e[r+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;t>=i.bandwidth/this.a.bandwidthDowngradeTarget&&t<=a&&(n=i)}return this.g=Date.now(),n},An.prototype.chooseVariant=An.prototype.chooseVariant,An.prototype.enable=function(){this.f=!0},An.prototype.enable=An.prototype.enable,An.prototype.disable=function(){this.f=!1},An.prototype.disable=An.prototype.disable,An.prototype.segmentDownloaded=function(e,t){var n=this.b;if(!(16e3>t)){var r=8e3*t/e,i=e/1e3;n.a+=t,Q(n.b,i,r),Q(n.c,i,r)}if(null!=this.g&&this.f)e:{if(this.i){if(Date.now()-this.g<1e3*this.a.switchInterval)break e}else{if(!(128e3<=this.b.a))break e;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},An.prototype.segmentDownloaded=An.prototype.segmentDownloaded,An.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},An.prototype.getBandwidthEstimate=An.prototype.getBandwidthEstimate,An.prototype.setVariants=function(e){this.c=e},An.prototype.setVariants=An.prototype.setVariants,An.prototype.configure=function(e){this.a=e},An.prototype.configure=An.prototype.configure;var Ou="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Lu="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),xu=["loop","playbackRate"],Fu=["pause","play"],Uu="adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading".split(" "),Vu={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,usingEmbeddedTextTrack:2,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1},Gu={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Hu=[["getConfiguration","configure"]],ju=[["isTextTrackVisible","setTextTrackVisibility"]],Yu="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),Ku=["attach","detach","load","unload"],qu=!1,Ju=null;eu=mn.prototype,eu.destroy=function(){return vn(this),Ju&&En(this),this.I=this.A=this.g=null,this.b=this.h=!1,this.m=this.l=this.f=this.c=this.a=this.i=null,Promise.resolve()},eu.aa=function(){return this.b},eu.ic=function(){return this.w},eu.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){delete e.__onGCastApiAvailable,this.h=!0,this.g();var t=new chrome.cast.SessionRequest(this.J);t=new chrome.cast.ApiConfig(t,this.Mc.bind(this),this.je.bind(this),"origin_scoped"),chrome.cast.initialize(t,function(){},function(){}),qu&&setTimeout(this.g.bind(this),20),(t=Ju)&&t.status!=chrome.cast.SessionStatus.STOPPED?this.Mc(t):Ju=null}else e.__onGCastApiAvailable=function(e){e&&this.init()}.bind(this)},eu.lc=function(e){this.i=e,this.b&&yn({type:"appData",appData:this.i})},eu.cast=function(e){return this.h?qu?this.b?Promise.reject(new q(1,8,8002)):(this.f=new H,chrome.cast.requestSession(this.fc.bind(this,e),this.Kc.bind(this)),this.f):Promise.reject(new q(1,8,8001)):Promise.reject(new q(1,8,8e3))},eu.Db=function(){this.b&&(vn(this),Ju&&(En(this),Ju.stop(function(){},function(){}),Ju=null))},eu.get=function(e,t){if("video"==e){if(0<=Fu.indexOf(t))return this.Wc.bind(this,e,t)}else if("player"==e){if(Gu[t]&&!this.get("player","isLive")())return function(){};if(0<=Yu.indexOf(t))return this.Wc.bind(this,e,t);if(0<=Ku.indexOf(t))return this.De.bind(this,e,t);if(Vu[t])return this.Tc.bind(this,e,t)}return this.Tc(e,t)},eu.set=function(e,t,n){this.a[e][t]=n,yn({type:"set",targetName:e,property:t,value:n})},eu.fc=function(e,t){Ju=t,t.addUpdateListener(this.l),t.addMessageListener("urn:x-cast:com.google.shaka.v2",this.m),this.Lc(),yn({type:"init",initState:e,appData:this.i}),this.f.resolve()},eu.Kc=function(e){var t=8003;switch(e.code){case"cancel":t=8004;break;case"timeout":t=8005;break;case"receiver_unavailable":t=8006}this.f.reject(new q(2,8,t,e))},eu.Tc=function(e,t){return this.a[e][t]},eu.Wc=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];yn({type:"call",targetName:e,methodName:t,args:r})},eu.De=function(e,t,n){for(var r=[],i=2;i<arguments.length;++i)r[i-2]=arguments[i];i=new H;var a=this.s.toString();return this.s++,this.c[a]=i,yn({type:"asyncCall",targetName:e,methodName:t,args:r,id:a}),i},eu.Mc=function(e){var t=this.u();this.f=new H,this.j=!0,this.fc(t,e)},eu.je=function(e){qu="available"==e,this.g()},eu.Lc=function(){var e=!!Ju&&"connected"==Ju.status;if(this.b&&!e){this.I();for(var t in this.a)this.a[t]={};vn(this)}this.w=(this.b=e)?Ju.receiver.friendlyName:"",this.g()},eu.de=function(e,t){var n=fn(t);switch(n.type){case"event":var r=n.event;this.A(n.targetName,new ae(r.type,r));break;case"update":r=n.update;for(var i in r){n=this.a[i]||{};for(var a in r[i])n[a]=r[i][a]}this.j&&(this.N(),this.j=!1);break;case"asyncComplete":if(i=n.id,n=n.error,a=this.c[i],delete this.c[i],a)if(n){i=new q(n.severity,n.category,n.code);for(r in n)i[r]=n[r];a.reject(i)}else a.resolve()}},T(In,se),S("shaka.cast.CastProxy",In),In.prototype.destroy=function(e){return e&&this.a&&this.a.Db(),e=[this.i?this.i.destroy():null,this.b?this.b.destroy():null,this.a?this.a.destroy():null],this.a=this.i=this.j=this.h=this.b=this.c=null,Promise.all(e)},In.prototype.destroy=In.prototype.destroy,In.prototype.Rd=function(){return this.h},In.prototype.getVideo=In.prototype.Rd,In.prototype.Jd=function(){return this.j},In.prototype.getPlayer=In.prototype.Jd,In.prototype.qd=function(){return!!this.a&&(this.a.h&&qu)},In.prototype.canCast=In.prototype.qd,In.prototype.aa=function(){return!!this.a&&this.a.aa()},In.prototype.isCasting=In.prototype.aa,In.prototype.ic=function(){return this.a?this.a.ic():""},In.prototype.receiverName=In.prototype.ic,In.prototype.cast=function(){var e=this.Dc();return this.a.cast(e).then(function(){if(this.b)return this.b.rb()}.bind(this))},In.prototype.cast=In.prototype.cast,In.prototype.lc=function(e){this.a.lc(e)},In.prototype.setAppData=In.prototype.lc,In.prototype.cf=function(){var e=this.a;if(e.b){var t=e.u();chrome.cast.requestSession(e.fc.bind(e,t),e.Kc.bind(e))}},In.prototype.suggestDisconnect=In.prototype.cf,In.prototype.Db=function(){this.a.Db()},In.prototype.forceDisconnect=In.prototype.Db,eu=In.prototype,eu.Dc=function(){var e={video:{},player:{},playerAfterLoad:{},manifest:this.b.Sb(),startTime:null};return this.c.pause(),xu.forEach(function(t){e.video[t]=this.c[t]}.bind(this)),this.c.ended||(e.startTime=this.c.currentTime),Hu.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.player[n]=t}.bind(this)),ju.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.playerAfterLoad[n]=t}.bind(this)),e},eu.We=function(){this.dispatchEvent(new ae("caststatuschanged"))},eu.Xe=function(){this.f.dispatchEvent(new ae(this.h.paused?"pause":"play"))},eu.Ze=function(){var e=this;Hu.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(this));var t=this.a.get("player","getAssetUri")(),n=this.a.get("video","ended"),r=Promise.resolve(),i=this.c.autoplay,a=null;n||(a=this.a.get("video","currentTime")),t&&(this.c.autoplay=!1,r=this.b.load(t,a));var o={};xu.forEach(function(e){o[e]=this.a.get("video",e)}.bind(this)),r.then(function(){e.c&&(xu.forEach(function(e){this.c[e]=o[e]}.bind(e)),ju.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(e)),e.c.autoplay=i,t&&e.c.play())},function(t){e.b.dispatchEvent(new ae("error",{detail:t}))})},eu.kf=function(e){if("addEventListener"==e)return this.f.addEventListener.bind(this.f);if("removeEventListener"==e)return this.f.removeEventListener.bind(this.f);if(this.a.aa()&&0==Object.keys(this.a.a.video).length){var t=this.c[e];if("function"!=typeof t)return t}return this.a.aa()?this.a.get("video",e):(e=this.c[e],"function"==typeof e&&(e=e.bind(this.c)),e)},eu.mf=function(e,t){this.a.aa()?this.a.set("video",e,t):this.c[e]=t},eu.lf=function(e){this.a.aa()||this.f.dispatchEvent(new ae(e.type,e))},eu.Sc=function(e){if("addEventListener"==e)return this.g.addEventListener.bind(this.g);if("removeEventListener"==e)return this.g.removeEventListener.bind(this.g);if("getMediaElement"==e)return function(){return this.h}.bind(this);if("getSharedConfiguration"==e)return this.a.get("player","getConfiguration");if("getNetworkingEngine"==e)return this.b.Pa.bind(this.b);if(this.a.aa()){if("getManifest"==e||"drmInfo"==e)return function(){return _(e+"() does not work while casting!"),null};if("getManifestUri"==e)return _('"getManifestUri" is deprecated. Please use "getAssetUri".'),this.Sc("getAssetUri");if("attach"==e||"detach"==e)return function(){return _(e+"() does not work while casting!"),Promise.resolve()}}return this.a.aa()&&0==Object.keys(this.a.a.video).length&&Vu[e]||!this.a.aa()?this.b[e].bind(this.b):this.a.get("player",e)},eu.ye=function(e){this.a.aa()||this.g.dispatchEvent(e)},eu.Ye=function(e,t){this.a.aa()&&("video"==e?this.f.dispatchEvent(t):"player"==e&&this.g.dispatchEvent(t))},T(Cn,se),S("shaka.cast.CastReceiver",Cn),Cn.prototype.isConnected=function(){return this.s},Cn.prototype.isConnected=Cn.prototype.isConnected,Cn.prototype.Ud=function(){return this.h},Cn.prototype.isIdle=Cn.prototype.Ud,Cn.prototype.destroy=function(){var t=[this.c?this.c.destroy():null,this.b?this.b.destroy():null];return null!=this.l&&e.clearTimeout(this.l),this.w=this.u=this.c=this.b=this.a=null,this.s=!1,this.h=!0,this.l=this.i=this.f=null,Promise.all(t).then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},Cn.prototype.destroy=Cn.prototype.destroy,eu=Cn.prototype,eu.Qc=function(){this.g=0,this.j=!0,this.s=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,wn(this)},eu.Uc=function(e,t){this.b&&(this.gc(),Qn(this,{type:"event",targetName:e,event:t},this.f))},eu.gc=function(){null!=this.l&&e.clearTimeout(this.l),this.l=e.setTimeout(this.gc.bind(this),500);var t={video:{},player:{}};if(Lu.forEach(function(e){t.video[e]=this.a[e]}.bind(this)),this.b.W())for(var n in Gu)0==this.g%Gu[n]&&(t.player[n]=this.b[n]());for(var r in Vu)0==this.g%Vu[r]&&(t.player[r]=this.b[r]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),this.m&&(this.g+=1),Qn(this,{type:"update",update:t},this.f),Tn(this)},eu.yd=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&Qn(this,{type:"update",update:{video:{volume:e.level,muted:e.muted}}},this.f),Qn(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},eu.me=function(e){var t=fn(e.data);switch(t.type){case"init":this.g=0,this.m=!1,this.j=!0,Sn(this,t.initState,t.appData),this.gc();break;case"appData":this.w(t.appData);break;case"set":var n=t.targetName,r=t.property;if(t=t.value,"video"==n){var i=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){i.setSystemVolumeLevel(t);break}if("muted"==r){i.setSystemVolumeMuted(t);break}}this.u[n][r]=t;break;case"call":n=this.u[t.targetName],n[t.methodName].apply(n,t.args);break;case"asyncCall":n=t.targetName,r=t.methodName,"player"==n&&"load"==r&&(this.g=0,this.m=!1),i=t.id,e=e.senderId;var a=this.u[n];t=a[r].apply(a,t.args),"player"==n&&"load"==r&&(t=t.then(function(){this.j=!0}.bind(this))),t.then(this.ad.bind(this,e,i,null),this.ad.bind(this,e,i))}},eu.Zd=function(e){var t=fn(e.data);switch(t.type){case"PLAY":this.a.play(),Dn(this,0);break;case"PAUSE":this.a.pause(),Dn(this,0);break;case"SEEK":e=t.currentTime;var n=t.resumeState;null!=e&&(this.a.currentTime=Number(e)),n&&"PLAYBACK_START"==n?(this.a.play(),Dn(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),Dn(this,0));break;case"STOP":this.b.rb().then(function(){this.b&&Dn(this,0)}.bind(this));break;case"GET_STATUS":Dn(this,Number(t.requestId));break;case"VOLUME":n=t.volume,e=n.level,n=n.muted;var r=this.a.volume,i=this.a.muted;null!=e&&(this.a.volume=Number(e)),null!=n&&(this.a.muted=n),r==this.a.volume&&i==this.a.muted||Dn(this,0);break;case"LOAD":this.g=0,this.j=this.m=!1,e=t.currentTime,n=this.A(t.media.contentId),this.a.autoplay=!0,this.b.load(n,e).then(function(){this.b&&kn(this)}.bind(this)).catch(function(e){var n="LOAD_FAILED";7==e.category&&7e3==e.code&&(n="LOAD_CANCELLED"),Qn(this,{requestId:Number(t.requestId),type:n},this.i)}.bind(this));break;default:Qn(this,{requestId:Number(t.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},eu.ad=function(e,t,n){this.b&&Qn(this,{type:"asyncComplete",id:t,error:n},this.f,e)};var zu={IDLE:"IDLE",md:"PLAYING",jd:"BUFFERING",ld:"PAUSED"},Wu={Cb:function(e,t){var n=Wu.M(e,t);return 1!=n.length?null:n[0]},M:function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return e instanceof Element&&e.tagName==t})},zd:function(e,t,n){return Array.prototype.filter.call(e.childNodes,function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t})},getAttributeNS:function(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null},Eb:function(e){return Array.prototype.every.call(e.childNodes,function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE})?e.textContent.trim():null},F:function(e,t,n,r){r=void 0===r?null:r;var i=null;return e=e.getAttribute(t),null!=e&&(i=n(e)),null==i?r:i},ue:function(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null},sa:function(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null},Kb:function(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null},parseInt:function(e){return e=Number(e),0==e%1?e:null},Jb:function(e){return e=Number(e),0==e%1&&0<e?e:null},Xa:function(e){return e=Number(e),0==e%1&&0<=e?e:null},parseFloat:function(e){return e=Number(e),isNaN(e)?null:e},xd:function(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1]/t[2]):Number(e),isNaN(e)?null:e}},Zu={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};S("shaka.media.InitSegmentReference",Gn),Gn.prototype.Pb=function(){return this.c()},Gn.prototype.createUris=Gn.prototype.Pb,Gn.prototype.Vb=function(){return this.b},Gn.prototype.getStartByte=Gn.prototype.Vb,Gn.prototype.Ub=function(){return this.a},Gn.prototype.getEndByte=Gn.prototype.Ub,S("shaka.media.SegmentReference",Hn),Hn.prototype.V=function(){return this.position},Hn.prototype.getPosition=Hn.prototype.V,Hn.prototype.Wb=function(){return this.startTime},Hn.prototype.getStartTime=Hn.prototype.Wb,Hn.prototype.Ed=function(){return this.endTime},Hn.prototype.getEndTime=Hn.prototype.Ed,Hn.prototype.Pb=function(){return this.c()},Hn.prototype.createUris=Hn.prototype.Pb,Hn.prototype.Vb=function(){return this.b},Hn.prototype.getStartByte=Hn.prototype.Vb,Hn.prototype.Ub=function(){return this.a},Hn.prototype.getEndByte=Hn.prototype.Ub,S("shaka.util.DataViewReader",jn);var Xu=1;jn.Endianness={nf:0,pf:Xu},jn.prototype.ja=function(){return this.a<this.G.byteLength},jn.prototype.hasMoreData=jn.prototype.ja,jn.prototype.V=function(){return this.a},jn.prototype.getPosition=jn.prototype.V,jn.prototype.Fd=function(){return this.G.byteLength},jn.prototype.getLength=jn.prototype.Fd,jn.prototype.ea=function(){try{var e=this.G.getUint8(this.a);return this.a+=1,e}catch(e){Yn()}},jn.prototype.readUint8=jn.prototype.ea,jn.prototype.lb=function(){try{var e=this.G.getUint16(this.a,this.b);return this.a+=2,e}catch(e){Yn()}},jn.prototype.readUint16=jn.prototype.lb,jn.prototype.C=function(){try{var e=this.G.getUint32(this.a,this.b);return this.a+=4,e}catch(e){Yn()}},jn.prototype.readUint32=jn.prototype.C,jn.prototype.Vc=function(){try{var e=this.G.getInt32(this.a,this.b);return this.a+=4,e}catch(e){Yn()}},jn.prototype.readInt32=jn.prototype.Vc,jn.prototype.Za=function(){try{if(this.b)var e=this.G.getUint32(this.a,!0),t=this.G.getUint32(this.a+4,!0);else t=this.G.getUint32(this.a,!1),e=this.G.getUint32(this.a+4,!1)}catch(e){Yn()}if(2097151<t)throw new q(2,3,3001);return this.a+=8,t*Math.pow(2,32)+e},jn.prototype.readUint64=jn.prototype.Za,jn.prototype.Ja=function(e){this.a+e>this.G.byteLength&&Yn();var t=new Uint8Array(this.G.buffer,this.G.byteOffset+this.a,e);return this.a+=e,new Uint8Array(t)},jn.prototype.readBytes=jn.prototype.Ja,jn.prototype.H=function(e){this.a+e>this.G.byteLength&&Yn(),this.a+=e},jn.prototype.skip=jn.prototype.H,jn.prototype.Zc=function(e){this.a<e&&Yn(),this.a-=e},jn.prototype.rewind=jn.prototype.Zc,jn.prototype.seek=function(e){(0>e||e>this.G.byteLength)&&Yn(),this.a=e},jn.prototype.seek=jn.prototype.seek,jn.prototype.hc=function(){for(var e=this.a;this.ja()&&0!=this.G.getUint8(this.a);)this.a+=1;return e=new Uint8Array(this.G.buffer,this.G.byteOffset+e,this.a-e),this.a+=1,De(e)},jn.prototype.readTerminatedString=jn.prototype.hc,S("shaka.util.Mp4Parser",Kn),Kn.prototype.D=function(e,t){var n=Wn(e);return this.c[n]=0,this.b[n]=t,this},Kn.prototype.box=Kn.prototype.D,Kn.prototype.$=function(e,t){var n=Wn(e);return this.c[n]=1,this.b[n]=t,this},Kn.prototype.fullBox=Kn.prototype.$,Kn.prototype.stop=function(){this.a=!0},Kn.prototype.stop=Kn.prototype.stop,Kn.prototype.parse=function(e,t){var n=new Uint8Array(e);for(n=new jn(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.ja()&&!this.a;)this.Ib(0,n,t)},Kn.prototype.parse=Kn.prototype.parse,Kn.prototype.Ib=function(e,t,n){var r=t.V(),i=t.C(),a=t.C();switch(i){case 0:i=t.G.byteLength-r;break;case 1:i=t.Za()}var o=this.b[a];if(o){var s=null,l=null;1==this.c[a]&&(l=t.C(),s=l>>>24,l&=16777215),a=r+i,n&&a>t.G.byteLength&&(a=t.G.byteLength),a-=t.V(),t=0<a?t.Ja(a):new Uint8Array(0),t=new jn(new DataView(t.buffer,t.byteOffset,t.byteLength),0),o({parser:this,partialOkay:n||!1,version:s,flags:l,reader:t,size:i,start:r+e})}else t.H(Math.min(r+i-t.V(),t.G.byteLength-t.V()))},Kn.prototype.parseNext=Kn.prototype.Ib,Kn.children=qn,Kn.sampleDescription=Jn,Kn.allData=zn,Kn.typeToString=Zn,S("shaka.media.SegmentIndex",er),er.prototype.destroy=function(){return this.a=null,Promise.resolve()},er.prototype.destroy=er.prototype.destroy,er.prototype.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},er.prototype.find=er.prototype.find,er.prototype.get=function(e){return 0==this.a.length?null:(e-=this.a[0].position,0>e||e>=this.a.length?null:this.a[e])},er.prototype.get=er.prototype.get,er.prototype.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},er.prototype.offset=er.prototype.offset,er.prototype.ac=function(e){for(var t=[],n=0,r=0;n<this.a.length&&r<e.length;){var i=this.a[n],a=e[r];i.startTime<a.startTime?(t.push(i),n++):(i.startTime>a.startTime?0==n&&t.push(a):(.1<Math.abs(i.endTime-a.endTime)?t.push(new Hn(i.position,a.startTime,a.endTime,a.c,a.b,a.a)):t.push(i),n++),r++)}for(;n<this.a.length;)t.push(this.a[n++]);if(t.length)for(n=t[t.length-1].position+1;r<e.length;)i=e[r++],i=new Hn(n++,i.startTime,i.endTime,i.c,i.b,i.a),t.push(i);else t=e;this.a=t},er.prototype.merge=er.prototype.ac,er.prototype.Qb=function(e){for(var t=0;t<this.a.length;++t)if(this.a[t].endTime>e)return void this.a.splice(0,t);this.a=[]},er.prototype.evict=er.prototype.Qb;var $u;nr.prototype.ja=function(){return this.a.ja()},sr.prototype.parse=function(e,t,n,r){var i;if(t=new nr(new DataView(t)),440786851!=rr(t).id)throw new q(2,3,3008);var a=rr(t);if(408125543!=a.id)throw new q(2,3,3009);for(t=a.a.byteOffset,a=new nr(a.a),i=null;a.ja();){var o=rr(a);if(357149030==o.id){i=o;break}}if(!i)throw new q(2,3,3010);for(a=new nr(i.a),i=1e6,o=null;a.ja();){var s=rr(a);if(2807729==s.id)i=or(s);else if(17545==s.id)if(o=s,4==o.a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new q(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new q(2,3,3011);if(a=i/1e9,i=o*a,e=rr(new nr(new DataView(e))),475249515!=e.id)throw new q(2,3,3007);return lr(e,t,a,i,n,r)};var ec={},tc={};S("shaka.media.ManifestParser.registerParserByExtension",function(e,t){tc[e]=t}),S("shaka.media.ManifestParser.registerParserByMime",function(e,t){ec[e]=t}),S("shaka.media.PresentationTimeline",Tr),Tr.prototype.S=function(){return this.c},Tr.prototype.getDuration=Tr.prototype.S,Tr.prototype.oa=function(e){this.c=e},Tr.prototype.setDuration=Tr.prototype.oa,Tr.prototype.Ld=function(){return this.b},Tr.prototype.getPresentationStartTime=Tr.prototype.Ld,Tr.prototype.bd=function(e){this.j=e},Tr.prototype.setClockOffset=Tr.prototype.bd,Tr.prototype.pb=function(e){this.l=e},Tr.prototype.setStatic=Tr.prototype.pb,Tr.prototype.nc=function(e){this.f=e},Tr.prototype.setSegmentAvailabilityDuration=Tr.prototype.nc,Tr.prototype.Pe=function(e){this.Lb=e},Tr.prototype.setDelay=Tr.prototype.Pe,Tr.prototype.Dd=function(){return this.Lb},Tr.prototype.getDelay=Tr.prototype.Dd,Tr.prototype.Va=function(e,t){if(0!=e.length){var n=e[0].startTime+t,r=e[e.length-1].endTime+t;this.h=null==this.h?n:Math.min(this.h,n),this.a=e.reduce(function(e,t){return Math.max(e,t.endTime-t.startTime)},this.a),this.g=Math.max(this.g,r),null!=this.b&&(this.b=(Date.now()+this.j)/1e3-this.g-this.a)}},Tr.prototype.notifySegments=Tr.prototype.Va,Tr.prototype.cc=function(e){this.a=Math.max(this.a,e)},Tr.prototype.notifyMaxSegmentDuration=Tr.prototype.cc,Tr.prototype.W=function(){return 1/0==this.c&&!this.l},Tr.prototype.isLive=Tr.prototype.W,Tr.prototype.Ea=function(){return 1/0!=this.c&&!this.l},Tr.prototype.isInProgress=Tr.prototype.Ea,Tr.prototype.hb=function(){if(1/0==this.f)return this.i;var e=this.Ra()-this.f;return Math.max(this.i,e)},Tr.prototype.getSegmentAvailabilityStart=Tr.prototype.hb,Tr.prototype.cd=function(e){this.i=e},Tr.prototype.setUserSeekStart=Tr.prototype.cd,Tr.prototype.Ra=function(){return this.W()||this.Ea()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.b),this.c):this.c},Tr.prototype.getSegmentAvailabilityEnd=Tr.prototype.Ra,Tr.prototype.gb=function(e){var t=Math.max(this.h,this.i);if(1/0==this.f)return t;var n=this.Ra()-this.f;return e=Math.min(n+e,this.qa()),Math.max(t,e)},Tr.prototype.getSafeSeekRangeStart=Tr.prototype.gb,Tr.prototype.Qa=function(){return this.gb(0)},Tr.prototype.getSeekRangeStart=Tr.prototype.Qa,Tr.prototype.qa=function(){var e=this.W()||this.Ea()?this.Lb:0;return Math.max(0,this.Ra()-e)},Tr.prototype.getSeekRangeEnd=Tr.prototype.qa,Tr.prototype.hd=function(){return null!=this.b&&null==this.g},Tr.prototype.usingPresentationStartTime=Tr.prototype.hd,S("shaka.dash.DashParser",kr),eu=kr.prototype,eu.configure=function(e){this.b=e},eu.start=function(e,t){return this.h=[e],this.a=t,Qr(this).then(function(e){return this.a&&Pr(this,e),this.c}.bind(this))},eu.stop=function(){return this.b=this.a=null,this.h=[],this.c=null,this.j=[],this.l={},null!=this.g&&(e.clearTimeout(this.g),this.g=null),this.f.destroy()},eu.update=function(){Qr(this).catch(function(e){this.a&&this.a.onError(e)}.bind(this))},eu.onExpirationUpdated=function(){},eu.te=function(e,t){e.Y=Or(t,e.da,null);var n=!1,r=Wu.M(t,"Role"),i=r.map(function(e){return e.getAttribute("value")}).filter(Au.la),a=void 0,s="text"==e.Y.contentType;s&&(a="subtitle");for(var l=0;l<r.length;l++){var u=r[l].getAttribute("schemeIdUri");if(null==u||"urn:mpeg:dash:role:2011"==u)switch(u=r[l].getAttribute("value")){case"main":n=!0;break;case"caption":case"subtitle":a=u}}var c=null,d=!1;Wu.M(t,"EssentialProperty").forEach(function(e){"http://dashif.org/guidelines/trickmode"==e.getAttribute("schemeIdUri")?c=e.getAttribute("value"):d=!0}),r=Wu.M(t,"Accessibility");var A={},g=0;for(r=o(r),l=r.next();!l.done;l=r.next())l=l.value,("urn:scte:dash:cc:cea-608:2015"==(u=l.getAttribute("schemeIdUri"))||"urn:scte:dash:cc:cea-708:2015"==u)&&null!=(l=l.getAttribute("value"))&&l.split(";").forEach(function(e){if(-1==e.indexOf("="))var t=(g++).toString();else e=o(e.split("=")),t=e.next().value,e=e.next().value;A[t]=Vt(e)});if(d)return null;r=Wu.M(t,"ContentProtection");var p=Rn(r,this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);if(r=Vt(t.getAttribute("lang")||"und"),u=t.getAttribute("label"),l=Wu.M(t,"Representation"),i=l.map(this.xe.bind(this,e,p,a,r,u,n,i,A)).filter(function(e){return!!e}),0==i.length){if(s)return null;throw new q(2,4,4003)}return e.Y.contentType&&"application"!=e.Y.contentType||(e.Y.contentType=Vr(i[0].mimeType,i[0].codecs),i.forEach(function(t){t.type=e.Y.contentType})),i.forEach(function(e){p.drmInfos.forEach(function(t){e.keyId&&t.keyIds.push(e.keyId)})}),s=l.map(function(e){return e.getAttribute("id")}).filter(Au.la),{id:e.Y.id||"__fake__"+this.i++,contentType:e.Y.contentType,language:r,Zb:n,streams:i,drmInfos:p.drmInfos,qc:c,Ee:s}},eu.xe=function(e,t,n,r,i,a,o,s,l){if(e.v=Or(l,e.Y,null),!xr(e.v))return null;e.bandwidth=Wu.F(l,"bandwidth",Wu.Jb)||0;var u=e.v.contentType;u="text"==u||"application"==u;try{var c=this.Fe.bind(this);if(e.v.mb)var d=dr(e,c);else if(e.v.wa)d=pr(e,this.l);else if(e.v.ob)d=Er(e,c,this.l,!!this.c);else{var A=e.v.ga,g=e.P.duration||0;d={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0<=e&&e<g?1:null},getSegmentReference:function(e){return 1!=e?null:new Hn(1,0,g,function(){return A},0,null)},initSegmentReference:null,fa:0}}}catch(e){if(u&&4002==e.code)return null;throw e}return l=Wu.M(l,"ContentProtection"),l=_n(l,this.b.dash.customScheme,t,this.b.dash.ignoreDrmInfo),{id:this.i++,originalId:e.v.id,createSegmentIndex:d.createSegmentIndex,findSegmentPosition:d.findSegmentPosition,getSegmentReference:d.getSegmentReference,initSegmentReference:d.initSegmentReference,presentationTimeOffset:d.fa,mimeType:e.v.mimeType,codecs:e.v.codecs,frameRate:e.v.frameRate,bandwidth:e.bandwidth,width:e.v.width,height:e.v.height,kind:n,encrypted:0<t.drmInfos.length,keyId:l,language:r,label:i,type:e.Y.contentType,primary:a,trickModeVideo:null,emsgSchemeIdUris:e.v.emsgSchemeIdUris,roles:o,channelsCount:e.v.dc,closedCaptions:s}},eu.$e=function(){this.g=null,Qr(this).then(function(e){this.a&&Pr(this,e)}.bind(this)).catch(function(e){this.a&&(e.severity=1,this.a.onError(e),Pr(this,0))}.bind(this))},eu.we=function(e,t,n){var r=Wu.Xa,i=n.getAttribute("schemeIdUri")||"",a=n.getAttribute("value")||"",o=Wu.F(n,"timescale",r)||1;Wu.M(n,"Event").forEach(function(n){var s=Wu.F(n,"presentationTime",r)||0,l=Wu.F(n,"duration",r)||0;s=s/o+e,l=s+l/o,null!=t&&(s=Math.min(s,e+t),l=Math.min(l,e+t)),n={schemeIdUri:i,value:a,startTime:s,endTime:l,id:n.getAttribute("id")||"",eventElement:n},this.a.onTimelineRegionAdded(n)}.bind(this))},eu.Fe=function(e,t,n){return e=ge(e,this.b.retryParameters),null!=t&&(e.headers.Range="bytes="+t+"-"+(null!=n?n:"")),t=this.a.networkingEngine.request(1,e),ce(this.f,t),t.promise.then(function(e){return e.data})},tc.mpd=kr,ec["application/dash+xml"]=kr,Hr.prototype.toString=function(){function e(e){return e.name+'="'+e.value+'"'}return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(e).join(","):"#"+this.name},Hr.prototype.getAttribute=function(e){var t=this.a.filter(function(t){return t.name==e});return t.length?t[0]:null};var nc="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),rc="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");S("shaka.net.DataUriPlugin",ai),ai.parse=function(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new q(2,1,1004,t);if(n=n.slice(1).join(":").split(","),2>n.length)throw new q(2,1,1004,t);var r=n[0];n=e.decodeURIComponent(n.slice(1).join(",")),r=r.split(";");var i=null;if(1<r.length&&(i=r[1]),"base64"==i)t=Fe(n).buffer;else{if(i)throw new q(2,1,1005,t);t=Me(n)}return{data:t,contentType:r[0]}},Ae("data",ai),S("shaka.hls.HlsParser",oi),eu=oi.prototype,eu.configure=function(e){this.g=e},eu.start=function(e,t){return this.c=t,this.l=e,Ri(this,e).then(function(t){return li(this,t.data,e).then(function(){return _i(this,this.i),this.m}.bind(this))}.bind(this))},eu.stop=function(){return this.g=this.c=null,this.w={},this.J={},this.m=null,this.h.destroy()},eu.update=function(){if(this.f!=lc.Ba){var e,t=[];for(e in this.a)t.push(si(this,this.a[e],e));return Promise.all(t)}},eu.onExpirationUpdated=function(){};var ic={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},ac={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};oi.prototype.U=function(){this.c&&(this.j=null,this.update().then(function(){_i(this,this.i)}.bind(this)).catch(function(e){this.c&&(e.severity=1,this.c.onError(e),_i(this,0))}.bind(this)))};var oc={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=Qi(e,"METHOD");return 0>["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t)?null:(t=Qi(e,"URI"),t=ai.parse(t),t=new Uint8Array(t.data),t=Be("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=Yr(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t)}},sc="VOD",lc={Ba:sc,kd:"EVENT",sc:"LIVE"};tc.m3u8=oi,ec["application/x-mpegurl"]=oi,ec["application/vnd.apple.mpegurl"]=oi,Ni.prototype.get=function(e,t){var n=this.a[e];return n?n.get(t):null},Oi.prototype.get=function(e){return this.a[e]},Li.prototype.destroy=function(){
var e=this.h.destroy();return this.u=this.w=this.a=this.h=null,null!=this.b&&(this.b.cancel(),this.b=null),e},Li.prototype.kb=function(){this.f=!0,this.l()},Li.prototype.l=function(){if(0!=this.a.readyState){if(this.a.seeking){if(!this.g)return}else this.g=!1;if(!this.a.paused){this.a.readyState!=this.m&&(this.c=!1,this.m=this.a.readyState);var e=this.s.smallGapLimit,t=this.a.currentTime,n=this.a.buffered;e:{if(n&&n.length&&!(1==n.length&&1e-6>n.end(0)-n.start(0))){var r=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(r=.5);for(var i=0;i<n.length;i++)if(n.start(i)>t&&(0==i||n.end(i-1)-t<=r)){r=i;break e}}r=null}if(null==r){if(n=this.a.currentTime,t=this.a.buffered,3>this.a.readyState&&0<this.a.playbackRate)if(this.j!=n)this.j=n,this.A=Date.now(),this.i=!1;else if(!this.i&&this.A<Date.now()-1e3)for(r=0;r<t.length;r++)if(n>=t.start(r)&&n<t.end(r)-.5){this.a.currentTime+=.1,this.j=this.a.currentTime,this.i=!0;break}}else if(0!=r||this.f){i=n.start(r);var a=this.w.qa();if(!(i>=a)){a=i-t,e=a<=e;var o=!1;.001>a||(e||this.c||(this.c=!0,t=new ae("largegap",{currentTime:t,gapSize:a}),t.cancelable=!0,this.u(t),this.s.jumpLargeGaps&&!t.defaultPrevented&&(o=!0)),!e&&!o)||(0!=r&&n.end(r-1),this.a.currentTime=i)}}}}},eu=xi.prototype,eu.destroy=function(){var e=this.c.destroy();return this.c=null,null!=this.b&&(this.b.cancel(),this.b=null),this.i=this.a=null,e},eu.fb=function(){return this.f},eu.ie=function(){var e=this.g||0>this.f?0:this.f;this.a.playbackRate&&this.a.playbackRate!=e&&Vi(this,this.a.playbackRate)},eu.Oc=function(){.001>Math.abs(this.a.currentTime-this.h)?this.Pc():(ye(this.c,this.a,"seeking",this.Pc.bind(this)),this.a.currentTime=0==this.a.currentTime?this.h:this.a.currentTime)},eu.Pc=function(){var e=this;ve(this.c,this.a,"seeking",function(){return e.i()})},eu=Hi.prototype,eu.destroy=function(){var e=Promise.all([this.b.destroy(),this.g.destroy()]);return this.g=this.b=null,null!=this.f&&(this.f.cancel(),this.f=null),this.j=this.h=this.a=this.c=null,e},eu.fb=function(){return this.b.fb()},eu.kb=function(){this.g.kb()},eu.he=function(){if(0!=this.c.readyState&&!this.c.paused){var e=this.c.currentTime,t=this.a.Qa(),n=this.a.qa();3>n-t&&(t=n-3),e<t&&(e=Ki(this,e),this.c.currentTime=e)}},eu.ke=function(){var e=this.g;e.g=!0,e.f=!1,e.c=!1;var t=Fi(this.b);if(e=Ki(this,t),.001<Math.abs(e-t)&&(t=(new Date).getTime()/1e3,!this.i||this.i<t-1))return this.i=t,void Ui(this.b,e);this.j()},Ji.prototype.destroy=function(){var e=this;return this.a?this.b:(this.a=!0,this.c().then(function(){e.b.resolve()},function(){e.b.resolve()}))},Wi.prototype.destroy=function(){return this.I.destroy()},Wi.prototype.s=function(e){if(!this.f.some(function(t){return t.info.schemeIdUri==e.schemeIdUri&&t.info.startTime==e.startTime&&t.info.endTime==e.endTime})){var t={info:e,status:1};this.f.push(t);var n=new ae("timelineregionadded",{detail:Zi(e)});this.h(n),this.m(!0,t)}},Wi.prototype.m=function(e,t){var n=t.info.startTime>this.a.currentTime?1:t.info.endTime<this.a.currentTime?3:2,r=2==t.status,i=2==n;n!=t.status&&((!e||r||i)&&(r||this.h(new ae("timelineregionenter",{detail:Zi(t.info)})),i||this.h(new ae("timelineregionexit",{detail:Zi(t.info)}))),t.status=n)},Wi.prototype.A=function(){this.g=null,Xi(this);var e=ln(this.b.a,this.a.currentTime);e!=this.i&&(-1!=this.i&&this.w(),this.i=e),e=ht(this.a.buffered,this.a.currentTime);var t=pt(this.a.buffered),n=this.b;t=t||0;var r=n.a.presentationTimeline,i=r.Ra();t=r.W()&&t>=i,r=n.b,r=!r.g||"ended"==r.g.readyState,n=t||r||n.c.ended,this.c?(t=Math.max(this.J,this.u.rebufferingGoal),(n||e>=t)&&0!=this.c&&(this.c=!1,this.l(!1))):!n&&.5>e&&1!=this.c&&(this.c=!0,this.l(!0)),this.f.forEach(this.m.bind(this,!1))},ea.prototype.destroy=function(){return this.a=this.b=this.c=null,Promise.resolve()},eu=ta.prototype,eu.destroy=function(){for(var e in this.c)Ma(this.c[e]);return this.g=this.c=this.i=this.h=this.m=this.b=this.a=null,this.f=!0,Promise.resolve()},eu.configure=function(e){this.g=e,this.A=new j({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},eu.init=function(){var e=ji(this.a.Ia);return e=this.a.Jc(this.b.periods[ln(this.b,e)]),e.variant||e.text?pa(this,e).then(function(){!this.f&&this.a&&this.a.$d&&this.a.$d()}.bind(this)):Promise.reject(new q(2,5,5005))},eu.bf=function(e){if(!this.f&&!e.Ha&&null!=e.xa&&!e.Ca)if(e.xa=null,e.ya)Ra(this,e,e.Mb,e.Bb);else{try{var t=Ea(this,e);null!=t&&(_a(this,e,t),e.ib=!1)}catch(e){return void Na(this,e)}t=Se(this.c),ka(this,e),t.every(function(e){return e.endOfStream})&&this.a.L.endOfStream().then(function(){if(!this.f){var e=this.a.L.S();e<this.b.presentationTimeline.S()&&this.b.presentationTimeline.oa(e)}}.bind(this))}},eu.ve=function(e,t,n,r){var i=r.reader.hc(),a=r.reader.hc(),o=r.reader.C(),s=r.reader.C(),l=r.reader.C(),u=r.reader.C();r=r.reader.Ja(r.reader.G.byteLength-r.reader.V()),e=e.startTime+t.startTime+s/o,-1!=n.indexOf(i)&&("urn:mpeg:dash:event:2012"==i?this.a.be():this.a.onEvent(new ae("emsg",{detail:{startTime:e,endTime:e+l/o,schemeIdUri:i,value:a,timescale:o,presentationTimeDelta:s,eventDuration:l,id:u,messageData:r}})))},S("shaka.net.HttpFetchPlugin",Oa),Oa.g=function(e,t,n,r,i){return u(function a(){var o,s,l,u,c,d;return w(a,function(a){switch(a.o){case 1:return o=Oa.f,p(a,2,3),g(a,o(e,n),5);case 5:return s=a.B,g(a,s.arrayBuffer(),6);case 6:l=a.B;case 3:E(a),clearTimeout(i),v(a,4);break;case 2:if(u=m(a),r.wc)throw new q(1,1,7001,e,t);if(r.gd)throw new q(1,1,1003,e,t);throw new q(1,1,1002,e,u,t);case 4:return c={},d=s.headers,d.forEach(function(e,t){c[t.trim()]=e}),a.return(Pa(c,l,s.status,e,s.url,t))}})})},Oa.isSupported=function(){return!(!e.fetch||!e.AbortController)},Oa.isSupported=Oa.isSupported,Oa.f=e.fetch,Oa.a=e.AbortController,Oa.b=e.Headers,Oa.isSupported()&&(Ae("http",Oa,2),Ae("https",Oa,2)),S("shaka.net.HttpXHRPlugin",La),La.c=e.XMLHttpRequest,Ae("http",La,1),Ae("https",La,1),xa.prototype.destroy=function(){this.h=!0;var e=this.c.catch(function(){});return this.c=Promise.resolve(),e},ja.prototype.abort=function(){try{this.c.abort()}catch(e){}return this.a.catch(function(){})},ja.prototype.store=function(){return this.b},ja.prototype.promise=function(){return this.a},Ya.prototype.destroy=function(){return Promise.all(this.a.map(function(e){return e.abort()}))},Ja.prototype.destroy=function(){var e=Se(this.a).map(function(e){return e.destroy()});return this.a={},Promise.all(e)},Ja.prototype.init=function(){var e=this;ke(uc,function(t,n){var r=n();r&&(e.a[t]=r)});var t=Se(this.a).map(function(e){return e.init()});return Promise.all(t)},S("shaka.offline.StorageMuxer.register",function(e,t){uc[e]=t}),S("shaka.offline.StorageMuxer.unregister",function(e){delete uc[e]});var uc={};eu=eo.prototype,eu.destroy=function(){return this.a.destroy()},eu.hasFixedKeySpace=function(){return!0},eu.addSegments=function(){return to("segment")},eu.removeSegments=function(e,t){return no(this,"segment",e,t)},eu.getSegments=function(e){return ro(this,"segment",e).then(function(e){return e.map(lo)})},eu.addManifests=function(){return to("manifest")},eu.updateManifestExpiration=function(e,t){var n=Ka(this.a,"manifest"),r=n.store(),i=new H;return r.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,r.put(n),i.resolve()):i.reject(new q(2,9,9012,"Could not find values for "+e))},n.promise().then(function(){return i})},eu.removeManifests=function(e,t){return no(this,"manifest",e,t)},eu.getManifests=function(e){return ro(this,"manifest",e).then(function(e){return e.map(io)})},eu.getAllManifests=function(){var e=qa(this.a,"manifest","readonly"),t={};return e.store().openCursor().onsuccess=function(e){(e=e.target.result)&&(t[e.key]=io(e.value),e.continue())},e.promise().then(function(){return t})},eu=Ao.prototype,eu.destroy=function(){return this.a.destroy()},eu.hasFixedKeySpace=function(){return this.f},eu.addSegments=function(e){return go(this,this.c,e)},eu.removeSegments=function(e,t){return po(this,this.c,e,t)},eu.getSegments=function(e){return fo(this,this.c,e)},eu.addManifests=function(e){return go(this,this.b,e)},eu.updateManifestExpiration=function(e,t){var n=Ka(this.a,this.b),r=n.store();return r.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,r.put(n,e))},n.promise()},eu.removeManifests=function(e,t){return po(this,this.b,e,t)},eu.getManifests=function(e){return fo(this,this.b,e)},eu.getAllManifests=function(){var e=qa(this.a,this.b,"readonly"),t={};return e.store().openCursor().onsuccess=function(e){(e=e.target.result)&&(t[e.key]=e.value,e.continue())},e.promise().then(function(){return t})},ho.prototype.init=function(){var t=this,n=new H,r=e.indexedDB.open("shaka_offline_db",3);return r.onsuccess=function(e){e=e.target.result,t.f=e;var r=e.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new eo(e):null,t.a=r,r=e.objectStoreNames,r=r.contains("manifest-v2")&&r.contains("segment-v2")?new Ao(e,"segment-v2","manifest-v2",!0):null,t.b=r,r=e.objectStoreNames,e=r.contains("manifest-v3")&&r.contains("segment-v3")?new Ao(e,"segment-v3","manifest-v3",!1):null,t.c=e,n.resolve()},r.onupgradeneeded=function(e){e=e.target.result;var t={autoIncrement:!0};e.createObjectStore("manifest-v3",t),e.createObjectStore("segment-v3",t)},r.onerror=function(e){n.reject(new q(2,9,9001,r.error)),e.preventDefault()},n},ho.prototype.destroy=function(){var e=this;return u(function t(){return w(t,function(t){switch(t.o){case 1:if(!e.a){t.O(2);break}return g(t,e.a.destroy(),2);case 2:if(!e.b){t.O(4);break}return g(t,e.b.destroy(),4);case 4:if(!e.c){t.O(6);break}return g(t,e.c.destroy(),6);case 6:e.f&&e.f.close(),t.o=0}})})},ho.prototype.getCells=function(){var e={};return this.a&&(e.v1=this.a),this.b&&(e.v2=this.b),this.c&&(e.v3=this.c),e},ho.prototype.erase=function(){var e=this;return u(function t(){return w(t,function(t){switch(t.o){case 1:if(!e.a){t.O(2);break}return g(t,e.a.destroy(),2);case 2:if(!e.b){t.O(4);break}return g(t,e.b.destroy(),4);case 4:if(!e.c){t.O(6);break}return g(t,e.c.destroy(),6);case 6:return e.f&&e.f.close(),g(t,mo(),8);case 8:return e.f=null,e.a=null,e.b=null,e.c=null,g(t,e.init(),0)}})})},uc.idb=function(){return e.indexedDB?new ho:null},Eo.prototype.ba=function(){return this.g},Eo.prototype.R=function(){return this.f},Eo.prototype.key=function(){return this.c},Eo.prototype.toString=function(){return this.b},eu=To.prototype,eu.configure=function(){},eu.start=function(e){var t=vo(e);if(this.a=t,null==t||"manifest"!=t.a)return Promise.reject(new q(2,1,9004,t));var n=new Ja;return zi([n],function(){return u(function e(){var r,i,a,o;return w(e,function(e){switch(e.o){case 1:return g(e,n.init(),2);case 2:return g(e,Za(n,t.ba(),t.R()),3);case 3:return r=e.B,g(e,r.getManifests([t.key()]),4);case 4:return i=e.B,a=i[0],o=new yo(t.ba(),t.R()),e.return(Io(o,a))}})})})},eu.stop=function(){return Promise.resolve()},eu.update=function(){},eu.onExpirationUpdated=function(e,t){var n=this.a,r=new Ja;return zi([r],function(){return u(function i(){var a,o,s,l,u;return w(i,function(i){switch(i.o){case 1:return g(i,r.init(),2);case 2:return g(i,Za(r,n.ba(),n.R()),3);case 3:return a=i.B,g(i,a.getManifests([n.key()]),4);case 4:if(o=i.B,s=o[0],l=0<=s.sessionIds.indexOf(e),u=void 0==s.expiration||s.expiration>t,l&&u)return g(i,a.updateManifestExpiration(n.key(),t),0);i.O(0)}})})}).catch(function(){})},ec["application/x-offline-manifest"]=To,S("shaka.offline.OfflineScheme",ko),ko.a=function(e){return e={uri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},Z(e)},ko.b=function(e,t){var n=new Ja;return X(zi([n],function(){return u(function e(){var r,i,a;return w(e,function(e){switch(e.o){case 1:return g(e,n.init(),2);case 2:return g(e,Za(n,t.ba(),t.R()),3);case 3:return r=e.B,g(e,r.getSegments([t.key()]),4);case 4:return i=e.B,a=i[0],e.return({uri:t,data:a.data,headers:{}})}})})}))},Ae("offline",ko),S("shaka.text.SimpleTextDisplayer",Qo),Qo.prototype.remove=function(e,t){return!!this.a&&(_o(this.a,function(n){return n.startTime<t&&n.endTime>e}),!0)},Qo.prototype.remove=Qo.prototype.remove,Qo.prototype.append=function(t){var n=Ro,r=Do,i=[];if(e.VTTRegion){var a=t.map(function(e){return e.region});a=a.filter(Au.ka);for(var o=this.b.offsetWidth,s=this.b.offsetHeight,l=0;l<a.length;l++){var u=n(a[l],o,s);i.push(u)}}var c=[];for(n=0;n<t.length;n++)(a=r(t[n],i))&&c.push(a);c.slice().sort(function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:c.indexOf(t)-c.indexOf(e)}).forEach(function(e){this.a.addCue(e)}.bind(this))},Qo.prototype.append=Qo.prototype.append,Qo.prototype.destroy=function(){return this.a&&_o(this.a,function(){return!0}),this.b=this.a=null,Promise.resolve()},Qo.prototype.destroy=Qo.prototype.destroy,Qo.prototype.isTextVisible=function(){return"showing"==this.a.mode},Qo.prototype.isTextVisible=Qo.prototype.isTextVisible,Qo.prototype.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},Qo.prototype.setTextVisibility=Qo.prototype.setTextVisibility,T(Oo,se),S("shaka.Player",Oo),Oo.prototype.destroy=function(){var e=this;return u(function t(){return w(t,function(t){switch(t.o){case 1:return g(t,e.detach(),2);case 2:return g(t,e.za.destroy(),0)}})})},Oo.prototype.destroy=Oo.prototype.destroy,Oo.version="v2.5.0-beta";var cc=["output-restricted","internal-error"],dc={};Oo.registerSupportPlugin=function(e,t){dc[e]=t},Oo.isBrowserSupported=function(){return!!(e.Promise&&e.Uint8Array&&Array.prototype.forEach&&e.MediaSource&&MediaSource.isTypeSupported&&e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)},Oo.probeSupport=function(){return lt().then(function(e){e={manifest:Cr(),media:kt(),drm:e};for(var t in dc)e[t]=dc[t]();return e})},Oo.prototype.zb=function(e,t){var n=this;return u(function r(){return w(r,function(r){switch(r.o){case 1:if(void 0===t&&(t=!0),!n.f){r.O(2);break}return g(r,n.detach(),2);case 2:if(n.f=e,ve(n.s,n.f,"error",n.oe.bind(n)),t)return n.j=new St(n.f),g(r,n.j.j,0);r.O(0)}})})},Oo.prototype.attach=Oo.prototype.zb,Oo.prototype.detach=function(){var e=this;return u(function t(){return w(t,function(t){switch(t.o){case 1:return e.f?g(t,e.rb(!1),2):t.return();case 2:e.s.ta(e.f,"error"),e.f=null,t.o=0}})})},Oo.prototype.detach=Oo.prototype.detach,Oo.prototype.load=function(e,t,n){t=void 0===t?null:t;var r=this;return u(function i(){var a,o,s,l,u,c,d,A,f,E,v,y,I,b,C,B;return w(i,function(i){switch(i.o){case 1:if(!r.f)throw new q(2,7,7002);return o=new H,s=function(){return a=new q(2,7,7e3),o},r.dispatchEvent(new ae("loading")),l=Date.now(),p(i,2),u=r.rb(),r.Na=s,g(i,u,4);case 4:if(r.l=Zo(),ve(r.s,r.f,"playing",r.sb.bind(r)),ve(r.s,r.f,"pause",r.sb.bind(r)),ve(r.s,r.f,"ended",r.sb.bind(r)),c=r.c.abrFactory,r.h=new c,r.h.configure(r.c.abr),d=r.c.textDisplayFactory,r.w=new d,r.w.setTextVisibility(r.eb),a)throw a;if(f=A=null,n&&("string"==typeof n?f=n:(_("Loading with a manifest parser factory is deprecated. Instead please register a manifest parser and pass in the mime type."),A=n)),E=r,A){v=new A,i.O(5);break}return g(i,xo(r,e,f),6);case 6:v=i.B;case 5:return E.m=v,r.m.configure(r.c.manifest),r.bb=e,y=r,g(i,Fo(r),7);case 7:if(y.b=i.B,a)throw a;return Uo(r),r.i=new je({Ua:r.J,onError:r.ab.bind(r),Hb:r.ae.bind(r),onExpirationUpdated:r.Yd.bind(r),onEvent:r.qb.bind(r)}),r.i.configure(r.c.drm),g(i,Ke(r.i,cn(r.b),r.b.offlineSessionIds),8);case 8:if(a)throw a;return r.Bc(r.b.periods),r.ub=Date.now()/1e3,r.N=r.c.preferredAudioLanguage,r.ha=r.c.preferredTextLanguage,r.X=r.c.preferredAudioChannelCount,os(r.b.presentationTimeline,r.c.playRangeStart,r.c.playRangeEnd,r.W()),g(i,r.i.zb(r.f),9);case 9:if(a)throw a;return r.h.init(r.Ve.bind(r)),r.j||(r.j=new St(r.f)),r.j.s=r.w,r.g=new Hi(r.f,r.b.presentationTimeline,r.b.minBufferTime||0,r.c.streaming,t,r.Ue.bind(r),r.qb.bind(r)),r.A=new Wi(r.f,r.b.minBufferTime,r.c.streaming,r.dd.bind(r),r.qb.bind(r),r.Te.bind(r),new ea(r.f,r.j,r.b)),r.a=new ta(r.b,{Ia:r.g,L:r.j,Ua:r.J,Jc:r.Wd.bind(r),Ic:r.rd.bind(r),onError:r.ab.bind(r),onEvent:r.qb.bind(r),be:r.ce.bind(r),kb:r.le.bind(r)}),r.a.configure(r.c.streaming),Vo(r),r.dispatchEvent(new ae("streaming")),g(i,r.a.init(),10);case 10:if(a)throw a;if(r.c.streaming.startAtSegmentBoundary&&(I=es(r,ji(r.g)),Ui(r.g.b,I)),r.b.periods.forEach(r.Rb.bind(r)),is(r),rs(r),b=na(r.a),C=$t(b.variants,r.N,r.Ma,r.X),r.h.setVariants(C),b.variants.some(function(e){return e.primary}),r.wb.forEach(r.A.s.bind(r.A)),r.wb=[],ye(r.s,r.f,"loadeddata",function(){this.l.loadLatency=(Date.now()-l)/1e3}.bind(r)),a)throw a;r.Na=null,h(i);break;case 2:return B=m(i),o.resolve(),r.Na==s&&(r.Na=null,r.dispatchEvent(new ae("unloading"))),a?i.return(Promise.reject(a)):i.return(Promise.reject(B))}})})},Oo.prototype.load=Oo.prototype.load,Oo.prototype.configure=function(e,t){if(2==arguments.length&&"string"==typeof e){for(var n=e,r={},i=r,a=0,o=0;!(0>(a=n.indexOf(".",a)));)0!=a&&"\\"==n[a-1]||(o=n.substring(o,a).replace(/\\\./g,"."),i[o]={},i=i[o],o=a+1),a+=1;i[n.substring(o).replace(/\\\./g,".")]=t,e=r}return n=Mo(this.c,e,Wo(this),zo(),""),Ho(this),n},Oo.prototype.configure=Oo.prototype.configure,Oo.prototype.getConfiguration=function(){var e=Wo(this);return Mo(e,this.c,Wo(this),zo(),""),e},Oo.prototype.getConfiguration=Oo.prototype.getConfiguration,Oo.prototype.Ge=function(){this.c=Wo(this),Ho(this)},Oo.prototype.resetConfiguration=Oo.prototype.Ge,Oo.prototype.Id=function(){return this.f},Oo.prototype.getMediaElement=Oo.prototype.Id,Oo.prototype.Pa=function(){return this.J},Oo.prototype.getNetworkingEngine=Oo.prototype.Pa,Oo.prototype.Sb=function(){return this.bb},Oo.prototype.getAssetUri=Oo.prototype.Sb,Oo.prototype.Hd=function(){return _('"getManifestUri" is deprecated and will be removed in v2.6. Please use "getAssetUri" instead.'),this.bb},Oo.prototype.getManifestUri=Oo.prototype.Hd,Oo.prototype.W=function(){return!!this.b&&this.b.presentationTimeline.W()},Oo.prototype.isLive=Oo.prototype.W,Oo.prototype.Ea=function(){return!!this.b&&this.b.presentationTimeline.Ea()},Oo.prototype.isInProgress=Oo.prototype.Ea,Oo.prototype.Td=function(){if(!this.b||!this.b.periods.length)return!1;var e=this.b.periods[0].variants;return!!e.length&&!e[0].video},Oo.prototype.isAudioOnly=Oo.prototype.Td,Oo.prototype.Ie=function(){var e=0,t=0;return this.b&&(t=this.b.presentationTimeline,e=t.Qa(),t=t.qa()),{start:e,end:t}},Oo.prototype.seekRange=Oo.prototype.Ie,Oo.prototype.keySystem=function(){return this.i?this.i.keySystem():""},Oo.prototype.keySystem=Oo.prototype.keySystem,Oo.prototype.drmInfo=function(){return this.i?this.i.b:null},Oo.prototype.drmInfo=Oo.prototype.drmInfo,Oo.prototype.Fb=function(){return this.i?this.i.Fb():1/0},Oo.prototype.getExpiration=Oo.prototype.Fb,Oo.prototype.Gc=function(){return this.xb},Oo.prototype.isBuffering=Oo.prototype.Gc,Oo.prototype.rb=function(e){var t=this;return u(function n(){return w(n,function(n){switch(n.o){case 1:return t.za.a?n.return():(void 0===e&&(e=!0),t.dispatchEvent(new ae("unloading")),g(n,Lo(t),2));case 2:return t.yb||(t.yb=Jo(t).then(function(){t.dd(!1),t.yb=null})),g(n,t.yb,3);case 3:if(e)return t.j=new St(t.f),g(n,t.j.j,0);n.O(0)}})})},Oo.prototype.unload=Oo.prototype.rb,Oo.prototype.fb=function(){return this.g?this.g.fb():0},Oo.prototype.getPlaybackRate=Oo.prototype.fb,Oo.prototype.df=function(e){this.g&&Vi(this.g.b,e),this.a&&ua(this.a,1!=e)},Oo.prototype.trickPlay=Oo.prototype.df,Oo.prototype.sd=function(){this.g&&Vi(this.g.b,1),this.a&&ua(this.a,!1)},Oo.prototype.cancelTrickPlay=Oo.prototype.sd,Oo.prototype.Qd=function(){if(!this.b||!this.g)return[];var e=ln(this.b,ji(this.g));return zt(this.b.periods[e],this.u.get(e,"audio"),this.u.get(e,"video"))},Oo.prototype.getVariantTracks=Oo.prototype.Qd,Oo.prototype.Pd=function(){if(!this.b||!this.g)return[];var e=ln(this.b,ji(this.g));if(!this.u.get(e,"text")){var t=nn(this.b.periods[e].textStreams,this.ha,this.cb);t.length&&Pi(this.u,e,"text",t[0].id)}return Wt(this.b.periods[e],this.u.get(e,"text")).filter(function(e){return 0>this.Ob.indexOf(e.id)}.bind(this))},Oo.prototype.getTextTracks=Oo.prototype.Pd,Oo.prototype.Me=function(e){if(this.a){var t=na(this.a);e:{for(var n=0;n<t.textStreams.length;n++)if(t.textStreams[n].id==e.id){e=t.textStreams[n];break e}e=null}e&&(this.j.l=!1,Ko(this,e,!1),t=e,this.Aa?this.I=t:da(this.a,t,!0,0),this.ha=e.language)}},Oo.prototype.selectTextTrack=Oo.prototype.Me,Oo.prototype.Ke=function(){this.j.l=!0,la(this.a)},Oo.prototype.selectEmbeddedTextTrack=Oo.prototype.Ke,Oo.prototype.jf=function(){return!!this.j&&this.j.l},Oo.prototype.usingEmbeddedTextTrack=Oo.prototype.jf,Oo.prototype.Ne=function(e,t,n){if(n=void 0===n?0:n,this.a){this.c.abr.enabled&&_("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var r=na(this.a);e:{for(var i=0;i<r.variants.length;i++)if(r.variants[i].id==e.id){e=r.variants[i];break e}e=null}e&&Zt(e)&&(Yo(this,e,!1),Xo(this,e,t,n),this.N=e.language,e.audio&&e.audio.channelsCount&&(this.X=e.audio.channelsCount),t=$t(r.variants,this.N,this.Ma,this.X),this.h.setVariants(t))}},Oo.prototype.selectVariantTrack=Oo.prototype.Ne,Oo.prototype.Cd=function(){if(!this.a)return[];var e=na(this.a);return e=Xt(e.variants).map(function(e){return e.audio}).filter(Au.ka),jo(e)},Oo.prototype.getAudioLanguagesAndRoles=Oo.prototype.Cd,Oo.prototype.Od=function(){return this.a?jo(na(this.a).textStreams):[]},Oo.prototype.getTextLanguagesAndRoles=Oo.prototype.Od,Oo.prototype.Bd=function(){return this.a?Xt(na(this.a).variants).map(function(e){return e.language}).filter(Au.ka):[]},Oo.prototype.getAudioLanguages=Oo.prototype.Bd,Oo.prototype.Nd=function(){return this.a?na(this.a).textStreams.map(function(e){return e.language}).filter(Au.ka):[]},Oo.prototype.getTextLanguages=Oo.prototype.Nd,Oo.prototype.Je=function(e,t){if(this.a){var n=na(this.a);this.N=e,this.Ma=t||"",ns(this,n)}},Oo.prototype.selectAudioLanguage=Oo.prototype.Je,Oo.prototype.Le=function(e,t){if(this.a){var n=na(this.a);this.ha=e,this.cb=t||"",ns(this,n)}},Oo.prototype.selectTextLanguage=Oo.prototype.Le,Oo.prototype.Yb=function(){return this.w?this.w.isTextVisible():this.eb},Oo.prototype.isTextTrackVisible=Oo.prototype.Yb,Oo.prototype.Re=function(e){this.w&&this.w.setTextVisibility(e),this.eb=e,as(this),!this.c.streaming.alwaysStreamText&&this.a&&(e?(e=na(this.a),(e=nn(e.textStreams,this.ha,this.cb)[0])&&sa(this.a,e,!0)):la(this.a))},Oo.prototype.setTextTrackVisibility=Oo.prototype.Re,Oo.prototype.Kd=function(){return this.b?new Date(1e3*this.b.presentationTimeline.b+1e3*this.f.currentTime):null},Oo.prototype.getPlayheadTimeAsDate=Oo.prototype.Kd,Oo.prototype.Md=function(){return this.b?new Date(1e3*this.b.presentationTimeline.b):null},Oo.prototype.getPresentationStartTimeAsDate=Oo.prototype.Md,Oo.prototype.Tb=function(){return this.j?this.j.Tb():{total:[],audio:[],video:[],text:[]}},Oo.prototype.getBufferedInfo=Oo.prototype.Tb,Oo.prototype.getStats=function(){$o(this),this.sb();var e=null,t=null,n=this.f;if(n=n&&n.getVideoPlaybackQuality?n.getVideoPlaybackQuality():{},this.g&&this.b){var r=ln(this.b,ji(this.g)),i=this.b.periods[r];null!=this.u.a[r]&&(t=sn(this.u.get(r,"audio"),this.u.get(r,"video"),i.variants),e=t.video||{})}return e||(e={}),t||(t={}),{width:e.width||0,height:e.height||0,streamBandwidth:t.bandwidth||0,decodedFrames:Number(n.totalVideoFrames),droppedFrames:Number(n.droppedVideoFrames),estimatedBandwidth:this.h?this.h.getBandwidthEstimate():NaN,loadLatency:this.l.loadLatency,playTime:this.l.playTime,bufferingTime:this.l.bufferingTime,switchHistory:le(this.l.switchHistory),stateHistory:le(this.l.stateHistory)}},Oo.prototype.getStats=Oo.prototype.getStats,Oo.prototype.addTextTrack=function(e,t,n,r,i,a){if(!this.a)return Promise.reject();var o=na(this.a),s=this.b.periods.indexOf(o)+1,l=(s>=this.b.periods.length?this.b.presentationTimeline.S():this.b.periods[s].startTime)-o.startTime;if(1/0==l)return Promise.reject(new q(1,4,4033));var u={id:this.nd++,originalId:null,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1!=t?null:new Hn(1,0,l,function(){return[e]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:r,codecs:i||"",kind:n,encrypted:!1,keyId:null,language:t,label:a||null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,closedCaptions:{}};return this.Ob.push(u.id),o.textStreams.push(u),sa(this.a,u,this.eb).then(function(){if(!this.za.a){var e=this.b.periods.indexOf(o),r=oa(this.a,"text");return r&&Pi(this.u,e,"text",r.id),re(this.Ob,u.id),ns(this,o),is(this),{id:u.id,active:!1,type:"text",bandwidth:0,language:t,label:a||null,kind:n,width:null,height:null}}}.bind(this))},Oo.prototype.addTextTrack=Oo.prototype.addTextTrack,Oo.prototype.mc=function(e,t){this.vb.width=e,this.vb.height=t},Oo.prototype.setMaxHardwareResolution=Oo.prototype.mc,Oo.prototype.Yc=function(){if(this.a){var e=this.a;if(e.f)e=!1;else if(e.l)e=!1;else{for(var t in e.c){var n=e.c[t];n.ib&&(n.ib=!1,_a(e,n,.1))}e=!0}}else e=!1;return e},Oo.prototype.retryStreaming=Oo.prototype.Yc,Oo.prototype.Gd=function(){return this.b},Oo.prototype.getManifest=Oo.prototype.Gd,eu=Oo.prototype,eu.Bc=function(e){e.forEach(jt.bind(null,this.i,this.a?ia(this.a):null,this.a?aa(this.a):null));var t=ie(e,function(e){return e.variants.some(Zt)});if(0==t)throw new q(2,4,4032);if(t<e.length)throw new q(2,4,4011);e.forEach(function(e){Ht(e.variants,this.c.restrictions,this.vb)&&this.a&&na(this.a)==e&&is(this),ss(this,e.variants)}.bind(this))},eu.Rb=function(e){jt(this.i,this.a?ia(this.a):null,this.a?aa(this.a):null,e);var t=e.variants;if(!t.some(Zt))throw new q(2,4,4011);ss(this,e.variants),Ht(t,this.c.restrictions,this.vb)&&this.a&&na(this.a)==e&&is(this)},eu.dd=function(e){if($o(this),this.xb=e,this.sb(),this.g){var t=this.g.b;e!=t.g&&(t.g=e,Vi(t,t.f))}this.dispatchEvent(new ae("buffering",{buffering:e}))},eu.Te=function(){is(this)},eu.sb=function(){if(!this.za.a){var e=this.xb?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",t=Date.now()/1e3;if(this.l.stateHistory.length){var n=this.l.stateHistory[this.l.stateHistory.length-1];if(n.duration=t-n.timestamp,e==n.state)return}this.l.stateHistory.push({timestamp:t,state:e,duration:0})}},eu.Ue=function(){if(this.A){var e=this.A;e.f.forEach(e.m.bind(e,!0))}this.a&&Aa(this.a)},eu.Wd=function(e){this.Aa=!0,this.h.disable();var t={audio:!1,text:!1},n=$t(e.variants,this.N,this.Ma,this.X,t),r=nn(e.textStreams,this.ha,this.cb,t);if(n=ts(this,e,n),r=r[0]||null,this.U){e:{for(var i=this.b,a=0;a<i.periods.length;++a)for(var o=i.periods[a],s=0;s<o.variants.length;++s)if(o.variants[s]==this.U){i=a;break e}i=-1}this.b.periods[i]==e&&(n=this.U),this.U=null}return this.I&&(this.b.periods[un(this.b,this.I)]==e&&(r=this.I),this.I=null),n&&Yo(this,n,!0),r&&(Ko(this,r,!0),!ra(this.a)&&n&&n.audio&&t.text&&r.language!=n.audio.language&&(this.w.setTextVisibility(!0),as(this))),this.c.streaming.alwaysStreamText||this.Yb()?{variant:n,text:r}:{variant:n,text:null}},eu.rd=function(){this.Aa=!1,this.c.abr.enabled&&this.h.enable(),this.U&&(ca(this.a,this.U,this.uc,this.tc),this.U=null),this.I&&(da(this.a,this.I,!0,0),this.I=null)},eu.ce=function(){this.m&&this.m.update&&this.m.update()},eu.le=function(){this.g&&this.g.kb()},eu.Ve=function(e,t,n){t=void 0!==t&&t,n=void 0===n?0:n,Yo(this,e,!0),this.a&&(ca(this.a,e,t,n),rs(this))},eu.ab=function(e){if(!this.za.a){var t=new ae("error",{detail:e});this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)}},eu.qb=function(e){this.dispatchEvent(e)},eu.oe=function(){if(this.f.error){var e=this.f.error.code;if(1!=e){var t=this.f.error.msExtendedCode;t&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),this.ab(new q(2,3,3016,e,t,this.f.error.message))}}},eu.ae=function(e){var t=na(this.a),n=!1,r=Object.keys(e),i=1==r.length&&"00"==r[0];r.length&&t.variants.forEach(function(t){dn(t).forEach(function(r){var a=t.allowedByKeySystem;r.keyId&&(r=e[i?"00":r.keyId],t.allowedByKeySystem=!!r&&0>cc.indexOf(r)),a!=t.allowedByKeySystem&&(n=!0)})}),(r=on(ia(this.a),aa(this.a),t.variants))&&!r.allowedByKeySystem&&ns(this,t),n&&(is(this),t=$t(t.variants,this.N,this.Ma,this.X),this.h.setVariants(t))},eu.Yd=function(e,t){this.m&&this.m.onExpirationUpdated&&this.m.onExpirationUpdated(e,t),this.dispatchEvent(new ae("expirationupdated"))},vs.prototype.add=function(e){Is(this,e)||this.a.push(e)},S("shaka.offline.Storage",Cs),Cs.support=Bs,Cs.prototype.destroy=function(){return this.h.destroy()},Cs.prototype.destroy=Cs.prototype.destroy,Cs.prototype.configure=function(e){var t=!1;null!=e.trackSelectionCallback&&(t=!0,e.offline=e.offline||{},e.offline.trackSelectionCallback=e.trackSelectionCallback),null!=e.progressCallback&&(t=!0,e.offline=e.offline||{},e.offline.progressCallback=e.progressCallback),null!=e.usePersistentLicense&&(t=!0,e.offline=e.offline||{},e.offline.usePersistentLicense=e.usePersistentLicense),t&&_("Storage.configure should now be passed a player configuration structure. Using a non-player configuration will be deprecated in v2.6."),Mo(this.a,e,No(),{},"")},Cs.prototype.configure=Cs.prototype.configure,Cs.prototype.Pa=function(){return this.b},Cs.prototype.getNetworkingEngine=Cs.prototype.Pa,Cs.prototype.store=function(e,t,n){var r=this,i=null,a=null;return n&&("string"==typeof n?a=n:(_("Loading with a manifest parser factory is deprecated. Instead please register a manifest parser and pass in the mime type."),i=n)),Us(this,ws(this,e,t||{},function(){return u(function t(){var n,o;return w(t,function(t){switch(t.o){case 1:if(i){n=new i,t.O(2);break}return g(t,Vs(r,e,a),3);case 3:n=t.B;case 2:return o=n,o.configure(r.a.manifest),t.return(o)}})})}))},Cs.prototype.store=Cs.prototype.store,Cs.prototype.remove=function(e){return Us(this,Ts(this,e))},Cs.prototype.remove=Cs.prototype.remove,Cs.prototype.list=function(){return Us(this,Ds())},Cs.prototype.list=Cs.prototype.list,Cs.deleteAll=function(e){var t=e.Pa();return e=e.getConfiguration(),Hs(t,e.drm)},dc.offline=Bs,S("shaka.polyfill.installAll",function(){for(var e=0;e<Ac.length;++e)Ac[e].pd()});var Ac=[];S("shaka.polyfill.register",Js),Js(function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,t=Document.prototype,t.exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",zs),document.addEventListener("webkitfullscreenerror",zs),document.addEventListener("mozfullscreenchange",zs),document.addEventListener("mozfullscreenerror",zs),document.addEventListener("MSFullscreenChange",zs),document.addEventListener("MSFullscreenError",zs)}}),Js(function(){var t=navigator.userAgent;t&&0<=t.indexOf("CrKey")&&delete e.indexedDB});var gc;Js(function(){0>navigator.userAgent.indexOf("Trident/")||HTMLInputElement.prototype.addEventListener==Ws||(gc=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Ws)}),Js(function(){}),Js(function(){if(e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)rl();else if(navigator.vendor&&0<=navigator.vendor.indexOf("Apple")){var t=navigator.appVersion;nl(),0<=t.indexOf("Version/8")?e.MediaSource=null:0<=t.indexOf("Version/9")?Zs():0<=t.indexOf("Version/10")?(Zs(),
$s()):0<=t.indexOf("Version/11")&&(Zs(),Xs())}}),il.prototype.c=function(e){if(!(1<e.version)){var t=Ve(e.reader.Ja(16)),n=[];if(0<e.version)for(var r=e.reader.C(),i=0;i<r;++i){var a=Ve(e.reader.Ja(16));n.push(a)}r=e.reader.C(),e.reader.H(r),this.b.push.apply(this.b,n),this.f.push(t),this.a.push({start:e.start,end:e.start+e.size-1})}},ol.prototype.createMediaKeys=function(){var e=new ll(this.keySystem);return Promise.resolve(e)},ol.prototype.getConfiguration=function(){return this.a},ll.prototype.createSession=function(e){if("temporary"!=(e=e||"temporary"))throw new TypeError("Session type "+e+" is unsupported on this platform.");return new cl(this.a,e)},ll.prototype.setServerCertificate=function(){return Promise.resolve(!1)},T(cl,se),eu=cl.prototype,eu.generateRequest=function(e,t){this.a=new H;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t),null),ve(this.f,this.c,"mskeymessage",this.ge.bind(this)),ve(this.f,this.c,"mskeyadded",this.ee.bind(this)),ve(this.f,this.c,"mskeyerror",this.fe.bind(this)),gl(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},eu.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},eu.update=function(e){this.b=new H;try{this.c.update(new Uint8Array(e))}catch(e){this.b.reject(e)}return this.b},eu.close=function(){try{this.c.close(),this.closed.resolve(),Ie(this.f)}catch(e){this.closed.reject(e)}return this.closed},eu.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},eu.ge=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new ae("message",{messageType:void 0==this.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message.buffer}))},eu.ee=function(){this.a?(gl(this,"usable"),this.a.resolve(),this.a=null):this.b&&(gl(this,"usable"),this.b.resolve(),this.b=null)},eu.fe=function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:gl(this,"output-not-allowed");break;default:gl(this,"internal-error")}};var pc;eu=pl.prototype,eu.forEach=function(e){this.a&&e(this.a,pc)},eu.get=function(e){if(this.has(e))return this.a},eu.has=function(e){var t=pc;return!(!this.a||!Ge(new Uint8Array(e),new Uint8Array(t)))},eu.entries=function(){},eu.keys=function(){},eu.values=function(){},Js(function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(pc=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=sl,e.MediaKeys=ll,e.MediaKeySystemAccess=ol,navigator.requestMediaKeySystemAccess=al)}),ml.prototype.createSession=function(){},ml.prototype.setServerCertificate=function(){},El.prototype.getConfiguration=function(){},El.prototype.createMediaKeys=function(){},Js(function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=fl,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=hl,e.MediaKeys=ml,e.MediaKeySystemAccess=El)},-10);var fc="";bl.prototype.createMediaKeys=function(){var e=new Cl(this.a);return Promise.resolve(e)},bl.prototype.getConfiguration=function(){return this.b},eu=Cl.prototype,eu.createSession=function(e){if("temporary"!=(e=e||"temporary")&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.b||document.createElement("video");return t.src||(t.src="about:blank"),e=new Sl(t,this.g,e),this.c.push(e),e},eu.setServerCertificate=function(){return Promise.resolve(!1)},eu.se=function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="webm",t.initData=e.initData,this.b.dispatchEvent(t)},eu.re=function(e){var t=wl(this,e.sessionId);t&&(e=new ae("message",{messageType:void 0==t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e))},eu.pe=function(e){(e=wl(this,e.sessionId))&&(kl(e,"usable"),e.a&&e.a.resolve(),e.a=null)},eu.qe=function(e){var t=wl(this,e.sessionId);if(t){var n=Error("EME v0.1b key error");n.errorCode=e.errorCode,n.errorCode.systemCode=e.systemCode,!e.sessionId&&t.b?(n.method="generateRequest",45==e.systemCode&&(n.message="Unsupported session type."),t.b.reject(n),t.b=null):e.sessionId&&t.a?(n.method="update",t.a.reject(n),t.a=null):(n=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?kl(t,"output-restricted"):1==n?kl(t,"expired"):kl(t,"internal-error"))}},T(Sl,se),eu=Sl.prototype,eu.oc=function(e,t){if(this.a)this.a.then(this.oc.bind(this,e,t)).catch(this.oc.bind(this,e,t));else{if(this.a=e,"webkit-org.w3.clearkey"==this.c){var n=De(t),r=JSON.parse(n);"oct"!=r.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=Fe(r.keys[0].k),r=Fe(r.keys[0].kid)}else n=new Uint8Array(t),r=null;var i=vl("addKey");try{this.f[i](this.c,n,r,this.sessionId)}catch(e){this.a.reject(e),this.a=null}}},eu.generateRequest=function(e,t){return Tl(this,t,null)},eu.load=function(e){return"persistent-license"==this.g?Tl(this,null,e):Promise.reject(Error("Not a persistent session."))},eu.update=function(e){var t=new H;return this.oc(t,e),t},eu.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=vl("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},eu.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()};var hc;eu=Ql.prototype,eu.forEach=function(e){this.a&&e(this.a,hc)},eu.get=function(e){if(this.has(e))return this.a},eu.has=function(e){var t=hc;return!(!this.a||!Ge(new Uint8Array(e),new Uint8Array(t)))},eu.entries=function(){},eu.keys=function(){},eu.values=function(){},Js(function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)fc="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;hc=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=yl,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Il,e.MediaKeys=Cl,e.MediaKeySystemAccess=bl}}),Js(function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e.catch(function(){}),e}}}),Js(function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Dl)}}),Js(function(){if(!e.VTTCue&&e.TextTrackCue){var t=TextTrackCue.length;if(3==t)e.VTTCue=Rl;else if(6==t)e.VTTCue=_l;else{try{var n=!!Rl(1,2,"")}catch(e){n=!1}n&&(e.VTTCue=Rl)}}}),Ml.prototype.parseInit=function(){},Ml.prototype.parseMedia=function(e,t){var n=De(e),r=[],i=new DOMParser,a=null;try{a=i.parseFromString(n,"text/xml")}catch(e){throw new q(2,2,2005)}if(a){if(!(i=a.getElementsByTagName("tt")[0]))throw new q(2,2,2005);a=i.getAttribute("ttp:frameRate");var o=i.getAttribute("ttp:subFrameRate"),s=i.getAttribute("ttp:frameRateMultiplier"),l=i.getAttribute("ttp:tickRate");if("default"!=(n=i.getAttribute("xml:space")||"default")&&"preserve"!=n)throw new q(2,2,2005);n="default"==n,a=new Yl(a,o,s,l),o=Nl(i.getElementsByTagName("styling")[0]),s=Nl(i.getElementsByTagName("layout")[0]),l=[];for(var u=0;u<s.length;u++){var c=s[u],d=o,A=new vt,g=c.getAttribute("xml:id");if(g){A.id=g;var p;(p=Ul(c,d,"tts:extent"))&&null!=(p=(g=mc.exec(p))||vc.exec(p))&&(A.width=Number(p[1]),A.height=Number(p[2]),A.widthUnits=g?Du:0,A.heightUnits=g?Du:0),(c=Ul(c,d,"tts:origin"))&&null!=(p=(g=mc.exec(c))||vc.exec(c))&&(A.viewportAnchorX=Number(p[1]),A.viewportAnchorY=Number(p[2]),A.viewportAnchorUnits=g?Du:0)}else A=null;A&&l.push(A)}for(i=Nl(i.getElementsByTagName("body")[0]),u=0;u<i.length;u++)(A=Ol(i[u],t.periodStart,a,o,s,l,n))&&r.push(A)}return r};var mc=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,Ec=/^(\d+px|\d+em)$/,vc=/^(\d+)px (\d+)px$/,yc=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Ic=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,bc=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,Cc=/^(\d*(?:\.\d*)?)f$/,Bc=/^(\d*(?:\.\d*)?)t$/,wc=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,Sc={left:"start",center:wu,right:"end",start:"start",end:"end"},Tc={left:"line-left",center:"center",right:"line-right"};_u["application/ttml+xml"]=Ml,Kl.prototype.parseInit=function(e){var t=!1;if((new Kn).D("moov",qn).D("trak",qn).D("mdia",qn).D("minf",qn).D("stbl",qn).$("stsd",Jn).D("stpp",function(e){t=!0,e.parser.stop()}).parse(e),!t)throw new q(2,2,2007)},Kl.prototype.parseMedia=function(e,t){var n=!1,r=[];if((new Kn).D("mdat",zn(function(e){n=!0,r=r.concat(this.a.parseMedia(e,t))}.bind(this))).parse(e),!n)throw new q(2,2,2007);return r},_u['application/mp4; codecs="stpp"']=Kl,_u['application/mp4; codecs="stpp.TTML.im1t"']=Kl,ql.prototype.parseInit=function(){},ql.prototype.parseMedia=function(e,t){var n=De(e);if(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),n=n.split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new q(2,2,2e3);var r=t.segmentStart;if(null==r&&(r=0,0<=n[0].indexOf("X-TIMESTAMP-MAP"))){var i=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);i&&a&&(r=Wl(new Zr(i[1])),r=t.periodStart+(Number(a[1])/9e4-r))}a=[];var o=n[0].split("\n");for(i=1;i<o.length;i++)if(/^Region:/.test(o[i])){var s=new Zr(o[i]),l=new vt;ei(s),Xr(s);for(var u=ei(s);u;){var c=l,d=u;(u=/^id=(.*)$/.exec(d))?c.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(d))?c.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(d))?(c.height=Number(u[1]),c.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(c.regionAnchorX=Number(u[1]),c.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(d))?(c.viewportAnchorX=Number(u[1]),c.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(d)&&(c.scroll="up"),Xr(s),u=ei(s)}a.push(l)}for(i=[],s=1;s<n.length;s++){if(o=n[s].split("\n"),u=o,d=r,o=a,1==u.length&&!u[0]||/^NOTE($|[ \t])/.test(u[0])||"STYLE"==u[0])o=null;else{l=null,0>u[0].indexOf("--\x3e")&&(l=u[0],u.splice(0,1)),c=new Zr(u[0]);var A=Wl(c),g=$r(c,/[ \t]+--\x3e[ \t]+/g),p=Wl(c);if(null==A||null==g||null==p)throw new q(2,2,2001);for(u=new Et(A+d,p+d,u.slice(1).join("\n").trim()),Xr(c),d=ei(c);d;)Jl(u,d,o),Xr(c),d=ei(c);null!=l&&(u.id=l),o=u}o&&i.push(o)}return i},_u["text/vtt"]=ql,_u['text/vtt; codecs="vtt"']=ql,Zl.prototype.parseInit=function(e){var t=!1;if((new Kn).D("moov",qn).D("trak",qn).D("mdia",qn).$("mdhd",function(e){0==e.version?(e.reader.H(4),e.reader.H(4),this.a=e.reader.C(),e.reader.H(4)):(e.reader.H(8),e.reader.H(8),this.a=e.reader.C(),e.reader.H(8)),e.reader.H(4)}.bind(this)).D("minf",qn).D("stbl",qn).$("stsd",Jn).D("wvtt",function(){t=!0}).parse(e),!this.a)throw new q(2,2,2008);if(!t)throw new q(2,2,2008)},Zl.prototype.parseMedia=function(e,t){var n=this;if(!this.a)throw new q(2,2,2008);var r,i=0,a=[],o=[],s=!1,l=!1,u=!1,c=null;if((new Kn).D("moof",qn).D("traf",qn).$("tfdt",function(e){s=!0,i=0==e.version?e.reader.C():e.reader.Za()}).$("tfhd",function(e){var t=e.flags;e=e.reader,e.H(4),1&t&&e.H(8),2&t&&e.H(4),c=8&t?e.C():null}).$("trun",function(e){l=!0;var t=e.version,n=e.flags;e=e.reader;var r=e.C();1&n&&e.H(4),4&n&&e.H(4);for(var i=[],o=0;o<r;o++){var s={duration:null,sampleSize:null,pc:null};256&n&&(s.duration=e.C()),512&n&&(s.sampleSize=e.C()),1024&n&&e.H(4),2048&n&&(s.pc=0==t?e.C():e.Vc()),i.push(s)}a=i}).D("mdat",zn(function(e){u=!0,r=e})).parse(e),!u&&!s&&!l)throw new q(2,2,2008);var d=i,A=new DataView(r.buffer,r.byteOffset,r.byteLength),g=new jn(A,0);return a.forEach(function(e){var r=e.duration||c,a=e.pc?i+e.pc:d;d=a+(r||0);var s=0;do{var l=g.C();s+=l;var u=g.C(),A=null;"vttc"==Zn(u)?8<l&&(A=g.Ja(l-8)):g.H(l-8),r&&A&&o.push(Xl(A,t.periodStart+a/n.a,t.periodStart+d/n.a))}while(e.sampleSize&&s<e.sampleSize)}),o.filter(Au.la)},_u['application/mp4; codecs="wvtt"']=Zl}.call(t,e,e),"undefined"!=typeof exports)for(var n in t.shaka)exports[n]=t.shaka[n];else void 0!==anv.define&&anv.define.amd?anv.define("Shaka",[],function(){return t.shaka}):e.shaka=t.shaka}(),anv.define("ShakaVideo",["util","Caption608","Shaka"],function(e,t,n){function r(t,r,i,a,o){function s(r,i,o){Se=arguments,"string"==typeof r&&(r=e.getElementById(a.pInstance,r)),r.width=r.parentNode.clientWidth,r.height=r.parentNode.clientHeight,r.style.display="block",Ie=r,n.polyfill.installAll(),n.Player.isBrowserSupported()?(Be=new n.Player(r),window.shakaInstance=Be,Ue("initializing video")):(console.error("browser is not supported by Shaka"),t.publish("streamError","SHAK002"));for(var s in Ve)Ve.hasOwnProperty(s)&&e.addEventListener(Ie,s,Ve[s],!1);Ue("video initialized")}function l(){Qe=Ie.duration,t.publish("loadedmetadata",Qe,this.readyState),ie()&&t.publish("embeddedCaptionDetected")}function u(){t.publish("loadeddata",Qe)}function c(){Ue("oncanplay"),et||(et=!0,I())}function d(){Ue("oncanplaythrough")}function A(e){for(var t=0,n=e.buffered.length;t<n;t++)if(e.currentTime<e.buffered.end(t)&&e.currentTime>e.buffered.start(t))return{start:e.buffered.start(t),end:e.buffered.end(t)};return{}}function g(e,t){for(var n,r,i,a,o=e.buffered.length,s=100,l=null,u=!1,c=0;c<o;c++)n=e.buffered.start(c),r=e.buffered.end(c),!u&&e.currentTime>=n&&e.currentTime<=r&&(u=!0),i=r-n,(a=n-e.currentTime)>0&&a<s&&i>1.5&&(s=a,l=n);return u?-2:null!=l?l:t>0&&t-e.currentTime<1.1?t:-1}function p(){Ue("@resetGapCounters"),Ge=0,He=0}function f(e,n){if(Ue("@applyGapRecovery @"+Ie.currentTime,e),!qe&&Re!=Ie.currentTime&&(!Oe||e&&e in{midBufferWaiting:1,evaluateImplicitStall:1})){var r=n||g(Ie,Qe);r==Qe?(Ue("forcing ended due to smaller than END_THRESHOLD distance to the end"),S()):r<0?(Ue("no buffer start to jump"),t.publish("toggleBufferSpinner",!0),Ge<je?(Ue("incrementing currentTime"),-2==r?lt<.6?(Ie.currentTime+=.3,lt+=.3,Ge++,clearTimeout(Fe.evaluateGapForMidBufferWaiting),Fe.evaluateGapForMidBufferWaiting=setTimeout(E.bind(null,{type:"midBufferWaiting"}),600)):Ue("totalMidZoneIncrementApplied exceeded TOTAL_MID_ZONE_INCREMENT_LIMIT"):st=!0,clearTimeout(Fe.resetGapCounters),Fe.resetGapCounters=setTimeout(p,Ke)):He<Ye&&(Ue("reloading for gap recovery"),He++,clearTimeout(Fe.resetGapCounters),Fe.resetGapCounters=setTimeout(p,Ke),m())):(Ue("@applyGapRecovery jumping from",Ie.currentTime,"to",r),Ie.currentTime=r)}}function h(e){Ue("@onWaiting",this.currentTime),Oe||E(e)}function m(){var e=Array.prototype.slice.call(we),t=Array.prototype.slice.call(Se);if($e)return void Ue("cancelling reloadForGapRecovery due to the pending play promise");e[2]=Ie.currentTime,Re=Ie.currentTime,Ue("@reloadForGapRecovery re-init due to stall"),te(function(){s.apply(null,t),D.apply(null,e)})}function E(e){Ue("@evaluateEventForGapRecovery",e.type,Ie.paused,Ie.networkState,Ie.readyState,Ie.currentTime),Ie.paused?Ie.readyState<3&&f(e.type):(Ce=Ie.currentTime,clearTimeout(Fe.applyGapRecovery),Fe.applyGapRecovery=setTimeout(function(){Ie.currentTime==Ce&&(Ue("@applying gap receovery for non-paused "+e.type),f(e.type))},1e3))}function v(e){E(e)}function y(e){Ue("@onEmptied",e.type)}function I(){Ue("@onImpliedCanPlay"),t.publish("videoReady2Play","canplay"+(qe?"-mse-seeked":"")),qe=!1}function b(){Ue("onprogress",Ie.readyState,Ie.networkState);var e,n;Ie.buffered&&Ie.buffered.length&&(e=Ie.buffered.end(Ie.buffered.length-1),Ue("@progress->bufferEnd",e),!et&&e>0&&(et=!0,I()),n=Ie.buffered.start(Ie.buffered.length-1),st&&Ie.currentTime<n&&(st=!1,f()),t.publish("bufferLimitUpdated",e))}function C(){Ue("onplay")}function B(){Ue("# paused");var e=(r.iphone||r.ipod)&&Me,n=!("isPauseInternal"in Ie)||!Ie.isPauseInternal;t.publish("evaluatePausedState"),Math.abs(Qe-Ie.currentTime)<=1&&(Ie.isPauseInternal=!1),n||t.publish("userEvent","IMPLICIT_PAUSE"),e&&(Ue("onpause"),n&&t.publish("userEvent","USER_PAUSE",Ie.isPauseInternal)),delete Ie.isPauseInternal}function w(){Ue("onplaying"),ge(!1),t.publish("playing"),p(),nt=!0}function S(){Ue("@onEnded"),Pe.lastPosition=0,Pe.marked=0,Pe.persistCounter=0,o.bandwidthEstimateInKbps=he(),t.publish("completedVideoContent")}function T(){Ue("@onSeeking")}function k(){Ue("@onSeeked"),qe=!1,t.publish("videoReady2Play","seeked")}function Q(t,n,r){Ue("@init","destroyInProgres:",o.destroyInProgres,t),"string"==typeof t&&(t=e.getElementById(a.pInstance,t)),t.width=t.parentNode.clientWidth,t.height=t.parentNode.clientHeight,t.style.display="block",Ie=t,o.destroyInProgres?(Ue("setting destroyCallback"),o.destroyCallback=Q,o.destroyCallbackArgs=arguments):(Ee=t,ve=n,ye=r,s(t,n,r),Ze=!0,ze&&ze.apply(null,Array.prototype.slice.call(We)))}function D(n,r,i){var o,s,l,u=me();Ue("@setSource offset",i),Ze?(we=arguments,Pe.lastPosition=0,Pe.marked=0,Pe.persistCounter=0,rt=0,tt=!1,nt=!1,et=!1,be=!1,Ue("@setSource initial url",n.embed_url,"openCaptions",Ne),Ne?(o=n.embed_url.indexOf("?")>-1?"&":"?",s=n.embed_url+o+"caption=open"):(s=n.embed_url,s=s.replace(/.caption=open/,"")),Te!=s?(l={drm:a.drm||n.drm,streaming:{bufferingGoal:60,jumpLargeGaps:Oe},abr:{}},!l.drm&&n.license_url&&(l.drm={servers:{"com.widevine.alpha":n.license_url,"com.microsoft.playready":n.license_url}},Ue("@setSource using drm info from license_url",n.license_url)),"number"==typeof u&&(l.abr.defaultBandwidthEstimate=1024*u),"boolean"==typeof a.autoBitrateSwitch&&(l.abr.enabled=a.autoBitrateSwitch),e.addEventListener(Be,"error",F.bind(Ie,"shaka",r)),e.addEventListener(Ie,"error",F.bind(Ie,"video",r)),Ue("@setSource final url",s),Be.configure(l),Be.addEventListener("buffering",M),Be.addEventListener("adaptation",_),Be.addEventListener("trackschanged",R),ut=!0,Be.load(s,i).then(function(){Ue("load promise succeeded"),ut=!1,null!==ct&&($(ct),ct=null)}).catch(function(e){ut=!1,ct=null,F.call(Ie,"shaka",r,e)}),Ie.load(),Te=s):t.publish("videoReady2Play","canplay")):(ze=D,We=arguments)}function R(){se(At),"auto"==dt?_():O(dt)}function _(e){for(var n,r,i=P(),a=Be.getConfiguration(),o=a&&a.abr&&a.abr.enabled,s=[],l={},u=0,c=i.length;u<c;u++)if("number"==typeof(n=i[u].bandwidth)){if(n=Math.floor(n/1e3),i[u].active&&(r=n),s.push(n),!i[u].width||!i[u].height)continue;var d=[i[u].width,i[u].height].join("x");l[n]||(l[n]=d)}s=s.sort(function(e,t){return e-t}),JSON.stringify(s)!=JSON.stringify(Xe)&&(Xe=s,De=null,t.publish("bitrateUpdate",Xe,o?"auto":r,l)),r!=De&&(De=r,t.publish("bitrateChanged",r))}function M(e){e&&"boolean"==typeof e.buffering&&(tt=e.buffering,nt&&Ie.currentTime&&t.publish("toggleBufferSpinner",e.buffering))}function N(){return Te}function P(){var e;return"function"==typeof Be.getVariantTracks?Be.getVariantTracks():"function"==typeof Be.getTracks?(e=Be.getTracks(),e.filter(function(e){return"video"==e.type||"variant"==e.type})):(console.error("No known method available to get tracks \n(possibly due to a non-backwards-compatible shaka library upgrade"),null)}function O(e){Ue("@setBitrate",e);var n,r,i,a=P(),o="auto"==e;if(dt=e,Be.configure({abr:{enabled:o}}),!o){for(var s=0,l=a.length;s<l;s++)if("number"==typeof(n=a[s].bandwidth)&&!a[s].active){if(n=Math.floor(n/1e3),e==n){i=s;break}(!r||r>Math.abs(e-n))&&(r=Math.abs(e-n),i=s)}"function"==typeof Be.selectVariantTrack?Be.selectVariantTrack(a[i]):Be.selectTrack(a[i]),t.publish("bitrateChanged",Math.floor(a[i].bandwidth/1e3))}}function L(e,t){ve=e,ye=t,Ie.width=e,Ie.height=t}function x(e){Pe.lastPosition=Pe.lastPosition||0,Pe.marked=Pe.marked||0,Pe.persistCounter=Pe.persistCounter||0,Math.abs(e-Pe.lastPosition)<2?Pe.lastPosition=e:(Math.abs(e-Pe.marked)<2?(Pe.marked=e,Pe.persistCounter++):(Pe.marked=e,Pe.persistCounter=0),Pe.persistCounter>5&&(Ue("seek detected from",Pe.lastPosition,"to",Pe.marked),(r.iphone||r.ipod||Me)&&t.publish("userEvent",Pe.marked>Pe.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",Pe.lastPosition,Pe.marked),Pe.lastPosition=e,Pe.marked=0,Pe.persistCounter=0))}function F(e,n,r){var i,a,o;if("source"==e)i=this.parentNode;else if("video"==e)i=this;else{if("shaka"==e)return r.detail?(console.error("Error code:",r.detail.code,"data:",r.detail.data),void t.publish("streamError","SHAK001","Shaka media module error #"+r.detail.code)):(console.error("Error code:",r.code,"data:",r.data),void t.publish("streamError","SHAK001","Shaka media module error #"+r.code));i=Ie}a=Le[i.networkState],o=xe[i.readyState],Ue("Error network state",a),Ue("Error ready state",o),Ue("Error h264 support",!(!i.canPlayType||!i.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))),n&&n(null,e,["networkState: "+a,"readyState: "+o].join(" | "),r)}function U(e){Ue("@startTimeNotification",e),Fe.startTimeNotification||(Fe.startTimeNotification=setInterval(V.bind(null,"timer"),300),Ue("@startTimeNotification",e,Fe.startTimeNotification))}function V(){qe||(Ue("@sendTimeNotification",Ie.currentTime),Ie&&(G(),t.publish("updateTime",Ie.currentTime),x(Math.floor(Ie.currentTime))))}function G(){var e,t;Ie.currentTime!=_e?(_e=Ie.currentTime,0==rt&&(lt=0),rt=0):Ie.paused||(rt++,Ue("@evaluateImplicitStall playhead stuck",rt,"waiting for IMPLICIT_STALL_THRESHOLD:",it),rt>=it&&(e=g(Ie,Ie.duration),Ue("nextBufferStartIndex",e),Ue("currentTime",Ie.currentTime),e>-1||-2==e?e-Ie.currentTime<at&&(Ue("@evaluateImplicitStall calling applyGapRecovery with",e),f("evaluateImplicitStall",e)):Re==Ie.currentTime||tt||(t=A(Ie).end,Ue("@evaluateImplicitStall calling reloadForGapRecovery!",t),t&&t-Ie.currentTime<ot&&m()),rt=0))}function H(){Ue("@cancelTimeNotification",Fe.startTimeNotification),clearTimeout(Fe.startTimeNotification),delete Fe.startTimeNotification}function j(e){Ie.playbackRate=e}function Y(){Ie.playbackRate=1}function K(){return Ie.playbackRate}function q(){var e;return Ie.buffered&&Ie.buffered.length?(e=Ie.buffered.end(Ie.buffered.length-1),Ue("@getBufferEnd",e),e):0}function J(){W(!0)}function z(){W(!1)}function W(e){Ue("@toggleOpenCaption ",e),Ne=e,Pe.lastPosition=0,Pe.marked=0,Pe.persistCounter=0;var t,n,r,i,a=Ie.getElementsByTagName("source");1==a.length&&(t=a[0]),i=t.src,r=t.url,Ue("@toggleOpenCaption initial url",i),i=i.replace(/.caption=open/,""),e&&(n=i.indexOf("?")>-1?"&":"?",i+=n+"caption=open",Ue("@toggleOpenCaption final url",i),t.onerror=F.bind(t,"source",z),Ie.onerror=F.bind(Ie,"video",z)),r!=i&&(t.src=i,Ie.load())}function Z(){return Ie.currentTime}function X(e){var t,n,r=Ie.buffered.length;if(e>=0)for(var i=0;i<r;i++)if(t=Ie.buffered.start(i),n=Ie.buffered.end(i),e<n&&e>t)return!0;return!1}function $(e){if(Ue("@seekTo",e),Ie.currentTime=e,!(e<0||e>Qe)){if(ut)return Ue("@seekTo deferring seek to",e,"due to pending load"),void(ct=e);qe=!0;var t,r,i=X(e),a=n&&n.Player&&n.Player.version,l="string"==typeof a&&a.indexOf("2.0.0")>-1;o.bandwidthEstimateInKbps=he(),i||l?(Ue("@seekTo using available buffer (or supported currentTime seek if shaka v2.0)"),Ie.currentTime=e):(Ue("@seekTo buffer NOT available re-init"),t=Array.prototype.slice.call(we),r=Array.prototype.slice.call(Se),t[2]=e,te(function(){s.apply(null,r),D.apply(null,t)}))}}function ee(){return"SHAKA"}function te(t){Ue("@destroy");try{Be&&"destroy"in Be&&(o.destroyInProgres=!0,Be.destroy().then(ne.bind(null,t)))}catch(n){console.error("encountered an error while destroying shaka instance")}for(var n in Ve)Ve.hasOwnProperty(n)&&e.removeEventListener(Ie,n,Ve[n],!1);for(var r in Fe)Fe.hasOwnProperty(r)&&clearTimeout(Fe[r]);Fe={},st=!1,lt=0,Be=null,Te=null}function ne(e){Ue("@onDestroyed"),o.destroyInProgres=!1,o.destroyCallback&&o.destroyCallback.apply(null,Array.prototype.slice.call(o.destroyCallbackArgs)),o.destroyCallback=null,"function"==typeof e&&(Ue("calling internal callback"),e())}function re(){Be&&"skip_to_live"in Be&&Be.skip_to_live()}function ie(){return Be&&Be.getTextTracks().length}function ae(){se(!0)}function oe(){se(!1)}function se(e){Be&&ie()&&(At=e,Be.setTextTrackVisibility(e))}function le(e,t){Ue("@setVolume",e),Je=e,Ae()&&!t||(Ie.volume=e,Ie.muted=!e)}function ue(e){return Ie.volume}function ce(e){Ue("@toggleInlinePlayback",e),e?Ie.setAttribute("playsinline",""):Ie.removeAttribute("playsinline")}function de(e){Ue("@toggleMobileAutoPlay",e),e?(Ie.setAttribute("playsinline",""),Ie.setAttribute("autoplay",""),Ie.setAttribute("muted",""),Ie.muted=!0,Ie.volume=0):(Ie.removeAttribute("autoplay"),Ie.removeAttribute("muted"),Ie.muted=!1),ge(!!e)}function Ae(){return"true"==Ie.getAttribute("data-autoplay-mute-lock")}function ge(e){Ie.setAttribute("data-autoplay-mute-lock",e)}function pe(){return Ie.muted}function fe(){return q()-Ie.currentTime}function he(){return Be&&Be.getStats()?Be.getStats().estimatedBandwidth/1024:null}function me(){return o.bandwidthEstimateInKbps?o.bandwidthEstimateInKbps:"number"==typeof a.initialBitrate?a.initialBitrate:null}var Ee,ve,ye,Ie,be,Ce,Be,we,Se,Te,ke,Qe,De,Re,_e,Me=!1,Ne=!1,Pe={},Oe=void 0===a.enableShakaGapJumping||a.enableShakaGapJumping,Le={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},xe={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},Fe={},Ue=i?i.getLogFn("ShakaVideo"):function(){console.log.apply(console,["[!ShakaVideo!]\t"].concat(Array.prototype.slice.call(arguments)))},Ve={loadedmetadata:l,loadeddata:u,canplay:c,canplaythrough:d,progress:b,play:C,pause:B,playing:w,ended:S,seeking:T,seeked:k,waiting:h,stalled:v,emptied:y},Ge=0,He=0,je=3,Ye=1,Ke=1e4,qe=!1,Je=1,ze=null,We=null,Ze=!1,Xe=[],$e=!1,et=!1,tt=!1,nt=!1,rt=0,it=3,at=5,ot=1,st=!1,lt=0,ut=!1,ct=null,dt="auto",At=!1;return{videoContent:function(){return Ie},init:Q,width:function(e){return"number"==typeof e&&(ve=e),ve},height:function(e){return"number"==typeof e&&(ye=e),ye},getCurrentTime:Z,seekTo:$,getDuration:function(){return Ie.duration},setSource:D,getSource:N,play:function(e,t){Ue("@play");var n=Ie.play();$e=!0,void 0!==n&&n.then(function(){Ue("@play promise succeeded"),$e=!1,ge(!1),"function"==typeof e&&e()}).catch(function(e){$e=!1,console.error("play promise failed",Ie),"function"==typeof t&&t(e),Ue("@play promise failed with error",e.name,e.message,e)})},pause:function(e){Ue("@pause",e),Ie.isPauseInternal=e,Ie.pause()},setSpherical:function(e){Ue("@setSpherical",e),ke=e,Ie.style.display=ke?"none":"block",Ie.style.visibility=ke?"hidden":"visible",ke&&!Ie.getAttribute("crossorigin")&&Ie.readyState>0&&Ie.load()},hide:function(){Ie.style.display="none",Ie.style.visibility="hidden"},show:function(){ke||(Ie.style.visibility="visible",Ie.style.display="block")},hasEmbedCaption:ie,enableEmbedCaption:ae,disableEmbedCaption:oe,notifyCaptionStatus:se,resize:L,setFullscreen:function(e){Ue("@setFullscreen",e),Me=e},getPaused:function(){return Ie.paused},isBitrateSwitchSupported:function(){return!0},setBitrate:O,startTimeNotification:U,cancelTimeNotification:H,setPlaybackRate:j,getPlaybackRate:K,resetPlaybackRate:Y,getBufferEnd:q,loadOpenCaption:J,unloadOpenCaption:z,getType:ee,destroy:te,catchLive:re,setVolume:le,getVolume:ue,toggleMobileAutoPlay:de,toggleInlinePlayback:ce,isMuted:pe,getRemainingBuffer:fe}}return r}),anv.define("Audio",["util"],function(e){function t(t,n,r,i){function a(){de=!0,t.publish("loadedmetadata",this.duration,this.readyState),ne&&ne.textTracks&&(e.removeEventListener(ne.textTracks,"addtrack",o),e.addEventListener(ne.textTracks,"addtrack",o))}function o(){oe("@onAddTrack")}function s(){t.publish("loadeddata",this.duration)}function l(){oe("oncanplay"),t.publish("videoReady2Play","canplay")}function u(){oe("oncanplaythrough")}function c(){oe("onprogress",ne.readyState,ne.networkState);var e;ne.buffered&&ne.buffered.length&&(e=ne.buffered.end(ne.buffered.length-1),oe("@progress->bufferEnd",e),t.publish("bufferLimitUpdated",e))}function d(){oe("onplay")}function A(){oe("@onPaused");var e=!("isPauseInternal"in ne)||!ne.isPauseInternal;Math.abs(ne.duration-ne.currentTime)<=1&&(ne.isPauseInternal=!1),(n.iphone||n.ipod||ae)&&(oe("onpause"),e&&t.publish("userEvent","USER_PAUSE",ne.isPauseInternal),delete ne.isPauseInternal)}function g(){oe("onplaying"),t.publish("playing")}function p(){oe(" # ended"),se.lastPosition=0,se.marked=0,se.persistCounter=0,t.publish("completedVideoContent")}function f(){oe("seeking")}function h(){oe("@onSeeked"),t.publish("videoReady2Play","seeked")}function m(e){se.lastPosition=se.lastPosition||0,se.marked=se.marked||0,se.persistCounter=se.persistCounter||0,Math.abs(e-se.lastPosition)<2?se.lastPosition=e:(Math.abs(e-se.marked)<2?(se.marked=e,se.persistCounter++):(se.marked=e,se.persistCounter=0),se.persistCounter>5&&(oe("seek detected from",se.lastPosition,"to",se.marked),(n.iphone||n.ipod||ae||n.ott)&&ne.duration!=1/0&&t.publish("userEvent",se.marked>se.lastPosition?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",se.lastPosition,se.marked),se.lastPosition=e,se.marked=0,se.persistCounter=0))}function E(e){ce.startTimeNotification||(ce.startTimeNotification=setInterval(v.bind(null,"timer"),300))}function v(){t.publish("updateTime",ne.currentTime),m(Math.floor(ne.currentTime))}function y(){oe("@cancelTimeNotification",ce.startTimeNotification),clearTimeout(ce.startTimeNotification),delete ce.startTimeNotification}function I(t,n,r,i){oe("@init",t,n,r,i),$=t,ee=n,te=r,ne=i.element,re=i.posterElement,i.posterUrl&&(re.style.background="url("+i.posterUrl+") center center / 100% no-repeat");for(var a in Ae)Ae.hasOwnProperty(a)&&e.addEventListener(ne,a,Ae[a],!1);oe("video initialized")}function b(e,t,n){oe("@setSource"),de=!1,ne.src=e.embed_url,ne.onerror=C.bind(ne,"audio",t),ie=e.embed_url,ne.load()}function C(e,n,r){var i,a;if(ne.readyState==ne.HAVE_NOTHING&&ne.networkState==ne.NETWORK_NO_SOURCE)return void t.publish("streamError","PLAY499");i=le[ne.networkState],a=ue[ne.readyState],oe("Error network state",i),oe("Error ready state",a),n&&n(null,e,["networkState: "+i,"readyState: "+a].join(" | "),r)}function B(e,t){oe("@play");var n=ne.play();void 0!==n?n.then(function(){oe("@play promise succeeded"),"function"==typeof e&&e()}).catch(function(e){"function"==typeof t&&t(e),console.error("@play promise failed with error",e.name,e.message,e)}):oe("browser does not support promises")}function w(){oe("@pause"),ne.pause()}function S(){return ne}function T(e){return"number"==typeof e&&(ee=e),ee}function k(e){return"number"==typeof e&&(te=e),te}function Q(){return ne.currentTime}function D(e){oe("@seekTo",e),ne.currentTime=e}function R(){return ne.duration}function _(){ne.load()}function M(){return ie}function N(){return ne.readyState}function P(e){ne.volume=e,ne.muted=!e}function O(){return ne.volume}function L(){re.style.display="none",$.style.display="none"}function x(){re.style.display="block",$.style.display="block"}function F(e,t){re.style[e]=t}function U(){return!1}function V(e,t){ee=e,te=t,$.width=e,$.height=t}function G(e){oe("@setFullscreen",e),ae=e}function H(){return ne.paused}function j(e){ne.playbackRate=e}function Y(){return ne.playbackRate}function K(){var e
;return ne.buffered&&ne.buffered.length?(e=ne.buffered.end(ne.buffered.length-1),oe("@getBufferEnd",e),e):0}function q(){ne.playbackRate=1}function J(){return"AUDIO"}function z(){oe("@destroy");for(var t in Ae)Ae.hasOwnProperty(t)&&e.removeEventListener(ne,t,Ae[t],!1);for(var n in ce)ce.hasOwnProperty(n)&&clearTimeout(ce[n]);ne&&ne.textTracks&&e.removeEventListener(ne.textTracks,"addtrack",o),ne&&"paused"in ne&&!ne.paused&&ne.pause(),ne&&"innerHTML"in ne&&e.safeSetInnerHtml(ne,""),ne=null,ie=null,ce={}}function W(e){oe("toggleMobileAutoPlay",e),e?(ne.setAttribute("playsinline",""),ne.setAttribute("autoplay","")):ne.removeAttribute("autoplay")}function Z(e){oe("@toggleInlinePlayback",e),e?ne.setAttribute("playsinline",""):ne.removeAttribute("playsinline")}function X(){return K()-ne.currentTime}var $,ee,te,ne,re,ie,ae=!1,oe=r?r.getLogFn("Audio"):function(){console.log.apply(console,["[!Audio!]\t"].concat(Array.prototype.slice.call(arguments)))},se={},le={0:"NETWORK_EMPTY - audio/video has not yet been initialized",1:"NETWORK_IDLE - audio/video is active and has selected a resource, but is not using the network",2:"NETWORK_LOADING - browser is downloading data",3:"NETWORK_NO_SOURCE - no audio/video source found"},ue={0:"HAVE_NOTHING - no information whether or not the audio/video is ready",1:"HAVE_METADATA - metadata for the audio/video is ready",2:"HAVE_CURRENT_DATA - data for the current playback position is available, but not enough data to play next frame/millisecond",3:"HAVE_FUTURE_DATA - data for the current and at least the next frame is available",4:"HAVE_ENOUGH_DATA - enough data available to start playing"},ce={},de=!1,Ae={loadedmetadata:a,loadeddata:s,canplay:l,canplaythrough:u,progress:c,play:d,pause:A,playing:g,ended:p,seeked:h,seeking:f};return{videoContent:S,init:I,width:T,height:k,play:B,pause:w,hardPause:w,getCurrentTime:Q,seekTo:D,getDuration:R,load:_,setSource:b,getSource:M,getReadyState:N,setVolume:P,getVolume:O,hide:L,show:x,setStyle:F,hasEmbedCaption:U,enabledEmbedCaption:function(){},disableEmbedCaption:function(){},resize:V,setFullscreen:G,getPaused:H,startTimeNotification:E,cancelTimeNotification:y,setPlaybackRate:j,getPlaybackRate:Y,resetPlaybackRate:q,getBufferEnd:K,enableEmbedCaption:function(){},loadOpenCaption:function(){},unloadOpenCaption:function(){},getType:J,destroy:z,catchLive:function(){},setSpherical:function(){},isBitrateSwitchSupported:function(){return!1},setBitrate:function(){},toggleMobileAutoPlay:W,notifyCaptionStatus:function(){},toggleInlinePlayback:Z,getRemainingBuffer:X}}return t}),anv.define("Babel",{}),anv.define("babel-preset-env",{}),anv.define("es6",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),anv.define("base64-hlscore-wasm",[],function(){
return"AGFzbQEAAAABvQEcYAR/f39/AGAEf3x8fwBgAn9/AX9gA39/fwF/YAF/AX9gAX8AYAABf2ACf38AYAN/f38AYAR/f39/AX9gBH98f38Bf2AFf3x8f38AYAV/f39/fwF/YAF/AXxgCX9/f39/f39/fwF/YAR/fH9/AGACf3wAYAV/f39/fwBgB39/f39/f38AYAN+f38Bf2ACfn8Bf2AGf3x/f39/AX9gAnx/AXxgAXwBfGABfAF/YAAAYAJ8fAF8YAV/f3x8fwACwAMYA2VudgZtZW1vcnkCAIACA2VudgV0YWJsZQFwAQ8PA2Vudgl0YWJsZUJhc2UDfwADZW52DkRZTkFNSUNUT1BfUFRSA38AA2VudghTVEFDS1RPUAN/AANlbnYJU1RBQ0tfTUFYA38AA2VudgVhYm9ydAAFA2Vudg1lbmxhcmdlTWVtb3J5AAYDZW52DmdldFRvdGFsTWVtb3J5AAYDZW52F2Fib3J0T25DYW5ub3RHcm93TWVtb3J5AAYDZW52B19fX2xvY2sABQNlbnYLX19fc2V0RXJyTm8ABQNlbnYMX19fc3lzY2FsbDEwAAIDZW52DV9fX3N5c2NhbGwxNDAAAgNlbnYNX19fc3lzY2FsbDE0NQACA2Vudg1fX19zeXNjYWxsMTQ2AAIDZW52DV9fX3N5c2NhbGwyMjEAAgNlbnYMX19fc3lzY2FsbDQwAAIDZW52C19fX3N5c2NhbGw1AAIDZW52DF9fX3N5c2NhbGw1NAACA2VudgtfX19zeXNjYWxsNgACA2VudglfX191bmxvY2sABQNlbnYWX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZwADA2VudgVfZXhpdAAFA48BjQEEBAYFBwcFBggJBwcFCAUHAAQGBAQCAwoLBQUFAAkJDAUNDQQOBQIHDw8QAgcIBwcIBAUCAgIHBAMDBAYDAwARBxIHBAQIBAICBAkDCQMMCAQIExQUAxECFRYDAgMCAwQDAgQDBAQCBAUGAgQEAgQEAwMCBAkCBAkXGBkEBBoaAwMDBAIDCRsRBAIDAQAGHwZ/ASMBC38BIwILfwEjAwt/AUEAC38BQQALfwFBAAsHjQQgEF9fZ3Jvd1dhc21NZW1vcnkAEhFfX19lcnJub19sb2NhdGlvbgBNFV9jb252ZXJ0X3NlZ21lbnRfZmlsZQA2BV9m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AkAgAUHAKBBZBEAgAUHeKBBZRQRAIARB4ygoAAA2AAAgBEHnKCwAADoABCAEQQFBBCACEIYBGiADQYCAgAg2AgAgA0EEQQEgAhCGARpB4yhBAUEEIAIQhgEaQegoQQFBBCACEIYBGgwCCyABQe0oEFlFBEAgAEHyKCACECgaIABB9yggAhAoGiAAQfwoIAIQKBoMAgsgAUH3KBBZRQRAIABBgSkgAhAoGgwCCyABQfwoEFlFBEAgAEGGKSACECgaIABBiykgAhAoGgwCCyABQZApEFlFBEAgAEGVKSACECgaIABBmikgAhAoGiAAQZ8pIAIQKBogAEGkKSACECgaDAILIAFBiykQWUUEQCAAQakpIAIQKBogAEGuKSACECgaIABBsykgAhAoGgwCCyABQbMpEFlFBEAgACAAKAIIQQFGBH9BuCkFQb0pCyACECgaIABBwikgAhAoGiAAQccpIAIQKBoMAgsgAUHCKRBZRQRAIABBzCkgAhAoGgwCCyABQdEpEFlFBEAgAEHWKSACECgaDAILIAFB2ykQWUUEQCAAQeApIAIQKBogAEGQKSACECgaDAILIAFBxykQWUUEQCAAQeUpIAIQKBogAEHqKSACECgaIABB7ykgAhAoGiAAQfQpIAIQKBogAEH5KSACECgaDAILIAFB8igQWUUEQCADQQA2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaIANBADYCACADQQRBASACEIYBGiADIAAoAghBAUYEf0GgjQYFIABBrRBqLQAAQQd2IABBrBBqLAAAQQF0QQ5xciIAQQxLBH9B9ScQiAEaQYD3AgUgAEECdEGACGooAgALCxCOATYCACADQQRBASACEIYBGiADQQA2AgAgA0EEQQEgAhCGARogA0GAAjYCACADQQRBASACEIYBGiADQQA7AQAgA0ECQQEgAhCGARogA0EAOwEAIANBAkEBIAIQhgEaIANBADYCACADQQRBASACEIYBGiADQQRBASACEIYBGiACECYaIANBADYCACADQQRBASACEIYBGiADQQRBASACEIYBGiADQQRBASACEIYBGiADQQRBASACEIYBGiADQQRBASACEIYBGiADQQRBASACEIYBGiADQYCAgBA2AgAgA0EEQQEgAhCGARoMAgsgAUHMKRBZRQRAIANBADYCACADQQRBASACEIYBGiADQYCAgAg2AgAgA0EEQQEgAhCGARogA0GAgIDgADYCACAEQfXksYMCNgIAIAVB/ikuAAA7AAAgBUGAKiwAADoAAiADQQRBASACEIYBGiAEQQRBASACEIYBGkEAIAIQhAEaIAVBA0EBIAIQhgEaDAILIAFB6ikQWUUEQCADQQA2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaDAILIAFB7ykQWUUEQCADQQA2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaDAILIAFB9CkQWUUEQCADQQA2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaIANBADYCACADQQRBASACEIYBGgwCCyABQfkpEFlFBEAgA0EANgIAIANBBEEBIAIQhgEaIANBADYCACADQQRBASACEIYBGgwCCyABQYEqEFlFBEAgA0EANgIAIANBBEEBIAIQhgEaIANBgJqwhHw2AgAgA0EEQQEgAhCGARoMAgsgAUGBKRBZRQRAIANBADYCACADQQRBASACEIYBGiADQYCAgAg2AgAgA0EEQQEgAhCGARogA0GAgIAINgIAIANBBEEBIAIQhgEaIAMgACgCBCIBQQFKBH8gAUF/aiEEQQAhASAAKAIAIgUrAxghCwNAIAogBSABQQFqIgFBMGxqKwMYIgwgC6GgIQogASAERwRAIAwhCwwBCwsgCiAEt6MgACgCCEEBRgR8RAAAAAAAavhABSAAQa0Qai0AAEEHdiAAQawQaiwAAEEBdEEOcXIiAEEMSwR8QfUnEIgBGkQAAAAAAHDnQAUgAEECdEGACGooAgC3CwuiEIsBBSAAKAIIQQFGBH9B6AcFQYAICwsQjgE2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaIANBADYCACADQQRBASACEIYBGgwCCyABQYYpEFlFBEBBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBAyACEIQBGiADQQA2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaIANBgICACDYCACADQQRBASACEIYBGiADQQA2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaIANBADYCACADQQRBASACEIYBGiADQQRBASACEIYBGiADQQRBASACEIYBGiADIABBCGoiASgCAEEBRzsBACADQQJBASACEIYBGiADQQA7AQAgA0ECQQEgAhCGARogAhAmGgJ/IAEoAgBBAUYEfyAAQSlqIgUgAEEmaiIGLwEAQX9qIAMgBBAiIAMoAgBBEHQhAEEAIAEoAgBBAUcNARogBSAGLwEAQX9qIAMgBBAiIAQoAgBBEHQFQQAhAEEACwshASADIAAQjgE2AgAgA0EEQQEgAhCGARogAyABEI4BNgIAIANBBEEBIAIQhgEaDAILIAFB1ikQWUUEQCADQQA2AgAgA0EEQQEgAhCGARogA0GAgIAINgIAIANBBEEBIAIQhgEaIANBADYCACADQQRBASACEIYBGiADQQA2AgAgA0EEQQEgAhCGARogA0GAAjsBACADQQJBASACEIYBGiADQQA7AQAgA0ECQQEgAhCGARoMAgsgAUGpKRBZRQRAIANBADYCACADQQRBASACEIYBGiADQQA2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaIAMgACgCCEEBRgR/QaCNBgUgAEGtEGotAABBB3YgAEGsEGosAABBAXRBDnFyIgBBDEsEf0H1JxCIARpBgPcCBSAAQQJ0QYAIaigCAAsLEI4BNgIAIANBBEEBIAIQhgEaIANBADYCACADQQRBASACEIYBGkHVACACEIQBGkFEIAIQhAEaIANBADsBACADQQJBASACEIYBGgwCCyABQa4pEFlFBEAgA0EANgIAIANBBEEBIAIQhgEaIANBADYCACADQQRBASACEIYBGiAAKAIIQQFGBH9BhioFQYsqC0EBQQQgAhCGARogA0EANgIAIANBBEEBIAIQhgEaIANBBEEBIAIQhgEaIANBBEEBIAIQhgEaQZAqQRFBASACEIYBGgwCCyABQbgpEFlFBEBBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBASACEIQBGiADQQA7AQAgA0ECQQEgAhCGARogA0EAOwEAIANBAkEBIAIQhgEaIANBADsBACADQQJBASACEIYBGiADQQA7AQAgA0ECQQEgAhCGARoMAgsgAUG9KRBZRQRAIANBADYCACADQQRBASACEIYBGiADQQA7AQAgA0ECQQEgAhCGARogA0EAOwEAIANBAkEBIAIQhgEaDAILIAFB5SkQWUUEQCADQQA2AgAgA0EEQQEgAhCGARogA0GAgIAINgIAIANBBEEBIAIQhgEaIAAoAghBAUYEQCAAQc8oIAIQKBoMAwUgAEGhKiACECgaDAMLAAsgAUHPKBBZRQRAIANBADYCACADQQRBASACEIYBGiADQQA7AQAgA0ECQQEgAhCGARogA0GAAjsBACADQQJBASACEIYBGiADQQA7AQAgA0ECQQEgAhCGARogA0EAOwEAIANBAkEBIAIQhgEaIANBADYCACADQQRBASACEIYBGiADQQRBASACEIYBGiADQQRBASACEIYBGiAAQSlqIgEgAEEmaiIFLwEAQX9qIAMgBBAiIAMgAygCAEH//wNxEI0BOwEAIANBAkEBIAIQhgEaIAEgBS8BAEF/aiADIAQQIiADIAQoAgBB//8DcRCNATsBACADQQJBASACEIYBGiADQYCQATYCACADQQRBASACEIYBGiADQQRBASACEIYBGiADQQA2AgAgA0EEQQEgAhCGARogA0GAAjsBACADQQJBASACEIYBGkGmKkEBQQQgAhCGARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGiADQYAwOwEAIANBAkEBIAIQhgEaIANBfzsBACADQQJBASACEIYBGiAAQasqIAIQKBoMAgsgAUGrKhBZRQRAQQEgAhCEARogACwAKSACEIQBGiAALAAqIAIQhAEaIAAsACsgAhCEARogAC0AJEEYdEGAgIA4akGAgIBAckEYdSACEIQBGkFhIAIQhAEaIAMgAEEmaiIBLgEAEI0BOwEAIANBAkEBIAIQhgEaIABBKGpBASABLwEAIAIQhgEaQQEgAhCEARogAyAAQagIaiIBLgEAEI0BOwEAIANBAkEBIAIQhgEaIABBqghqQQEgAS8BACACEIYBGgwCCyABQaEqEFlFBEAgA0EANgIAIANBBEEBIAIQhgEaIANBADsBACADQQJBASACEIYBGiADQYACOwEAIANBAkEBIAIQhgEaIANBADYCACADQQRBASACEIYBGiADQQRBASACEIYBGiADQYAEOwEAIANBAkEBIAIQhgEaIANBgCA7AQAgA0ECQQEgAhCGARogA0EAOwEAIANBAkEBIAIQhgEaIANBADsBACADQQJBASACEIYBGiADIABBrRBqLQAAQQd2IABBrBBqLAAAQQF0QQ5xciIBQQxLBH9B9ScQiAEaQYCAgNx7BSABQQJ0QYAIaigCAEEQdAsQjgE2AgAgA0EEQQEgAhCGARogAEGwKiACECgaDAILIAFBsCoQWUUEQCAAIAIQJxoMAgsgAUG1KhBZRQRAQQEgAhCEARpBACACEIQBGkEAIAIQhAEaQQAgAhCEARogA0GAgIAINgIAIANBBEEBIAIQhgEaIAMgACgCCEEBRgR/QaCNBgUgAEGtEGotAABBB3YgAEGsEGosAABBAXRBDnFyIgFBDEsEf0H1JxCIARpBgPcCBSABQQJ0QYAIaigCAAsLEI4BNgIAIANBBEEBIAIQhgEaIAMgACkDECIJpxCOAa1CIIYgCUIgiKcQjgGthDcDACADQQhBASACEIYBGiADQgA3AwAgA0EIQQEgAhCGARogA0EAOwEAIANBAkEBIAIQhgEaIANBgAI7AQAgA0ECQQEgAhCGARogACgCBCIEQQBKBH8gACgCACEFQQAhAEEAIQEDQCAFIABBMGxqKAIMIAFqIQEgAEEBaiIAIARHDQALIAFBCGoFQQgLIQAgAyAEQeQAaiAEQQR0aiAAakH/////B3EQjgE2AgAgA0EEQQEgAhCGARogA0EANgIAIANBBEEBIAIQhgEaQYB/IAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaDAILIAFB4CkQWUUEQEEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEAIAIQhAEaIAMgACgCIBCOATYCACADQQRBASACEIYBGgwCCyABQboqEFlFBEBBACACEIQBGkEAIAIQhAEaQQAgAhCEARpBACACEIQBGkEQIAIQhAEaQQcgAhCEARpBACACEIQBGkHPACACEIQBGkF/IAIQhAEaQX8gAhCEARpBfyACEIQBGkEVIAIQhAEaQX8gAhCEARoMAgsgAUGV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QQA6AAAgHkEAOgAAIAdCADcDACAHQgA3AwggB0IANwMQIAdCADcDGCAHQgA3AyAgB0IANwMoIAdCADcDMCAHQgA3AzggB0FAa0IANwMAIAdCADcDSCAHQgA3A1AgB0IANwNYIAdCADcDYCAHQgA3A2ggB0IANwNwIAZCADcDACAGQgA3AwggBkIANwMQIAZCADcDGCAGQgA3AyAgBkIANwMoIAZCADcDMCAGQgA3AzggBkFAa0IANwMAIAZCADcDSCAGQgA3A1AgBkIANwNYIAZCADcDYCAGQgA3A2ggBkIANwNwIAZBADoAeAsgDUECNgIADAoLIA0oAgBBAkcNCSAlQQA6AAAgJkEAOgAAICdBADoAACAoQQA6AAAgKUEAOgAAICpBADoAACArQQA6AAAgLEEAOgAAIC1BADoAACAuQQA6AAAgL0EAOgAAIDBBADoAACAxQQA6AAAgMkEAOgAAIDNBADoAACAGQgA3AwAgBkIANwMIIAZCADcDECAGQgA3AxggBkIANwMgIAZCADcDKCAGQgA3AzAgBkIANwM4IAZBQGtCADcDACAGQgA3A0ggBkIANwNQIAZCADcDWCAGQgA3A2AgBkIANwNoIAZCADcDcAwJCyA8IAE5AwBBA0HbMyA8EBogDUEDNgIADAgLIA0oAgBBAUcNByAAQbg4akEPIDkoAgAiBWsiBEGBAWxqIgksAAAEQCAKKAIABEAgCygCACAAQcjHAGogBEEDdGorAwAgASAJQQwRAQAgOSgCACEFCwsgBUEBTA0HA0AgAEG4OGpBDyAFayIEQQFqIgxBgQFsaiEJIABBuDhqIARBgQFsaiAJQYEBEJEBGiAJQQA6AAAgAEHIxwBqIARBA3RqIABByMcAaiAMQQN0aisDADkDACAFQX9qIQQgBUECSgRAIAQhBQwBCwsMBAsgIywAAARAIAooAgAEQCALKAIAIAcrAwAgASAjQQwRAQALCyARLAAABEAgCigCAARAIAsoAgAgPysDACABIBFBDBEBAAsLIBIsAAAEQCAKKAIABEAgCygCACBAKwMAIAEgEkEMEQEACwsgEywAAARAIAooAgAEQCALKAIAIEErAwAgASATQQwRAQALCyAULAAABEAgCigCAARAIAsoAgAgQisDACABIBRBDBEBAAsLAkAgFSwAAARAIAooAgBFDQEgCygCACBDKwMAIAEgFUEMEQEACwsCQCAWLAAABEAgCigCAEUNASALKAIAIEQrAwAgASAWQQwRAQALCwJAIBcsAAAEQCAKKAIARQ0BIAsoAgAgRSsDACABIBdBDBEBAAsLAkAgGCwAAARAIAooAgBFDQEgCygCACBGKwMAIAEgGEEMEQEACwsCQCAZLAAABEAgCigCAEUNASALKAIAIEcrAwAgASAZQQwRAQALCwJAIBosAAAEQCAKKAIARQ0BIAsoAgAgSCsDACABIBpBDBEBAAsLAkAgGywAAARAIAooAgBFDQEgCygCACBJKwMAIAEgG0EMEQEACwsCQCAcLAAABEAgCigCAEUNASALKAIAIEorAwAgASAcQQwRAQALCwJAIB0sAAAEQCAKKAIARQ0BIAsoAgAgSysDACABIB1BDBEBAAsLAkAgHiwAAARAIAooAgBFDQEgCygCACBMKwMAIAEgHkEMEQEACwsgI0EAOgAAIBFBADoAACASQQA6AAAgE0EAOgAAIBRBADoAACAVQQA6AAAgFkEAOgAAIBdBADoAACAYQQA6AAAgGUEAOgAAIBpBADoAACAbQQA6AAAgHEEAOgAAIB1BADoAACAeQQA6AAAgB0IANwMAIAdCADcDCCAHQgA3AxAgB0IANwMYIAdCADcDICAHQgA3AyggB0IANwMwIAdCADcDOCAHQUBrQgA3AwAgB0IANwNIIAdCADcDUCAHQgA3A1ggB0IANwNgIAdCADcDaCAHQgA3A3AMBgsgDUEENgIADAULIA0oAgBBAUcEQCAjLAAABEAgCigCAARAIAsoAgAgBysDACABICNBDBEBAAsLIBEsAAAEQCAKKAIABEAgCygCACA/KwMAIAEgEUEMEQEACwsgEiwAAARAIAooAgAEQCALKAIAIEArAwAgASASQQwRAQALCwJAIBMsAAAEQCAKKAIARQ0BIAsoAgAgQSsDACABIBNBDBEBAAsLAkAgFCwAAARAIAooAgBFDQEgCygCACBCKwMAIAEgFEEMEQEACwsCQCAVLAAABEAgCigCAEUNASALKAIAIEMrAwAgASAVQQwRAQALCwJAIBYsAAAEQCAKKAIARQ0BIAsoAgAgRCsDACABIBZBDBEBAAsLAkAgFywAAARAIAooAgBFDQEgCygCACBFKwMAIAEgF0EMEQEACwsCQCAYLAAABEAgCigCAEUNASALKAIAIEYrAwAgASAYQQwRAQALCwJAIBksAAAEQCAKKAIARQ0BIAsoAgAgRysDACABIBlBDBEBAAsLAkAgGiwAAARAIAooAgBFDQEgCygCACBIKwMAIAEgGkEMEQEACwsCQCAbLAAABEAgCigCAEUNASALKAIAIEkrAwAgASAbQQwRAQALCwJAIBwsAAAEQCAKKAIARQ0BIAsoAgAgSisDACABIBxBDBEBAAsLAkAgHSwAAARAIAooAgBFDQEgCygCACBLKwMAIAEgHUEMEQEACwsCQCAeLAAABEAgCigCAEUNASALKAIAIEwrAwAgASAeQQwRAQALCyAlQQA6AAAgJkEAOgAAICdBADoAACAoQQA6AAAgKUEAOgAAICpBADoAACArQQA6AAAgLEEAOgAAIC1BADoAACAuQQA6AAAgL0EAOgAAIDBBADoAACAxQQA6AAAgMkEAOgAAIDNBADoAACARQQA6AAAgEkEAOgAAIBNBADoAACAUQQA6AAAgFUEAOgAAIBZBADoAACAXQQA6AAAgGEEAOgAAIBlBADoAACAaQQA6AAAgG0EAOgAAIBxBADoAACAdQQA6AAAgHkEAOgAAIAdCADcDACAHQgA3AwggB0IANwMQIAdCADcDGCAHQgA3AyAgB0IANwMoIAdCADcDMCAHQgA3AzggB0FAa0IANwMAIAdCADcDSCAHQgA3A1AgB0IANwNYIAdCADcDYCAHQgA3A2ggB0IANwNwIAZCADcDACAGQgA3AwggBkIANwMQIAZCADcDGCAGQgA3AyAgBkIANwMoIAZCADcDMCAGQgA3AzggBkFAa0IANwMAIAZCADcDSCAGQgA3A1AgBkIANwNYIAZCADcDYCAGQgA3A2ggBkIANwNwIAZBADoAeAsgDUEBNgIAIAlBBkYEf0EDBUECCyEFIDkgCUEHRgR/QQQFIAULNgIAIDsgATkDAEEDQfUzIDsQGgwECyA1IAU2AgAgNSAENgIEQQNBjjQgNRAaCwsLCyA0QQJqIjQgA0gNAAsLIA4kBQt/AQN/IANBAm0hBSADQQFMBEAPC0EAIQMCQANAIAAoAgAiBEHIAUYNASAAIARBAWo2AgAgAEEIaiAEQQR0aiABOQMAIAAgBEEEdGogAiADQQF0IgZqLAAAOgAQIAAgBEEEdGogAiAGQQFyaiwAADoAESADQQFqIgMgBUgNAAsLC+IBAgN/AnwgAEEIaiIEIAAoAgBBEEEBEFACQCAAKAIAIgNBAEoEQCABRAAAAAAAAOC/oCEFA0ACQCAFIABBCGogAkEEdGorAwAiBmQEQCAFIAahRBAGnns7TedAY0UNAQUgBiAFZEUgBiAFoUQQBp57O03nQGNyDQELIAAgBkSamZmZmZm5P6AgACACQQR0akEQakECEDogACgCACIDIAJBAWoiAkoNAQwDCwsgAyACayEDIAIEQCAEIABBCGogAkEEdGogA0EEdBCSARogACADNgIACwsLIABB4OgAaiABOQMACzgBAX9BAUHo6AAQRSICRQRAQQAPCyACQYgZaiAANgIAIAJBjBlqIAE2AgAgAkGoKGpBDjYCACACC6cDAQZ/IAAgASwAADoAACAAIAEsAAE6AAEgACABLAACOgACIAAgASwAAzoAAyAAIAEsAAQ6AAQgACABLAAFOgAFIAAgASwABjoABiAAIAEsAAc6AAcgACABLAAIOgAIIAAgASwACToACSAAIAEsAAo6AAogACABLAALOgALIAAgASwADDoADCAAIAEsAA06AA0gACABLAAOOgAOIAAgASwADzoAD0EEIQEDQCAAIAFBAnQiAkF8amosAAAhBiAAIAJBfWpqLAAAIQMgACACQX5qaiwAACEEIAAgAkF/amosAAAhBSABQQNxBEAgBiEHBSABQQJ2Qa40aiwAACADQf8BcUGAC2osAABzIQcgBEH/AXFBgAtqLAAAIQMgBUH/AXFBgAtqLAAAIQQgBkH/AXFBgAtqLAAAIQULIAAgAmogACACQXBqaiwAACAHczoAACAAIAJBAXJqIAAgAkFxamosAAAgA3M6AAAgACACQQJyaiAAIAJBcmpqLAAAIARzOgAAIAAgAkEDcmogACACQXNqaiwAACAFczoAACABQQFqIgFBLEcNAAsLJAEBfyAAIAEQPiAAQbABaiIDIAIpAAA3AAAgAyACKQAINwAICx4BAX8gAEGwAWoiAiABKQAANwAAIAIgASkACDcACAu1DwEjfyAAIAAsAAAgASwAoAFzIgo6AAAgAEEBaiISLAAAIAEsAKEBcyECIBIgAjoAACAAQQJqIhMsAAAgASwAogFzIQUgEyAFOgAAIABBA2oiFCwAACABLACjAXMhESAUIBE6AAAgAEEE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NgIkIAAgASgCKDYCKCAAIAEoAiw2AiwgACABKAIwNgIwIAAgASgCNDYCNCAAIAEoAjg2AjggACABKAI8NgI8IABBQGshACABQUBrIQEMAQsLA0AgACACSARAIAAgASgCADYCACAAQQRqIQAgAUEEaiEBDAELCwUgA0EEayECA0AgACACSARAIAAgASwAADoAACAAIAEsAAE6AAEgACABLAACOgACIAAgASwAAzoAAyAAQQRqIQAgAUEEaiEBDAELCwsDQCAAIANIBEAgACABLAAAOgAAIABBAWohACABQQFqIQEMAQsLIAQLYAEBfyABIABIIAAgASACakhxBEAgACEDIAEgAmohASAAIAJqIQADQCACQQBKBEAgAkEBayECIABBAWsiACABQQFrIgEsAAA6AAAMAQsLIAMhAAUgACABIAIQkQEaCyAAC5gCAQR/IAAgAmohBCABQf8BcSEBIAJBwwBOBEADQCAAQQNxBEAgACABOgAAIABBAWohAAwBCwsgBEF8cSIFQUBqIQYgASABQQh0ciABQRB0ciABQRh0ciEDA0AgACAGTARAIAAgAzYCACAAIAM2AgQgACADNgIIIAAgAzYCDCAAIAM2AhAgACADNgIUIAAgAzYCGCAAIAM2AhwgACADNgIgIAAgAzYCJCAAIAM2AiggACADNgIsIAAgAzYCMCAAIAM2AjQgACADNgI4IAAgAzYCPCAAQUBrIQAMAQsLA0AgACAFSARAIAAgAzYCACAAQQRqIQAMAQsLCwNAIAAgBEgEQCAAIAE6AAAgAEEBaiEADAELCyAEIAJrC1EBAX8gAEEASiMEKAIAIgEgAGoiACABSHEgAEEASHIEQBADGkEMEAVBfw8LIwQgADYCACAAEAJKBEAQAUUEQCMEIAE2AgBBDBAFQX8PCwsgAQsMACABIABBAXERBAALEQAgASACIABBAXFBAmoRAgALEwAgASACIAMgAEEHcUEEahEDAAsPACABIAIgAyAEQQwRAQALFQAgASACIAMgBCAAQQFxQQ1qEQAACwgAQQAQAEEACwgAQQEQAEEACwgAQQIQAEEACwYAQQMQAAsGAEEEEAALC9YmJABBgQgLMXcBAIhYAQAA+gAAgLsAAESsAAAAfQAAwF0AACJWAACAPgAA4C4AABErAABAHwAAthwAQcAICz0LAAAA/////wEAAAACAAAAAwAAAAQAAAAMAAAADQAAAA4AAAAPAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAEHICQvQBQQAAAAEAAAACAAAAAgAAAAMAAAADAAAABAAAAAQAAAAFAAAABQAAAAYAAAAGAAAABwAAAAcAAAAUkNMAAAAAABCUyAAAAAAAEFPRgAAAAAAQU9OAAAAAABERVIAAAAAAFJVMgAAAAAAUlUzAAAAAABSVTQAAAAAAEZPTgAAAAAAUkRDAAAAAABUUiAAAAAAAFJURAAAAAAARURNAAAAAABDUiAAAAAAAEVOTQAAAAAARU9DAAAAAABjfHd78mtvxTABZyv+16t2yoLJffpZR/Ct1KKvnKRywLf9kyY2P/fMNKXl8XHYMRUExyPDGJYFmgcSgOLrJ7J1CYMsGhtuWqBSO9azKeMvhFPRAO0g/LFbasu+OUpMWM/Q76r7Q00zhUX5An9QPJ+oUaNAj5KdOPW8ttohEP/z0s0ME+xfl0QXxKd+PWRdGXNggU/cIiqQiEbuuBTeXgvb4DI6CkkGJFzC06xikZXkeefIN22N1U6pbFb06mV6rgi6eCUuHKa0xujddB9LvYuKcD61ZkgD9g5hNVe5hsEdnuH4mBFp2Y6Umx6H6c5VKN+MoYkNv+ZCaEGZLQ+wVLsWUglq1TA2pTi/QKOegfPX+3zjOYKbL/+HNI5DRMTe6ctUe5QypsIjPe5MlQtC+sNOCC6hZijZJLJ2W6JJbYvRJXL49mSGaJgW1KRczF1ltpJscEhQ/e252l4VRlenjZ2EkNirAIy80wr35FgFuLNFBtAsHo/KPw8Cwa+9AwETims6kRFBT2fc6pfyz87wtOZzlqx0IuetNYXi+TfoHHXfbkfxGnEdKcWJb7diDqoYvhv8Vj5LxtJ5IJrbwP54zVr0H92oM4gHxzGxEhBZJ4DsX2BRf6kZtUoNLeV6n5PJnO+g4DtNrir1sMjruzyDU5lhFysEfrp31ibhaRRjVSEMfREACgAREREAAAAABQAAAAAAAAkAAAAACwBBoA8LIREADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQBB0Q8LAQsAQdoPCxgRAAoKERERAAoAAAIACQsAAAAJAAsAAAsAQYsQCwEMAEGXEAsVDAAAAAAMAAAAAAkMAAAAAAAMAAAMAEHFEAsBDgBB0RALFQ0AAAAEDQAAAAAJDgAAAAAADgAADgBB/xALARAAQYsRCx4PAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAQcIRCw4SAAAAEhISAAAAAAAACQBB8xELAQsAQf8RCxUKAAAAAAoAAAAACQsAAAAAAAsAAAsAQa0SCwEMAEG5Egt+DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGVCEiGQ0BAgMRSxwMEAQLHRIeJ2hub3BxYiAFBg8TFBUaCBYHKCQXGAkKDhsfJSODgn0mKis8PT4/Q0dKTVhZWltcXV5fYGFjZGVmZ2lqa2xyc3R5ent8AEHAEwuVDklsbGVnYWwgYnl0ZSBzZXF1ZW5jZQBEb21haW4gZXJyb3IAUmVzdWx0IG5vdCByZXByZXNlbnRhYmxlAE5vdCBhIHR0eQBQZXJtaXNzaW9uIGRlbmllZABPcGVyYXRpb24gbm90IHBlcm1pdHRlZABObyBzdWNoIGZpbGUgb3IgZGlyZWN0b3J5AE5vIHN1Y2ggcHJvY2VzcwBGaWxlIGV4aXN0cwBWYWx1ZSB0b28gbGFyZ2UgZm9yIGRhdGEgdHlwZQBObyBzcGFjZSBsZWZ0IG9uIGRldmljZQBPdXQgb2YgbWVtb3J5AFJlc291cmNlIGJ1c3kASW50ZXJydXB0ZWQgc3lzdGVtIGNhbGwAUmVzb3VyY2UgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUASW52YWxpZCBzZWVrAENyb3NzLWRldmljZSBsaW5rAFJlYWQtb25seSBmaWxlIHN5c3RlbQBEaXJlY3Rvcnkgbm90IGVtcHR5AENvbm5lY3Rpb24gcmVzZXQgYnkgcGVlcgBPcGVyYXRpb24gdGltZWQgb3V0AENvbm5lY3Rpb24gcmVmdXNlZABIb3N0IGlzIGRvd24ASG9zdCBpcyB1bnJlYWNoYWJsZQBBZGRyZXNzIGluIHVzZQBCcm9rZW4gcGlwZQBJL08gZXJyb3IATm8gc3VjaCBkZXZpY2Ugb3IgYWRkcmVzcwBCbG9jayBkZXZpY2UgcmVxdWlyZWQATm8gc3VjaCBkZXZpY2UATm90IGEgZGlyZWN0b3J5AElzIGEgZGlyZWN0b3J5AFRleHQgZmlsZSBidXN5AEV4ZWMgZm9ybWF0IGVycm9yAEludmFsaWQgYXJndW1lbnQAQXJndW1lbnQgbGlzdCB0b28gbG9uZwBTeW1ib2xpYyBsaW5rIGxvb3AARmlsZW5hbWUgdG9vIGxvbmcAVG9vIG1hbnkgb3BlbiBmaWxlcyBpbiBzeXN0ZW0ATm8gZmlsZSBkZXNjcmlwdG9ycyBhdmFpbGFibGUAQmFkIGZpbGUgZGVzY3JpcHRvcgBObyBjaGlsZCBwcm9jZXNzAEJhZCBhZGRyZXNzAEZpbGUgdG9vIGxhcmdlAFRvbyBtYW55IGxpbmtzAE5vIGxvY2tzIGF2YWlsYWJsZQBSZXNvdXJjZSBkZWFkbG9jayB3b3VsZCBvY2N1cgBTdGF0ZSBub3QgcmVjb3ZlcmFibGUAUHJldmlvdXMgb3duZXIgZGllZABPcGVyYXRpb24gY2FuY2VsZWQARnVuY3Rpb24gbm90IGltcGxlbWVudGVkAE5vIG1lc3NhZ2Ugb2YgZGVzaXJlZCB0eXBlAElkZW50aWZpZXIgcmVtb3ZlZABEZXZpY2Ugbm90IGEgc3RyZWFtAE5vIGRhdGEgYXZhaWxhYmxlAERldmljZSB0aW1lb3V0AE91dCBvZiBzdHJlYW1zIHJlc291cmNlcwBMaW5rIGhhcyBiZWVuIHNldmVyZWQAUHJvdG9jb2wgZXJyb3IAQmFkIG1lc3NhZ2UARmlsZSBkZXNjcmlwdG9yIGluIGJhZCBzdGF0ZQBOb3QgYSBzb2NrZXQARGVzdGluYXRpb24gYWRkcmVzcyByZXF1aXJlZABNZXNzYWdlIHRvbyBsYXJnZQBQcm90b2NvbCB3cm9uZyB0eXBlIGZvciBzb2NrZXQAUHJvdG9jb2wgbm90IGF2YWlsYWJsZQBQcm90b2NvbCBub3Qgc3VwcG9ydGVkAFNvY2tldCB0eXBlIG5vdCBzdXBwb3J0ZWQATm90IHN1cHBvcnRlZABQcm90b2NvbCBmYW1pbHkgbm90IHN1cHBvcnRlZABBZGRyZXNzIGZhbWlseSBub3Qgc3VwcG9ydGVkIGJ5IHByb3RvY29sAEFkZHJlc3Mgbm90IGF2YWlsYWJsZQBOZXR3b3JrIGlzIGRvd24ATmV0d29yayB1bnJlYWNoYWJsZQBDb25uZWN0aW9uIHJlc2V0IGJ5IG5ldHdvcmsAQ29ubmVjdGlvbiBhYm9ydGVkAE5vIGJ1ZmZlciBzcGFjZSBhdmFpbGFibGUAU29ja2V0IGlzIGNvbm5lY3RlZABTb2NrZXQgbm90IGNvbm5lY3RlZABDYW5ub3Qgc2VuZCBhZnRlciBzb2NrZXQgc2h1dGRvd24AT3BlcmF0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MAT3BlcmF0aW9uIGluIHByb2dyZXNzAFN0YWxlIGZpbGUgaGFuZGxlAFJlbW90ZSBJL08gZXJyb3IAUXVvdGEgZXhjZWVkZWQATm8gbWVkaXVtIGZvdW5kAFdyb25nIG1lZGl1bSB0eXBlAE5vIGVycm9yIGluZm9ybWF0aW9uAAAAAAAA1BAAAAUAQeAhCwEBAEH4IQsKAQAAAAIAAADtJABBkCILAQIAQZ8iCwX//////wBB0CILBVQRAAAJAEHgIgsBAQBB9CILEgMAAAAAAAAAAgAAAIgaAAAABABBoCMLBP////8AQdAjCwXUEQAABQBB4CMLAQEAQfgjCw4EAAAAAgAAAJgeAAAABABBkCQLAQEAQZ8kCwUK/////wBB0CQLAtQRAEGQJgsCvCQAQewmCwEFAEGTJwsF//////8AQcQnC64NQWRkaW5nIG5ldyBQSUQ6ICVkCgBMZWZ0b3ZlciBkYXRhIGluIFRTIGNvbnRleHQKAEVSUk9SOiBVbnN1cHBvcnRlZCBzYW1wbGluZyBmcmVxdWVuY3kARmF0YWwgRXJyb3IuIEF0b20gYmVnaW4gaXMgYWZ0ZXIgZW5kAGZ0eXAAaXNvbQBpc281AGF2YzEAbXA0MgBkYXNoAHN0eXAAbXNkaABtc2l4AG1vb3YAbXZoZABtdmV4AHRyYWsAdHJleAB0a2hkAG1kaWEAdHJhZgB0ZmhkAHRmZHQAdHJ1bgBzZHRwAG1kaGQAaGRscgBtaW5mAHZtaGQAc21oZABkaW5mAHN0YmwAZHJlZgBlZHRzAGVsc3QAbW9vZgBtZmhkAHN0c2QAc3R0cwBzdHNjAHN0c3oAc3RjbwAAAAFtZWhkAHZpZGUAc291bgBBbnZhdG8gZURBU0ggMi4xAG1wNGEAYW52MgBhdmNDAGVzZHMAc2lkeABpb2RzAG1kYXQAVU5IQU5ETEVEOiAlcwoARXJyb3IAUGFja2V0IGNvdW50OiAlZCArIDEKAEJhZCBBQUMgcGFja2V0CgBFUlJPUgoAKHVuY2xlYW4gZW5kIG9mIGFhYyBmcmFtZXMuICVkIGJ5dGVzKQoAU1BTIFRvbyBsYXJnZS4gJWQKAFBQUyBUb28gbGFyZ2UuICVkCgBJRDMEAEJhZCBoZWFkZXIKAEdFT0JQUklWRnJhbWUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIG9yIGludmFsaWQARnJhbWUgdHlwZTogR0VPQgoAR0VPQiBidWZmZXIgbm90IGVub3VnaAoAR0VPQiBFbmNvZGluZyBtdXN0IGJlIDMKAEZyYW1lIHR5cGU6IFBSSVYKAHR5cGU9cHJpdiZwYXlsb2FkPQAlcy5jdWUAdwAlcy42MDgAKERJU0NPTlRJTlVJVFkpAEJlZ2luIHdyaXRlX2Rhc2ggJXMKAEFQVFM6ICVmIC0gJWYKAFZQVFM6ICVmIC0gJWYKAFByZS1CZWdpbiBPZmZzZXQgRFRTOiAlZiwgU2VjdGlvbiBEVFM6ICVmLCBTZWdtZW50IG5vOiAlZCwgU2FtcGxlczogJWQvJWQKAERpc2NvbnRpbnVpdHkgaGFuZGxpbmc6AEF0IGRpc2NvbnRpbnVpdHksIGFfZHQgPSAlZgoAQXQgZGlzY29udGludWl0eSwgdl9kdCA9ICVmCgBBdCBkaXNjb250aW51aXR5LCBkdHNfc2VjdGlvbiA9ICVmCgBQb3N0LUJlZ2luIE9mZnNldCBEVFM6ICVmLCBTZWN0aW9uIERUUzogJWYsIFNlZ21lbnQgbm86ICVkLCBTYW1wbGVzOiAlZC8lZAoAdmlkZW8AYXVkaW8AKCVzKSBTTVBQVFM6ICVmIC0gJWYKACglcykgYmVnaW4gdGltZTogJWYgKCAlbGxkIC0gJWxsZCApCgAoJXMpIEJlZ2luID0gJWQsIGNudDogJWQKAGluaXQAZGF0YQAlcy0lYy0lcy5tcDQAQ2Fubm90IG9wZW4gJXMKAHJiAGZpbGUgbm90IGZvdW5kCgBDYW5ub3QgbG9hZCBzZWdtZW50AENhbm5vdCB3cml0ZSBkYXNoAHNpbS5kYXRhAHdiAEZhaWxlZCB0byB3cml0ZSBkYXRhAEZhaWxlZCB0byBhbGxvY2F0ZSBtZW1vcnkAJS4zZiAlYyVjICglMDJ4ICUwMngpCgDDqQDDrQDDswDDugDDugDDtwDDkQDDsQDilogAw6EAJS4zZiBbbWlkcm93XQoAwq4AwrAAwr0Awr8A4oSiAMKiAMKjAOKZqgDDoAAgAMOoAMOiAMOqAMOuAMO0AMO7ACUuM2YgU3BlY2lhbCAlYyAlYyAoJTAyeCAlMDJ4KQoAJS4zZiBbcHJlYW1ibGUgQCAlZCwlZF0KACUuM2YgW3RhYl0KACUuM2YgW2Vycm9yLXVua25vd24gYnl0ZXMgJTAyeCAlMDJ4XQoAJS4zZiBbJXNdCgAlLjNmIEVudGVyIHBvcC1vbiBtb2RlCgAlLjNmIEVudGVyIHBhaW50IG9uIG1vZGUKACUuM2YgRW50ZXIgcm9sbCB1cCBtb2RlCgBVbmtub3duIGNvbnRyb2wgY29kZSAlMDJ4ICUwMngKAI0BAgQIECBAgBs2LSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBuYW4ATkFOAC4Acndh"
});var Module=void 0!==Module?Module:{};anv.define("hlscore",function(){return function(){function e(e){return Module.locateFile?Module.locateFile(e,Ae):Ae+e}function t(e,t){return t||(t=Me),e=Math.ceil(e/t)*t}function n(e,t){e||ae("Assertion failed: "+t)}function r(e){var t=Module["_"+e];return n(t,"Cannot call unknown function "+e+", make sure it is exported"),t}function i(e,t,n,i,a){var s=r(e),l=[],u=0;if(i)for(var c=0;c<i.length;c++){var d=xe[n[c]];d?(0===u&&(u=Ct()),l[c]=d(i[c])):l[c]=i[c]}var A=s.apply(null,l);return A=function(e){return"string"===t?o(e):"boolean"===t?Boolean(e):e}(A),0!==u&&bt(u),A}function a(e,t,n,a){n=n||[];var o=n.every(function(e){return"number"===e});return"string"!==t&&o&&!a?r(e):function(){return i(e,t,n,arguments,a)}}function o(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;;){if(n=ve[e+i>>0],r|=n,0==n&&!t)break;if(i++,t&&i==t)break}t||(t=i);var a="";if(r<128){for(var o;t>0;)o=String.fromCharCode.apply(String,ve.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return l(e)}function s(e,t){for(var n=t;e[n];)++n;if(n-t>16&&e.subarray&&Fe)return Fe.decode(e.subarray(t,n));for(var r,i,a,o,s,l,u="";;){if(!(r=e[t++]))return u;if(128&r)if(i=63&e[t++],192!=(224&r))if(a=63&e[t++],224==(240&r)?r=(15&r)<<12|i<<6|a:(o=63&e[t++],240==(248&r)?r=(7&r)<<18|i<<12|a<<6|o:(s=63&e[t++],248==(252&r)?r=(3&r)<<24|i<<18|a<<12|o<<6|s:(l=63&e[t++],r=(1&r)<<30|i<<24|a<<18|o<<12|s<<6|l))),r<65536)u+=String.fromCharCode(r);else{var c=r-65536;u+=String.fromCharCode(55296|c>>10,56320|1023&c)}else u+=String.fromCharCode((31&r)<<6|i);else u+=String.fromCharCode(r)}}function l(e){return s(ve,e)}function u(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function c(e,t,n){return u(e,ve,t,n)}function d(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function A(e){return e}function g(e){var t=/__Z[\w\d_]+/g;return e.replace(t,function(e){var t=A(e);return e===t?e:e+" ["+t+"]"})}function p(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function f(){var e=p();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),g(e)}function h(e,t){return e%t>0&&(e+=t-e%t),e}function m(e){Module.buffer=me=e}function E(){Module.HEAP8=Ee=new Int8Array(me),Module.HEAP16=ye=new Int16Array(me),Module.HEAP32=be=new Int32Array(me),Module.HEAPU8=ve=new Uint8Array(me),Module.HEAPU16=Ie=new Uint16Array(me),Module.HEAPU32=Ce=new Uint32Array(me),Module.HEAPF32=Be=new Float32Array(me),Module.HEAPF64=we=new Float64Array(me)}function v(){ae("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Ye+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function y(){var e=Module.usingWasm?Ue:Ve,t=2147483648-e;if(be[_e>>2]>t)return!1;var n=Ye;for(Ye=Math.max(Ye,Ge);Ye<be[_e>>2];)Ye=Ye<=536870912?h(2*Ye,e):Math.min(h((3*Ye+2147483648)/4,e),t);var r=Module.reallocBuffer(Ye);return r&&r.byteLength==Ye?(m(r),E(),!0):(Ye=n,!1)}function I(){return Ye}function b(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Module.dynCall_v(n):Module.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t()}}function C(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)k(Module.preRun.shift());b(Ke)}function B(){Ze||(Ze=!0,b(qe))}function w(){b(Je)}function S(){b(ze),Xe=!0}function T(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)Q(Module.postRun.shift());b(We)}function k(e){Ke.unshift(e)}function Q(e){We.unshift(e)}function D(e,t){Ee.set(e,t)}function R(e){return e}function _(e){et++,Module.monitorRunDependencies&&Module.monitorRunDependencies(et)}function M(e){if(et--,Module.monitorRunDependencies&&Module.monitorRunDependencies(et),0==et&&(null!==tt&&(clearInterval(tt),tt=null),nt)){var t=nt;nt=null,t()}}function N(e){return String.prototype.startsWith?e.startsWith(rt):0===e.indexOf(rt)}function P(){}function O(e){return Module.___errno_location&&(be[Module.___errno_location()>>2]=e),e}function L(e,t){pt.varargs=t;try{var n=pt.getStr();return gt.unlink(n),0}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function x(e,t){pt.varargs=t;try{var n=pt.getStreamFromFD(),r=(pt.get(),pt.get()),i=pt.get(),a=pt.get(),o=r;return gt.llseek(n,o,a),be[i>>2]=n.position,n.getdents&&0===o&&0===a&&(n.getdents=null),0}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function F(e,t){pt.varargs=t;try{var n=pt.getStreamFromFD(),r=pt.get(),i=pt.get();return pt.doReadv(n,r,i)}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function U(e,t){pt.varargs=t;try{var n=pt.getStreamFromFD(),r=pt.get(),i=pt.get();return pt.doWritev(n,r,i)}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function V(e,t){pt.varargs=t;try{var n=pt.getStreamFromFD();switch(pt.get()){case 0:var r=pt.get();if(r<0)return-at.EINVAL;var i;return i=gt.open(n.path,n.flags,0,r),i.fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var r=pt.get();return n.flags|=r,0;case 12:case 12:var r=pt.get();return ye[r+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-at.EINVAL;case 9:return O(at.EINVAL),-1;default:return-at.EINVAL}}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function G(e,t){pt.varargs=t;try{var n=pt.getStr();return gt.rmdir(n),0}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function H(e,t){pt.varargs=t;try{var n=pt.getStr(),r=pt.get(),i=pt.get();return gt.open(n,r,i).fd}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function j(e,t){pt.varargs=t;try{var n=pt.getStreamFromFD(),r=pt.get();switch(r){case 21509:case 21505:return n.tty?0:-at.ENOTTY;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-at.ENOTTY;case 21519:if(!n.tty)return-at.ENOTTY;var i=pt.get();return be[i>>2]=0,0;case 21520:return n.tty?-at.EINVAL:-at.ENOTTY;case 21531:var i=pt.get();return gt.ioctl(n,r,i);case 21523:case 21524:return n.tty?0:-at.ENOTTY;default:ae("bad ioctl syscall "+r)}}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function Y(e,t){pt.varargs=t;try{var n=pt.getStreamFromFD();return gt.close(n),0}catch(e){return void 0!==gt&&e instanceof gt.ErrnoError||ae(e),-e.errno}}function K(){}function q(e){ie(e)}function J(e){q(e)}function z(e,t,n){return ve.set(ve.subarray(t,t+n),e),e}function W(e,t,n){var r=n>0?n:d(e)+1,i=new Array(r),a=u(e,i,0,i.length);return t&&(i.length=a),i}function Z(e,t){var n=Ct();try{return Module.dynCall_ii(e,t)}catch(e){if(bt(n),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function X(e,t,n){var r=Ct();try{return Module.dynCall_iii(e,t,n)}catch(e){if(bt(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function $(e,t,n,r){var i=Ct();try{return Module.dynCall_iiii(e,t,n,r)}catch(e){if(bt(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ee(e,t,n,r,i){var a=Ct();try{Module.dynCall_viddi(e,t,n,r,i)}catch(e){if(bt(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function te(e,t,n,r,i){var a=Ct();try{Module.dynCall_viiii(e,t,n,r,i)}catch(e){if(bt(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ne(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function re(e){function t(){Module.calledRun||(Module.calledRun=!0,Pe||(B(),w(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),T()))}e=e||Module.arguments,et>0||(C(),et>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function ie(e,t){t&&Module.noExitRuntime&&0===e||(Module.noExitRuntime||(Pe=!0,Oe=e,Qe=Bt,S(),Module.onExit&&Module.onExit(e)),Module.quit(e,new ne(e)))}function ae(e){throw Module.onAbort&&Module.onAbort(e),void 0!==e?(fe(e),he(e),e=JSON.stringify(e)):e="",Pe=!0,Oe=1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}var oe,se={};for(oe in Module)Module.hasOwnProperty(oe)&&(se[oe]=Module[oe]);Module.arguments=[],Module.thisProgram="./this.program",Module.quit=function(e,t){throw t},Module.preRun=[],Module.postRun=[];var le=!1,ue=!1,ce=!1,de=!1;le="object"==typeof window,ue="function"==typeof importScripts,ce="object"==typeof process&&"function"==typeof no_req&&!le&&!ue,de=!le&&!ce&&!ue;var Ae="";if(ce){Ae=__dirname+"/";var ge,pe;Module.read=function(e,t){var n;return ge||(ge=no_req("fs")),pe||(pe=no_req("path")),e=pe.normalize(e),n=ge.readFileSync(e),t?n:n.toString()},Module.readBinary=function(e){var t=Module.read(e,!0);return t.buffer||(t=new Uint8Array(t)),n(t.buffer),t},process.argv.length>1&&(Module.thisProgram=process.argv[1].replace(/\\/g,"/")),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof ne))throw e}),process.on("unhandledRejection",function(e,t){process.exit(1)}),Module.quit=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"}}else de?("undefined"!=typeof read&&(Module.read=function(e){return read(e)}),Module.readBinary=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(t=read(e,"binary"),n("object"==typeof t),t)},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e){quit(e)})):(le||ue)&&(le?document.currentScript&&(Ae=document.currentScript.src):Ae=self.location.href,Ae=0!==Ae.indexOf("blob:")?Ae.substr(0,Ae.lastIndexOf("/")+1):"",Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},ue&&(Module.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Module.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)return void t(r.response);n()},r.onerror=n,r.send(null)},Module.setWindowTitle=function(e){document.title=e});var fe=Module.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),he=Module.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||fe);for(oe in se)se.hasOwnProperty(oe)&&(Module[oe]=se[oe]);se=void 0;var me,Ee,ve,ye,Ie,be,Ce,Be,we,Se,Te,ke,Qe,De,Re,_e,Me=16,Ne={"f64-rem":function(e,t){return e%t},debugger:function(){}},Pe=(new Array(0),!1),Oe=0,Le={stackSave:function(){Ct()},stackRestore:function(){bt()},arrayToC:function(e){var t=It(e.length);return D(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);t=It(n),c(e,t,n)}return t}},xe={string:Le.stringToC,array:Le.arrayToC},Fe="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,Ue=("undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),65536),Ve=16777216,Ge=16777216;Se=Te=ke=Qe=De=Re=_e=0,Module.reallocBuffer||(Module.reallocBuffer=function(e){var t;try{var n=Ee;t=new ArrayBuffer(e);new Int8Array(t).set(n)}catch(e){return!1}return!!vt(t)&&t});var He;try{He=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),He(new ArrayBuffer(4))}catch(e){He=function(e){return e.byteLength}}var je=Module.TOTAL_STACK||5242880,Ye=Module.TOTAL_MEMORY||16777216;Ye<je&&he("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Ye+"! (TOTAL_STACK="+je+")"),Module.buffer?me=Module.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(Module.wasmMemory=new WebAssembly.Memory({initial:Ye/Ue}),me=Module.wasmMemory.buffer):me=new ArrayBuffer(Ye),Module.buffer=me),E();var Ke=[],qe=[],Je=[],ze=[],We=[],Ze=!1,Xe=!1,$e=Math.abs,et=(Math.ceil,Math.floor,Math.min,0),tt=null,nt=null;Module.preloadedImages={},Module.preloadedAudios={};var rt="data:application/octet-stream;base64,";!function(){function t(e){var t=Module.buffer;e.byteLength<t.byteLength&&he("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var n=new Int8Array(t);new Int8Array(e).set(n),m(e),E()}function r(e){return e}function i(){try{if(Module.wasmBinary)return new Uint8Array(Module.wasmBinary);if(Module.readBinary)return Module.readBinary(l);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}function a(){return Module.wasmBinary||!le&&!ue||"function"!=typeof fetch?new Promise(function(e,t){e(i())}):fetch(l,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+l+"'";return e.arrayBuffer()}).catch(function(){return i()})}function o(e,n,r){function i(e,n){d=e.exports,d.memory&&t(d.memory),Module.asm=d,Module.usingWasm=!0,M("wasm-instantiate")}function o(e){i(e.instance,e.module)}function s(e){a().then(function(e){return WebAssembly.instantiate(e,c)}).then(e).catch(function(e){he("failed to asynchronously prepare wasm: "+e),ae(e)})}if("object"!=typeof WebAssembly)return he("no native wasm support detected"),!1;if(!(Module.wasmMemory instanceof WebAssembly.Memory))return he("no native wasm Memory in use"),!1;if(n.memory=Module.wasmMemory,c.global={NaN:NaN,Infinity:1/0},c["global.Math"]=Math,c.env=n,_("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(c,i)}catch(e){return he("Module.instantiateWasm callback failed with error: "+e),!1}return Module.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||N(l)||"function"!=typeof fetch?s(o):WebAssembly.instantiateStreaming(fetch(l,{credentials:"same-origin"}),c).then(o).catch(function(e){he("wasm streaming compile failed: "+e),he("falling back to ArrayBuffer instantiation"),s(o)}),{}}var s="hlscore.wast",l="hlscore.wasm",u="hlscore.temp.asm.js";N(s)||(s=e(s)),N(l)||(l=e(l)),N(u)||(u=e(u));var c={global:null,env:null,asm2wasm:Ne,parent:Module},d=null;Module.asmPreload=Module.asm;var A=Module.reallocBuffer,g=function(e){e=h(e,Module.usingWasm?Ue:Ve);var t=Module.buffer,n=t.byteLength;if(Module.usingWasm)try{return-1!==Module.wasmMemory.grow((e-n)/65536)?Module.buffer=Module.wasmMemory.buffer:null}catch(e){return null}};Module.reallocBuffer=function(e){return"asmjs"===p?A(e):g(e)};var p="";Module.asm=function(e,t,i){if(t=r(t),!t.table){var a=Module.wasmTableSize;void 0===a&&(a=1024);var s=Module.wasmMaxTableSize;"object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?t.table=void 0!==s?new WebAssembly.Table({initial:a,maximum:s,element:"anyfunc"}):new WebAssembly.Table({initial:a,element:"anyfunc"}):t.table=new Array(a),Module.wasmTable=t.table}t.memoryBase||(t.memoryBase=Module.STATIC_BASE),t.tableBase||(t.tableBase=0);var l;return l=o(e,t,i),n(l,"no binaryen method succeeded."),l}}(),Se=1024,Te=Se+9456,qe.push();Module.STATIC_BASE=Se,Module.STATIC_BUMP=9456;var it=Te;Te+=16;var at={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},ot={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device no_reqd",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address no_reqd",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},st={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=st.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=st.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return st.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return st.normalize(e.join("/"))},join2:function(e,t){return st.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:gt.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=st.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=st.resolve(e).substr(1),t=st.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}for(var l=[],s=o;s<r.length;s++)l.push("..");return l=l.concat(i.slice(o)),l.join("/")}},lt={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){lt.ttys[e]={input:[],output:[],ops:t},gt.registerDevice(e,lt.stream_ops)},stream_ops:{open:function(e){var t=lt.ttys[e.node.rdev];if(!t)throw new gt.ErrnoError(at.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new gt.ErrnoError(at.ENXIO);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new gt.ErrnoError(at.EIO)}if(void 0===s&&0===a)throw new gt.ErrnoError(at.EAGAIN);if(null===s||void 0===s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new gt.ErrnoError(at.ENXIO);for(var a=0;a<r;a++)try{e.tty.ops.put_char(e.tty,t[n+a])}catch(e){throw new gt.ErrnoError(at.EIO)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ce){var n=new Buffer(256),r=0,i="win32"!=process.platform,a=process.stdin.fd;if(i){var o=!1;try{a=ht.openSync("/dev/stdin","r"),o=!0}catch(e){}}try{r=ht.readSync(a,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}o&&ht.closeSync(a),t=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=W(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(fe(s(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(fe(s(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(he(s(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(he(s(e.output,0)),e.output=[])}}},ut={ops_table:null,mount:function(e){return ut.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(gt.isBlkdev(n)||gt.isFIFO(n))throw new gt.ErrnoError(at.EPERM);ut.ops_table||(ut.ops_table={dir:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr,lookup:ut.node_ops.lookup,mknod:ut.node_ops.mknod,rename:ut.node_ops.rename,unlink:ut.node_ops.unlink,rmdir:ut.node_ops.rmdir,readdir:ut.node_ops.readdir,symlink:ut.node_ops.symlink},stream:{llseek:ut.stream_ops.llseek}},file:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr},stream:{llseek:ut.stream_ops.llseek,read:ut.stream_ops.read,write:ut.stream_ops.write,allocate:ut.stream_ops.allocate,mmap:ut.stream_ops.mmap,msync:ut.stream_ops.msync}},link:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr,readlink:ut.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ut.node_ops.getattr,setattr:ut.node_ops.setattr},stream:gt.chrdev_stream_ops}});var i=gt.createNode(e,t,n,r);return gt.isDir(i.mode)?(i.node_ops=ut.ops_table.dir.node,i.stream_ops=ut.ops_table.dir.stream,i.contents={}):gt.isFile(i.mode)?(i.node_ops=ut.ops_table.file.node,i.stream_ops=ut.ops_table.file.stream,i.usedBytes=0,i.contents=null):gt.isLink(i.mode)?(i.node_ops=ut.ops_table.link.node,i.stream_ops=ut.ops_table.link.stream):gt.isChrdev(i.mode)&&(i.node_ops=ut.ops_table.chrdev.node,i.stream_ops=ut.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=ut.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.length:0;if(n>=t)return;t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=gt.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,gt.isDir(e.mode)?t.size=4096:gt.isFile(e.mode)?t.size=e.usedBytes:gt.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ut.resizeFileStorage(e,t.size)},lookup:function(e,t){throw gt.genericErrors[at.ENOENT]},mknod:function(e,t,n,r){return ut.createNode(e,t,n,r)},rename:function(e,t,n){if(gt.isDir(e.mode)){var r;try{r=gt.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new gt.ErrnoError(at.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=gt.lookupNode(e,t);for(var r in n.contents)throw new gt.ErrnoError(at.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=ut.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!gt.isLink(e.mode))throw new gt.ErrnoError(at.EINVAL);return e.link}},stream_ops:{read:function(e,t,r,i,a){var o=e.node.contents;if(a>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-a,i);if(n(s>=0),s>8&&o.subarray)t.set(o.subarray(a,a+s),r);else for(var l=0;l<s;l++)t[r+l]=o[a+l];return s},write:function(e,t,n,r,i,a){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=new Uint8Array(t.subarray(n,n+r)),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(ut.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&gt.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new gt.ErrnoError(at.EINVAL);return r},allocate:function(e,t,n){ut.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,a,o){if(!gt.isFile(e.node.mode))throw new gt.ErrnoError(at.ENODEV);var s,l,u=e.node.contents;if(2&o||u.buffer!==t&&u.buffer!==t.buffer){if((i>0||i+r<e.node.usedBytes)&&(u=u.subarray?u.subarray(i,i+r):Array.prototype.slice.call(u,i,i+r)),l=!0,!(s=yt(r)))throw new gt.ErrnoError(at.ENOMEM);t.set(u,s)}else l=!1,s=u.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,n,r,i){if(!gt.isFile(e.node.mode))throw new gt.ErrnoError(at.ENODEV);if(2&i)return 0;ut.stream_ops.write(e,t,0,r,n,!1);return 0}}},ct={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),n(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return ut.mount.apply(null,arguments)},syncfs:function(e,t,n){ct.getLocalSet(e,function(r,i){if(r)return n(r);ct.getRemoteSet(e,function(e,r){if(e)return n(e);var a=t?r:i,o=t?i:r;ct.reconcile(a,o,n)})})},getDB:function(e,t){var n=ct.dbs[e];if(n)return t(null,n);var r;try{r=ct.indexedDB().open(e,ct.DB_VERSION)}catch(e){return t(e)}if(!r)return t("Unable to connect to IndexedDB");r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;t=n.objectStoreNames.contains(ct.DB_STORE_NAME)?r.objectStore(ct.DB_STORE_NAME):n.createObjectStore(ct.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,ct.dbs[e]=n,t(null,n)},r.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){function n(e){return"."!==e&&".."!==e}function r(e){return function(t){return st.join2(e,t)}}for(var i={},a=gt.readdir(e.mountpoint).filter(n).map(r(e.mountpoint));a.length;){var o,s=a.pop();try{o=gt.stat(s)}catch(e){return t(e)}gt.isDir(o.mode)&&a.push.apply(a,gt.readdir(s).filter(n).map(r(s))),i[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var n={};ct.getDB(e.mountpoint,function(e,r){if(e)return t(e);try{var i=r.transaction([ct.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()};i.objectStore(ct.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:r,entries:n});n[i.primaryKey]={timestamp:i.key},i.continue()}}catch(e){return t(e)}})},loadLocalEntry:function(e,t){var n,r;try{r=gt.lookupPath(e).node,n=gt.stat(e)}catch(e){return t(e)}return gt.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode
}):gt.isFile(n.mode)?(r.contents=ut.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(gt.isDir(t.mode))gt.mkdir(e,t.mode);else{if(!gt.isFile(t.mode))return n(new Error("node type not supported"));gt.writeFile(e,t.contents,{canOwn:!0})}gt.chmod(e,t.mode),gt.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=(gt.lookupPath(e),gt.stat(e));gt.isDir(n.mode)?gt.rmdir(e):gt.isFile(n.mode)&&gt.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){var i=e.put(n,t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else if(++s>=i)return n(null)}var i=0,a=[];Object.keys(e.entries).forEach(function(n){var r=e.entries[n],o=t.entries[n];(!o||r.timestamp>o.timestamp)&&(a.push(n),i++)});var o=[];if(Object.keys(t.entries).forEach(function(n){t.entries[n];e.entries[n]||(o.push(n),i++)}),!i)return n(null);var s=0,l="remote"===e.type?e.db:t.db,u=l.transaction([ct.DB_STORE_NAME],"readwrite"),c=u.objectStore(ct.DB_STORE_NAME);u.onerror=function(e){r(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===t.type?ct.loadRemoteEntry(c,e,function(t,n){if(t)return r(t);ct.storeLocalEntry(e,n,r)}):ct.loadLocalEntry(e,function(t,n){if(t)return r(t);ct.storeRemoteEntry(c,e,n,r)})}),o.sort().reverse().forEach(function(e){"local"===t.type?ct.removeLocalEntry(e,r):ct.removeRemoteEntry(c,e,r)})}},dt={isWindows:!1,staticInit:function(){dt.isWindows=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),dt.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){return n(ce),dt.createNode(null,"/",dt.getMode(e.opts.root),0)},createNode:function(e,t,n,r){if(!gt.isDir(n)&&!gt.isFile(n)&&!gt.isLink(n))throw new gt.ErrnoError(at.EINVAL);var i=gt.createNode(e,t,n);return i.node_ops=dt.node_ops,i.stream_ops=dt.stream_ops,i},getMode:function(e){var t;try{t=ht.lstatSync(e),dt.isWindows&&(t.mode=t.mode|(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),st.join.apply(null,t)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var t=0;for(var n in dt.flagsForNodeMap)e&n&&(t|=dt.flagsForNodeMap[n],e^=n);if(e)throw new gt.ErrnoError(at.EINVAL);return t},node_ops:{getattr:function(e){var t,n=dt.realPath(e);try{t=ht.lstatSync(n)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}return dt.isWindows&&!t.blksize&&(t.blksize=4096),dt.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=dt.realPath(e);try{if(void 0!==t.mode&&(ht.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);ht.utimesSync(n,r,r)}void 0!==t.size&&ht.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},lookup:function(e,t){var n=st.join2(dt.realPath(e),t),r=dt.getMode(n);return dt.createNode(e,t,r)},mknod:function(e,t,n,r){var i=dt.createNode(e,t,n,r),a=dt.realPath(i);try{gt.isDir(i.mode)?ht.mkdirSync(a,i.mode):ht.writeFileSync(a,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}return i},rename:function(e,t,n){var r=dt.realPath(e),i=st.join2(dt.realPath(t),n);try{ht.renameSync(r,i)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},unlink:function(e,t){var n=st.join2(dt.realPath(e),t);try{ht.unlinkSync(n)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},rmdir:function(e,t){var n=st.join2(dt.realPath(e),t);try{ht.rmdirSync(n)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},readdir:function(e){var t=dt.realPath(e);try{return ht.readdirSync(t)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},symlink:function(e,t,n){var r=st.join2(dt.realPath(e),t);try{ht.symlinkSync(n,r)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},readlink:function(e){var t=dt.realPath(e);try{return t=ht.readlinkSync(t),t=mt.relative(mt.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}}},stream_ops:{open:function(e){var t=dt.realPath(e.node);try{gt.isFile(e.node.mode)&&(e.nfd=ht.openSync(t,dt.flagsForNode(e.flags)))}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},close:function(e){try{gt.isFile(e.node.mode)&&e.nfd&&ht.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new gt.ErrnoError(at[e.code])}},read:function(e,t,n,r,i){if(0===r)return 0;try{return ht.readSync(e.nfd,dt.bufferFrom(t.buffer),n,r,i)}catch(e){throw new gt.ErrnoError(at[e.code])}},write:function(e,t,n,r,i){try{return ht.writeSync(e.nfd,dt.bufferFrom(t.buffer),n,r,i)}catch(e){throw new gt.ErrnoError(at[e.code])}},llseek:function(e,t,n){var r=t;if(1===n)r+=e.position;else if(2===n&&gt.isFile(e.node.mode))try{var i=ht.fstatSync(e.nfd);r+=i.size}catch(e){throw new gt.ErrnoError(at[e.code])}if(r<0)throw new gt.ErrnoError(at.EINVAL);return r}}},At={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function t(e){for(var t=e.split("/"),n=i,r=0;r<t.length-1;r++){var o=t.slice(0,r+1).join("/");a[o]||(a[o]=At.createNode(n,t[r],At.DIR_MODE,0)),n=a[o]}return n}function r(e){var t=e.split("/");return t[t.length-1]}n(ue),At.reader||(At.reader=new FileReaderSync);var i=At.createNode(null,"/",At.DIR_MODE,0),a={};return Array.prototype.forEach.call(e.opts.files||[],function(e){At.createNode(t(e.name),r(e.name),At.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){At.createNode(t(e.name),r(e.name),At.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(n){var i=n.filename.substr(1);At.createNode(t(i),r(i),At.FILE_MODE,0,e.blob.slice(n.start,n.end))})}),i},createNode:function(e,t,r,i,a,o){var s=gt.createNode(e,t,r);return s.mode=r,s.node_ops=At.node_ops,s.stream_ops=At.stream_ops,s.timestamp=(o||new Date).getTime(),n(At.FILE_MODE!==At.DIR_MODE),r===At.FILE_MODE?(s.size=a.size,s.contents=a):(s.size=4096,s.contents={}),e&&(e.contents[t]=s),s},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new gt.ErrnoError(at.ENOENT)},mknod:function(e,t,n,r){throw new gt.ErrnoError(at.EPERM)},rename:function(e,t,n){throw new gt.ErrnoError(at.EPERM)},unlink:function(e,t){throw new gt.ErrnoError(at.EPERM)},rmdir:function(e,t){throw new gt.ErrnoError(at.EPERM)},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){throw new gt.ErrnoError(at.EPERM)},readlink:function(e){throw new gt.ErrnoError(at.EPERM)}},stream_ops:{read:function(e,t,n,r,i){if(i>=e.node.size)return 0;var a=e.node.contents.slice(i,i+r),o=At.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),n),a.size},write:function(e,t,n,r,i){throw new gt.ErrnoError(at.EIO)},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&gt.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new gt.ErrnoError(at.EINVAL);return r}}};Te+=16,Te+=16,Te+=16;var gt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof gt.ErrnoError))throw e+" : "+f();return O(e.errno)},lookupPath:function(e,t){if(e=st.resolve(gt.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new gt.ErrnoError(at.ELOOP);for(var i=st.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=gt.root,o="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&t.parent)break;if(a=gt.lookupNode(a,i[s]),o=st.join2(o,i[s]),gt.isMountpoint(a)&&(!l||l&&t.follow_mount)&&(a=a.mounted.root),!l||t.follow)for(var u=0;gt.isLink(a.mode);){var c=gt.readlink(o);o=st.resolve(st.dirname(o),c);var d=gt.lookupPath(o,{recurse_count:t.recurse_count});if(a=d.node,u++>40)throw new gt.ErrnoError(at.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(gt.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%gt.nameTable.length},hashAddNode:function(e){var t=gt.hashName(e.parent.id,e.name);e.name_next=gt.nameTable[t],gt.nameTable[t]=e},hashRemoveNode:function(e){var t=gt.hashName(e.parent.id,e.name);if(gt.nameTable[t]===e)gt.nameTable[t]=e.name_next;else for(var n=gt.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=gt.mayLookup(e);if(n)throw new gt.ErrnoError(n,e);for(var r=gt.hashName(e.id,t),i=gt.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return gt.lookup(e,t)},createNode:function(e,t,n,r){if(!gt.FSNode){gt.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=gt.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},gt.FSNode.prototype={};Object.defineProperties(gt.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return gt.isDir(this.mode)}},isDevice:{get:function(){return gt.isChrdev(this.mode)}}})}var i=new gt.FSNode(e,t,n,r);return gt.hashAddNode(i),i},destroyNode:function(e){gt.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=gt.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return gt.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:at.EACCES},mayLookup:function(e){var t=gt.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:at.EACCES)},mayCreate:function(e,t){try{gt.lookupNode(e,t);return at.EEXIST}catch(e){}return gt.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=gt.lookupNode(e,t)}catch(e){return e.errno}var i=gt.nodePermissions(e,"wx");if(i)return i;if(n){if(!gt.isDir(r.mode))return at.ENOTDIR;if(gt.isRoot(r)||gt.getPath(r)===gt.cwd())return at.EBUSY}else if(gt.isDir(r.mode))return at.EISDIR;return 0},mayOpen:function(e,t){return e?gt.isLink(e.mode)?at.ELOOP:gt.isDir(e.mode)&&("r"!==gt.flagsToPermissionString(t)||512&t)?at.EISDIR:gt.nodePermissions(e,gt.flagsToPermissionString(t)):at.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||gt.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!gt.streams[n])return n;throw new gt.ErrnoError(at.EMFILE)},getStream:function(e){return gt.streams[e]},createStream:function(e,t,n){gt.FSStream||(gt.FSStream=function(){},gt.FSStream.prototype={},Object.defineProperties(gt.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new gt.FSStream;for(var i in e)r[i]=e[i];e=r;var a=gt.nextfd(t,n);return e.fd=a,gt.streams[a]=e,e},closeStream:function(e){gt.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=gt.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new gt.ErrnoError(at.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){gt.devices[e]={stream_ops:t}},getDevice:function(e){return gt.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,t){function r(e){return n(gt.syncFSRequests>0),gt.syncFSRequests--,t(e)}function i(e){if(e){if(!i.errored)return i.errored=!0,r(e)}else++o>=a.length&&r(null)}"function"==typeof e&&(t=e,e=!1),++gt.syncFSRequests>1&&console.log("warning: "+gt.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var a=gt.getMounts(gt.root.mount),o=0;a.forEach(function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)})},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&gt.root)throw new gt.ErrnoError(at.EBUSY);if(!i&&!a){var o=gt.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,gt.isMountpoint(r))throw new gt.ErrnoError(at.EBUSY);if(!gt.isDir(r.mode))throw new gt.ErrnoError(at.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,i?gt.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var t=gt.lookupPath(e,{follow_mount:!1});if(!gt.isMountpoint(t.node))throw new gt.ErrnoError(at.EINVAL);var r=t.node,i=r.mounted,a=gt.getMounts(i);Object.keys(gt.nameTable).forEach(function(e){for(var t=gt.nameTable[e];t;){var n=t.name_next;-1!==a.indexOf(t.mount)&&gt.destroyNode(t),t=n}}),r.mounted=null;var o=r.mount.mounts.indexOf(i);n(-1!==o),r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=gt.lookupPath(e,{parent:!0}),i=r.node,a=st.basename(e);if(!a||"."===a||".."===a)throw new gt.ErrnoError(at.EINVAL);var o=gt.mayCreate(i,a);if(o)throw new gt.ErrnoError(o);if(!i.node_ops.mknod)throw new gt.ErrnoError(at.EPERM);return i.node_ops.mknod(i,a,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,gt.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,gt.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{gt.mkdir(r,t)}catch(e){if(e.errno!=at.EEXIST)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,gt.mknod(e,t,n)},symlink:function(e,t){if(!st.resolve(e))throw new gt.ErrnoError(at.ENOENT);var n=gt.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new gt.ErrnoError(at.ENOENT);var i=st.basename(t),a=gt.mayCreate(r,i);if(a)throw new gt.ErrnoError(a);if(!r.node_ops.symlink)throw new gt.ErrnoError(at.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var n,r,i,a=st.dirname(e),o=st.dirname(t),s=st.basename(e),l=st.basename(t);try{n=gt.lookupPath(e,{parent:!0}),r=n.node,n=gt.lookupPath(t,{parent:!0}),i=n.node}catch(e){throw new gt.ErrnoError(at.EBUSY)}if(!r||!i)throw new gt.ErrnoError(at.ENOENT);if(r.mount!==i.mount)throw new gt.ErrnoError(at.EXDEV);var u=gt.lookupNode(r,s),c=st.relative(e,o);if("."!==c.charAt(0))throw new gt.ErrnoError(at.EINVAL);if(c=st.relative(t,a),"."!==c.charAt(0))throw new gt.ErrnoError(at.ENOTEMPTY);var d;try{d=gt.lookupNode(i,l)}catch(e){}if(u!==d){var A=gt.isDir(u.mode),g=gt.mayDelete(r,s,A);if(g)throw new gt.ErrnoError(g);if(g=d?gt.mayDelete(i,l,A):gt.mayCreate(i,l))throw new gt.ErrnoError(g);if(!r.node_ops.rename)throw new gt.ErrnoError(at.EPERM);if(gt.isMountpoint(u)||d&&gt.isMountpoint(d))throw new gt.ErrnoError(at.EBUSY);if(i!==r&&(g=gt.nodePermissions(r,"w")))throw new gt.ErrnoError(g);try{gt.trackingDelegate.willMovePath&&gt.trackingDelegate.willMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}gt.hashRemoveNode(u);try{r.node_ops.rename(u,i,l)}catch(e){throw e}finally{gt.hashAddNode(u)}try{gt.trackingDelegate.onMovePath&&gt.trackingDelegate.onMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=gt.lookupPath(e,{parent:!0}),n=t.node,r=st.basename(e),i=gt.lookupNode(n,r),a=gt.mayDelete(n,r,!0);if(a)throw new gt.ErrnoError(a);if(!n.node_ops.rmdir)throw new gt.ErrnoError(at.EPERM);if(gt.isMountpoint(i))throw new gt.ErrnoError(at.EBUSY);try{gt.trackingDelegate.willDeletePath&&gt.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.rmdir(n,r),gt.destroyNode(i);try{gt.trackingDelegate.onDeletePath&&gt.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=gt.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new gt.ErrnoError(at.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var t=gt.lookupPath(e,{parent:!0}),n=t.node,r=st.basename(e),i=gt.lookupNode(n,r),a=gt.mayDelete(n,r,!1);if(a)throw new gt.ErrnoError(a);if(!n.node_ops.unlink)throw new gt.ErrnoError(at.EPERM);if(gt.isMountpoint(i))throw new gt.ErrnoError(at.EBUSY);try{gt.trackingDelegate.willDeletePath&&gt.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.unlink(n,r),gt.destroyNode(i);try{gt.trackingDelegate.onDeletePath&&gt.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=gt.lookupPath(e),n=t.node;if(!n)throw new gt.ErrnoError(at.ENOENT);if(!n.node_ops.readlink)throw new gt.ErrnoError(at.EINVAL);return st.resolve(gt.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=gt.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new gt.ErrnoError(at.ENOENT);if(!r.node_ops.getattr)throw new gt.ErrnoError(at.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return gt.stat(e,!0)},chmod:function(e,t,n){var r;if("string"==typeof e){r=gt.lookupPath(e,{follow:!n}).node}else r=e;if(!r.node_ops.setattr)throw new gt.ErrnoError(at.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){gt.chmod(e,t,!0)},fchmod:function(e,t){var n=gt.getStream(e);if(!n)throw new gt.ErrnoError(at.EBADF);gt.chmod(n.node,t)},chown:function(e,t,n,r){var i;if("string"==typeof e){i=gt.lookupPath(e,{follow:!r}).node}else i=e;if(!i.node_ops.setattr)throw new gt.ErrnoError(at.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){gt.chown(e,t,n,!0)},fchown:function(e,t,n){var r=gt.getStream(e);if(!r)throw new gt.ErrnoError(at.EBADF);gt.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new gt.ErrnoError(at.EINVAL);var n;if("string"==typeof e){n=gt.lookupPath(e,{follow:!0}).node}else n=e;if(!n.node_ops.setattr)throw new gt.ErrnoError(at.EPERM);if(gt.isDir(n.mode))throw new gt.ErrnoError(at.EISDIR);if(!gt.isFile(n.mode))throw new gt.ErrnoError(at.EINVAL);var r=gt.nodePermissions(n,"w");if(r)throw new gt.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=gt.getStream(e);if(!n)throw new gt.ErrnoError(at.EBADF);if(0==(2097155&n.flags))throw new gt.ErrnoError(at.EINVAL);gt.truncate(n.node,t)},utime:function(e,t,n){var r=gt.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new gt.ErrnoError(at.ENOENT);t="string"==typeof t?gt.modeStringToFlags(t):t,n=void 0===n?438:n,n=64&t?4095&n|32768:0;var a;if("object"==typeof e)a=e;else{e=st.normalize(e);try{a=gt.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(a){if(128&t)throw new gt.ErrnoError(at.EEXIST)}else a=gt.mknod(e,n,0),o=!0;if(!a)throw new gt.ErrnoError(at.ENOENT);if(gt.isChrdev(a.mode)&&(t&=-513),65536&t&&!gt.isDir(a.mode))throw new gt.ErrnoError(at.ENOTDIR);if(!o){var s=gt.mayOpen(a,t);if(s)throw new gt.ErrnoError(s)}512&t&&gt.truncate(a,0),t&=-641;var l=gt.createStream({node:a,path:gt.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,i);l.stream_ops.open&&l.stream_ops.open(l),!Module.logReadFiles||1&t||(gt.readFiles||(gt.readFiles={}),e in gt.readFiles||(gt.readFiles[e]=1,s("read file: "+e)));try{if(gt.trackingDelegate.onOpenFile){var u=0;1!=(2097155&t)&&(u|=gt.tracking.openFlags.READ),0!=(2097155&t)&&(u|=gt.tracking.openFlags.WRITE),gt.trackingDelegate.onOpenFile(e,u)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return l},close:function(e){if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{gt.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);if(!e.seekable||!e.stream_ops.llseek)throw new gt.ErrnoError(at.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new gt.ErrnoError(at.EINVAL);if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);if(1==(2097155&e.flags))throw new gt.ErrnoError(at.EBADF);if(gt.isDir(e.node.mode))throw new gt.ErrnoError(at.EISDIR);if(!e.stream_ops.read)throw new gt.ErrnoError(at.EINVAL);var a=void 0!==i;if(a){if(!e.seekable)throw new gt.ErrnoError(at.ESPIPE)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new gt.ErrnoError(at.EINVAL);if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);if(0==(2097155&e.flags))throw new gt.ErrnoError(at.EBADF);if(gt.isDir(e.node.mode))throw new gt.ErrnoError(at.EISDIR);if(!e.stream_ops.write)throw new gt.ErrnoError(at.EINVAL);1024&e.flags&&gt.llseek(e,0,2);var o=void 0!==i;if(o){if(!e.seekable)throw new gt.ErrnoError(at.ESPIPE)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,a);o||(e.position+=s);try{e.path&&gt.trackingDelegate.onWriteToFile&&gt.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,t,n){if(gt.isClosed(e))throw new gt.ErrnoError(at.EBADF);if(t<0||n<=0)throw new gt.ErrnoError(at.EINVAL);if(0==(2097155&e.flags))throw new gt.ErrnoError(at.EBADF);if(!gt.isFile(e.node.mode)&&!gt.isDir(e.node.mode))throw new gt.ErrnoError(at.ENODEV);if(!e.stream_ops.allocate)throw new gt.ErrnoError(at.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,a,o){if(1==(2097155&e.flags))throw new gt.ErrnoError(at.EACCES);if(!e.stream_ops.mmap)throw new gt.ErrnoError(at.ENODEV);return e.stream_ops.mmap(e,t,n,r,i,a,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new gt.ErrnoError(at.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=gt.open(e,t.flags),i=gt.stat(e),a=i.size,o=new Uint8Array(a);return gt.read(r,o,0,a,0),"utf8"===t.encoding?n=s(o,0):"binary"===t.encoding&&(n=o),gt.close(r),n},writeFile:function(e,t,n){n=n||{},n.flags=n.flags||"w";var r=gt.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(d(t)+1),a=u(t,i,0,i.length);gt.write(r,i,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");gt.write(r,t,0,t.byteLength,void 0,n.canOwn)}gt.close(r)},cwd:function(){return gt.currentPath},chdir:function(e){var t=gt.lookupPath(e,{follow:!0});if(null===t.node)throw new gt.ErrnoError(at.ENOENT);if(!gt.isDir(t.node.mode))throw new gt.ErrnoError(at.ENOTDIR);var n=gt.nodePermissions(t.node,"x");if(n)throw new gt.ErrnoError(n);gt.currentPath=t.path},createDefaultDirectories:function(){gt.mkdir("/tmp"),gt.mkdir("/home"),gt.mkdir("/home/web_user")},createDefaultDevices:function(){gt.mkdir("/dev"),gt.registerDevice(gt.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),gt.mkdev("/dev/null",gt.makedev(1,3)),lt.register(gt.makedev(5,0),lt.default_tty_ops),lt.register(gt.makedev(6,0),lt.default_tty1_ops),gt.mkdev("/dev/tty",gt.makedev(5,0)),gt.mkdev("/dev/tty1",gt.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=ce?function(){return no_req("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};gt.createDevice("/dev","random",e),gt.createDevice("/dev","urandom",e),gt.mkdir("/dev/shm"),gt.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){gt.mkdir("/proc"),gt.mkdir("/proc/self"),gt.mkdir("/proc/self/fd"),gt.mount({mount:function(){var e=gt.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=gt.getStream(n);if(!r)throw new gt.ErrnoError(at.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?gt.createDevice("/dev","stdin",Module.stdin):gt.symlink("/dev/tty","/dev/stdin"),Module.stdout?gt.createDevice("/dev","stdout",null,Module.stdout):gt.symlink("/dev/tty","/dev/stdout"),Module.stderr?gt.createDevice("/dev","stderr",null,Module.stderr):gt.symlink("/dev/tty1","/dev/stderr");var e=gt.open("/dev/stdin","r");n(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=gt.open("/dev/stdout","w");n(1===t.fd,"invalid handle for stdout ("+t.fd+")");var r=gt.open("/dev/stderr","w");n(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){gt.ErrnoError||(gt.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in at)if(at[t]===e){this.code=t;break}},this.setErrno(e),this.message=ot[e],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},gt.ErrnoError.prototype=new Error,gt.ErrnoError.prototype.constructor=gt.ErrnoError,[at.ENOENT].forEach(function(e){gt.genericErrors[e]=new gt.ErrnoError(e),gt.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){gt.ensureErrnoError(),gt.nameTable=new Array(4096),gt.mount(ut,{},"/"),gt.createDefaultDirectories(),gt.createDefaultDevices(),gt.createSpecialDirectories(),gt.filesystems={MEMFS:ut,IDBFS:ct,NODEFS:dt,WORKERFS:At}},init:function(e,t,r){n(!gt.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),gt.init.initialized=!0,gt.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=t||Module.stdout,Module.stderr=r||Module.stderr,gt.createStandardStreams()},quit:function(){gt.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<gt.streams.length;t++){var n=gt.streams[t];n&&gt.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=st.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return st.resolve(t,e)},standardizePath:function(e){return st.normalize(e)},findObject:function(e,t){var n=gt.analyzePath(e,t);return n.exists?n.object:(O(n.error),null)},analyzePath:function(e,t){try{var n=gt.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=gt.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=st.basename(e),n=gt.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,n,r){var i=st.join2("string"==typeof e?e:gt.getPath(e),t),a=gt.getMode(n,r);return gt.mkdir(i,a)},createPath:function(e,t,n,r){e="string"==typeof e?e:gt.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=st.join2(e,a);try{gt.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,n,r,i){var a=st.join2("string"==typeof e?e:gt.getPath(e),t),o=gt.getMode(r,i);return gt.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t?st.join2("string"==typeof e?e:gt.getPath(e),t):e,s=gt.getMode(r,i),l=gt.create(o,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),c=0,d=n.length;c<d;++c)u[c]=n.charCodeAt(c);n=u}gt.chmod(l,146|s);var A=gt.open(l,"w");gt.write(A,n,0,n.length,0,a),gt.close(A),gt.chmod(l,s)}return l},createDevice:function(e,t,n,r){var i=st.join2("string"==typeof e?e:gt.getPath(e),t),a=gt.getMode(!!n,!!r);gt.createDevice.major||(gt.createDevice.major=64);var o=gt.makedev(gt.createDevice.major++,0);return gt.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var l;try{l=n()}catch(e){throw new gt.ErrnoError(at.EIO)}if(void 0===l&&0===o)throw new gt.ErrnoError(at.EAGAIN);if(null===l||void 0===l)break;o++,t[r+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new gt.ErrnoError(at.EIO)}return i&&(e.node.timestamp=Date.now()),o}}),gt.mkdev(i,a,o)},createLink:function(e,t,n,r,i){var a=st.join2("string"==typeof e?e:gt.getPath(e),t);return gt.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=W(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||O(at.EIO),t},createLazyFile:function(e,t,r,i,a){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=n);var s=function(e,t){
if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):W(i.responseText||"",!0)},l=this;l.setDataGetter(function(e){var t=e*o,r=(e+1)*o-1;if(r=Math.min(r,n-1),void 0===l.chunks[e]&&(l.chunks[e]=s(t,r)),void 0===l.chunks[e])throw new Error("doXHR failed!");return l.chunks[e]}),!a&&n||(o=n=1,n=this.getter(0).length,o=n,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ue)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new o;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:s}}else var l={isDevice:!1,url:r};var u=gt.createFile(e,t,l,i,a);l.contents?u.contents=l.contents:l.url&&(u.contents=null,u.url=l.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach(function(e){var t=u.stream_ops[e];c[e]=function(){if(!gt.forceLoadFile(u))throw new gt.ErrnoError(at.EIO);return t.apply(null,arguments)}}),c.read=function(e,t,r,i,a){if(!gt.forceLoadFile(u))throw new gt.ErrnoError(at.EIO);var o=e.node.contents;if(a>=o.length)return 0;var s=Math.min(o.length-a,i);if(n(s>=0),o.slice)for(var l=0;l<s;l++)t[r+l]=o[a+l];else for(var l=0;l<s;l++)t[r+l]=o.get(a+l);return s},u.stream_ops=c,u},createPreloadedFile:function(e,t,n,r,i,a,o,s,l,u){function c(n){function c(n){u&&u(),s||gt.createDataFile(e,t,n,r,i,l),a&&a(),M(A)}var g=!1;Module.preloadPlugins.forEach(function(e){g||e.canHandle(d)&&(e.handle(n,d,c,function(){o&&o(),M(A)}),g=!0)}),g||c(n)}Browser.init();var d=t?st.resolve(st.join2(e,t)):e,A=R("cp "+d);_(A),"string"==typeof n?Browser.asyncLoad(n,function(e){c(e)},o):c(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=gt.indexedDB();try{var i=r.open(gt.DB_NAME(),gt.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(gt.DB_STORE_NAME)},i.onsuccess=function(){function r(){0==u?t():n()}var a=i.result,o=a.transaction([gt.DB_STORE_NAME],"readwrite"),s=o.objectStore(gt.DB_STORE_NAME),l=0,u=0,c=e.length;e.forEach(function(e){var t=s.put(gt.analyzePath(e).object.contents,e);t.onsuccess=function(){++l+u==c&&r()},t.onerror=function(){u++,l+u==c&&r()}}),o.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=gt.indexedDB();try{var i=r.open(gt.DB_NAME(),gt.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function r(){0==u?t():n()}var a=i.result;try{var o=a.transaction([gt.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=o.objectStore(gt.DB_STORE_NAME),l=0,u=0,c=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){gt.analyzePath(e).exists&&gt.unlink(e),gt.createDataFile(st.dirname(e),st.basename(e),t.result,!0,!0,!0),++l+u==c&&r()},t.onerror=function(){u++,l+u==c&&r()}}),o.onerror=n},i.onerror=n}},pt={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=gt.cwd();else{var r=gt.getStream(e);if(!r)throw new gt.ErrnoError(at.EBADF);n=r.path}t=st.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&st.normalize(t)!==st.normalize(gt.getPath(e.node)))return-at.ENOTDIR;throw e}return be[n>>2]=r.dev,be[n+4>>2]=0,be[n+8>>2]=r.ino,be[n+12>>2]=r.mode,be[n+16>>2]=r.nlink,be[n+20>>2]=r.uid,be[n+24>>2]=r.gid,be[n+28>>2]=r.rdev,be[n+32>>2]=0,be[n+36>>2]=r.size,be[n+40>>2]=4096,be[n+44>>2]=r.blocks,be[n+48>>2]=r.atime.getTime()/1e3|0,be[n+52>>2]=0,be[n+56>>2]=r.mtime.getTime()/1e3|0,be[n+60>>2]=0,be[n+64>>2]=r.ctime.getTime()/1e3|0,be[n+68>>2]=0,be[n+72>>2]=r.ino,0},doMsync:function(e,t,n,r){var i=new Uint8Array(ve.subarray(e,e+n));gt.msync(t,i,0,n,r)},doMkdir:function(e,t){return e=st.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),gt.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-at.EINVAL}return gt.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-at.EINVAL;var r=gt.readlink(e),i=Math.min(n,d(r)),a=Ee[t+i];return c(r,t,n+1),Ee[t+i]=a,i},doAccess:function(e,t){if(-8&t)return-at.EINVAL;var n;n=gt.lookupPath(e,{follow:!0}).node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&gt.nodePermissions(n,r)?-at.EACCES:0},doDup:function(e,t,n){var r=gt.getStream(n);return r&&gt.close(r),gt.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=be[t+8*a>>2],s=be[t+(8*a+4)>>2],l=gt.read(e,Ee,o,s,r);if(l<0)return-1;if(i+=l,l<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=be[t+8*a>>2],s=be[t+(8*a+4)>>2],l=gt.write(e,Ee,o,s,r);if(l<0)return-1;i+=l}return i},varargs:0,get:function(e){return pt.varargs+=4,be[pt.varargs-4>>2]},getStr:function(){return o(pt.get())},getStreamFromFD:function(){var e=gt.getStream(pt.get());if(!e)throw new gt.ErrnoError(at.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(pt.get());if(!e)throw new gt.ErrnoError(at.EBADF);return e},getSocketAddress:function(e){var t=pt.get(),n=pt.get();if(e&&0===t)return null;var r=__read_sockaddr(t,n);if(r.errno)throw new gt.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=pt.get(),t=pt.get();return n(e>=0?0===t:-1===t),e},getZero:function(){n(0===pt.get())}},ft=$e;if(gt.staticInit(),qe.unshift(function(){Module.noFSInit||gt.init.initialized||gt.init()}),Je.push(function(){gt.ignorePermissions=!1}),ze.push(function(){gt.quit()}),qe.unshift(function(){lt.init()}),ze.push(function(){lt.shutdown()}),ce){var ht=no_req("fs"),mt=no_req("path");dt.staticInit()}_e=function(e){var t=Te;return Te=Te+e+15&-16,t}(4),ke=Qe=t(Te),De=ke+je,Re=t(De),be[_e>>2]=Re;Module.wasmTableSize=15,Module.wasmMaxTableSize=15,Module.asmGlobalArg={},Module.asmLibraryArg={abort:ae,assert:n,enlargeMemory:y,getTotalMemory:I,abortOnCannotGrowMemory:v,invoke_ii:Z,invoke_iii:X,invoke_iiii:$,invoke_viddi:ee,invoke_viiii:te,___lock:P,___setErrNo:O,___syscall10:L,___syscall140:x,___syscall145:F,___syscall146:U,___syscall221:V,___syscall40:G,___syscall5:H,___syscall54:j,___syscall6:Y,___unlock:K,__exit:q,_emscripten_memcpy_big:z,_exit:J,_llvm_fabs_f64:ft,DYNAMICTOP_PTR:_e,tempDoublePtr:it,STACKTOP:Qe,STACK_MAX:De};var Et=Module.asm(Module.asmGlobalArg,Module.asmLibraryArg,me);Module.asm=Et;var vt=(Module.___errno_location=function(){return Module.asm.___errno_location.apply(null,arguments)},Module._convert_segment_file=function(){return Module.asm._convert_segment_file.apply(null,arguments)},Module._emscripten_replace_memory=function(){return Module.asm._emscripten_replace_memory.apply(null,arguments)}),yt=(Module._free=function(){return Module.asm._free.apply(null,arguments)},Module._get_dts_offset=function(){return Module.asm._get_dts_offset.apply(null,arguments)},Module._get_key_frame_first=function(){return Module.asm._get_key_frame_first.apply(null,arguments)},Module._get_last_vpts=function(){return Module.asm._get_last_vpts.apply(null,arguments)},Module._llvm_bswap_i16=function(){return Module.asm._llvm_bswap_i16.apply(null,arguments)},Module._llvm_bswap_i32=function(){return Module.asm._llvm_bswap_i32.apply(null,arguments)},Module._llvm_maxnum_f64=function(){return Module.asm._llvm_maxnum_f64.apply(null,arguments)},Module._llvm_minnum_f64=function(){return Module.asm._llvm_minnum_f64.apply(null,arguments)},Module._malloc=function(){return Module.asm._malloc.apply(null,arguments)}),It=(Module._memcpy=function(){return Module.asm._memcpy.apply(null,arguments)},Module._memmove=function(){return Module.asm._memmove.apply(null,arguments)},Module._memset=function(){return Module.asm._memset.apply(null,arguments)},Module._sbrk=function(){return Module.asm._sbrk.apply(null,arguments)},Module._simulate_memory_allocation=function(){return Module.asm._simulate_memory_allocation.apply(null,arguments)},Module._stream_ctx_delete=function(){return Module.asm._stream_ctx_delete.apply(null,arguments)},Module._stream_ctx_new=function(){return Module.asm._stream_ctx_new.apply(null,arguments)},Module.establishStackSpace=function(){return Module.asm.establishStackSpace.apply(null,arguments)},Module.getTempRet0=function(){return Module.asm.getTempRet0.apply(null,arguments)},Module.runPostSets=function(){return Module.asm.runPostSets.apply(null,arguments)},Module.setTempRet0=function(){return Module.asm.setTempRet0.apply(null,arguments)},Module.setThrew=function(){return Module.asm.setThrew.apply(null,arguments)},Module.stackAlloc=function(){return Module.asm.stackAlloc.apply(null,arguments)}),bt=Module.stackRestore=function(){return Module.asm.stackRestore.apply(null,arguments)},Ct=Module.stackSave=function(){return Module.asm.stackSave.apply(null,arguments)};Module.dynCall_ii=function(){return Module.asm.dynCall_ii.apply(null,arguments)},Module.dynCall_iii=function(){return Module.asm.dynCall_iii.apply(null,arguments)},Module.dynCall_iiii=function(){return Module.asm.dynCall_iiii.apply(null,arguments)},Module.dynCall_viddi=function(){return Module.asm.dynCall_viddi.apply(null,arguments)},Module.dynCall_viiii=function(){return Module.asm.dynCall_viiii.apply(null,arguments)};Module.asm=Et,Module.cwrap=a,ne.prototype=new Error,ne.prototype.constructor=ne;var Bt;if(nt=function e(){Module.calledRun||re(),Module.calledRun||(nt=e)},Module.run=re,Module.abort=ae,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();return Module.noExitRuntime=!0,re(),{Module:Module,FS:gt}}});var Module=void 0!==Module?Module:{};anv.define("hlscore-asm",function(){return function(){function e(e,t){return t||(t=Le),e=Math.ceil(e/t)*t}function t(e,t){e||ue("Assertion failed: "+t)}function n(e){var n=Module["_"+e];return t(n,"Cannot call unknown function "+e+", make sure it is exported"),n}function r(e,t,r,i,o){var s=n(e),l=[],u=0;if(i)for(var c=0;c<i.length;c++){var d=Ve[r[c]];d?(0===u&&(u=Qt()),l[c]=d(i[c])):l[c]=i[c]}var A=s.apply(null,l);return A=function(e){return"string"===t?a(e):"boolean"===t?Boolean(e):e}(A),0!==u&&kt(u),A}function i(e,t,i,a){i=i||[];var o=i.every(function(e){return"number"===e});return"string"!==t&&o&&!a?n(e):function(){return r(e,t,i,arguments,a)}}function a(e,t){if(0===t||!e)return"";for(var n,r=0,i=0;;){if(n=Ce[e+i>>0],r|=n,0==n&&!t)break;if(i++,t&&i==t)break}t||(t=i);var a="";if(r<128){for(var o;t>0;)o=String.fromCharCode.apply(String,Ce.subarray(e,e+Math.min(t,1024))),a=a?a+o:o,e+=1024,t-=1024;return a}return s(e)}function o(e,t){for(var n=t;e[n];)++n;if(n-t>16&&e.subarray&&Ge)return Ge.decode(e.subarray(t,n));for(var r,i,a,o,s,l,u="";;){if(!(r=e[t++]))return u;if(128&r)if(i=63&e[t++],192!=(224&r))if(a=63&e[t++],224==(240&r)?r=(15&r)<<12|i<<6|a:(o=63&e[t++],240==(248&r)?r=(7&r)<<18|i<<12|a<<6|o:(s=63&e[t++],248==(252&r)?r=(3&r)<<24|i<<18|a<<12|o<<6|s:(l=63&e[t++],r=(1&r)<<30|i<<24|a<<18|o<<12|s<<6|l))),r<65536)u+=String.fromCharCode(r);else{var c=r-65536;u+=String.fromCharCode(55296|c>>10,56320|1023&c)}else u+=String.fromCharCode((31&r)<<6|i);else u+=String.fromCharCode(r)}}function s(e){return o(Ce,e)}function l(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){s=65536+((1023&s)<<10)|1023&e.charCodeAt(++o)}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|63&s}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=2097151){if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else if(s<=67108863){if(n+4>=a)break;t[n++]=248|s>>24,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}else{if(n+5>=a)break;t[n++]=252|s>>30,t[n++]=128|s>>24&63,t[n++]=128|s>>18&63,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|63&s}}return t[n]=0,n-i}function u(e,t,n){return l(e,Ce,t,n)}function c(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:r<=2097151?4:r<=67108863?5:6}return t}function d(e){return e}function A(e){var t=/__Z[\w\d_]+/g;return e.replace(t,function(e){var t=d(e);return e===t?e:e+" ["+t+"]"})}function g(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function p(){var e=g();return Module.extraStackTrace&&(e+="\n"+Module.extraStackTrace()),A(e)}function f(e,t){return e%t>0&&(e+=t-e%t),e}function h(e){Module.buffer=Ie=e}function m(){Module.HEAP8=be=new Int8Array(Ie),Module.HEAP16=Be=new Int16Array(Ie),Module.HEAP32=Se=new Int32Array(Ie),Module.HEAPU8=Ce=new Uint8Array(Ie),Module.HEAPU16=we=new Uint16Array(Ie),Module.HEAPU32=Te=new Uint32Array(Ie),Module.HEAPF32=ke=new Float32Array(Ie),Module.HEAPF64=Qe=new Float64Array(Ie)}function E(){ue("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Je+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function v(){var e=Module.usingWasm?He:je,t=2147483648-e;if(Se[Oe>>2]>t)return!1;var n=Je;for(Je=Math.max(Je,Ye);Je<Se[Oe>>2];)Je=Je<=536870912?f(2*Je,e):Math.min(f((3*Je+2147483648)/4,e),t);var r=Module.reallocBuffer(Je);return r&&r.byteLength==Je?(h(r),m(),!0):(Je=n,!1)}function y(){return Je}function I(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?Module.dynCall_v(n):Module.dynCall_vi(n,t.arg):n(void 0===t.arg?null:t.arg)}else t()}}function b(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)T(Module.preRun.shift());I(ze)}function C(){et||(et=!0,I(We))}function B(){I(Ze)}function w(){I(Xe),tt=!0}function S(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)k(Module.postRun.shift());I($e)}function T(e){ze.unshift(e)}function k(e){$e.unshift(e)}function Q(e,t){be.set(e,t)}function D(e){return e}function R(e){rt++,Module.monitorRunDependencies&&Module.monitorRunDependencies(rt)}function _(e){if(rt--,Module.monitorRunDependencies&&Module.monitorRunDependencies(rt),0==rt&&(null!==it&&(clearInterval(it),it=null),at)){var t=at;at=null,t()}}function M(e){return String.prototype.startsWith?e.startsWith(st):0===e.indexOf(st)}function N(){}function P(e){return Module.___errno_location&&(Se[Module.___errno_location()>>2]=e),e}function O(e,t){Et.varargs=t;try{var n=Et.getStr();return mt.unlink(n),0}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function L(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD(),r=(Et.get(),Et.get()),i=Et.get(),a=Et.get(),o=r;return mt.llseek(n,o,a),Se[i>>2]=n.position,n.getdents&&0===o&&0===a&&(n.getdents=null),0}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function x(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD(),r=Et.get(),i=Et.get();return Et.doReadv(n,r,i)}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function F(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD(),r=Et.get(),i=Et.get();return Et.doWritev(n,r,i)}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function U(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD();switch(Et.get()){case 0:var r=Et.get();if(r<0)return-ut.EINVAL;var i;return i=mt.open(n.path,n.flags,0,r),i.fd;case 1:case 2:return 0;case 3:return n.flags;case 4:var r=Et.get();return n.flags|=r,0;case 12:case 12:var r=Et.get();return Be[r+0>>1]=2,0;case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-ut.EINVAL;case 9:return P(ut.EINVAL),-1;default:return-ut.EINVAL}}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function V(e,t){Et.varargs=t;try{var n=Et.getStr();return mt.rmdir(n),0}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function G(e,t){Et.varargs=t;try{var n=Et.getStr(),r=Et.get(),i=Et.get();return mt.open(n,r,i).fd}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function H(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD(),r=Et.get();switch(r){case 21509:case 21505:return n.tty?0:-ut.ENOTTY;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return n.tty?0:-ut.ENOTTY;case 21519:if(!n.tty)return-ut.ENOTTY;var i=Et.get();return Se[i>>2]=0,0;case 21520:return n.tty?-ut.EINVAL:-ut.ENOTTY;case 21531:var i=Et.get();return mt.ioctl(n,r,i);case 21523:case 21524:return n.tty?0:-ut.ENOTTY;default:ue("bad ioctl syscall "+r)}}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function j(e,t){Et.varargs=t;try{var n=Et.getStreamFromFD();return mt.close(n),0}catch(e){return void 0!==mt&&e instanceof mt.ErrnoError||ue(e),-e.errno}}function Y(){}function K(e){le(e)}function q(e){K(e)}function J(e,t,n){return Ce.set(Ce.subarray(t,t+n),e),e}function z(e,t,n){var r=n>0?n:c(e)+1,i=new Array(r),a=l(e,i,0,i.length);return t&&(i.length=a),i}function W(e){for(var n=[],r=0;r<e.length;r++){var i=e[r];i>255&&(bt&&t(!1,"Character code "+i+" ("+String.fromCharCode(i)+")  at offset "+r+" not in 0x00-0xFF."),i&=255),n.push(String.fromCharCode(i))}return n.join("")}function Z(e){if("boolean"==typeof pe&&pe){var t;try{t=Buffer.from(e,"base64")}catch(n){t=new Buffer(e,"base64")}return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}try{for(var n=Ct(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}catch(e){throw new Error("Converting base64 string to bytes failed.")}}function X(e){if(M(e))return Z(e.slice(st.length))}function $(e,t){var n=Qt();try{return Module.dynCall_ii(e,t)}catch(e){if(kt(n),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ee(e,t,n){var r=Qt();try{return Module.dynCall_iii(e,t,n)}catch(e){if(kt(r),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function te(e,t,n,r){var i=Qt();try{return Module.dynCall_iiii(e,t,n,r)}catch(e){if(kt(i),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ne(e,t,n,r,i){var a=Qt();try{Module.dynCall_viddi(e,t,n,r,i)}catch(e){if(kt(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function re(e,t,n,r,i){var a=Qt();try{Module.dynCall_viiii(e,t,n,r,i)}catch(e){if(kt(a),"number"!=typeof e&&"longjmp"!==e)throw e;Module.setThrew(1,0)}}function ie(){Module.readAsync(ot,Rt,function(){throw"could not load memory initializer "+ot})}function ae(){var e=Module.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){var n=X(Module.memoryInitializerRequestURL);if(!n)return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+ot),void ie();t=n.buffer}Rt(t)}function oe(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function se(e){function t(){Module.calledRun||(Module.calledRun=!0,xe||(C(),B(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),S()))}e=e||Module.arguments,rt>0||(b(),rt>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1)):t()))}function le(e,t){t&&Module.noExitRuntime&&0===e||(Module.noExitRuntime||(xe=!0,Fe=e,Me=Mt,w(),Module.onExit&&Module.onExit(e)),Module.quit(e,new oe(e)))}function ue(e){throw Module.onAbort&&Module.onAbort(e),void 0!==e?(ve(e),ye(e),e=JSON.stringify(e)):e="",xe=!0,Fe=1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}var ce,de={};for(ce in Module)Module.hasOwnProperty(ce)&&(de[ce]=Module[ce]);Module.arguments=[],Module.thisProgram="./this.program",Module.quit=function(e,t){throw t},Module.preRun=[],Module.postRun=[];var Ae=!1,ge=!1,pe=!1,fe=!1;Ae="object"==typeof window,ge="function"==typeof importScripts,pe="object"==typeof process&&"function"==typeof no_req&&!Ae&&!ge,fe=!Ae&&!pe&&!ge;var he="";if(pe){he=__dirname+"/";var me,Ee;Module.read=function(e,t){var n;return n=X(e),n||(me||(me=no_req("fs")),Ee||(Ee=no_req("path")),e=Ee.normalize(e),n=me.readFileSync(e)),t?n:n.toString()},Module.readBinary=function(e){var n=Module.read(e,!0);return n.buffer||(n=new Uint8Array(n)),t(n.buffer),n},process.argv.length>1&&(Module.thisProgram=process.argv[1].replace(/\\/g,"/")),Module.arguments=process.argv.slice(2),"undefined"!=typeof module&&(module.exports=Module),process.on("uncaughtException",function(e){if(!(e instanceof oe))throw e}),process.on("unhandledRejection",function(e,t){process.exit(1)}),Module.quit=function(e){process.exit(e)},Module.inspect=function(){return"[Emscripten Module object]"}}else fe?("undefined"!=typeof read&&(Module.read=function(e){var t=X(e);return t?W(t):read(e)}),Module.readBinary=function(e){var n;return(n=X(e))?n:"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(n=read(e,"binary"),t("object"==typeof n),n)},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:void 0!==arguments&&(Module.arguments=arguments),"function"==typeof quit&&(Module.quit=function(e){quit(e)})):(Ae||ge)&&(Ae?document.currentScript&&(he=document.currentScript.src):he=self.location.href,he=0!==he.indexOf("blob:")?he.substr(0,he.lastIndexOf("/")+1):"",Module.read=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(t){var n=X(e);if(n)return W(n);throw t}},ge&&(Module.readBinary=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){var n=X(e);if(n)return n;throw t}}),Module.readAsync=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){if(200==r.status||0==r.status&&r.response)return void t(r.response);var i=X(e);if(i)return void t(i.buffer);n()},r.onerror=n,r.send(null)},Module.setWindowTitle=function(e){document.title=e});var ve=Module.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),ye=Module.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||ve);for(ce in de)de.hasOwnProperty(ce)&&(Module[ce]=de[ce]);de=void 0;var Ie,be,Ce,Be,we,Se,Te,ke,Qe,De,Re,_e,Me,Ne,Pe,Oe,Le=16,xe=(new Array(0),!1),Fe=0,Ue={stackSave:function(){Qt()},stackRestore:function(){kt()},arrayToC:function(e){var t=Tt(e.length);return Q(e,t),t},stringToC:function(e){var t=0;if(null!==e&&void 0!==e&&0!==e){var n=1+(e.length<<2);t=Tt(n),u(e,t,n)}return t}},Ve={string:Ue.stringToC,array:Ue.arrayToC},Ge="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,He=("undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le"),65536),je=16777216,Ye=16777216;De=Re=_e=Me=Ne=Pe=Oe=0,Module.reallocBuffer||(Module.reallocBuffer=function(e){var t;try{var n=be;t=new ArrayBuffer(e);new Int8Array(t).set(n)}catch(e){return!1}return!!wt(t)&&t});var Ke;try{Ke=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),Ke(new ArrayBuffer(4))}catch(e){Ke=function(e){return e.byteLength}}var qe=Module.TOTAL_STACK||5242880,Je=Module.TOTAL_MEMORY||16777216;Je<qe&&ye("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Je+"! (TOTAL_STACK="+qe+")"),Module.buffer?Ie=Module.buffer:(Ie=new ArrayBuffer(Je),Module.buffer=Ie),m();var ze=[],We=[],Ze=[],Xe=[],$e=[],et=!1,tt=!1;Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var n=e>>>16,r=65535&e,i=t>>>16,a=65535&t;return r*a+(n*a+r*i<<16)|0}),Math.imul=Math.imul,Math.clz32||(Math.clz32=function(e){var t=32,n=e>>16;return n&&(t-=16,e=n),n=e>>8,n&&(t-=8,e=n),n=e>>4,n&&(t-=4,e=n),n=e>>2,n&&(t-=2,e=n),n=e>>1,n?t-2:t-e}),Math.clz32=Math.clz32,Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Math.trunc=Math.trunc;var nt=Math.abs,rt=(Math.ceil,Math.floor,Math.min,0),it=null,at=null;Module.preloadedImages={},Module.preloadedAudios={};var ot=null,st="data:application/octet-stream;base64,";De=8,Re=De+8448,We.push(),
ot="data:application/octet-stream;base64,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b3NzLWRldmljZSBsaW5rAFJlYWQtb25seSBmaWxlIHN5c3RlbQBEaXJlY3Rvcnkgbm90IGVtcHR5AENvbm5lY3Rpb24gcmVzZXQgYnkgcGVlcgBPcGVyYXRpb24gdGltZWQgb3V0AENvbm5lY3Rpb24gcmVmdXNlZABIb3N0IGlzIGRvd24ASG9zdCBpcyB1bnJlYWNoYWJsZQBBZGRyZXNzIGluIHVzZQBCcm9rZW4gcGlwZQBJL08gZXJyb3IATm8gc3VjaCBkZXZpY2Ugb3IgYWRkcmVzcwBCbG9jayBkZXZpY2UgcmVxdWlyZWQATm8gc3VjaCBkZXZpY2UATm90IGEgZGlyZWN0b3J5AElzIGEgZGlyZWN0b3J5AFRleHQgZmlsZSBidXN5AEV4ZWMgZm9ybWF0IGVycm9yAEludmFsaWQgYXJndW1lbnQAQXJndW1lbnQgbGlzdCB0b28gbG9uZwBTeW1ib2xpYyBsaW5rIGxvb3AARmlsZW5hbWUgdG9vIGxvbmcAVG9vIG1hbnkgb3BlbiBmaWxlcyBpbiBzeXN0ZW0ATm8gZmlsZSBkZXNjcmlwdG9ycyBhdmFpbGFibGUAQmFkIGZpbGUgZGVzY3JpcHRvcgBObyBjaGlsZCBwcm9jZXNzAEJhZCBhZGRyZXNzAEZpbGUgdG9vIGxhcmdlAFRvbyBtYW55IGxpbmtzAE5vIGxvY2tzIGF2YWlsYWJsZQBSZXNvdXJjZSBkZWFkbG9jayB3b3VsZCBvY2N1cgBTdGF0ZSBub3QgcmVjb3ZlcmFibGUAUHJldmlvdXMgb3duZXIgZGllZABPcGVyYXRpb24gY2FuY2VsZWQARnVuY3Rpb24gbm90IGltcGxlbWVudGVkAE5vIG1lc3NhZ2Ugb2YgZGVzaXJlZCB0eXBlAElkZW50aWZpZXIgcmVtb3ZlZABEZXZpY2Ugbm90IGEgc3RyZWFtAE5vIGRhdGEgYXZhaWxhYmxlAERldmljZSB0aW1lb3V0AE91dCBvZiBzdHJlYW1zIHJlc291cmNlcwBMaW5rIGhhcyBiZWVuIHNldmVyZWQAUHJvdG9jb2wgZXJyb3IAQmFkIG1lc3NhZ2UARmlsZSBkZXNjcmlwdG9yIGluIGJhZCBzdGF0ZQBOb3QgYSBzb2NrZXQARGVzdGluYXRpb24gYWRk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YW4gZW5kIG9mIGFhYyBmcmFtZXMuICVkIGJ5dGVzKQoAU1BTIFRvbyBsYXJnZS4gJWQKAFBQUyBUb28gbGFyZ2UuICVkCgBJRDMEAEJhZCBoZWFkZXIKAEdFT0JQUklWRnJhbWUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIG9yIGludmFsaWQARnJhbWUgdHlwZTogR0VPQgoAR0VPQiBidWZmZXIgbm90IGVub3VnaAoAR0VPQiBFbmNvZGluZyBtdXN0IGJlIDMKAEZyYW1lIHR5cGU6IFBSSVYKAHR5cGU9cHJpdiZwYXlsb2FkPQAlcy5jdWUAdwAlcy42MDgAKERJU0NPTlRJTlVJVFkpAEJlZ2luIHdyaXRlX2Rhc2ggJXMKAEFQVFM6ICVmIC0gJWYKAFZQVFM6ICVmIC0gJWYKAFByZS1CZWdpbiBPZmZzZXQgRFRTOiAlZiwgU2VjdGlvbiBEVFM6ICVmLCBTZWdtZW50IG5vOiAlZCwgU2FtcGxlczogJWQvJWQKAERpc2NvbnRpbnVpdHkgaGFuZGxpbmc6AEF0IGRpc2NvbnRpbnVpdHksIGFfZHQgPSAlZgoAQXQgZGlzY29udGludWl0eSwgdl9kdCA9ICVmCgBBdCBkaXNjb250aW51aXR5LCBkdHNfc2VjdGlvbiA9ICVmCgBQb3N0LUJlZ2luIE9mZnNldCBEVFM6ICVmLCBTZWN0aW9uIERUUzogJWYsIFNlZ21lbnQgbm86ICVkLCBTYW1wbGVzOiAlZC8lZAoAdmlkZW8AYXVkaW8AKCVzKSBTTVBQVFM6ICVmIC0gJWYKACglcykgYmVnaW4gdGltZTogJWYgKCAlbGxkIC0gJWxsZCApCgAoJXMpIEJlZ2luID0gJWQsIGNudDogJWQKAGluaXQAZGF0YQAlcy0lYy0lcy5tcDQAQ2Fubm90IG9wZW4gJXMKAHJiAGZpbGUgbm90IGZvdW5kCgBDYW5ub3QgbG9hZCBzZWdtZW50AENhbm5vdCB3cml0ZSBkYXNoAHNpbS5kYXRhAHdiAEZhaWxlZCB0byB3cml0ZSBkYXRhAEZhaWxlZCB0byBhbGxvY2F0ZSBtZW1vcnkAJS4zZiAlYyVjICglMDJ4ICUwMngpCgDDqQDDrQDDswDDugDDugDDtwDDkQDDsQDilogAw6EAJS4zZiBbbWlkcm93XQoAwq4AwrAAwr0Awr8A4oSiAMKiAMKjAOKZqgDDoAAgAMOoAMOiAMOqAMOuAMO0AMO7ACUuM2YgU3BlY2lhbCAlYyAlYyAoJTAyeCAlMDJ4KQoAJS4zZiBbcHJlYW1ibGUgQCAlZCwlZF0KACUuM2YgW3RhYl0KACUuM2YgW2Vycm9yLXVua25vd24gYnl0ZXMgJTAyeCAlMDJ4XQoAJS4zZiBbJXNdCgAlLjNmIEVudGVyIHBvcC1vbiBtb2RlCgAlLjNmIEVudGVyIHBhaW50IG9uIG1vZGUKACUuM2YgRW50ZXIgcm9sbCB1cCBtb2RlCgBVbmtub3duIGNvbnRyb2wgY29kZSAlMDJ4ICUwMngKAI0BAgQIECBAgBs2LSsgICAwWDB4AChudWxsKQAtMFgrMFggMFgtMHgrMHggMHgAaW5mAElORgBuYW4ATkFOAC4Acndh";var lt=Re;Re+=16;var ut={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},ct={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device no_reqd",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address no_reqd",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},dt={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),n="/"===e.substr(-1);return e=dt.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=dt.splitPath(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return dt.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return dt.normalize(e.join("/"))},join2:function(e,t){return dt.normalize(e+"/"+t)},resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:mt.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";e=r+"/"+e,t="/"===r.charAt(0)}return e=dt.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},relative:function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=dt.resolve(e).substr(1),t=dt.resolve(t).substr(1);for(var r=n(e.split("/")),i=n(t.split("/")),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}for(var l=[],s=o;s<r.length;s++)l.push("..");return l=l.concat(i.slice(o)),l.join("/")}},At={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){At.ttys[e]={input:[],output:[],ops:t},mt.registerDevice(e,At.stream_ops)},stream_ops:{open:function(e){var t=At.ttys[e.node.rdev];if(!t)throw new mt.ErrnoError(ut.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new mt.ErrnoError(ut.ENXIO);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new mt.ErrnoError(ut.EIO)}if(void 0===s&&0===a)throw new mt.ErrnoError(ut.EAGAIN);if(null===s||void 0===s)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new mt.ErrnoError(ut.ENXIO);for(var a=0;a<r;a++)try{e.tty.ops.put_char(e.tty,t[n+a])}catch(e){throw new mt.ErrnoError(ut.EIO)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(pe){var n=new Buffer(256),r=0,i="win32"!=process.platform,a=process.stdin.fd;if(i){var o=!1;try{a=yt.openSync("/dev/stdin","r"),o=!0}catch(e){}}try{r=yt.readSync(a,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;r=0}o&&yt.closeSync(a),t=r>0?n.slice(0,r).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=z(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(ve(o(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(ve(o(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(ye(o(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(ye(o(e.output,0)),e.output=[])}}},gt={ops_table:null,mount:function(e){return gt.createNode(null,"/",16895,0)},createNode:function(e,t,n,r){if(mt.isBlkdev(n)||mt.isFIFO(n))throw new mt.ErrnoError(ut.EPERM);gt.ops_table||(gt.ops_table={dir:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr,lookup:gt.node_ops.lookup,mknod:gt.node_ops.mknod,rename:gt.node_ops.rename,unlink:gt.node_ops.unlink,rmdir:gt.node_ops.rmdir,readdir:gt.node_ops.readdir,symlink:gt.node_ops.symlink},stream:{llseek:gt.stream_ops.llseek}},file:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr},stream:{llseek:gt.stream_ops.llseek,read:gt.stream_ops.read,write:gt.stream_ops.write,allocate:gt.stream_ops.allocate,mmap:gt.stream_ops.mmap,msync:gt.stream_ops.msync}},link:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr,readlink:gt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:gt.node_ops.getattr,setattr:gt.node_ops.setattr},stream:mt.chrdev_stream_ops}});var i=mt.createNode(e,t,n,r);return mt.isDir(i.mode)?(i.node_ops=gt.ops_table.dir.node,i.stream_ops=gt.ops_table.dir.stream,i.contents={}):mt.isFile(i.mode)?(i.node_ops=gt.ops_table.file.node,i.stream_ops=gt.ops_table.file.stream,i.usedBytes=0,i.contents=null):mt.isLink(i.mode)?(i.node_ops=gt.ops_table.link.node,i.stream_ops=gt.ops_table.link.stream):mt.isChrdev(i.mode)&&(i.node_ops=gt.ops_table.chrdev.node,i.stream_ops=gt.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],n=0;n<e.usedBytes;++n)t.push(e.contents[n]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=gt.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var n=e.contents?e.contents.length:0;if(n>=t)return;t=Math.max(t,n*(n<1048576?2:1.125)|0),0!=n&&(t=Math.max(t,256));var r=e.contents;return e.contents=new Uint8Array(t),void(e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0))}for(!e.contents&&t>0&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var n=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=mt.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,mt.isDir(e.mode)?t.size=4096:mt.isFile(e.mode)?t.size=e.usedBytes:mt.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&gt.resizeFileStorage(e,t.size)},lookup:function(e,t){throw mt.genericErrors[ut.ENOENT]},mknod:function(e,t,n,r){return gt.createNode(e,t,n,r)},rename:function(e,t,n){if(mt.isDir(e.mode)){var r;try{r=mt.lookupNode(t,n)}catch(e){}if(r)for(var i in r.contents)throw new mt.ErrnoError(ut.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=n,t.contents[n]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var n=mt.lookupNode(e,t);for(var r in n.contents)throw new mt.ErrnoError(ut.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){var r=gt.createNode(e,t,41471,0);return r.link=n,r},readlink:function(e){if(!mt.isLink(e.mode))throw new mt.ErrnoError(ut.EINVAL);return e.link}},stream_ops:{read:function(e,n,r,i,a){var o=e.node.contents;if(a>=e.node.usedBytes)return 0;var s=Math.min(e.node.usedBytes-a,i);if(t(s>=0),s>8&&o.subarray)n.set(o.subarray(a,a+s),r);else for(var l=0;l<s;l++)n[r+l]=o[a+l];return s},write:function(e,t,n,r,i,a){if(!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(0===o.usedBytes&&0===i)return o.contents=new Uint8Array(t.subarray(n,n+r)),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(gt.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&mt.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new mt.ErrnoError(ut.EINVAL);return r},allocate:function(e,t,n){gt.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap:function(e,t,n,r,i,a,o){if(!mt.isFile(e.node.mode))throw new mt.ErrnoError(ut.ENODEV);var s,l,u=e.node.contents;if(2&o||u.buffer!==t&&u.buffer!==t.buffer){if((i>0||i+r<e.node.usedBytes)&&(u=u.subarray?u.subarray(i,i+r):Array.prototype.slice.call(u,i,i+r)),l=!0,!(s=St(r)))throw new mt.ErrnoError(ut.ENOMEM);t.set(u,s)}else l=!1,s=u.byteOffset;return{ptr:s,allocated:l}},msync:function(e,t,n,r,i){if(!mt.isFile(e.node.mode))throw new mt.ErrnoError(ut.ENODEV);if(2&i)return 0;gt.stream_ops.write(e,t,0,r,n,!1);return 0}}},pt={dbs:{},indexedDB:function(){if("undefined"!=typeof indexedDB)return indexedDB;var e=null;return"object"==typeof window&&(e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),t(e,"IDBFS used, but indexedDB not supported"),e},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return gt.mount.apply(null,arguments)},syncfs:function(e,t,n){pt.getLocalSet(e,function(r,i){if(r)return n(r);pt.getRemoteSet(e,function(e,r){if(e)return n(e);var a=t?r:i,o=t?i:r;pt.reconcile(a,o,n)})})},getDB:function(e,t){var n=pt.dbs[e];if(n)return t(null,n);var r;try{r=pt.indexedDB().open(e,pt.DB_VERSION)}catch(e){return t(e)}if(!r)return t("Unable to connect to IndexedDB");r.onupgradeneeded=function(e){var t,n=e.target.result,r=e.target.transaction;t=n.objectStoreNames.contains(pt.DB_STORE_NAME)?r.objectStore(pt.DB_STORE_NAME):n.createObjectStore(pt.DB_STORE_NAME),t.indexNames.contains("timestamp")||t.createIndex("timestamp","timestamp",{unique:!1})},r.onsuccess=function(){n=r.result,pt.dbs[e]=n,t(null,n)},r.onerror=function(e){t(this.error),e.preventDefault()}},getLocalSet:function(e,t){function n(e){return"."!==e&&".."!==e}function r(e){return function(t){return dt.join2(e,t)}}for(var i={},a=mt.readdir(e.mountpoint).filter(n).map(r(e.mountpoint));a.length;){var o,s=a.pop();try{o=mt.stat(s)}catch(e){return t(e)}mt.isDir(o.mode)&&a.push.apply(a,mt.readdir(s).filter(n).map(r(s))),i[s]={timestamp:o.mtime}}return t(null,{type:"local",entries:i})},getRemoteSet:function(e,t){var n={};pt.getDB(e.mountpoint,function(e,r){if(e)return t(e);try{var i=r.transaction([pt.DB_STORE_NAME],"readonly");i.onerror=function(e){t(this.error),e.preventDefault()};i.objectStore(pt.DB_STORE_NAME).index("timestamp").openKeyCursor().onsuccess=function(e){var i=e.target.result;if(!i)return t(null,{type:"remote",db:r,entries:n});n[i.primaryKey]={timestamp:i.key},i.continue()}}catch(e){return t(e)}})},loadLocalEntry:function(e,t){var n,r;try{r=mt.lookupPath(e).node,n=mt.stat(e)}catch(e){return t(e)}return mt.isDir(n.mode)?t(null,{timestamp:n.mtime,mode:n.mode}):mt.isFile(n.mode)?(r.contents=gt.getFileDataAsTypedArray(r),t(null,{timestamp:n.mtime,mode:n.mode,contents:r.contents})):t(new Error("node type not supported"))},storeLocalEntry:function(e,t,n){try{if(mt.isDir(t.mode))mt.mkdir(e,t.mode);else{if(!mt.isFile(t.mode))return n(new Error("node type not supported"));mt.writeFile(e,t.contents,{canOwn:!0})}mt.chmod(e,t.mode),mt.utime(e,t.timestamp,t.timestamp)}catch(e){return n(e)}n(null)},removeLocalEntry:function(e,t){try{var n=(mt.lookupPath(e),mt.stat(e));mt.isDir(n.mode)?mt.rmdir(e):mt.isFile(n.mode)&&mt.unlink(e)}catch(e){return t(e)}t(null)},loadRemoteEntry:function(e,t,n){var r=e.get(t);r.onsuccess=function(e){n(null,e.target.result)},r.onerror=function(e){n(this.error),e.preventDefault()}},storeRemoteEntry:function(e,t,n,r){var i=e.put(n,t);i.onsuccess=function(){r(null)},i.onerror=function(e){r(this.error),e.preventDefault()}},removeRemoteEntry:function(e,t,n){var r=e.delete(t);r.onsuccess=function(){n(null)},r.onerror=function(e){n(this.error),e.preventDefault()}},reconcile:function(e,t,n){function r(e){if(e){if(!r.errored)return r.errored=!0,n(e)}else if(++s>=i)return n(null)}var i=0,a=[];Object.keys(e.entries).forEach(function(n){var r=e.entries[n],o=t.entries[n];(!o||r.timestamp>o.timestamp)&&(a.push(n),i++)});var o=[];if(Object.keys(t.entries).forEach(function(n){t.entries[n];e.entries[n]||(o.push(n),i++)}),!i)return n(null);var s=0,l="remote"===e.type?e.db:t.db,u=l.transaction([pt.DB_STORE_NAME],"readwrite"),c=u.objectStore(pt.DB_STORE_NAME);u.onerror=function(e){r(this.error),e.preventDefault()},a.sort().forEach(function(e){"local"===t.type?pt.loadRemoteEntry(c,e,function(t,n){if(t)return r(t);pt.storeLocalEntry(e,n,r)}):pt.loadLocalEntry(e,function(t,n){if(t)return r(t);pt.storeRemoteEntry(c,e,n,r)})}),o.sort().reverse().forEach(function(e){"local"===t.type?pt.removeLocalEntry(e,r):pt.removeRemoteEntry(c,e,r)})}},ft={isWindows:!1,staticInit:function(){ft.isWindows=!!process.platform.match(/^win/);var e=process.binding("constants");e.fs&&(e=e.fs),ft.flagsForNodeMap={1024:e.O_APPEND,64:e.O_CREAT,128:e.O_EXCL,0:e.O_RDONLY,2:e.O_RDWR,4096:e.O_SYNC,512:e.O_TRUNC,1:e.O_WRONLY}},bufferFrom:function(e){return Buffer.alloc?Buffer.from(e):new Buffer(e)},mount:function(e){return t(pe),ft.createNode(null,"/",ft.getMode(e.opts.root),0)},createNode:function(e,t,n,r){if(!mt.isDir(n)&&!mt.isFile(n)&&!mt.isLink(n))throw new mt.ErrnoError(ut.EINVAL);var i=mt.createNode(e,t,n);return i.node_ops=ft.node_ops,i.stream_ops=ft.stream_ops,i},getMode:function(e){var t;try{t=yt.lstatSync(e),ft.isWindows&&(t.mode=t.mode|(292&t.mode)>>2)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}return t.mode},realPath:function(e){for(var t=[];e.parent!==e;)t.push(e.name),e=e.parent;return t.push(e.mount.opts.root),t.reverse(),dt.join.apply(null,t)},flagsForNode:function(e){e&=-2097153,e&=-2049,e&=-32769,e&=-524289;var t=0;for(var n in ft.flagsForNodeMap)e&n&&(t|=ft.flagsForNodeMap[n],e^=n);if(e)throw new mt.ErrnoError(ut.EINVAL);return t},node_ops:{getattr:function(e){var t,n=ft.realPath(e);try{t=yt.lstatSync(n)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}return ft.isWindows&&!t.blksize&&(t.blksize=4096),ft.isWindows&&!t.blocks&&(t.blocks=(t.size+t.blksize-1)/t.blksize|0),{dev:t.dev,ino:t.ino,mode:t.mode,nlink:t.nlink,uid:t.uid,gid:t.gid,rdev:t.rdev,size:t.size,atime:t.atime,mtime:t.mtime,ctime:t.ctime,blksize:t.blksize,blocks:t.blocks}},setattr:function(e,t){var n=ft.realPath(e);try{if(void 0!==t.mode&&(yt.chmodSync(n,t.mode),e.mode=t.mode),void 0!==t.timestamp){var r=new Date(t.timestamp);yt.utimesSync(n,r,r)}void 0!==t.size&&yt.truncateSync(n,t.size)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}},lookup:function(e,t){var n=dt.join2(ft.realPath(e),t),r=ft.getMode(n);return ft.createNode(e,t,r)},mknod:function(e,t,n,r){var i=ft.createNode(e,t,n,r),a=ft.realPath(i);try{mt.isDir(i.mode)?yt.mkdirSync(a,i.mode):yt.writeFileSync(a,"",{mode:i.mode})}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}return i},rename:function(e,t,n){var r=ft.realPath(e),i=dt.join2(ft.realPath(t),n);try{yt.renameSync(r,i)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}},unlink:function(e,t){var n=dt.join2(ft.realPath(e),t);try{yt.unlinkSync(n)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}},rmdir:function(e,t){var n=dt.join2(ft.realPath(e),t);try{yt.rmdirSync(n)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}},readdir:function(e){var t=ft.realPath(e);try{return yt.readdirSync(t)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}},symlink:function(e,t,n){var r=dt.join2(ft.realPath(e),t);try{yt.symlinkSync(n,r)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}},readlink:function(e){var t=ft.realPath(e);try{return t=yt.readlinkSync(t),t=It.relative(It.resolve(e.mount.opts.root),t)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}}},stream_ops:{open:function(e){var t=ft.realPath(e.node);try{mt.isFile(e.node.mode)&&(e.nfd=yt.openSync(t,ft.flagsForNode(e.flags)))}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}},close:function(e){try{mt.isFile(e.node.mode)&&e.nfd&&yt.closeSync(e.nfd)}catch(e){if(!e.code)throw e;throw new mt.ErrnoError(ut[e.code])}},read:function(e,t,n,r,i){if(0===r)return 0;try{return yt.readSync(e.nfd,ft.bufferFrom(t.buffer),n,r,i)}catch(e){throw new mt.ErrnoError(ut[e.code])}},write:function(e,t,n,r,i){try{return yt.writeSync(e.nfd,ft.bufferFrom(t.buffer),n,r,i)}catch(e){throw new mt.ErrnoError(ut[e.code])}},llseek:function(e,t,n){var r=t;if(1===n)r+=e.position;else if(2===n&&mt.isFile(e.node.mode))try{var i=yt.fstatSync(e.nfd);r+=i.size}catch(e){throw new mt.ErrnoError(ut[e.code])}if(r<0)throw new mt.ErrnoError(ut.EINVAL);return r}}},ht={DIR_MODE:16895,FILE_MODE:33279,reader:null,mount:function(e){function n(e){for(var t=e.split("/"),n=i,r=0;r<t.length-1;r++){var o=t.slice(0,r+1).join("/");a[o]||(a[o]=ht.createNode(n,t[r],ht.DIR_MODE,0)),n=a[o]}return n}function r(e){var t=e.split("/");return t[t.length-1]}t(ge),ht.reader||(ht.reader=new FileReaderSync);var i=ht.createNode(null,"/",ht.DIR_MODE,0),a={};return Array.prototype.forEach.call(e.opts.files||[],function(e){ht.createNode(n(e.name),r(e.name),ht.FILE_MODE,0,e,e.lastModifiedDate)}),(e.opts.blobs||[]).forEach(function(e){ht.createNode(n(e.name),r(e.name),ht.FILE_MODE,0,e.data)}),(e.opts.packages||[]).forEach(function(e){e.metadata.files.forEach(function(t){var i=t.filename.substr(1);ht.createNode(n(i),r(i),ht.FILE_MODE,0,e.blob.slice(t.start,t.end))})}),i},createNode:function(e,n,r,i,a,o){var s=mt.createNode(e,n,r);return s.mode=r,s.node_ops=ht.node_ops,s.stream_ops=ht.stream_ops,s.timestamp=(o||new Date).getTime(),t(ht.FILE_MODE!==ht.DIR_MODE),r===ht.FILE_MODE?(s.size=a.size,s.contents=a):(s.size=4096,s.contents={}),e&&(e.contents[n]=s),s},node_ops:{getattr:function(e){return{dev:1,ino:void 0,mode:e.mode,nlink:1,uid:0,gid:0,rdev:void 0,size:e.size,atime:new Date(e.timestamp),mtime:new Date(e.timestamp),ctime:new Date(e.timestamp),blksize:4096,blocks:Math.ceil(e.size/4096)}},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp)},lookup:function(e,t){throw new mt.ErrnoError(ut.ENOENT)},mknod:function(e,t,n,r){throw new mt.ErrnoError(ut.EPERM)},rename:function(e,t,n){throw new mt.ErrnoError(ut.EPERM)},unlink:function(e,t){throw new mt.ErrnoError(ut.EPERM)},rmdir:function(e,t){throw new mt.ErrnoError(ut.EPERM)},readdir:function(e){var t=[".",".."];for(var n in e.contents)e.contents.hasOwnProperty(n)&&t.push(n);return t},symlink:function(e,t,n){throw new mt.ErrnoError(ut.EPERM)},readlink:function(e){throw new mt.ErrnoError(ut.EPERM)}},stream_ops:{read:function(e,t,n,r,i){if(i>=e.node.size)return 0;var a=e.node.contents.slice(i,i+r),o=ht.reader.readAsArrayBuffer(a);return t.set(new Uint8Array(o),n),a.size},write:function(e,t,n,r,i){throw new mt.ErrnoError(ut.EIO)},llseek:function(e,t,n){var r=t;if(1===n?r+=e.position:2===n&&mt.isFile(e.node.mode)&&(r+=e.node.size),r<0)throw new mt.ErrnoError(ut.EINVAL);return r}}};Re+=16,Re+=16,Re+=16;var mt={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,
syncFSRequests:0,handleFSError:function(e){if(!(e instanceof mt.ErrnoError))throw e+" : "+p();return P(e.errno)},lookupPath:function(e,t){if(e=dt.resolve(mt.cwd(),e),t=t||{},!e)return{path:"",node:null};var n={follow_mount:!0,recurse_count:0};for(var r in n)void 0===t[r]&&(t[r]=n[r]);if(t.recurse_count>8)throw new mt.ErrnoError(ut.ELOOP);for(var i=dt.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),a=mt.root,o="/",s=0;s<i.length;s++){var l=s===i.length-1;if(l&&t.parent)break;if(a=mt.lookupNode(a,i[s]),o=dt.join2(o,i[s]),mt.isMountpoint(a)&&(!l||l&&t.follow_mount)&&(a=a.mounted.root),!l||t.follow)for(var u=0;mt.isLink(a.mode);){var c=mt.readlink(o);o=dt.resolve(dt.dirname(o),c);var d=mt.lookupPath(o,{recurse_count:t.recurse_count});if(a=d.node,u++>40)throw new mt.ErrnoError(ut.ELOOP)}}return{path:o,node:a}},getPath:function(e){for(var t;;){if(mt.isRoot(e)){var n=e.mount.mountpoint;return t?"/"!==n[n.length-1]?n+"/"+t:n+t:n}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%mt.nameTable.length},hashAddNode:function(e){var t=mt.hashName(e.parent.id,e.name);e.name_next=mt.nameTable[t],mt.nameTable[t]=e},hashRemoveNode:function(e){var t=mt.hashName(e.parent.id,e.name);if(mt.nameTable[t]===e)mt.nameTable[t]=e.name_next;else for(var n=mt.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode:function(e,t){var n=mt.mayLookup(e);if(n)throw new mt.ErrnoError(n,e);for(var r=mt.hashName(e.id,t),i=mt.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return mt.lookup(e,t)},createNode:function(e,t,n,r){if(!mt.FSNode){mt.FSNode=function(e,t,n,r){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=mt.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},mt.FSNode.prototype={};Object.defineProperties(mt.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return mt.isDir(this.mode)}},isDevice:{get:function(){return mt.isChrdev(this.mode)}}})}var i=new mt.FSNode(e,t,n,r);return mt.hashAddNode(i),i},destroyNode:function(e){mt.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=mt.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return mt.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:ut.EACCES},mayLookup:function(e){var t=mt.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:ut.EACCES)},mayCreate:function(e,t){try{mt.lookupNode(e,t);return ut.EEXIST}catch(e){}return mt.nodePermissions(e,"wx")},mayDelete:function(e,t,n){var r;try{r=mt.lookupNode(e,t)}catch(e){return e.errno}var i=mt.nodePermissions(e,"wx");if(i)return i;if(n){if(!mt.isDir(r.mode))return ut.ENOTDIR;if(mt.isRoot(r)||mt.getPath(r)===mt.cwd())return ut.EBUSY}else if(mt.isDir(r.mode))return ut.EISDIR;return 0},mayOpen:function(e,t){return e?mt.isLink(e.mode)?ut.ELOOP:mt.isDir(e.mode)&&("r"!==mt.flagsToPermissionString(t)||512&t)?ut.EISDIR:mt.nodePermissions(e,mt.flagsToPermissionString(t)):ut.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||mt.MAX_OPEN_FDS;for(var n=e;n<=t;n++)if(!mt.streams[n])return n;throw new mt.ErrnoError(ut.EMFILE)},getStream:function(e){return mt.streams[e]},createStream:function(e,t,n){mt.FSStream||(mt.FSStream=function(){},mt.FSStream.prototype={},Object.defineProperties(mt.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var r=new mt.FSStream;for(var i in e)r[i]=e[i];e=r;var a=mt.nextfd(t,n);return e.fd=a,mt.streams[a]=e,e},closeStream:function(e){mt.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=mt.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new mt.ErrnoError(ut.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){mt.devices[e]={stream_ops:t}},getDevice:function(e){return mt.devices[e]},getMounts:function(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs:function(e,n){function r(e){return t(mt.syncFSRequests>0),mt.syncFSRequests--,n(e)}function i(e){if(e){if(!i.errored)return i.errored=!0,r(e)}else++o>=a.length&&r(null)}"function"==typeof e&&(n=e,e=!1),++mt.syncFSRequests>1&&console.log("warning: "+mt.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var a=mt.getMounts(mt.root.mount),o=0;a.forEach(function(t){if(!t.type.syncfs)return i(null);t.type.syncfs(t,e,i)})},mount:function(e,t,n){var r,i="/"===n,a=!n;if(i&&mt.root)throw new mt.ErrnoError(ut.EBUSY);if(!i&&!a){var o=mt.lookupPath(n,{follow_mount:!1});if(n=o.path,r=o.node,mt.isMountpoint(r))throw new mt.ErrnoError(ut.EBUSY);if(!mt.isDir(r.mode))throw new mt.ErrnoError(ut.ENOTDIR)}var s={type:e,opts:t,mountpoint:n,mounts:[]},l=e.mount(s);return l.mount=s,s.root=l,i?mt.root=l:r&&(r.mounted=s,r.mount&&r.mount.mounts.push(s)),l},unmount:function(e){var n=mt.lookupPath(e,{follow_mount:!1});if(!mt.isMountpoint(n.node))throw new mt.ErrnoError(ut.EINVAL);var r=n.node,i=r.mounted,a=mt.getMounts(i);Object.keys(mt.nameTable).forEach(function(e){for(var t=mt.nameTable[e];t;){var n=t.name_next;-1!==a.indexOf(t.mount)&&mt.destroyNode(t),t=n}}),r.mounted=null;var o=r.mount.mounts.indexOf(i);t(-1!==o),r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,n){var r=mt.lookupPath(e,{parent:!0}),i=r.node,a=dt.basename(e);if(!a||"."===a||".."===a)throw new mt.ErrnoError(ut.EINVAL);var o=mt.mayCreate(i,a);if(o)throw new mt.ErrnoError(o);if(!i.node_ops.mknod)throw new mt.ErrnoError(ut.EPERM);return i.node_ops.mknod(i,a,t,n)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,mt.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,mt.mknod(e,t,0)},mkdirTree:function(e,t){for(var n=e.split("/"),r="",i=0;i<n.length;++i)if(n[i]){r+="/"+n[i];try{mt.mkdir(r,t)}catch(e){if(e.errno!=ut.EEXIST)throw e}}},mkdev:function(e,t,n){return void 0===n&&(n=t,t=438),t|=8192,mt.mknod(e,t,n)},symlink:function(e,t){if(!dt.resolve(e))throw new mt.ErrnoError(ut.ENOENT);var n=mt.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new mt.ErrnoError(ut.ENOENT);var i=dt.basename(t),a=mt.mayCreate(r,i);if(a)throw new mt.ErrnoError(a);if(!r.node_ops.symlink)throw new mt.ErrnoError(ut.EPERM);return r.node_ops.symlink(r,i,e)},rename:function(e,t){var n,r,i,a=dt.dirname(e),o=dt.dirname(t),s=dt.basename(e),l=dt.basename(t);try{n=mt.lookupPath(e,{parent:!0}),r=n.node,n=mt.lookupPath(t,{parent:!0}),i=n.node}catch(e){throw new mt.ErrnoError(ut.EBUSY)}if(!r||!i)throw new mt.ErrnoError(ut.ENOENT);if(r.mount!==i.mount)throw new mt.ErrnoError(ut.EXDEV);var u=mt.lookupNode(r,s),c=dt.relative(e,o);if("."!==c.charAt(0))throw new mt.ErrnoError(ut.EINVAL);if(c=dt.relative(t,a),"."!==c.charAt(0))throw new mt.ErrnoError(ut.ENOTEMPTY);var d;try{d=mt.lookupNode(i,l)}catch(e){}if(u!==d){var A=mt.isDir(u.mode),g=mt.mayDelete(r,s,A);if(g)throw new mt.ErrnoError(g);if(g=d?mt.mayDelete(i,l,A):mt.mayCreate(i,l))throw new mt.ErrnoError(g);if(!r.node_ops.rename)throw new mt.ErrnoError(ut.EPERM);if(mt.isMountpoint(u)||d&&mt.isMountpoint(d))throw new mt.ErrnoError(ut.EBUSY);if(i!==r&&(g=mt.nodePermissions(r,"w")))throw new mt.ErrnoError(g);try{mt.trackingDelegate.willMovePath&&mt.trackingDelegate.willMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}mt.hashRemoveNode(u);try{r.node_ops.rename(u,i,l)}catch(e){throw e}finally{mt.hashAddNode(u)}try{mt.trackingDelegate.onMovePath&&mt.trackingDelegate.onMovePath(e,t)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+n.message)}}},rmdir:function(e){var t=mt.lookupPath(e,{parent:!0}),n=t.node,r=dt.basename(e),i=mt.lookupNode(n,r),a=mt.mayDelete(n,r,!0);if(a)throw new mt.ErrnoError(a);if(!n.node_ops.rmdir)throw new mt.ErrnoError(ut.EPERM);if(mt.isMountpoint(i))throw new mt.ErrnoError(ut.EBUSY);try{mt.trackingDelegate.willDeletePath&&mt.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.rmdir(n,r),mt.destroyNode(i);try{mt.trackingDelegate.onDeletePath&&mt.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=mt.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new mt.ErrnoError(ut.ENOTDIR);return n.node_ops.readdir(n)},unlink:function(e){var t=mt.lookupPath(e,{parent:!0}),n=t.node,r=dt.basename(e),i=mt.lookupNode(n,r),a=mt.mayDelete(n,r,!1);if(a)throw new mt.ErrnoError(a);if(!n.node_ops.unlink)throw new mt.ErrnoError(ut.EPERM);if(mt.isMountpoint(i))throw new mt.ErrnoError(ut.EBUSY);try{mt.trackingDelegate.willDeletePath&&mt.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}n.node_ops.unlink(n,r),mt.destroyNode(i);try{mt.trackingDelegate.onDeletePath&&mt.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=mt.lookupPath(e),n=t.node;if(!n)throw new mt.ErrnoError(ut.ENOENT);if(!n.node_ops.readlink)throw new mt.ErrnoError(ut.EINVAL);return dt.resolve(mt.getPath(n.parent),n.node_ops.readlink(n))},stat:function(e,t){var n=mt.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new mt.ErrnoError(ut.ENOENT);if(!r.node_ops.getattr)throw new mt.ErrnoError(ut.EPERM);return r.node_ops.getattr(r)},lstat:function(e){return mt.stat(e,!0)},chmod:function(e,t,n){var r;if("string"==typeof e){r=mt.lookupPath(e,{follow:!n}).node}else r=e;if(!r.node_ops.setattr)throw new mt.ErrnoError(ut.EPERM);r.node_ops.setattr(r,{mode:4095&t|-4096&r.mode,timestamp:Date.now()})},lchmod:function(e,t){mt.chmod(e,t,!0)},fchmod:function(e,t){var n=mt.getStream(e);if(!n)throw new mt.ErrnoError(ut.EBADF);mt.chmod(n.node,t)},chown:function(e,t,n,r){var i;if("string"==typeof e){i=mt.lookupPath(e,{follow:!r}).node}else i=e;if(!i.node_ops.setattr)throw new mt.ErrnoError(ut.EPERM);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,n){mt.chown(e,t,n,!0)},fchown:function(e,t,n){var r=mt.getStream(e);if(!r)throw new mt.ErrnoError(ut.EBADF);mt.chown(r.node,t,n)},truncate:function(e,t){if(t<0)throw new mt.ErrnoError(ut.EINVAL);var n;if("string"==typeof e){n=mt.lookupPath(e,{follow:!0}).node}else n=e;if(!n.node_ops.setattr)throw new mt.ErrnoError(ut.EPERM);if(mt.isDir(n.mode))throw new mt.ErrnoError(ut.EISDIR);if(!mt.isFile(n.mode))throw new mt.ErrnoError(ut.EINVAL);var r=mt.nodePermissions(n,"w");if(r)throw new mt.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var n=mt.getStream(e);if(!n)throw new mt.ErrnoError(ut.EBADF);if(0==(2097155&n.flags))throw new mt.ErrnoError(ut.EINVAL);mt.truncate(n.node,t)},utime:function(e,t,n){var r=mt.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open:function(e,t,n,r,i){if(""===e)throw new mt.ErrnoError(ut.ENOENT);t="string"==typeof t?mt.modeStringToFlags(t):t,n=void 0===n?438:n,n=64&t?4095&n|32768:0;var a;if("object"==typeof e)a=e;else{e=dt.normalize(e);try{a=mt.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var o=!1;if(64&t)if(a){if(128&t)throw new mt.ErrnoError(ut.EEXIST)}else a=mt.mknod(e,n,0),o=!0;if(!a)throw new mt.ErrnoError(ut.ENOENT);if(mt.isChrdev(a.mode)&&(t&=-513),65536&t&&!mt.isDir(a.mode))throw new mt.ErrnoError(ut.ENOTDIR);if(!o){var s=mt.mayOpen(a,t);if(s)throw new mt.ErrnoError(s)}512&t&&mt.truncate(a,0),t&=-641;var l=mt.createStream({node:a,path:mt.getPath(a),flags:t,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},r,i);l.stream_ops.open&&l.stream_ops.open(l),!Module.logReadFiles||1&t||(mt.readFiles||(mt.readFiles={}),e in mt.readFiles||(mt.readFiles[e]=1,s("read file: "+e)));try{if(mt.trackingDelegate.onOpenFile){var u=0;1!=(2097155&t)&&(u|=mt.tracking.openFlags.READ),0!=(2097155&t)&&(u|=mt.tracking.openFlags.WRITE),mt.trackingDelegate.onOpenFile(e,u)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return l},close:function(e){if(mt.isClosed(e))throw new mt.ErrnoError(ut.EBADF);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{mt.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,n){if(mt.isClosed(e))throw new mt.ErrnoError(ut.EBADF);if(!e.seekable||!e.stream_ops.llseek)throw new mt.ErrnoError(ut.ESPIPE);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read:function(e,t,n,r,i){if(r<0||i<0)throw new mt.ErrnoError(ut.EINVAL);if(mt.isClosed(e))throw new mt.ErrnoError(ut.EBADF);if(1==(2097155&e.flags))throw new mt.ErrnoError(ut.EBADF);if(mt.isDir(e.node.mode))throw new mt.ErrnoError(ut.EISDIR);if(!e.stream_ops.read)throw new mt.ErrnoError(ut.EINVAL);var a=void 0!==i;if(a){if(!e.seekable)throw new mt.ErrnoError(ut.ESPIPE)}else i=e.position;var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write:function(e,t,n,r,i,a){if(r<0||i<0)throw new mt.ErrnoError(ut.EINVAL);if(mt.isClosed(e))throw new mt.ErrnoError(ut.EBADF);if(0==(2097155&e.flags))throw new mt.ErrnoError(ut.EBADF);if(mt.isDir(e.node.mode))throw new mt.ErrnoError(ut.EISDIR);if(!e.stream_ops.write)throw new mt.ErrnoError(ut.EINVAL);1024&e.flags&&mt.llseek(e,0,2);var o=void 0!==i;if(o){if(!e.seekable)throw new mt.ErrnoError(ut.ESPIPE)}else i=e.position;var s=e.stream_ops.write(e,t,n,r,i,a);o||(e.position+=s);try{e.path&&mt.trackingDelegate.onWriteToFile&&mt.trackingDelegate.onWriteToFile(e.path)}catch(e){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+e.message)}return s},allocate:function(e,t,n){if(mt.isClosed(e))throw new mt.ErrnoError(ut.EBADF);if(t<0||n<=0)throw new mt.ErrnoError(ut.EINVAL);if(0==(2097155&e.flags))throw new mt.ErrnoError(ut.EBADF);if(!mt.isFile(e.node.mode)&&!mt.isDir(e.node.mode))throw new mt.ErrnoError(ut.ENODEV);if(!e.stream_ops.allocate)throw new mt.ErrnoError(ut.EOPNOTSUPP);e.stream_ops.allocate(e,t,n)},mmap:function(e,t,n,r,i,a,o){if(1==(2097155&e.flags))throw new mt.ErrnoError(ut.EACCES);if(!e.stream_ops.mmap)throw new mt.ErrnoError(ut.ENODEV);return e.stream_ops.mmap(e,t,n,r,i,a,o)},msync:function(e,t,n,r,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:function(e){return 0},ioctl:function(e,t,n){if(!e.stream_ops.ioctl)throw new mt.ErrnoError(ut.ENOTTY);return e.stream_ops.ioctl(e,t,n)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var n,r=mt.open(e,t.flags),i=mt.stat(e),a=i.size,s=new Uint8Array(a);return mt.read(r,s,0,a,0),"utf8"===t.encoding?n=o(s,0):"binary"===t.encoding&&(n=s),mt.close(r),n},writeFile:function(e,t,n){n=n||{},n.flags=n.flags||"w";var r=mt.open(e,n.flags,n.mode);if("string"==typeof t){var i=new Uint8Array(c(t)+1),a=l(t,i,0,i.length);mt.write(r,i,0,a,void 0,n.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");mt.write(r,t,0,t.byteLength,void 0,n.canOwn)}mt.close(r)},cwd:function(){return mt.currentPath},chdir:function(e){var t=mt.lookupPath(e,{follow:!0});if(null===t.node)throw new mt.ErrnoError(ut.ENOENT);if(!mt.isDir(t.node.mode))throw new mt.ErrnoError(ut.ENOTDIR);var n=mt.nodePermissions(t.node,"x");if(n)throw new mt.ErrnoError(n);mt.currentPath=t.path},createDefaultDirectories:function(){mt.mkdir("/tmp"),mt.mkdir("/home"),mt.mkdir("/home/web_user")},createDefaultDevices:function(){mt.mkdir("/dev"),mt.registerDevice(mt.makedev(1,3),{read:function(){return 0},write:function(e,t,n,r,i){return r}}),mt.mkdev("/dev/null",mt.makedev(1,3)),At.register(mt.makedev(5,0),At.default_tty_ops),At.register(mt.makedev(6,0),At.default_tty1_ops),mt.mkdev("/dev/tty",mt.makedev(5,0)),mt.mkdev("/dev/tty1",mt.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else e=pe?function(){return no_req("crypto").randomBytes(1)[0]}:function(){return 256*Math.random()|0};mt.createDevice("/dev","random",e),mt.createDevice("/dev","urandom",e),mt.mkdir("/dev/shm"),mt.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){mt.mkdir("/proc"),mt.mkdir("/proc/self"),mt.mkdir("/proc/self/fd"),mt.mount({mount:function(){var e=mt.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var n=+t,r=mt.getStream(n);if(!r)throw new mt.ErrnoError(ut.EBADF);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Module.stdin?mt.createDevice("/dev","stdin",Module.stdin):mt.symlink("/dev/tty","/dev/stdin"),Module.stdout?mt.createDevice("/dev","stdout",null,Module.stdout):mt.symlink("/dev/tty","/dev/stdout"),Module.stderr?mt.createDevice("/dev","stderr",null,Module.stderr):mt.symlink("/dev/tty1","/dev/stderr");var e=mt.open("/dev/stdin","r");t(0===e.fd,"invalid handle for stdin ("+e.fd+")");var n=mt.open("/dev/stdout","w");t(1===n.fd,"invalid handle for stdout ("+n.fd+")");var r=mt.open("/dev/stderr","w");t(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){mt.ErrnoError||(mt.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e;for(var t in ut)if(ut[t]===e){this.code=t;break}},this.setErrno(e),this.message=ct[e],this.stack&&Object.defineProperty(this,"stack",{value:(new Error).stack,writable:!0})},mt.ErrnoError.prototype=new Error,mt.ErrnoError.prototype.constructor=mt.ErrnoError,[ut.ENOENT].forEach(function(e){mt.genericErrors[e]=new mt.ErrnoError(e),mt.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){mt.ensureErrnoError(),mt.nameTable=new Array(4096),mt.mount(gt,{},"/"),mt.createDefaultDirectories(),mt.createDefaultDevices(),mt.createSpecialDirectories(),mt.filesystems={MEMFS:gt,IDBFS:pt,NODEFS:ft,WORKERFS:ht}},init:function(e,n,r){t(!mt.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),mt.init.initialized=!0,mt.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=n||Module.stdout,Module.stderr=r||Module.stderr,mt.createStandardStreams()},quit:function(){mt.init.initialized=!1;var e=Module._fflush;e&&e(0);for(var t=0;t<mt.streams.length;t++){var n=mt.streams[t];n&&mt.close(n)}},getMode:function(e,t){var n=0;return e&&(n|=365),t&&(n|=146),n},joinPath:function(e,t){var n=dt.join.apply(null,e);return t&&"/"==n[0]&&(n=n.substr(1)),n},absolutePath:function(e,t){return dt.resolve(t,e)},standardizePath:function(e){return dt.normalize(e)},findObject:function(e,t){var n=mt.analyzePath(e,t);return n.exists?n.object:(P(n.error),null)},analyzePath:function(e,t){try{var n=mt.lookupPath(e,{follow:!t});e=n.path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=mt.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=dt.basename(e),n=mt.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,n,r){var i=dt.join2("string"==typeof e?e:mt.getPath(e),t),a=mt.getMode(n,r);return mt.mkdir(i,a)},createPath:function(e,t,n,r){e="string"==typeof e?e:mt.getPath(e);for(var i=t.split("/").reverse();i.length;){var a=i.pop();if(a){var o=dt.join2(e,a);try{mt.mkdir(o)}catch(e){}e=o}}return o},createFile:function(e,t,n,r,i){var a=dt.join2("string"==typeof e?e:mt.getPath(e),t),o=mt.getMode(r,i);return mt.create(a,o)},createDataFile:function(e,t,n,r,i,a){var o=t?dt.join2("string"==typeof e?e:mt.getPath(e),t):e,s=mt.getMode(r,i),l=mt.create(o,s);if(n){if("string"==typeof n){for(var u=new Array(n.length),c=0,d=n.length;c<d;++c)u[c]=n.charCodeAt(c);n=u}mt.chmod(l,146|s);var A=mt.open(l,"w");mt.write(A,n,0,n.length,0,a),mt.close(A),mt.chmod(l,s)}return l},createDevice:function(e,t,n,r){var i=dt.join2("string"==typeof e?e:mt.getPath(e),t),a=mt.getMode(!!n,!!r);mt.createDevice.major||(mt.createDevice.major=64);var o=mt.makedev(mt.createDevice.major++,0);return mt.registerDevice(o,{open:function(e){e.seekable=!1},close:function(e){r&&r.buffer&&r.buffer.length&&r(10)},read:function(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var l;try{l=n()}catch(e){throw new mt.ErrnoError(ut.EIO)}if(void 0===l&&0===o)throw new mt.ErrnoError(ut.EAGAIN);if(null===l||void 0===l)break;o++,t[r+s]=l}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch(e){throw new mt.ErrnoError(ut.EIO)}return i&&(e.node.timestamp=Date.now()),o}}),mt.mkdev(i,a,o)},createLink:function(e,t,n,r,i){var a=dt.join2("string"==typeof e?e:mt.getPath(e),t);return mt.symlink(n,a)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=z(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||P(ut.EIO),t},createLazyFile:function(e,n,r,i,a){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,a=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,o=1048576;i||(o=n);var s=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==o&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):z(i.responseText||"",!0)},l=this;l.setDataGetter(function(e){var t=e*o,r=(e+1)*o-1;if(r=Math.min(r,n-1),void 0===l.chunks[e]&&(l.chunks[e]=s(t,r)),void 0===l.chunks[e])throw new Error("doXHR failed!");return l.chunks[e]}),!a&&n||(o=n=1,n=this.getter(0).length,o=n,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ge)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var s=new o;Object.defineProperties(s,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:s}}else var l={isDevice:!1,url:r};var u=mt.createFile(e,n,l,i,a);l.contents?u.contents=l.contents:l.url&&(u.contents=null,u.url=l.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach(function(e){var t=u.stream_ops[e];c[e]=function(){if(!mt.forceLoadFile(u))throw new mt.ErrnoError(ut.EIO);return t.apply(null,arguments)}}),c.read=function(e,n,r,i,a){if(!mt.forceLoadFile(u))throw new mt.ErrnoError(ut.EIO);var o=e.node.contents;if(a>=o.length)return 0;var s=Math.min(o.length-a,i);if(t(s>=0),o.slice)for(var l=0;l<s;l++)n[r+l]=o[a+l];else for(var l=0;l<s;l++)n[r+l]=o.get(a+l);return s},u.stream_ops=c,u},createPreloadedFile:function(e,t,n,r,i,a,o,s,l,u){function c(n){function c(n){u&&u(),s||mt.createDataFile(e,t,n,r,i,l),a&&a(),_(A)}var g=!1;Module.preloadPlugins.forEach(function(e){g||e.canHandle(d)&&(e.handle(n,d,c,function(){o&&o(),_(A)}),g=!0)}),g||c(n)}Browser.init();var d=t?dt.resolve(dt.join2(e,t)):e,A=D("cp "+d);R(A),"string"==typeof n?Browser.asyncLoad(n,function(e){c(e)},o):c(n)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=mt.indexedDB();try{var i=r.open(mt.DB_NAME(),mt.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(mt.DB_STORE_NAME)},i.onsuccess=function(){function r(){0==u?t():n()}var a=i.result,o=a.transaction([mt.DB_STORE_NAME],"readwrite"),s=o.objectStore(mt.DB_STORE_NAME),l=0,u=0,c=e.length;e.forEach(function(e){var t=s.put(mt.analyzePath(e).object.contents,e);t.onsuccess=function(){++l+u==c&&r()},t.onerror=function(){u++,l+u==c&&r()}}),o.onerror=n},i.onerror=n},loadFilesFromDB:function(e,t,n){t=t||function(){},n=n||function(){};var r=mt.indexedDB();try{var i=r.open(mt.DB_NAME(),mt.DB_VERSION)}catch(e){return n(e)}i.onupgradeneeded=n,i.onsuccess=function(){function r(){0==u?t():n()}var a=i.result;try{var o=a.transaction([mt.DB_STORE_NAME],"readonly")}catch(e){return void n(e)}var s=o.objectStore(mt.DB_STORE_NAME),l=0,u=0,c=e.length;e.forEach(function(e){var t=s.get(e);t.onsuccess=function(){mt.analyzePath(e).exists&&mt.unlink(e),mt.createDataFile(dt.dirname(e),dt.basename(e),t.result,!0,!0,!0),++l+u==c&&r()},t.onerror=function(){u++,l+u==c&&r()}}),o.onerror=n},i.onerror=n}},Et={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var n;if(-100===e)n=mt.cwd();else{var r=mt.getStream(e);if(!r)throw new mt.ErrnoError(ut.EBADF);n=r.path}t=dt.join2(n,t)}return t},doStat:function(e,t,n){try{var r=e(t)}catch(e){if(e&&e.node&&dt.normalize(t)!==dt.normalize(mt.getPath(e.node)))return-ut.ENOTDIR;throw e}return Se[n>>2]=r.dev,Se[n+4>>2]=0,Se[n+8>>2]=r.ino,Se[n+12>>2]=r.mode,Se[n+16>>2]=r.nlink,Se[n+20>>2]=r.uid,Se[n+24>>2]=r.gid,Se[n+28>>2]=r.rdev,Se[n+32>>2]=0,Se[n+36>>2]=r.size,Se[n+40>>2]=4096,Se[n+44>>2]=r.blocks,Se[n+48>>2]=r.atime.getTime()/1e3|0,Se[n+52>>2]=0,Se[n+56>>2]=r.mtime.getTime()/1e3|0,Se[n+60>>2]=0,Se[n+64>>2]=r.ctime.getTime()/1e3|0,Se[n+68>>2]=0,Se[n+72>>2]=r.ino,0},doMsync:function(e,t,n,r){var i=new Uint8Array(Ce.subarray(e,e+n));mt.msync(t,i,0,n,r)},doMkdir:function(e,t){return e=dt.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),mt.mkdir(e,t,0),0},doMknod:function(e,t,n){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-ut.EINVAL}return mt.mknod(e,t,n),0},doReadlink:function(e,t,n){if(n<=0)return-ut.EINVAL;var r=mt.readlink(e),i=Math.min(n,c(r)),a=be[t+i];return u(r,t,n+1),be[t+i]=a,i},doAccess:function(e,t){if(-8&t)return-ut.EINVAL;var n;n=mt.lookupPath(e,{follow:!0}).node;var r="";return 4&t&&(r+="r"),2&t&&(r+="w"),1&t&&(r+="x"),r&&mt.nodePermissions(n,r)?-ut.EACCES:0},doDup:function(e,t,n){var r=mt.getStream(n);return r&&mt.close(r),mt.open(e,t,0,n,n).fd},doReadv:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=Se[t+8*a>>2],s=Se[t+(8*a+4)>>2],l=mt.read(e,be,o,s,r);if(l<0)return-1;if(i+=l,l<s)break}return i},doWritev:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=Se[t+8*a>>2],s=Se[t+(8*a+4)>>2],l=mt.write(e,be,o,s,r);if(l<0)return-1;i+=l}return i},varargs:0,get:function(e){return Et.varargs+=4,Se[Et.varargs-4>>2]},getStr:function(){return a(Et.get())},getStreamFromFD:function(){var e=mt.getStream(Et.get());if(!e)throw new mt.ErrnoError(ut.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(Et.get());if(!e)throw new mt.ErrnoError(ut.EBADF);return e},getSocketAddress:function(e){var t=Et.get(),n=Et.get();if(e&&0===t)return null;var r=__read_sockaddr(t,n);if(r.errno)throw new mt.ErrnoError(r.errno);return r.addr=DNS.lookup_addr(r.addr)||r.addr,r},get64:function(){var e=Et.get(),n=Et.get();return t(e>=0?0===n:-1===n),e},getZero:function(){t(0===Et.get())}},vt=nt;if(mt.staticInit(),We.unshift(function(){Module.noFSInit||mt.init.initialized||mt.init()}),Ze.push(function(){mt.ignorePermissions=!1}),Xe.push(function(){mt.quit()}),We.unshift(function(){At.init()}),Xe.push(function(){At.shutdown()}),pe){var yt=no_req("fs"),It=no_req("path");ft.staticInit()}Oe=function(e){var t=Re;return Re=Re+e+15&-16,t}(4),_e=Me=e(Re),Ne=_e+qe,Pe=e(Ne),Se[Oe>>2]=Pe;var bt=!1,Ct="function"==typeof atob?atob:function(e){var t,n,r,i,a,o,s,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{i=l.indexOf(e.charAt(c++)),a=l.indexOf(e.charAt(c++)),o=l.indexOf(e.charAt(c++)),s=l.indexOf(e.charAt(c++)),t=i<<2|a>>4,n=(15&a)<<4|o>>2,r=(3&o)<<6|s,u+=String.fromCharCode(t),64!==o&&(u+=String.fromCharCode(n)),64!==s&&(u+=String.fromCharCode(r))}while(c<e.length);return u};Module.asmGlobalArg={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:Ke},Module.asmLibraryArg={abort:ue,assert:t,enlargeMemory:v,getTotalMemory:y,abortOnCannotGrowMemory:E,invoke_ii:$,invoke_iii:ee,invoke_iiii:te,invoke_viddi:ne,invoke_viiii:re,___lock:N,___setErrNo:P,___syscall10:O,___syscall140:L,___syscall145:x,___syscall146:F,___syscall221:U,___syscall40:V,___syscall5:G,___syscall54:H,___syscall6:j,___unlock:Y,__exit:K,_emscripten_memcpy_big:J,_exit:q,_llvm_fabs_f64:vt,DYNAMICTOP_PTR:Oe,tempDoublePtr:lt,STACKTOP:Me,STACK_MAX:Ne};var Bt=function(e,t,n){"almost asm";function r(e){return!(16777215&Dn(e)||Dn(e)<=16777215||Dn(e)>2147483648)&&(fn=new pn(e),mn=new hn(e),vn=new En(e),In=new yn(e),Cn=new bn(e),wn=new Bn(e),Tn=new Sn(e),Qn=new kn(e),n=e,!0)}function i(e){e|=0;var t=0;return t=Mn,Mn=Mn+e|0,Mn=Mn+15&-16,0|t}function a(){return 0|Mn}function o(e){e|=0,Mn=e}function s(e,t){e|=0,t|=0,Mn=e,Nn=t}function l(e,t){e|=0,t|=0,Pn||(Pn=e,On=t)}function u(e){e|=0,Ln=e}function c(){return 0|Ln}function d(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0;if(r=Mn,Mn=Mn+16|0,i=r,(0|e)>2)return void(Mn=r);vn[i>>2]=n,
_e(0|vn[824],t,i),Mn=r}function A(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0;if(i=Mn,Mn=Mn+32|0,a=i,(0|r)<9)return o=0,Mn=i,0|o;if(0|fn[n>>0])return o=0,Mn=i,0|o;if(0|fn[n+1>>0])return o=0,Mn=i,0|o;if(1!=(0|fn[n+2>>0]))return o=0,Mn=i,0|o;if(s=0|fn[n+3>>0],l=n+9|0,u=n+r|0,(c=l+(0|In[n+8>>0])|0)>>>0>u>>>0)return o=0,Mn=i,0|o;d=0|In[n+7>>0];do{if(128&d){if((0|r)<14)return o=0,Mn=i,0|o;if(A=0|Jt((0|In[l>>0])>>>1&7|0,0,30),g=Ln,p=0|Jt(0|In[n+10>>0],0,22),f=Ln,h=0|Jt((0|In[n+11>>0])>>>1&255|0,0,15),m=Ln,E=0|Jt(0|In[n+12>>0],0,7),v=n+14|0,y=(+((A|p|h|E|(0|In[n+13>>0])>>>1&255)>>>0)+4294967296*+(g|f|m|Ln|0))/9e4,192==(192&d|0)){if((0|r)<19)return o=0,Mn=i,0|o;m=0|Jt((0|In[v>>0])>>>1&7|0,0,30),f=Ln,g=0|Jt(0|In[n+15>>0],0,22),E=Ln,h=0|Jt((0|In[n+16>>0])>>>1&255|0,0,15),p=Ln,A=0|Jt(0|In[n+17>>0],0,7),I=y,b=n+19|0,C=(+((m|g|h|A|(0|In[n+18>>0])>>>1&255)>>>0)+4294967296*+(f|E|p|Ln|0))/9e4;break}I=y,b=v,C=y}else I=-1,b=l,C=-1}while(0);if(32&d){if((l=b+6|0)>>>0>u>>>0)return o=0,Mn=i,0|o;B=l}else B=b;if(16&d){if((b=B+3|0)>>>0>u>>>0)return o=0,Mn=i,0|o;w=b}else w=B;if(8&d){if((B=w+1|0)>>>0>u>>>0)return o=0,Mn=i,0|o;S=B}else S=w;if(4&d){if((w=S+1|0)>>>0>u>>>0)return o=0,Mn=i,0|o;T=w}else T=S;if(2&d){if((S=T+2|0)>>>0>u>>>0)return o=0,Mn=i,0|o;k=S}else k=T;if(0!=(1&d|0)&(k+2|0)>>>0>u>>>0)return o=0,Mn=i,0|o;if(!(k=0|vn[e+4904>>2]))return o=1,Mn=i,0|o;Qn[a>>3]=I,Qn[a+8>>3]=C,vn[a+20>>2]=t,d=0|vn[e+204>>2];e:do{if((0|d)>0){for(T=0;;){if((0|Cn[e+208+(194*T|0)+2>>1])==(0|t))break;if(!((0|(S=T+1|0))<(0|d))){Q=0;break e}T=S}Q=0|In[e+208+(194*T|0)>>0]}else Q=0}while(0);return vn[a+24>>2]=Q,vn[a+16>>2]=255&s,dr[1&k](0|vn[e+4908>>2],a,c,u-c|0),o=1,Mn=i,0|o}function g(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0;if(n=Mn,Mn=Mn+1952|0,r=n+1760|0,i=n,a=0|In[t+1>>0],o=0!=(64&a|0),s=a<<8&7936|0|In[t+2>>0],a=0|In[t+3>>0],vn[1964]=1+(0|vn[1964]),l=t+4|0,32&a){if(((u=t+5+(0|In[l>>0])|0)-t|0)>187)return void(Mn=n);c=u}else c=l;if(!(16&a))return void(Mn=n);if(!s){if(a=o?c+1|0:c,l=a,(t+188-l|0)<12)return void(Mn=n);u=(15&fn[a+1>>0])<<8|0|In[a+2>>0],d=u+-1|0;e:do{if(u>>>0>9){for(A=a+8|0;;){if((0|In[A>>0])<<8|0|In[A+1>>0]|0)break;if(!(((g=A+4|0)-l|0)<(0|d))){p=0;break e}A=g}p=65535&((31&fn[A+2>>0])<<8|0|In[A+3>>0])}else p=0}while(0);return mn[e+1764>>1]=p,void(Mn=n)}if(!((p=0|mn[e+1764>>1])<<16>>16!=0&(0|s)==(65535&p|0)))return void(Mn=n);p=o?c+1|0:c,c=p,o=t+188-c|0,tn(0|i,0,1760);e:do{if((0|o)>=12?(fn[i>>0]=0|fn[p>>0],t=(15&fn[p+1>>0])<<8|0|In[p+2>>0],mn[i+2>>1]=t,mn[i+4>>1]=(0|In[p+3>>0])<<8|0|In[p+4>>0],s=p+5|0,fn[i+7>>0]=(0|In[s>>0])>>>1&31,fn[i+6>>0]=1&fn[s>>0],fn[i+8>>0]=0|fn[p+6>>0],fn[i+9>>0]=0|fn[p+7>>0],mn[i+10>>1]=(31&fn[p+8>>0])<<8|0|In[p+9>>0],s=(15&fn[p+10>>0])<<8|0|In[p+11>>0],mn[i+12>>1]=s,d=p+12|0,(s+12|0)<=(0|o)):0){$t(i+14|0,0|d,0|s),l=d+s|0,s=l-c|0,d=t+-1|0;t:do{if((0|s)<(0|d)){for(t=i+204|0,a=l,u=s;;){if(tn(0|r,0,188),(u+5|0)>(0|o))break;if(g=0|fn[a>>0],f=65535&((31&fn[a+1>>0])<<8|0|In[a+2>>0]),h=(15&fn[a+3>>0])<<8|0|In[a+4>>0],m=65535&h,E=a+5|0,m<<16>>16){if((E-c+h|0)>(0|o))break;$t(0|r,0|E,0|h),v=E+h|0}else v=E;if(h=0|vn[t>>2],(0|h)<8&&(E=i+208+(194*h|0)|0,fn[E>>0]=g,fn[E+1>>0]=0,mn[i+208+(194*h|0)+2>>1]=f,mn[i+208+(194*h|0)+4>>1]=m,$t(i+208+(194*h|0)+6|0,0|r,188),vn[t>>2]=h+1),(0|(u=v-c|0))>=(0|d))break t;a=v}break e}}while(0);$t(0|e,0|i,1760),vn[e+1760>>2]=1}}while(0);Mn=n}function p(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0;n=Mn,Mn=Mn+16|0,r=n,0|vn[e+1760>>2]||g(e,t),i=t+1|0,a=0|fn[i>>0],o=255&a,s=64&o,l=o<<8&7936|In[t+2>>0],o=0|fn[t+3>>0],u=255&o,c=15&u,p=255&c,f=0|vn[e+4984>>2];e:do{if(0|f){if((0|f)<=0)return void(Mn=n);h=0;do{if((0|vn[e+4920+(h<<2)>>2])==(0|l))break e;h=h+1|0}while((0|h)<(0|f));return void(Mn=n)}}while(0);f=e+4332|0,h=0|vn[f>>2];e:do{if((0|h)>0){m=0;do{if(E=0|mn[e+1772+(20*m|0)+16>>1],(0|l)==(E<<16>>16|0)){v=m,y=a,I=E;break e}m=m+1|0}while((0|m)<(0|h));if((0|h)>=127)return void(Mn=n);b=13}else b=13}while(0);if(13==(0|b)&&(vn[r>>2]=l,d(3,4052,r),r=0|vn[f>>2],vn[e+1772+(20*r|0)+12>>2]=0,vn[f>>2]=r+1,f=65535&l,mn[e+1772+(20*r|0)+16>>1]=f,v=r,y=0|fn[i>>0],I=f),f=e+1772+(20*v|0)|0,i=e+1772+(20*v|0)+18|0,r=0|fn[i>>0],l=e+1772+(20*v|0)+12|0,(y<<24>>24>-1?(0|c)==(255&(0==(16&u|0)?r:r+1&15)|0):0)?C=0==(0|vn[l>>2]):(vn[l>>2]=0,C=1),fn[i>>0]=p,s)C?B=e+1772+(20*v|0)+4|0:(C=e+1772+(20*v|0)+4|0,A(e,I<<16>>16,0|vn[f>>2],0|vn[C>>2]),B=C),vn[B>>2]=0,vn[l>>2]=1;else if(C)return void(Mn=n);B=t+4|0;do{if(32&u){if((255&(C=0|fn[B>>0]))<=183){I=t+5+(255&C)|0,w=t+188-I|0,S=I;break}return vn[l>>2]=0,void(Mn=n)}w=184,S=B}while(0);switch((255&o)>>>4&3){case 3:case 1:break;default:return void(Mn=n)}o=e+1772+(20*v|0)+8|0,t=e+1772+(20*v|0)+4|0,B=0|vn[t>>2],u=B+w|0;do{if((0|vn[o>>2])<(0|u)){if(vn[o>>2]=u,I=0|ae(0|vn[f>>2],u),vn[f>>2]=I,0|I){T=f,k=I,Q=0|vn[t>>2];break}return vn[t>>2]=0,vn[o>>2]=0,vn[l>>2]=0,void(Mn=n)}T=f,k=0|vn[f>>2],Q=B}while(0);return $t(k+Q|0,0|S,0|w),S=(0|vn[t>>2])+w|0,vn[t>>2]=S,w=0|vn[T>>2],(0|S)<9?void(Mn=n):0|fn[w>>0]?void(Mn=n):0|fn[w+1>>0]?void(Mn=n):1!=(0|fn[w+2>>0])?void(Mn=n):(13==(0|fn[w+3>>0])?(6+(In[w+4>>0]<<8|In[w+5>>0])|0)<=(0|S):0)?(0|vn[l>>2]&&A(e,0|mn[e+1772+(20*v|0)+16>>1],w,S),vn[t>>2]=0,void(Mn=n)):void(Mn=n)}function f(){return 0|ie(1,4992)}function h(e){e|=0;var t=0,n=0,r=0,i=0,a=0;if(t=e+4900|0,(0|vn[t>>2])>187){n=0;do{p(e,(188*n|0)+(e+4336)|0),n=n+1|0}while((0|n)<(0|(0|vn[t>>2])/188))}if(t=e+4332|0,(0|vn[t>>2])<=0)return void re(e);n=0|vn[824],r=0;do{i=e+1772+(20*r|0)|0,a=0|vn[e+1772+(20*r|0)+4>>2];do{if(0|a){if(0|vn[e+1772+(20*r|0)+12>>2]){A(e,0|mn[e+1772+(20*r|0)+16>>1],0|vn[i>>2],a);break}Rt(4072,28,1,n);break}}while(0);re(0|vn[i>>2]),r=r+1|0}while((0|r)<(0|vn[t>>2]));re(e)}function m(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,f=0,h=0,m=0,E=0,v=0;for(r=e+4900|0,i=e+4336|0,a=e+4524|0,o=e+4712|0,s=0,l=0|vn[r>>2];;){if(u=564-l|0,c=n-s|0,d=(0|u)>(0|c)?c:u,$t(e+4336+l|0,t+s|0,0|d),u=d+(0|vn[r>>2])|0,vn[r>>2]=u,s=d+s|0,564==(0|u)){for(d=0;;){if(A=e+4336+d|0,(71==(0|fn[A>>0])?71==(0|fn[d+188+(e+4336)>>0]):0)?71==(0|fn[d+376+(e+4336)>>0]):0){g=14;break}if(!((f=d+1|0)>>>0<188)){g=8;break}d=f}8==(0|g)?(g=0,h=188,m=e+4336+f|0,g=9):14==(0|g)&&(g=0,d?(h=d,m=A,g=9):(p(e,i),p(e,a),p(e,o),E=0)),9==(0|g)&&(g=0,en(0|i,0|m,564-h|0),E=(0|vn[r>>2])-h|0),vn[r>>2]=E,v=E}else v=u;if((0|s)==(0|n))break;l=v}}function E(e,t,n){e|=0,t|=0,n|=0,vn[e+4904>>2]=t,vn[e+4908>>2]=n}function v(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0;t=e+4900|0,n=0|vn[t>>2];e:do{if(0|n){if(r=(0|n)/188|0,i=(0|n)>187){a=0;t:for(;;){for(o=0;;){if(71!=(0|fn[(188*o|0)+a+(e+4336)>>0]))break;if((0|(o=o+1|0))>=(0|r))break t}if(!((o=a+1|0)>>>0<188))break e;a=o}if(0|a)break;if(i){o=0;do{p(e,(188*o|0)+(e+4336)|0),o=o+1|0}while((0|o)!=(0|r))}}vn[t>>2]=0}}while(0);if(t=e+4332|0,!((0|(n=0|vn[t>>2]))<=0))for(r=0,o=n;;){if(n=0|mn[e+1772+(20*r|0)+16>>1],(((((n<<16>>16>0?(i=0|vn[e+1772+(20*r|0)>>2],a=e+1772+(20*r|0)+4|0,(0|(s=0|vn[a>>2]))>=9):0)?0==(0|fn[i>>0]):0)?0==(0|fn[i+1>>0]):0)?1==(0|fn[i+2>>0]):0)?(6+(In[i+4>>0]<<8|In[i+5>>0])|0)<=(0|s):0)?(0|vn[e+1772+(20*r|0)+12>>2]?(A(e,n<<16>>16,i,s),l=0|vn[t>>2]):l=o,vn[a>>2]=0,u=l):u=o,(0|(r=r+1|0))>=(0|u))break;o=u}}function y(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0;if(!((0|t)<=0))for(n=e+4|0,r=e+12|0,i=e+8|0,e=0,a=8,o=8;;){if(a){for(s=0|vn[i>>2],l=0,u=0|vn[n>>2],c=0|vn[r>>2];;){if(d=c+-1|0,vn[r>>2]=d,A=u>>>0<s>>>0?(0|In[u>>0])>>>d&1:0,d?(p=u,f=d):(g=u+1|0,vn[n>>2]=g,vn[r>>2]=8,p=g,f=8),!(l>>>0<32&0==(0|A)&p>>>0<s>>>0))break;l=l+1|0,u=p,c=f}if(l)for(c=l+-1|0,u=0,d=0,g=p,m=f;;){if(E=m+-1|0,vn[r>>2]=E,v=g>>>0<s>>>0?(0|In[g>>0])>>>E&1:0,E?(I=g,b=E):(y=g+1|0,vn[n>>2]=y,vn[r>>2]=8,I=y,b=8),E=v<<c-d|u,(0|(d=d+1|0))==(0|l)){h=E;break}u=E,g=I,m=b}else h=0;m=h+(1<<l)|0,g=m+-1|0,C=1&g?(0|m)/2|0:(0|g)/-2|0,m=(o+256+C|0)%256|0,m?(B=m,w=m):S=22}else S=22;if(22==(0|S)&&(S=0,B=0,w=o),(0|(e=e+1|0))==(0|t))break;a=B,o=w}}function I(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,I=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0,L=0,x=0,F=0,U=0,V=0,G=0,H=0,j=0,Y=0,K=0,q=0,J=0,z=0,W=0,Z=0,X=0,$=0,ee=0,te=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,Ae=0,ge=0,pe=0,fe=0,he=0,me=0,Ee=0,ve=0,ye=0,Ie=0,be=0,Ce=0,Be=0,we=0,Se=0,Te=0,ke=0,Qe=0,De=0,Re=0,_e=0,Me=0,Ne=0,Pe=0,Oe=0,Le=0,xe=0,Fe=0,Ue=0,Ve=0,Ge=0,He=0,je=0,Ye=0,Ke=0,qe=0,Je=0,ze=0,We=0,Ze=0,Xe=0,$e=0,et=0,tt=0,nt=0,rt=0,it=0,at=0,ot=0,st=0,lt=0,ut=0,ct=0,dt=0,At=0,gt=0,pt=0,ft=0,ht=0,mt=0,Et=0,vt=0,yt=0,It=0,bt=0,Ct=0,Bt=0,wt=0,St=0,Tt=0,kt=0,Qt=0,Dt=0,Rt=0,_t=0,Mt=0,Nt=0,Pt=0,Ot=0,Lt=0,xt=0,Ft=0,Ut=0,Vt=0,Gt=0,Ht=0,jt=0,Yt=0,Kt=0,qt=0,Jt=0,zt=0,Wt=0,Zt=0,Xt=0,$t=0,en=0,nn=0,rn=0,an=0,on=0,sn=0,ln=0,un=0,cn=0,dn=0,An=0,gn=0,pn=0,fn=0,hn=0,mn=0,En=0,yn=0,bn=0,Cn=0,Bn=0,wn=0,Sn=0,Tn=0,kn=0,Qn=0,Dn=0,Rn=0,_n=0,Nn=0,Pn=0,On=0,Ln=0,xn=0,Un=0,Vn=0,Gn=0,Hn=0,jn=0,Yn=0,Kn=0,qn=0,Jn=0,zn=0,Wn=0,Zn=0,Xn=0,$n=0,er=0,tr=0,nr=0,rr=0,ir=0,ar=0,or=0,sr=0,lr=0,ur=0,cr=0,dr=0,Ar=0,gr=0,pr=0,fr=0,hr=0,mr=0,Er=0,vr=0,yr=0,Ir=0,br=0,Cr=0,Br=0,wr=0,Sr=0,Tr=0,kr=0,Qr=0,Dr=0,Rr=0,_r=0,Mr=0,Nr=0,Pr=0,Or=0,Lr=0,xr=0,Fr=0,Ur=0,Vr=0,Gr=0,Hr=0,jr=0,Yr=0,Kr=0,qr=0,Jr=0,zr=0,Wr=0,Zr=0,Xr=0,$r=0,ei=0,ti=0,ni=0,ri=0,ii=0,ai=0,oi=0,si=0,li=0,ui=0,ci=0,di=0,Ai=0,gi=0,pi=0,fi=0,hi=0,mi=0,Ei=0,vi=0,yi=0,Ii=0,bi=0,Ci=0,Bi=0,wi=0,Si=0,Ti=0,ki=0,Qi=0,Di=0,Ri=0,_i=0,Mi=0;i=Mn,Mn=Mn+1808|0,a=i,o=0|ne(16),vn[o>>2]=e,s=o+4|0,vn[s>>2]=e,l=o+8|0,vn[l>>2]=e+t,t=o+12|0,vn[t>>2]=8,tn(a+4|0,0,1800),e=a+40|0,vn[e>>2]=1,u=0|b(o),vn[a>>2]=u,c=(0|vn[t>>2])-1|0,vn[t>>2]=c,d=0|vn[s>>2],A=0|vn[l>>2],g=d>>>0<A>>>0?(0|In[d>>0])>>>c&1:0,c?(f=d,h=c):(p=d+1|0,vn[s>>2]=p,vn[t>>2]=8,f=p,h=8),vn[a+4>>2]=g,g=h+-1|0,vn[t>>2]=g,m=f>>>0<A>>>0?(0|In[f>>0])>>>g&1:0,g?(E=f,v=g):(h=f+1|0,vn[s>>2]=h,vn[t>>2]=8,E=h,v=8),vn[a+8>>2]=m,m=v+-1|0,vn[t>>2]=m,I=E>>>0<A>>>0?(0|In[E>>0])>>>m&1:0,m?(C=E,B=m):(v=E+1|0,vn[s>>2]=v,vn[t>>2]=8,C=v,B=8),vn[a+12>>2]=I,I=B+-1|0,vn[t>>2]=I,w=C>>>0<A>>>0?(0|In[C>>0])>>>I&1:0,I?(S=C,T=I):(B=C+1|0,vn[s>>2]=B,vn[t>>2]=8,S=B,T=8),vn[a+16>>2]=w,w=T+-1|0,vn[t>>2]=w,k=S>>>0<A>>>0?(0|In[S>>0])>>>w&1:0,w?(Q=w,D=S):(T=S+1|0,vn[s>>2]=T,vn[t>>2]=8,Q=8,D=T),vn[a+20>>2]=k,k=Q+-1|0,vn[t>>2]=k,R=D>>>0<A>>>0?(0|In[D>>0])>>>k&1:0;do{if(k){if(vn[a+24>>2]=R,1==(0|k)){vn[s>>2]=D+1,_=7;break}A=Q+-3|0,A?_=A:(vn[s>>2]=D+1,_=8)}else vn[s>>2]=D+1,vn[t>>2]=8,vn[a+24>>2]=R,_=6}while(0);for(vn[t>>2]=_,_=0|b(o),vn[a+32>>2]=_,_=0|vn[l>>2],R=0,D=0|vn[s>>2],Q=0|vn[t>>2];;){if(k=Q+-1|0,vn[t>>2]=k,M=D>>>0<_>>>0?(0|In[D>>0])>>>k&1:0,k?(N=D,P=k):(A=D+1|0,vn[s>>2]=A,vn[t>>2]=8,N=A,P=8),!(R>>>0<32&0==(0|M)&N>>>0<_>>>0))break;R=R+1|0,D=N,Q=P}if(R)for(Q=R+-1|0,D=0,M=0,k=N,N=P;;){if(P=N+-1|0,vn[t>>2]=P,F=k>>>0<_>>>0?(0|In[k>>0])>>>P&1:0,P?(U=k,V=P):(A=k+1|0,vn[s>>2]=A,vn[t>>2]=8,U=A,V=8),P=F<<Q-M|D,(0|(M=M+1|0))==(0|R)){O=P,L=U,x=V;break}D=P,k=U,N=V}else O=0,L=N,x=P;vn[a+36>>2]=(1<<R)-1+O;e:do{switch(0|u){case 144:case 122:case 110:case 100:for(O=0,R=L,V=x;;){if(N=V+-1|0,vn[t>>2]=N,G=R>>>0<_>>>0?(0|In[R>>0])>>>N&1:0,N?(H=R,j=N):(U=R+1|0,vn[s>>2]=U,vn[t>>2]=8,H=U,j=8),!(O>>>0<32&0==(0|G)&H>>>0<_>>>0))break;O=O+1|0,R=H,V=j}if(O)for(V=O+-1|0,R=0,N=0,U=H,k=j;;){if(D=k+-1|0,vn[t>>2]=D,J=U>>>0<_>>>0?(0|In[U>>0])>>>D&1:0,D?(z=U,W=D):(M=U+1|0,vn[s>>2]=M,vn[t>>2]=8,z=M,W=8),D=J<<V-N|R,(0|(N=N+1|0))==(0|O)){Y=D,K=z,q=W;break}R=D,U=z,k=W}else Y=0,K=H,q=j;for(k=(1<<O)-1+Y|0,vn[e>>2]=k,3==(0|k)?(k=q+-1|0,vn[t>>2]=k,Z=K>>>0<_>>>0?(0|In[K>>0])>>>k&1:0,k?(X=K,$=k):(U=K+1|0,vn[s>>2]=U,vn[t>>2]=8,X=U,$=8),vn[a+44>>2]=Z,ee=X,te=$):(ee=K,te=q),k=0,U=ee,R=te;;){if(N=R+-1|0,vn[t>>2]=N,ie=U>>>0<_>>>0?(0|In[U>>0])>>>N&1:0,N?(ae=U,oe=N):(V=U+1|0,vn[s>>2]=V,vn[t>>2]=8,ae=V,oe=8),!(k>>>0<32&0==(0|ie)&ae>>>0<_>>>0))break;k=k+1|0,U=ae,R=oe}if(k)for(R=k+-1|0,U=0,O=0,N=ae,V=oe;;){if(D=V+-1|0,vn[t>>2]=D,ce=N>>>0<_>>>0?(0|In[N>>0])>>>D&1:0,D?(de=N,Ae=D):(M=N+1|0,vn[s>>2]=M,vn[t>>2]=8,de=M,Ae=8),D=ce<<R-O|U,(0|(O=O+1|0))==(0|k)){se=D,le=de,ue=Ae;break}U=D,N=de,V=Ae}else se=0,le=ae,ue=oe;for(vn[a+48>>2]=(1<<k)-1+se,V=0,N=le,U=ue;;){if(O=U+-1|0,vn[t>>2]=O,ge=N>>>0<_>>>0?(0|In[N>>0])>>>O&1:0,O?(pe=N,fe=O):(R=N+1|0,vn[s>>2]=R,vn[t>>2]=8,pe=R,fe=8),!(V>>>0<32&0==(0|ge)&pe>>>0<_>>>0))break;V=V+1|0,N=pe,U=fe}if(V)for(U=V+-1|0,N=0,k=0,O=pe,R=fe;;){if(D=R+-1|0,vn[t>>2]=D,ve=O>>>0<_>>>0?(0|In[O>>0])>>>D&1:0,D?(ye=O,Ie=D):(M=O+1|0,vn[s>>2]=M,vn[t>>2]=8,ye=M,Ie=8),D=ve<<U-k|N,(0|(k=k+1|0))==(0|V)){he=D,me=ye,Ee=Ie;break}N=D,O=ye,R=Ie}else he=0,me=pe,Ee=fe;if(vn[a+52>>2]=(1<<V)-1+he,R=Ee+-1|0,vn[t>>2]=R,be=me>>>0<_>>>0?(0|In[me>>0])>>>R&1:0,R?(Ce=me,Be=R):(O=me+1|0,vn[s>>2]=O,vn[t>>2]=8,Ce=O,Be=8),vn[a+56>>2]=be,R=Be+-1|0,vn[t>>2]=R,we=Ce>>>0<_>>>0?(0|In[Ce>>0])>>>R&1:0,R?(Se=Ce,Te=R):(O=Ce+1|0,vn[s>>2]=O,vn[t>>2]=8,Se=O,Te=8),vn[a+60>>2]=we,!we){ke=Se,Qe=_,De=Te;break e}if(R=Te+-1|0,vn[t>>2]=R,Re=Se>>>0<_>>>0?(0|In[Se>>0])>>>R&1:0,R?(_e=Se,Me=R):(O=Se+1|0,vn[s>>2]=O,vn[t>>2]=8,_e=O,Me=8),vn[a+64>>2]=Re,Re?(y(o,16),Ne=0|vn[s>>2],Pe=0|vn[l>>2],Oe=0|vn[t>>2]):(Ne=_e,Pe=_,Oe=Me),R=Oe+-1|0,vn[t>>2]=R,Le=Ne>>>0<Pe>>>0?(0|In[Ne>>0])>>>R&1:0,R?(xe=Ne,Fe=R):(O=Ne+1|0,vn[s>>2]=O,vn[t>>2]=8,xe=O,Fe=8),vn[a+68>>2]=Le,Le?(y(o,16),Ue=0|vn[s>>2],Ve=0|vn[l>>2],Ge=0|vn[t>>2]):(Ue=xe,Ve=Pe,Ge=Fe),R=Ge+-1|0,vn[t>>2]=R,He=Ue>>>0<Ve>>>0?(0|In[Ue>>0])>>>R&1:0,R?(je=Ue,Ye=R):(O=Ue+1|0,vn[s>>2]=O,vn[t>>2]=8,je=O,Ye=8),vn[a+72>>2]=He,He?(y(o,16),Ke=0|vn[s>>2],qe=0|vn[l>>2],Je=0|vn[t>>2]):(Ke=je,qe=Ve,Je=Ye),R=Je+-1|0,vn[t>>2]=R,ze=Ke>>>0<qe>>>0?(0|In[Ke>>0])>>>R&1:0,R?(We=Ke,Ze=R):(O=Ke+1|0,vn[s>>2]=O,vn[t>>2]=8,We=O,Ze=8),vn[a+76>>2]=ze,ze?(y(o,16),Xe=0|vn[s>>2],$e=0|vn[l>>2],et=0|vn[t>>2]):(Xe=We,$e=qe,et=Ze),R=et+-1|0,vn[t>>2]=R,tt=Xe>>>0<$e>>>0?(0|In[Xe>>0])>>>R&1:0,R?(nt=Xe,rt=R):(O=Xe+1|0,vn[s>>2]=O,vn[t>>2]=8,nt=O,rt=8),vn[a+80>>2]=tt,tt?(y(o,16),it=0|vn[s>>2],at=0|vn[l>>2],ot=0|vn[t>>2]):(it=nt,at=$e,ot=rt),R=ot+-1|0,vn[t>>2]=R,st=it>>>0<at>>>0?(0|In[it>>0])>>>R&1:0,R?(lt=it,ut=R):(O=it+1|0,vn[s>>2]=O,vn[t>>2]=8,lt=O,ut=8),vn[a+84>>2]=st,st?(y(o,16),ct=0|vn[s>>2],dt=0|vn[l>>2],At=0|vn[t>>2]):(ct=lt,dt=at,At=ut),R=At+-1|0,vn[t>>2]=R,gt=ct>>>0<dt>>>0?(0|In[ct>>0])>>>R&1:0,R?(pt=ct,ft=R):(O=ct+1|0,vn[s>>2]=O,vn[t>>2]=8,pt=O,ft=8),vn[a+88>>2]=gt,gt?(y(o,64),ht=0|vn[s>>2],mt=0|vn[l>>2],Et=0|vn[t>>2]):(ht=pt,mt=dt,Et=ft),R=Et+-1|0,vn[t>>2]=R,vt=ht>>>0<mt>>>0?(0|In[ht>>0])>>>R&1:0,R?(yt=ht,It=R):(O=ht+1|0,vn[s>>2]=O,vn[t>>2]=8,yt=O,It=8),vn[a+92>>2]=vt,!vt){ke=yt,Qe=mt,De=It;break e}y(o,64),ke=0|vn[s>>2],Qe=0|vn[l>>2],De=0|vn[t>>2];break;default:ke=L,Qe=_,De=x}}while(0);for(x=0,_=ke,ke=De;;){if(De=ke+-1|0,vn[t>>2]=De,bt=_>>>0<Qe>>>0?(0|In[_>>0])>>>De&1:0,De?(Ct=_,Bt=De):(L=_+1|0,vn[s>>2]=L,vn[t>>2]=8,Ct=L,Bt=8),!(x>>>0<32&0==(0|bt)&Ct>>>0<Qe>>>0))break;x=x+1|0,_=Ct,ke=Bt}if(x)for(ke=x+-1|0,_=0,bt=0,De=Ct,Ct=Bt;;){if(Bt=Ct+-1|0,vn[t>>2]=Bt,kt=De>>>0<Qe>>>0?(0|In[De>>0])>>>Bt&1:0,Bt?(Qt=De,Dt=Bt):(L=De+1|0,vn[s>>2]=L,vn[t>>2]=8,Qt=L,Dt=8),Bt=kt<<ke-bt|_,(0|(bt=bt+1|0))==(0|x)){wt=Bt,St=Qt,Tt=Dt;break}_=Bt,De=Qt,Ct=Dt}else wt=0,St=Ct,Tt=Bt;for(vn[a+160>>2]=(1<<x)-1+wt,wt=0,x=St,St=Tt;;){if(Tt=St+-1|0,vn[t>>2]=Tt,Rt=x>>>0<Qe>>>0?(0|In[x>>0])>>>Tt&1:0,Tt?(_t=x,Mt=Tt):(Dt=x+1|0,vn[s>>2]=Dt,vn[t>>2]=8,_t=Dt,Mt=8),!(wt>>>0<32&0==(0|Rt)&_t>>>0<Qe>>>0))break;wt=wt+1|0,x=_t,St=Mt}if(wt)for(St=wt+-1|0,x=0,Rt=0,Tt=_t,_t=Mt;;){if(Mt=_t+-1|0,vn[t>>2]=Mt,Lt=Tt>>>0<Qe>>>0?(0|In[Tt>>0])>>>Mt&1:0,Mt?(xt=Tt,Ft=Mt):(Dt=Tt+1|0,vn[s>>2]=Dt,vn[t>>2]=8,xt=Dt,Ft=8),Mt=Lt<<St-Rt|x,(0|(Rt=Rt+1|0))==(0|wt)){Nt=Mt,Pt=xt,Ot=Ft;break}x=Mt,Tt=xt,_t=Ft}else Nt=0,Pt=_t,Ot=Mt;Ft=(1<<wt)-1+Nt|0,vn[a+164>>2]=Ft;e:do{switch(0|Ft){case 0:for(Nt=Ft,wt=Pt,_t=Ot;;){if(xt=_t+-1|0,vn[t>>2]=xt,Ut=wt>>>0<Qe>>>0?(0|In[wt>>0])>>>xt&1:0,xt?(Vt=wt,Gt=xt):(Tt=wt+1|0,vn[s>>2]=Tt,vn[t>>2]=8,Vt=Tt,Gt=8),!(Nt>>>0<32&0==(0|Ut)&Vt>>>0<Qe>>>0))break;Nt=Nt+1|0,wt=Vt,_t=Gt}if(Nt)for(_t=Nt+-1|0,wt=0,V=0,xt=Vt,Tt=Gt;;){if(x=Tt+-1|0,vn[t>>2]=x,Kt=xt>>>0<Qe>>>0?(0|In[xt>>0])>>>x&1:0,x?(qt=xt,Jt=x):(Rt=xt+1|0,vn[s>>2]=Rt,vn[t>>2]=8,qt=Rt,Jt=8),x=Kt<<_t-V|wt,(0|(V=V+1|0))==(0|Nt)){Ht=x,jt=qt,Yt=Jt;break}wt=x,xt=qt,Tt=Jt}else Ht=0,jt=Vt,Yt=Gt;vn[a+168>>2]=(1<<Nt)-1+Ht,zt=jt,Wt=Yt;break;case 1:for(Tt=Ot+-1|0,vn[t>>2]=Tt,Zt=Pt>>>0<Qe>>>0?(0|In[Pt>>0])>>>Tt&1:0,Tt?(Xt=Pt,$t=Tt):(xt=Pt+1|0,vn[s>>2]=xt,vn[t>>2]=8,Xt=xt,$t=8),vn[a+172>>2]=Zt,Tt=0,xt=Xt,wt=$t;;){if(V=wt+-1|0,vn[t>>2]=V,en=xt>>>0<Qe>>>0?(0|In[xt>>0])>>>V&1:0,V?(nn=xt,rn=V):(_t=xt+1|0,vn[s>>2]=_t,vn[t>>2]=8,nn=_t,rn=8),!(Tt>>>0<32&0==(0|en)&nn>>>0<Qe>>>0))break;Tt=Tt+1|0,xt=nn,wt=rn}if(Tt)for(wt=Tt+-1|0,xt=0,Nt=0,V=nn,_t=rn;;){if(x=_t+-1|0,vn[t>>2]=x,ln=V>>>0<Qe>>>0?(0|In[V>>0])>>>x&1:0,x?(un=V,cn=x):(Rt=V+1|0,vn[s>>2]=Rt,vn[t>>2]=8,un=Rt,cn=8),x=ln<<wt-Nt|xt,(0|(Nt=Nt+1|0))==(0|Tt)){an=x,on=un,sn=cn;break}xt=x,V=un,_t=cn}else an=0,on=nn,sn=rn;for(_t=an+(1<<Tt)|0,V=_t+-1|0,dn=1&V?(0|_t)/2|0:(0|V)/-2|0,vn[a+176>>2]=dn,_t=0,V=on,xt=sn;;){if(Nt=xt+-1|0,vn[t>>2]=Nt,An=V>>>0<Qe>>>0?(0|In[V>>0])>>>Nt&1:0,Nt?(gn=V,pn=Nt):(wt=V+1|0,vn[s>>2]=wt,vn[t>>2]=8,gn=wt,pn=8),!(_t>>>0<32&0==(0|An)&gn>>>0<Qe>>>0))break;_t=_t+1|0,V=gn,xt=pn}if(_t)for(xt=_t+-1|0,V=0,Tt=0,Nt=gn,wt=pn;;){if(x=wt+-1|0,vn[t>>2]=x,En=Nt>>>0<Qe>>>0?(0|In[Nt>>0])>>>x&1:0,x?(yn=Nt,bn=x):(Rt=Nt+1|0,vn[s>>2]=Rt,vn[t>>2]=8,yn=Rt,bn=8),x=En<<xt-Tt|V,(0|(Tt=Tt+1|0))==(0|_t)){fn=x,hn=yn,mn=bn;break}V=x,Nt=yn,wt=bn}else fn=0,hn=gn,mn=pn;for(wt=fn+(1<<_t)|0,Nt=wt+-1|0,Cn=1&Nt?(0|wt)/2|0:(0|Nt)/-2|0,vn[a+180>>2]=Cn,wt=0,Nt=hn,V=mn;;){if(Tt=V+-1|0,vn[t>>2]=Tt,Bn=Nt>>>0<Qe>>>0?(0|In[Nt>>0])>>>Tt&1:0,Tt?(wn=Nt,Sn=Tt):(xt=Nt+1|0,vn[s>>2]=xt,vn[t>>2]=8,wn=xt,Sn=8),!(wt>>>0<32&0==(0|Bn)&wn>>>0<Qe>>>0))break;wt=wt+1|0,Nt=wn,V=Sn}if(wt)for(V=wt+-1|0,Nt=0,_t=0,Tt=wn,xt=Sn;;){if(x=xt+-1|0,vn[t>>2]=x,Dn=Tt>>>0<Qe>>>0?(0|In[Tt>>0])>>>x&1:0,x?(Rn=Tt,_n=x):(Rt=Tt+1|0,vn[s>>2]=Rt,vn[t>>2]=8,Rn=Rt,_n=8),x=Dn<<V-_t|Nt,(0|(_t=_t+1|0))==(0|wt)){Tn=x,kn=Rn,Qn=_n;break}Nt=x,Tt=Rn,xt=_n}else Tn=0,kn=wn,Qn=Sn;if(xt=(1<<wt)-1+Tn|0,vn[a+184>>2]=xt,(0|xt)<=0){zt=kn,Wt=Qn;break e}for(Tt=0,Nt=kn,_t=Qn;;){for(V=0,x=Nt,Rt=_t;;){if(St=Rt+-1|0,vn[t>>2]=St,Nn=x>>>0<Qe>>>0?(0|In[x>>0])>>>St&1:0,St?(Pn=x,On=St):(Lt=x+1|0,vn[s>>2]=Lt,vn[t>>2]=8,Pn=Lt,On=8),!(V>>>0<32&0==(0|Nn)&Pn>>>0<Qe>>>0))break;V=V+1|0,x=Pn,Rt=On}if(V)for(Rt=V+-1|0,x=0,St=0,Lt=Pn,Mt=Pn,Dt=On;;){if(Ct=Dt+-1|0,vn[t>>2]=Ct,Vn=Lt>>>0<Qe>>>0?(0|In[Lt>>0])>>>Ct&1:0,Ct?(Gn=Mt,Hn=Lt,jn=Ct):(Qt=Lt+1|0,vn[s>>2]=Qt,vn[t>>2]=8,Gn=Qt,Hn=Qt,jn=8),Ct=Vn<<Rt-St|x,(0|(St=St+1|0))==(0|V)){Ln=Ct,xn=Gn,Un=jn;break}x=Ct,Lt=Hn,Mt=Gn,Dt=jn}else Ln=0,xn=Pn,Un=On;if(Dt=Ln+(1<<V)|0,Mt=Dt+-1|0,Yn=1&Mt?(0|Dt)/2|0:(0|Mt)/-2|0,vn[a+188+(Tt<<2)>>2]=Yn,(0|(Tt=Tt+1|0))==(0|xt)){zt=xn,Wt=Un;break}Nt=xn,_t=Un}break;default:zt=Pt,Wt=Ot}}while(0);for(Ot=0,Pt=zt,zt=Wt;;){if(Wt=zt+-1|0,vn[t>>2]=Wt,Kn=Pt>>>0<Qe>>>0?(0|In[Pt>>0])>>>Wt&1:0,Wt?(qn=Pt,Jn=Wt):(Un=Pt+1|0,vn[s>>2]=Un,vn[t>>2]=8,qn=Un,Jn=8),!(Ot>>>0<32&0==(0|Kn)&qn>>>0<Qe>>>0))break;Ot=Ot+1|0,Pt=qn,zt=Jn}if(Ot)for(zt=Ot+-1|0,Pt=0,Kn=0,Wt=qn,qn=Jn;;){if(Jn=qn+-1|0,vn[t>>2]=Jn,Xn=Wt>>>0<Qe>>>0?(0|In[Wt>>0])>>>Jn&1:0,Jn?($n=Wt,er=Jn):(Un=Wt+1|0,vn[s>>2]=Un,vn[t>>2]=8,$n=Un,er=8),Jn=Xn<<zt-Kn|Pt,(0|(Kn=Kn+1|0))==(0|Ot)){zn=Jn,Wn=$n,Zn=er;break}Pt=Jn,Wt=$n,qn=er}else zn=0,Wn=qn,Zn=Jn;for(vn[a+1212>>2]=(1<<Ot)-1+zn,zn=Zn+-1|0,vn[t>>2]=zn,tr=Wn>>>0<Qe>>>0?(0|In[Wn>>0])>>>zn&1:0,zn?(nr=Wn,rr=zn):(Zn=Wn+1|0,vn[s>>2]=Zn,vn[t>>2]=8,nr=Zn,rr=8),vn[a+1216>>2]=tr,tr=0,zn=nr,nr=rr;;){if(rr=nr+-1|0,vn[t>>2]=rr,ir=zn>>>0<Qe>>>0?(0|In[zn>>0])>>>rr&1:0,rr?(ar=zn,or=rr):(Wn=zn+1|0,vn[s>>2]=Wn,vn[t>>2]=8,ar=Wn,or=8),!(tr>>>0<32&0==(0|ir)&ar>>>0<Qe>>>0))break;tr=tr+1|0,zn=ar,nr=or}if(tr)for(nr=tr+-1|0,zn=0,ir=0,rr=ar,ar=or;;){if(or=ar+-1|0,vn[t>>2]=or,cr=rr>>>0<Qe>>>0?(0|In[rr>>0])>>>or&1:0,or?(dr=rr,Ar=or):(Wn=rr+1|0,vn[s>>2]=Wn,vn[t>>2]=8,dr=Wn,Ar=8),or=cr<<nr-ir|zn,(0|(ir=ir+1|0))==(0|tr)){sr=or,lr=dr,ur=Ar;break}zn=or,rr=dr,ar=Ar}else sr=0,lr=ar,ur=or;for(Ar=(1<<tr)-1+sr|0,vn[a+1220>>2]=Ar,sr=0,tr=lr,lr=ur;;){if(ur=lr+-1|0,vn[t>>2]=ur,gr=tr>>>0<Qe>>>0?(0|In[tr>>0])>>>ur&1:0,ur?(pr=tr,fr=ur):(ar=tr+1|0,vn[s>>2]=ar,vn[t>>2]=8,pr=ar,fr=8),!(sr>>>0<32&0==(0|gr)&pr>>>0<Qe>>>0))break;sr=sr+1|0,tr=pr,lr=fr}if(sr)for(lr=sr+-1|0,tr=0,gr=0,ur=pr,pr=fr;;){if(fr=pr+-1|0,vn[t>>2]=fr,vr=ur>>>0<Qe>>>0?(0|In[ur>>0])>>>fr&1:0,fr?(yr=ur,Ir=fr):(ar=ur+1|0,vn[s>>2]=ar,vn[t>>2]=8,yr=ar,Ir=8),fr=vr<<lr-gr|tr,(0|(gr=gr+1|0))==(0|sr)){hr=fr,mr=yr,Er=Ir;break}tr=fr,ur=yr,pr=Ir}else hr=0,mr=pr,Er=fr;if(Ir=1<<sr,vn[a+1224>>2]=Ir+-1+hr,sr=Er+-1|0,vn[t>>2]=sr,br=mr>>>0<Qe>>>0?(0|In[mr>>0])>>>sr&1:0,sr?(Cr=mr,Br=sr):(Er=mr+1|0,vn[s>>2]=Er,vn[t>>2]=8,Cr=Er,Br=8),vn[a+1228>>2]=br,br?(kr=Cr,Qr=Br):(sr=Br+-1|0,vn[t>>2]=sr,wr=Cr>>>0<Qe>>>0?(0|In[Cr>>0])>>>sr&1:0,sr?(Sr=Cr,Tr=sr):(mr=Cr+1|0,vn[s>>2]=mr,vn[t>>2]=8,Sr=mr,Tr=8),vn[a+1232>>2]=wr,kr=Sr,Qr=Tr),Br=Qr+-1|0,vn[t>>2]=Br,Dr=kr>>>0<Qe>>>0?(0|In[kr>>0])>>>Br&1:0,Br?(Rr=kr,_r=Br):(Qr=kr+1|0,vn[s>>2]=Qr,vn[t>>2]=8,Rr=Qr,_r=8),vn[a+1236>>2]=Dr,Dr=_r+-1|0,vn[t>>2]=Dr,Mr=Rr>>>0<Qe>>>0?(0|In[Rr>>0])>>>Dr&1:0,Dr?(Nr=Rr,Pr=Dr):(_r=Rr+1|0,vn[s>>2]=_r,vn[t>>2]=8,Nr=_r,Pr=8),vn[a+1240>>2]=Mr,!Mr)return Or=0|vn[a+1244>>2],Lr=0|vn[a+1248>>2],xr=0|vn[a+1256>>2],Fr=0|vn[a+1252>>2],re(o),Ur=Ar<<4,Vr=Ur+16|0,Gr=Or<<1,Hr=Vr-Gr|0,jr=Lr<<1,Yr=Hr-jr|0,vn[n>>2]=Yr,Kr=Ir+hr|0,qr=br<<4,Jr=32-qr|0,zr=0|Fn(Jr,Kr),Wr=xr<<1,Zr=zr-Wr|0,Xr=Fr<<1,$r=Zr-Xr|0,vn[r>>2]=$r,void(Mn=i);for(Mr=0,Dr=Nr,Nr=Pr;;){if(Pr=Nr+-1|0,vn[t>>2]=Pr,ei=Dr>>>0<Qe>>>0?(0|In[Dr>>0])>>>Pr&1:0,Pr?(ti=Dr,ni=Pr):(Rr=Dr+1|0,vn[s>>2]=Rr,vn[t>>2]=8,ti=Rr,ni=8),!(Mr>>>0<32&0==(0|ei)&ti>>>0<Qe>>>0))break;Mr=Mr+1|0,Dr=ti,Nr=ni}if(Mr)for(Nr=Mr+-1|0,Dr=0,ei=0,Pr=ti,ti=ni;;){if(ni=ti+-1|0,vn[t>>2]=ni,oi=Pr>>>0<Qe>>>0?(0|In[Pr>>0])>>>ni&1:0,ni?(si=Pr,li=ni):(Rr=Pr+1|0,vn[s>>2]=Rr,vn[t>>2]=8,si=Rr,li=8),ni=oi<<Nr-ei|Dr,(0|(ei=ei+1|0))==(0|Mr)){ri=ni,ii=si,ai=li;break}Dr=ni,Pr=si,ti=li}else ri=0,ii=ti,ai=ni;for(li=(1<<Mr)-1+ri|0,vn[a+1244>>2]=li,ri=0,Mr=ii,ii=ai;;){if(ai=ii+-1|0,vn[t>>2]=ai,ui=Mr>>>0<Qe>>>0?(0|In[Mr>>0])>>>ai&1:0,ai?(ci=Mr,di=ai):(ti=Mr+1|0,vn[s>>2]=ti,vn[t>>2]=8,ci=ti,di=8),!(ri>>>0<32&0==(0|ui)&ci>>>0<Qe>>>0))break;ri=ri+1|0,Mr=ci,ii=di}if(ri)for(ii=ri+-1|0,Mr=0,ui=0,ai=ci,ci=di;;){if(di=ci+-1|0,vn[t>>2]=di,fi=ai>>>0<Qe>>>0?(0|In[ai>>0])>>>di&1:0,di?(hi=ai,mi=di):(ti=ai+1|0,vn[s>>2]=ti,vn[t>>2]=8,hi=ti,mi=8),di=fi<<ii-ui|Mr,(0|(ui=ui+1|0))==(0|ri)){Ai=di,gi=hi,pi=mi;break}Mr=di,ai=hi,ci=mi}else Ai=0,gi=ci,pi=di;for(mi=(1<<ri)-1+Ai|0,vn[a+1248>>2]=mi,Ai=0,ri=gi,gi=pi;;){if(pi=gi+-1|0,vn[t>>2]=pi,Ei=ri>>>0<Qe>>>0?(0|In[ri>>0])>>>pi&1:0,pi?(vi=ri,yi=pi):(ci=ri+1|0,vn[s>>2]=ci,vn[t>>2]=8,vi=ci,yi=8),!(Ai>>>0<32&0==(0|Ei)&vi>>>0<Qe>>>0))break;Ai=Ai+1|0,ri=vi,gi=yi}if(Ai)for(gi=Ai+-1|0,ri=0,Ei=0,pi=vi,vi=yi;;){if(yi=vi+-1|0,vn[t>>2]=yi,Bi=pi>>>0<Qe>>>0?(0|In[pi>>0])>>>yi&1:0,yi?(wi=pi,Si=yi):(ci=pi+1|0,vn[s>>2]=ci,vn[t>>2]=8,wi=ci,Si=8),yi=Bi<<gi-Ei|ri,(0|(Ei=Ei+1|0))==(0|Ai)){Ii=yi,bi=wi,Ci=Si;break}ri=yi,pi=wi,vi=Si}else Ii=0,bi=vi,Ci=yi;for(Si=(1<<Ai)-1+Ii|0,vn[a+1252>>2]=Si,Ii=0,Ai=bi,bi=Ci;;){if(Ci=bi+-1|0,vn[t>>2]=Ci,Ti=Ai>>>0<Qe>>>0?(0|In[Ai>>0])>>>Ci&1:0,Ci?(ki=Ai,Qi=Ci):(vi=Ai+1|0,vn[s>>2]=vi,vn[t>>2]=8,ki=vi,Qi=8),!(Ii>>>0<32&0==(0|Ti)&ki>>>0<Qe>>>0))break;Ii=Ii+1|0,Ai=ki,bi=Qi}if(Ii)for(bi=Ii+-1|0,Ai=0,Ti=0,Ci=ki,ki=Qi;;){if(Qi=ki+-1|0,vn[t>>2]=Qi,Ri=Ci>>>0<Qe>>>0?(0|In[Ci>>0])>>>Qi&1:0,Qi?(_i=Ci,Mi=Qi):(vi=Ci+1|0,vn[s>>2]=vi,vn[t>>2]=8,_i=vi,Mi=8),Qi=Ri<<bi-Ti|Ai,(0|(Ti=Ti+1|0))==(0|Ii)){Di=Qi;break}Ai=Qi,Ci=_i,ki=Mi}else Di=0;Mi=(1<<Ii)-1+Di|0,vn[a+1256>>2]=Mi,Or=li,Lr=mi,xr=Mi,Fr=Si,re(o),Ur=Ar<<4,Vr=Ur+16|0,Gr=Or<<1,Hr=Vr-Gr|0,jr=Lr<<1,Yr=Hr-jr|0,vn[n>>2]=Yr,Kr=Ir+hr|0,qr=br<<4,Jr=32-qr|0,zr=0|Fn(Jr,Kr),Wr=xr<<1,Zr=zr-Wr|0,Xr=Fr<<1,$r=Zr-Xr|0,vn[r>>2]=$r,Mn=i}function b(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0;return t=e+12|0,n=0|vn[t>>2],r=e+4|0,i=0|vn[r>>2],a=0|vn[e+8>>2],8==(0|n)&i>>>0<a>>>0?(e=0|In[i>>0],vn[r>>2]=i+1,0|e):(e=n+-1|0,vn[t>>2]=e,o=i>>>0<a>>>0?(0|In[i>>0])>>>e<<7&128:0,e?(s=i,l=e):(n=i+1|0,vn[r>>2]=n,vn[t>>2]=8,s=n,l=8),e=l+-1|0,vn[t>>2]=e,u=s>>>0<a>>>0?(0|In[s>>0])>>>e<<6&64:0,e?(c=s,d=e):(l=s+1|0,vn[r>>2]=l,vn[t>>2]=8,c=l,d=8),e=d+-1|0,vn[t>>2]=e,A=c>>>0<a>>>0?(0|In[c>>0])>>>e<<5&32:0,e?(g=c,p=e):(d=c+1|0,vn[r>>2]=d,vn[t>>2]=8,g=d,p=8),e=p+-1|0,vn[t>>2]=e,f=g>>>0<a>>>0?(0|In[g>>0])>>>e<<4&16:0,e?(h=g,m=e):(p=g+1|0,vn[r>>2]=p,vn[t>>2]=8,h=p,m=8),e=m+-1|0,vn[t>>2]=e,E=h>>>0<a>>>0?(0|In[h>>0])>>>e<<3&8:0,e?(v=h,y=e):(m=h+1|0,vn[r>>2]=m,vn[t>>2]=8,v=m,y=8),e=y+-1|0,vn[t>>2]=e,I=v>>>0<a>>>0?(0|In[v>>0])>>>e<<2&4:0,e?(b=v,C=e):(y=v+1|0,vn[r>>2]=y,vn[t>>2]=8,b=y,C=8),e=C+-1|0,vn[t>>2]=e,B=b>>>0<a>>>0?(0|In[b>>0])>>>e<<1&2:0,e?(w=b,S=e):(C=b+1|0,vn[r>>2]=C,vn[t>>2]=8,w=C,S=8),e=S+-1|0,vn[t>>2]=e,T=w>>>0<a>>>0?(0|In[w>>0])>>>e&1:0,e||(vn[r>>2]=w+1,vn[t>>2]=8),0|(T|B|I|E|f|A|u|o))}function C(){var e=0,t=0;return e=0|ie(72,1),t=0|z(0,0),vn[e+56>>2]=t,0|e}function B(e){return e|=0,W(0|vn[e+56>>2]),re(e),0}function w(e){e|=0;var t=0,n=0;return t=Mn,Mn=Mn+16|0,n=t,vn[n>>2]=256,Rt(n,4,1,e),vn[n>>2]=0,Rt(n,4,1,e),vn[n>>2]=0,Rt(n,4,1,e),vn[n>>2]=0,Rt(n,4,1,e),vn[n>>2]=256,Rt(n,4,1,e),vn[n>>2]=0,Rt(n,4,1,e),vn[n>>2]=0,Rt(n,4,1,e),vn[n>>2]=0,Rt(n,4,1,e),vn[n>>2]=64,Rt(n,4,1,e),Mn=t,0}function S(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0;return n=Mn,Mn=Mn+16|0,r=n,vn[r>>2]=0,Rt(r,4,1,t),Qt(3,t),i=e+2090|0,Qt(385875968+((0|Cn[i>>1])<<24)>>24,t),mn[r>>1]=256,Rt(r,2,1,t),Qt(0,t),Qt(4,t),Qt(251658240+((0|Cn[i>>1])<<24)>>24,t),Qt(64,t),Qt(21,t),Qt(0,t),Qt(0,t),Qt(0,t),a=e+8|0,o=0|Wt(0|(1==(0|vn[a>>2])?12e5:128189)),vn[r>>2]=o,Rt(r,4,1,t),o=0|Wt(0|(1==(0|vn[a>>2])?12e5:128189)),vn[r>>2]=o,Rt(r,4,1,t),Qt(5,t),Qt((0|Cn[i>>1])<<24>>24,t),Rt(e+2092|0,0|Cn[i>>1],1,t),Qt(6,t),Qt(1,t),Qt(2,t),Mn=n,0}function T(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,b=0,C=0,B=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0;r=Mn,Mn=Mn+32|0,i=r+8|0,a=r,o=r+12|0,s=r+17|0,l=0|wt(n),vn[a>>2]=0,Rt(a,4,1,n),Rt(t,1,4,n);e:do{if(0|we(t,4176)){if(!(0|we(t,4206))){fn[o>>0]=0|fn[4211],fn[o+1>>0]=0|fn[4212],fn[o+2>>0]=0|fn[4213],fn[o+3>>0]=0|fn[4214],fn[o+4>>0]=0|fn[4215],Rt(o,1,4,n),vn[a>>2]=16777216,Rt(a,4,1,n),Rt(4211,1,4,n),Rt(4216,1,4,n);break}if(!(0|we(t,4221))){T(e,4226,n),T(e,4231,n),T(e,4236,n);break}if(!(0|we(t,4231))){T(e,4241,n);break}if(!(0|we(t,4236))){T(e,4246,n),T(e,4251,n);break}if(!(0|we(t,4256))){T(e,4261,n),T(e,4266,n),T(e,4271,n),T(e,4276,n);break}if(!(0|we(t,4251))){T(e,4281,n),T(e,4286,n),T(e,4291,n);break}if(!(0|we(t,4291))){T(e,1==(0|vn[e+8>>2])?4296:4301,n),T(e,4306,n),T(e,4311,n);break}if(!(0|we(t,4306))){T(e,4316,n);break}if(!(0|we(t,4321))){T(e,4326,n);break}if(!(0|we(t,4331))){T(e,4336,n),T(e,4256,n);break}if(!(0|we(t,4311))){T(e,4341,n),T(e,4346,n),T(e,4351,n),T(e,4356,n),T(e,4361,n);break}if(!(0|we(t,4226))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n);do{if(1!=(0|vn[e+8>>2])){if((u=(0|In[e+2093>>0])>>>7|fn[e+2092>>0]<<1&14)>>>0>12){Nt(4101),c=48e3;break}c=0|vn[16+(u<<2)>>2];break}c=1e5}while(0);u=0|Wt(0|c),vn[a>>2]=u,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=256,Rt(a,4,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n),vn[a>>2]=0,Rt(a,4,1,n),Rt(a,4,1,n),w(n),vn[a>>2]=0,Rt(a,4,1,n),Rt(a,4,1,n),Rt(a,4,1,n),Rt(a,4,1,n),Rt(a,4,1,n),Rt(a,4,1,n),vn[a>>2]=33554432,Rt(a,4,1,n);break}if(!(0|we(t,4316))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=16777216,Rt(a,4,1,n),vn[a>>2]=201326592,vn[o>>2]=543978101,fn[s>>0]=0|fn[4366],fn[s+1>>0]=0|fn[4367],fn[s+2>>0]=0|fn[4368],Rt(a,4,1,n),Rt(o,4,1,n),Qt(0,n),Rt(s,3,1,n);break}if(!(0|we(t,4346))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n);break}if(!(0|we(t,4351))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n);break}if(!(0|we(t,4356))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n);break}if(!(0|we(t,4361))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n);break}if(!(0|we(t,4369))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=-1064563456,Rt(a,4,1,n);break}if(!(0|we(t,4241))){if(vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=16777216,Rt(a,4,1,n),vn[a>>2]=16777216,Rt(a,4,1,n),(0|(u=0|vn[e+4>>2]))>1){d=u+-1|0,u=0|vn[e>>2],A=0,g=0,p=+Qn[u+24>>3];do{A=A+1|0,f=p,p=+Qn[u+(48*A|0)+24>>3],g+=p-f}while((0|A)!=(0|d));p=g/+(0|d);do{if(1!=(0|vn[e+8>>2])){if((A=(0|In[e+2093>>0])>>>7|fn[e+2092>>0]<<1&14)>>>0>12){Nt(4101),h=48e3;break}h=+(0|vn[16+(A<<2)>>2]);break}h=1e5}while(0);m=0|xt(p*h)}else m=1==(0|vn[e+8>>2])?1e3:1024;d=0|Wt(0|m),vn[a>>2]=d,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n);break}if(!(0|we(t,4246))){Qt(0,n),Qt(0,n),Qt(0,n),Qt(3,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=16777216,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),Rt(a,4,1,n),Rt(a,4,1,n),d=e+8|0,mn[a>>1]=1!=(0|vn[d>>2])&1,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n),w(n);do{if(1==(0|vn[d>>2])){if(A=e+41|0,u=e+38|0,I(A,(0|Cn[u>>1])-1|0,a,o),E=vn[a>>2]<<16,1!=(0|vn[d>>2])){v=E,y=0;break}I(A,(0|Cn[u>>1])-1|0,a,o),v=E,y=vn[o>>2]<<16}else v=0,y=0}while(0);d=0|Wt(0|v),vn[a>>2]=d,Rt(a,4,1,n),d=0|Wt(0|y),vn[a>>2]=d,Rt(a,4,1,n);break}if(!(0|we(t,4326))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=16777216,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),mn[a>>1]=256,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n);break}if(!(0|we(t,4281))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n);do{if(1!=(0|vn[e+8>>2])){if((d=(0|In[e+2093>>0])>>>7|fn[e+2092>>0]<<1&14)>>>0>12){Nt(4101),b=48e3;break}b=0|vn[16+(d<<2)>>2];break}b=1e5}while(0);d=0|Wt(0|b),vn[a>>2]=d,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),Qt(85,n),Qt(-60,n),mn[a>>1]=0,Rt(a,2,1,n);break}if(!(0|we(t,4286))){vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),Rt(1==(0|vn[e+8>>2])?4374:4379,1,4,n),vn[a>>2]=0,Rt(a,4,1,n),Rt(a,4,1,n),Rt(a,4,1,n),Rt(4384,17,1,n);break}if(!(0|we(t,4296))){Qt(0,n),Qt(0,n),Qt(0,n),Qt(1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n);break}if(!(0|we(t,4301))){vn[a>>2]=0,Rt(a,4,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n);break}if(!(0|we(t,4341))){if(vn[a>>2]=0,Rt(a,4,1,n),vn[a>>2]=16777216,Rt(a,4,1,n),1==(0|vn[e+8>>2])){T(e,4191,n);break}T(e,4401,n);break}if(!(0|we(t,4191))){vn[a>>2]=0,Rt(a,4,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=256,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n),vn[a>>2]=0,Rt(a,4,1,n),Rt(a,4,1,n),Rt(a,4,1,n),d=e+41|0,E=e+38|0,I(d,(0|Cn[E>>1])-1|0,a,o),u=0|zt(65535&vn[a>>2]|0),mn[a>>1]=u,Rt(a,2,1,n),I(d,(0|Cn[E>>1])-1|0,a,o),E=0|zt(65535&vn[o>>2]|0),mn[a>>1]=E,Rt(a,2,1,n),vn[a>>2]=18432,Rt(a,4,1,n),Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),mn[a>>1]=256,Rt(a,2,1,n),Rt(4406,1,4,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),mn[a>>1]=6144,Rt(a,2,1,n),mn[a>>1]=-1,Rt(a,2,1,n),T(e,4411,n);break}if(!(0|we(t,4411))){Qt(1,n),Qt(0|fn[e+41>>0],n),Qt(0|fn[e+42>>0],n),Qt(0|fn[e+43>>0],n),Qt((117440512+(In[e+36>>0]<<24)|-134217728)>>24,n),Qt(-31,n),E=e+38|0,d=0|zt(0|mn[E>>1]),mn[a>>1]=d,Rt(a,2,1,n),Rt(e+40|0,1,0|Cn[E>>1],n),Qt(1,n),E=e+1064|0,d=0|zt(0|mn[E>>1]),mn[a>>1]=d,Rt(a,2,1,n),Rt(e+1066|0,1,0|Cn[E>>1],n);break}if(!(0|we(t,4401))){vn[a>>2]=0,Rt(a,4,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=256,Rt(a,2,1,n),vn[a>>2]=0,Rt(a,4,1,n),Rt(a,4,1,n),mn[a>>1]=512,Rt(a,2,1,n),mn[a>>1]=4096,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=0,Rt(a,2,1,n),E=(0|In[e+2093>>0])>>>7|fn[e+2092>>0]<<1&14,E>>>0>12?(Nt(4101),C=-1149239296):C=vn[16+(E<<2)>>2]<<16,E=0|Wt(0|C),vn[a>>2]=E,Rt(a,4,1,n),T(e,4416,n);break}if(!(0|we(t,4416))){S(e,n);break}if(!(0|we(t,4421))){Qt(1,n),Qt(0,n),Qt(0,n),Qt(0,n),vn[a>>2]=16777216,Rt(a,4,1,n);do{if(1!=(0|vn[e+8>>2])){if((E=(0|In[e+2093>>0])>>>7|fn[e+2092>>0]<<1&14)>>>0>12){Nt(4101),B=48e3;break}B=0|vn[16+(E<<2)>>2];break}B=1e5}while(0);if(E=0|Wt(0|B),vn[a>>2]=E,Rt(a,4,1,n),E=e+16|0,d=0|vn[E+4>>2],u=0|Wt(0|vn[E>>2]),E=0|Wt(0|d),d=a,vn[d>>2]=E,vn[d+4>>2]=u,Rt(a,8,1,n),u=a,vn[u>>2]=0,vn[u+4>>2]=0,Rt(a,8,1,n),mn[a>>1]=0,Rt(a,2,1,n),mn[a>>1]=256,Rt(a,2,1,n),u=0|vn[e+4>>2],d=u+100+(u<<4)|0,(0|u)>0){E=0|vn[e>>2],A=0,k=0;do{
k=(0|vn[E+(48*A|0)+12>>2])+k|0,A=A+1|0}while((0|A)!=(0|u));Q=k+8|0}else Q=8;u=0|Wt(d+Q&2147483647|0),vn[a>>2]=u,Rt(a,4,1,n),vn[a>>2]=0,Rt(a,4,1,n),Qt(-128,n),Qt(0,n),Qt(0,n),Qt(0,n);break}if(!(0|we(t,4336))){Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),u=0|Wt(0|vn[e+32>>2]),vn[a>>2]=u,Rt(a,4,1,n);break}if(!(0|we(t,4426))){Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),Qt(16,n),Qt(7,n),Qt(0,n),Qt(79,n),Qt(-1,n),Qt(-1,n),Qt(-1,n),Qt(21,n),Qt(-1,n);break}if(!(0|we(t,4261))){Qt(0,n),Qt(0,n),Qt(0,n),Qt(0,n),vn[a>>2]=16777216,Rt(a,4,1,n);break}if(!(0|we(t,4266))){Qt(1,n),Qt(0,n),Qt(0,n),Qt(0,n),u=e+24|0,A=0|vn[u+4>>2],E=0|Wt(0|vn[u>>2]),u=0|Wt(0|A),A=a,vn[A>>2]=u,vn[A+4>>2]=E,Rt(a,8,1,n);break}if(0|we(t,4271)){if(!(0|we(t,4276))){if(vn[a>>2]=0,Rt(a,4,1,n),E=e+4|0,(0|vn[E>>2])<=0)break;for(A=0;;)if(Qt(0==(0|vn[(0|vn[e>>2])+(48*A|0)+32>>2])?16:32,n),(0|(A=A+1|0))>=(0|vn[E>>2]))break e}if(0|we(t,4431)&&(vn[i>>2]=t,_t(4436,i),or(0)),E=e+4|0,(0|vn[E>>2])<=0)break;for(A=0;;)if(d=0|vn[e>>2],Rt(0|vn[d+(48*A|0)+8>>2],0|vn[d+(48*A|0)+12>>2],1,n),(0|(A=A+1|0))>=(0|vn[E>>2]))break e}if(Qt(1,n),Qt(0,n),Qt(15,n),Qt(1,n),E=e+4|0,A=0|Wt(0|vn[E>>2]),vn[a>>2]=A,Rt(a,4,1,n),A=0|vn[E>>2],d=0|Wt(A+108+(A<<4)|0),vn[a>>2]=d,Rt(a,4,1,n),(0|(d=0|vn[E>>2]))>1){A=d+-1|0,d=0|vn[e>>2],k=0,p=0,g=+Qn[d+24>>3];do{k=k+1|0,f=g,g=+Qn[d+(48*k|0)+24>>3],p+=g-f}while((0|k)!=(0|A));g=p/+(0|A),k=e+8|0,d=0|vn[k>>2];do{if(1!=(0|d)){if((u=(0|In[e+2093>>0])>>>7|fn[e+2092>>0]<<1&14)>>>0>12){Nt(4101),D=48e3,R=0|vn[k>>2];break}D=+(0|vn[16+(u<<2)>>2]),R=d;break}D=1e5,R=1}while(0);_=0|xt(g*D),M=R}else d=0|vn[e+8>>2],_=1==(0|d)?1e3:1024,M=d;do{if(1!=(0|M)){if((d=(0|In[e+2093>>0])>>>7|fn[e+2092>>0]<<1&14)>>>0>12){Nt(4101),N=48e3;break}N=+(0|vn[16+(d<<2)>>2]);break}N=1e5}while(0);if((0|vn[E>>2])<=0)break;d=0|Wt(0|_),k=0;do{vn[a>>2]=d,Rt(a,4,1,n),A=0|Wt(0|vn[(0|vn[e>>2])+(48*k|0)+12>>2]),vn[a>>2]=A,Rt(a,4,1,n),0|vn[(0|vn[e>>2])+(48*k|0)+32>>2]?(Qt(2,n),Qt(0,n),Qt(0,n),Qt(0,n)):(Qt(1,n),Qt(1,n),Qt(0,n),Qt(0,n)),A=0|vn[e>>2],u=0|xt(N*(+Qn[A+(48*k|0)+16>>3]-+Qn[A+(48*k|0)+24>>3])),A=0|Wt(0|((0|u)>0?u:0)),vn[a>>2]=A,Rt(a,4,1,n),k=k+1|0}while((0|k)<(0|vn[E>>2]))}else u=e+8|0,1==(0|vn[u>>2])?Rt(4181,1,4,n):Rt(4186,1,4,n),vn[a>>2]=16777216,Rt(a,4,1,n),1==(0|vn[u>>2])&&(Rt(4191,1,4,n),Rt(4196,1,4,n)),Rt(4201,1,4,n)}while(0);return(0|(e=0|wt(n)))<(0|l)?(Nt(4139),or(0),0):(kt(n,l,0),_=0|Wt(e-l|0),vn[a>>2]=_,Rt(a,4,1,n),kt(n,e,0),Mn=r,0)}function k(e,t,n,r){e|=0,t=+t,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0;i=Mn,Mn=Mn+16|0,a=i+8|0,o=i,s=n+r|0,l=e+50094|0,u=e+50096|0,c=e+50097|0,d=e+50098|0,A=e+50099|0,g=e+50100|0,p=e+8|0,f=e+4|0,h=n,n=r,r=0;e:for(;;){if((0|n)<7){m=5;break}if(-1!=(0|fn[h>>0])){m=5;break}switch((1|(E=0|fn[h+1>>0]))<<24>>24){case-7:case-15:break;default:m=5;break e}if(v=0|In[h+2>>0],y=v>>>2,I=0|In[h+3>>0],b=I<<11&6144|In[h+4>>0]<<3|(0|In[h+5>>0])>>>5,C=3&fn[h+6>>0],C<<24>>24&&(vn[o>>2]=255&C,_t(4457,o)),mn[l>>1]=2,C=v>>>3,fn[u>>0]=8+(v>>>6<<3)|7&C,fn[c>>0]=(v<<2&4|I>>>6)<<3|y<<7,fn[d>>0]=86,fn[A>>0]=-27,fn[g>>0]=0,I=1&y|C<<1&14,I>>>0>12?(Nt(4101),B=48e3):B=0|vn[16+(I<<2)>>2],w=1024*+(0|r)/+(0|B)+t,1&E)S=-7,T=7;else{if((0|n)<9){m=13;break}S=-9,T=9}if(E=h+T|0,I=b+S|0,(E+I|0)>>>0>s>>>0){m=18;break}if(C=0|vn[p>>2],y=0|vn[f>>2],v=64+(y<<1)|0,(0|C)==(0|y)?(vn[f>>2]=v,y=0|ae(0|vn[e>>2],48*v|0),vn[e>>2]=y,k=0|vn[p>>2],Q=y):(k=C,Q=0|vn[e>>2]),vn[p>>2]=k+1,vn[Q+(48*k|0)+32>>2]=1,C=0|ne(I),vn[Q+(48*k|0)+8>>2]=C,$t(0|C,0|E,0|I),vn[Q+(48*k|0)+12>>2]=I,Qn[Q+(48*k|0)+16>>3]=w,Qn[Q+(48*k|0)+24>>3]=w,!((0|(I=n-b|0))>7)){D=I,m=20;break}h=h+b|0,n=I,r=r+1|0}if(5==(0|m))Nt(4451),D=n,m=20;else{if(13==(0|m))return Rt(4479,15,1,0|vn[824]),R=1,Mn=i,0|R;18==(0|m)&&(r=0|vn[824],Rt(4495,6,1,r),_=n,M=r)}do{if(20==(0|m)){if(D){_=D,M=0|vn[824];break}return R=1,Mn=i,0|R}}while(0);return vn[a>>2]=_,ut(M,4502,a),R=0,Mn=i,0|R}function Q(e,t,n,r,i){e|=0,t=+t,n=+n,r|=0,i|=0;var a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0;if((r+4|0)>>>0<=i>>>0?1==((0|In[r+1>>0])<<16|(0|In[r>>0])<<24|(0|In[r+2>>0])<<8|0|In[r+3>>0]|0)?(a=0,o=r,s=0):(l=0,u=3):(l=1,u=3),3==(0|u)){if((0|(c=0|vn[e+20>>2]))<1)return;if(d=0|vn[e+12>>2],A=c+-1|0,c=d+(48*A|0)|0,+xn(+(+Qn[d+(48*A|0)+24>>3]-n))>1e-4)return;for(g=r,p=l;;){if((l=g+3|0)>>>0<=i>>>0){if(1==((0|In[g+1>>0])<<8|(0|In[g>>0])<<16|0|In[g+2>>0]|0)){f=p,u=10;break}h=p}else h=1;if((g+4|0)>>>0>i>>>0){m=1,E=i;break}if(v=g+1|0,0!=(0|h)||1==((0|In[v>>0])<<16|(0|In[g>>0])<<24|(0|In[g+2>>0])<<8|0|In[l>>0]|0)){f=h,u=10;break}g=v,p=0}10==(0|u)&&(h=0==(0|f),m=1&(1^h),E=h?g:i),g=r,h=E-g|0,(0|h)>0?(f=0|vn[d+(48*A|0)+36>>2],p=(0|vn[d+(48*A|0)+44>>2])-1|0,v=f+(12*p|0)|0,l=E+(0|vn[v>>2])-g|0,g=f+(12*p|0)+4|0,p=0|ae(0|vn[g>>2],l),vn[g>>2]=p,$t(p+(0|vn[v>>2])|0,0|r,0|h),vn[v>>2]=l,l=d+(48*A|0)+12|0,vn[l>>2]=(0|vn[l>>2])+h,a=c,o=E,s=m):(a=c,o=E,s=m)}e:do{if(0==(0|s)&(0|o)!=(0|i))for(m=e+20|0,E=e+16|0,c=e+12|0,h=e+51124|0,l=a,A=o;;){for(d=A;;){v=d+3|0,r=v>>>0>i>>>0,r?(I=1,u=19):1==((0|In[d+1>>0])<<8|(0|In[d>>0])<<16|0|In[d+2>>0]|0)?(y=0,u=24):(I=0,u=19);do{if(19==(0|u)){if(u=0,(d+4|0)>>>0<=i>>>0){if(p=d+1|0,0==(0|I)?1!=((0|In[p>>0])<<16|(0|In[d>>0])<<24|(0|In[d+2>>0])<<8|0|In[v>>0]|0):0){b=p;break}C=I}else C=1;if(r){B=l;break e}p=d+1|0,1==((0|In[p>>0])<<8|(0|In[d>>0])<<16|0|In[d+2>>0]|0)?(y=C,u=24):(w=C,S=p,u=25)}}while(0);if(24==(0|u)&&(u=0,w=y,S=d,u=25),25==(0|u)){if(u=0,0|w){B=l;break e}if((T=S+3|0)>>>0>i>>>0){B=l;break e}if(1!=((0|In[S+1>>0])<<8|(0|In[S>>0])<<16|0|In[S+2>>0]|0)){B=l;break e}for(r=T;;){if((v=r+3|0)>>>0<=i>>>0){if(1==((0|In[r+1>>0])<<8|(0|In[r>>0])<<16|0|In[r+2>>0]|0)){u=34;break}k=0}else k=1;if((r+4|0)>>>0>i>>>0){Q=1,D=i;break}if(p=r+1|0,!((R=0==(0|k))&1!=((0|In[p>>0])<<16|(0|In[r>>0])<<24|(0|In[r+2>>0])<<8|0|In[v>>0]|0))){u=33;break}r=p}if(33==(0|u)&&(u=0,R?u=34:(Q=1,D=i)),34==(0|u)&&(u=0,Q=0,D=r),(0|(_=D-T|0))>=1)break;if(!(0==(0|Q)&(0|D)!=(0|i))){B=l;break e}b=D}d=b}switch(l?P=l:(d=0|vn[m>>2],p=0|vn[E>>2],v=64+(p<<1)|0,(0|d)==(0|p)?(vn[E>>2]=v,p=0|ae(0|vn[c>>2],48*v|0),vn[c>>2]=p,M=p,N=0|vn[m>>2]):(M=0|vn[c>>2],N=d),vn[m>>2]=N+1,Qn[M+(48*N|0)+16>>3]=t,Qn[M+(48*N|0)+24>>3]=n,vn[M+(48*N|0)+12>>2]=0,vn[M+(48*N|0)+32>>2]=0,vn[M+(48*N|0)+40>>2]=0,vn[M+(48*N|0)+44>>2]=0,d=0|ne(12),vn[M+(48*N|0)+36>>2]=d,P=M+(48*N|0)|0),d=P+44|0,p=P+40|0,v=0|vn[p>>2],g=4+(v<<1)|0,f=P+36|0,(0|vn[d>>2])==(0|v)&&(vn[p>>2]=g,p=0|ae(0|vn[f>>2],12*g|0),vn[f>>2]=p),p=0|fn[T>>0],g=31&p,g<<24>>24==5&&(vn[h>>2]=1,vn[P+32>>2]=1),v=0|ne(_),$t(0|v,0|T,0|_),O=0|vn[f>>2],f=0|vn[d>>2],vn[O+(12*f|0)>>2]=_,fn[O+(12*f|0)+8>>0]=g,vn[O+(12*f|0)+4>>2]=v,vn[d>>2]=f+1,31&p){case 1:case 5:case 7:case 8:p=P+12|0,vn[p>>2]=_+4+(0|vn[p>>2])}if(!(0==(0|Q)&(0|D)!=(0|i))){B=P;break e}l=P,A=D}else B=a}while(0);if(0|vn[e+51120>>2]&&!(0|vn[e+51124>>2])){if(a=B+44|0,P=B+36|0,(0|vn[a>>2])>0){D=0;do{re(0|vn[(0|vn[P>>2])+(12*D|0)+4>>2]),D=D+1|0}while((0|D)<(0|vn[a>>2]))}vn[a>>2]=0,vn[B+40>>2]=0,re(0|vn[P>>2]),P=e+20|0,vn[P>>2]=(0|vn[P>>2])-1}}function D(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0;if(t=e+20|0,0|vn[t>>2]){if(n=0|ne(192),r=e+51156|0,X(n,e+51140|0,r),(0|(i=0|vn[t>>2]))>0)for(a=e+12|0,e=0,o=i;;){if(i=0|vn[a>>2],s=i+(48*e|0)+44|0,(0|vn[s>>2])>0){l=i+(48*e|0)+36|0,u=i+(48*e|0)+12|0,i=0;do{switch(c=0|vn[l>>2],0|fn[c+(12*i|0)+8>>0]){case 5:case 1:if(d=c+(12*i|0)|0,(A=0|vn[d>>2])>>>0>=49){if(g=c+(12*i|0)+4|0,c=0|vn[g>>2],p=c+A|0,f=0|ne(A),(0|A)>0)for(h=p,m=f,E=c,v=0;;){if(y=0|fn[E>>0],I=E+1|0,y<<24>>24==0&(h-E|0)>2?(0==(0|fn[I>>0])?3==(0|fn[E+2>>0]):0)?(fn[m>>0]=0,fn[m+1>>0]=0|fn[I>>0],b=m+2|0,C=E+3|0,B=2):(w=0,S=17):(w=y,S=17),17==(0|S)&&(S=0,fn[m>>0]=w,b=m+1|0,C=I,B=1),I=v+B|0,!(C>>>0<p>>>0)){T=I;break}m=b,E=C,v=I}else T=0;if(vn[g>>2]=f,vn[d>>2]=T,re(c),vn[u>>2]=(0|vn[d>>2])-A+(0|vn[u>>2]),$(n,r),v=0|vn[g>>2],E=0|vn[d>>2],m=v+E|0,(0|(p=E+-32|0))>0){E=v+32|0,v=p;do{(0|v)>16?(te(n,E,16),k=E+16|0):k=E,E=k+(~~+Xt(+ +(m-k|0),144)>>>0)|0,v=m-E|0}while((0|v)>0)}}}i=i+1|0}while((0|i)<(0|vn[s>>2]));Q=0|vn[t>>2]}else Q=o;if((0|(e=e+1|0))>=(0|Q))break;o=Q}re(n)}}function R(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0;if(t=e+8|0,0|vn[t>>2]){if(n=0|ne(192),r=e+51156|0,X(n,e+51140|0,r),(0|vn[t>>2])>0){i=0;do{if($(n,r),a=0|vn[e>>2],o=0|vn[a+(48*i|0)+8>>2],s=0|vn[a+(48*i|0)+12>>2],a=o+s|0,(s+-16|0)>15){s=o+16|0;do{te(n,s,16),s=s+16|0}while((a-s|0)>15)}i=i+1|0}while((0|i)<(0|vn[t>>2]))}re(n)}}function _(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0,L=0,x=0,F=0,U=0,V=0,G=0,H=0,j=0,Y=0,K=0,q=0,J=0,z=0,W=0,Z=0,X=0,$=0,ee=0,te=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,Ae=0,ge=0,pe=0,fe=0,he=0,me=0,Ee=0,ve=0,ye=0,Ie=0,be=0,Ce=0,Be=0,we=0,Se=0;if(t=Mn,Mn=Mn+16|0,n=t+8|0,r=t,i=e+20|0,(0|vn[i>>2])<=0)return void(Mn=t);a=e+12|0,o=e+48024|0,s=e+48042|0,l=e+48044|0,u=0|vn[824],c=e+49068|0,d=e+49070|0,A=0;do{if(g=0|vn[a>>2],p=0|ne(0|vn[g+(48*A|0)+12>>2]),f=g+(48*A|0)+44|0,h=g+(48*A|0)+36|0,(0|vn[f>>2])>0){for(m=g+(48*A|0)+16|0,E=0,v=0;;){y=0|vn[h>>2],I=0|fn[y+(12*v|0)+8>>0],b=0|vn[y+(12*v|0)>>2];e:do{switch(I<<24>>24){case 7:if(b>>>0<1024){mn[s>>1]=b,$t(0|l,0|vn[y+(12*v|0)+4>>2],65535&b|0),C=77;break e}vn[r>>2]=b,ut(u,4541,r),C=77;break e;case 8:if(b>>>0<1024){mn[c>>1]=b,$t(0|d,0|vn[y+(12*v|0)+4>>2],65535&b|0),C=77;break e}vn[n>>2]=b,ut(u,4560,n),C=77;break e;default:t:do{if(I<<24>>24==6&0!=(0|b)){B=+Qn[m>>3],w=0|vn[y+(12*v|0)+4>>2],S=w+b|0,T=S,k=w+1|0;do{if((0|k)==(0|S))break t;for(w=0,Q=k;;){if((D=0|fn[Q>>0])<<24>>24!=-1)break;if((0|(R=Q+1|0))==(0|S))break t;w=w+255|0,Q=R}if(R=w+(255&D)|0,(0|(_=Q+1|0))==(0|S))break t;for(M=0,N=Q,P=_;;){if((O=0|fn[P>>0])<<24>>24!=-1)break;if((0|(_=P+1|0))==(0|S))break t;L=P,M=M+255|0,P=_,N=L}P=N+2|0,k=P+(M+(255&O))|0;do{if(((((((4==(0|R)?(0|(Q=T-P|0))>6:0)?-75==(0|fn[P>>0]):0)?0==(0|fn[N+3>>0]):0)?49==(0|fn[N+4>>0]):0)?(w=N+5|0,L=Q+-3|0,(0|Q)>=12):0)?71==(0|fn[w>>0]):0)?65==(0|fn[N+6>>0]):0){if(57!=(0|fn[N+7>>0]))break;if(52!=(0|fn[N+8>>0]))break;if(3!=(0|fn[N+9>>0]))break;if(Q=N+10|0,_=w+L|0,w=(L<<3)-32|0,L=(0|w)<1,x=1&(1^L),L|(w-x|0)<1)break;for(w=1,L=Q,F=x,x=Q,Q=0,U=0,V=0,G=1;;){if(H=8-F|0,j=(0|w)<(0|H)?w:H,Y=(0|In[x>>0])>>>(H-j|0),H=0|qt(-1,-1,64-j|0),w=w-j|0,K=0|Jt(H&Y|0,Ln&((0|Y)<0)<<31>>31|0,0|w),Q|=K,U|=Ln,K=j+F|0,j=8==(0|K),Y=x+1|0,H=Y,G=j?0:K,L=j?H:L,(0|w)<=0)break;F=j?0:K,x=j?Y:x}if(!((V>>>0<1|1==(0|V)&G>>>0<0)&(8-G+(_-L<<3)|0)>0))break;for(x=1,F=L,w=G,U=L,Y=V,j=G;;){if(K=8-w|0,H=(0|x)<(0|K)?x:K,x=x-H|0,K=H+w|0,H=8==(0|K),q=U+1|0,J=q,j=H?0:K,F=H?J:F,(0|x)<=0)break;w=H?0:K,U=H?q:U}if(!((Y>>>0<1|1==(0|Y)&j>>>0<0)&(8-j+(_-F<<3)|0)>4))break;for(U=5,w=F,x=j,G=F,V=0,L=0,q=Y,H=j;;){if(K=8-x|0,J=(0|U)<(0|K)?U:K,z=(0|In[G>>0])>>>(K-J|0),K=0|qt(-1,-1,64-J|0),U=U-J|0,W=0|Jt(K&z|0,Ln&((0|z)<0)<<31>>31|0,0|U),V|=W,L|=Ln,W=J+x|0,J=8==(0|W),z=G+1|0,K=z,H=J?0:W,w=J?K:w,(0|U)<=0)break;x=J?0:W,G=J?z:G}if(!((q>>>0<1|1==(0|q)&H>>>0<0)&(8-H+(_-w<<3)|0)>7))break;for(G=8,x=w,U=H,L=w,j=q,Y=H;;){if(F=8-U|0,z=(0|G)<(0|F)?G:F,G=G-z|0,F=z+U|0,z=8==(0|F),J=L+1|0,W=J,Y=z?0:F,x=z?W:x,(0|G)<=0)break;U=z?0:F,L=z?J:L}if(!((0|V)>0&0!=(0|Q)&(j>>>0<1|1==(0|j)&Y>>>0<0)))break;for(L=0,U=x,G=Y,H=j;;){if(q=_-U<<3,(8-G+q|0)<8)Z=0,X=q,$=U,ee=G,te=1;else{for(q=8,w=U,J=G,z=U,F=0,W=0,K=G,ie=H;;){if(ae=8-J|0,oe=(0|q)<(0|ae)?q:ae,se=(0|In[z>>0])>>>(ae-oe|0),ae=0|qt(-1,-1,64-oe|0),q=q-oe|0,le=0|Jt(ae&se|0,Ln&((0|se)<0)<<31>>31|0,0|q),F|=le,W|=Ln,le=oe+J|0,oe=8==(0|le),se=z+1|0,ae=se,K=oe?0:le,w=oe?ae:w,(0|q)<=0)break;J=oe?0:le,z=oe?se:z}Z=F,X=_-w<<3,$=w,ee=K,te=ie}z=X+8|0,J=$;do{if((z-ee|0)<8)ue=0,ce=J,de=z,Ae=$,ge=ee,pe=1;else{if(!(te>>>0<1|1==(0|te)&ee>>>0<0)){ue=0,ce=J,de=z,Ae=$,ge=ee,pe=te;break}for(q=8,W=$,se=ee,oe=J,le=0,ae=0,fe=ee,he=te;;){if(me=8-se|0,Ee=(0|q)<(0|me)?q:me,ve=(0|In[oe>>0])>>>(me-Ee|0),me=0|qt(-1,-1,64-Ee|0),q=q-Ee|0,ye=0|Jt(me&ve|0,Ln&((0|ve)<0)<<31>>31|0,0|q),le|=ye,ae|=Ln,ye=Ee+se|0,Ee=8==(0|ye),ve=oe+1|0,me=ve,fe=Ee?0:ye,W=Ee?me:W,(0|q)<=0)break;se=Ee?0:ye,oe=Ee?ve:oe}ue=255&le,ce=W,de=8+(_-W<<3)|0,Ae=W,ge=fe,pe=he}}while(0);do{if((de-ge|0)<8)Ie=0,be=Ae,Ce=1,Be=ge;else{if(!(pe>>>0<1|1==(0|pe)&ge>>>0<0)){Ie=0,be=Ae,Ce=pe,Be=ge;break}for(J=8,z=Ae,ie=ge,K=ce,w=0,F=0,oe=ge,se=pe;;){if(q=8-ie|0,ae=(0|J)<(0|q)?J:q,ve=(0|In[K>>0])>>>(q-ae|0),q=0|qt(-1,-1,64-ae|0),J=J-ae|0,Ee=0|Jt(q&ve|0,Ln&((0|ve)<0)<<31>>31|0,0|J),w|=Ee,F|=Ln,Ee=ae+ie|0,ae=8==(0|Ee),ve=K+1|0,q=ve,oe=ae?0:Ee,z=ae?q:z,(0|J)<=0)break;ie=ae?0:Ee,K=ae?ve:K}Ie=255&w,be=z,Ce=se,Be=oe}}while(0);do{if(4&Z|0){if(3&Z|Ce|0)break;if((K=0|vn[o>>2])>>>0>=3e3)break;fn[e+24+(K<<4)+8>>0]=ue,fn[e+24+(K<<4)+9>>0]=Ie,Qn[e+24+(K<<4)>>3]=B,vn[o>>2]=K+1}}while(0);if(!((0|(L=L+1|0))<(0|V)&(Ce>>>0<1|1==(0|Ce)&Be>>>0<0)))break;U=be,G=Be,H=Ce}}}while(0)}while(k>>>0<S>>>0)}}while(0);switch(I<<24>>24){case 7:case 8:case 5:case 1:C=77;break;default:we=E}}}while(0);if(77==(0|C)&&(C=0,I=0|Wt(0|b),S=p+E|0,fn[S>>0]=I,fn[S+1>>0]=I>>8,fn[S+2>>0]=I>>16,fn[S+3>>0]=I>>24,I=E+4|0,$t(p+I|0,0|vn[y+(12*v|0)+4>>2],0|b),we=b+I|0),v=v+1|0,Se=0|vn[f>>2],(0|v)>=(0|Se))break;E=we}if(vn[g+(48*A|0)+8>>2]=p,(0|Se)>0){E=0;do{re(0|vn[(0|vn[h>>2])+(12*E|0)+4>>2]),E=E+1|0}while((0|E)<(0|vn[f>>2]))}}else vn[g+(48*A|0)+8>>2]=p;vn[f>>2]=0,vn[g+(48*A|0)+40>>2]=0,re(0|vn[h>>2]),A=A+1|0}while((0|A)<(0|vn[i>>2]));Mn=t}function M(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0;i=t+24|0,a=0|vn[i>>2];e:do{switch(0|a){case 219:case 27:if(o=e+51128|0,s=0|vn[o>>2],l=0|vn[t+20>>2],-1!=(0|s)){if((0|l)!=(0|s)){u=a;break e}}else vn[o>>2]=l;Q(e,+Qn[t>>3],+Qn[t+8>>3],n,n+r|0),u=0|vn[i>>2];break;default:u=a}}while(0);e:do{switch(0|u){case 207:case 15:if(a=e+51132|0,i=0|vn[a>>2],l=0|vn[t+20>>2],-1!=(0|i)){if((0|l)!=(0|i))break e}else vn[a>>2]=l;k(e,+Qn[t>>3],n,r)}}while(0);if(13==(0|vn[t+16>>2])&&(c=+Qn[t>>3],!((0|r)<21))){if(0|De(4579,n,5))return void Rt(4584,11,1,0|vn[824]);if(t=n+10|0,0|De(4596,t,4)){if(0|De(4600,t,4))return void Rt(4604,38,1,0|vn[824]);Rt(4710,17,1,0|vn[856]),t=0|ie(r+4|0,1),A=t,o=4728,d=A+18|0;do{fn[A>>0]=0|fn[o>>0],A=A+1|0,o=o+1|0}while((0|A)<(0|d));for(o=14,A=0,d=0,a=18;;){l=0|fn[n+o>>0],u=l<<24>>24!=0;do{if(2!=(0|d)){if(i=0!=(0|A),u){f=i?A:1,h=d,m=a;break}f=A,h=d+(1&i)|0,m=a;break}u?(fn[t+a>>0]=l,f=A,h=2,m=a+1|0):(f=A,h=3,m=a)}while(0);if((0|(o=o+1|0))==(0|r)){g=t,p=m;break}A=f,d=h,a=m}}else{if(Rt(4643,17,1,0|vn[856]),(u=In[n+15>>0]<<14|In[n+14>>0]<<21|In[n+16>>0]<<7|In[n+17>>0])>>>0<4|(u+20|0)>(0|r))return void Rt(4661,23,1,0|vn[824]);if(3!=(0|fn[n+20>>0]))return void Rt(4685,24,1,0|vn[824]);if(!(l=0|ie(u+16|0,1)))return;for(a=0,i=1,o=0;;){if(s=0|fn[n+(i+20)>>0],3==(0|o)?(fn[l+a>>0]=s,d=a+1|0,A=3):(d=a,A=o+(s<<24>>24==0&1)|0),(0|(i=i+1|0))==(0|u)){g=l,p=d;break}a=d,o=A}}m=e+48036|0,a=0|vn[m>>2],h=e+48032|0,d=0|vn[h>>2],f=64+(d<<1)|0,A=e+48028|0,(0|a)==(0|d)?(vn[h>>2]=f,h=0|ae(0|vn[A>>2],f<<4),vn[A>>2]=h,E=0|vn[m>>2],v=h):(E=a,v=0|vn[A>>2]),vn[m>>2]=E+1,vn[v+(E<<4)+8>>2]=g,vn[v+(E<<4)+12>>2]=p,Qn[v+(E<<4)>>3]=c}}function N(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0;if(t=Mn,Mn=Mn+528|0,i=t+512|0,a=t,vn[i>>2]=r,Qe(a,511,4747,i),!(r=0|gt(a,4754)))return o=1,Mn=t,0|o;if(a=n+48036|0,vn[i>>2]=vn[a>>2],Rt(i,4,1,r),(0|vn[a>>2])>0){s=n+48028|0,n=e+8|0,l=e+48|0,e=0;do{u=0|vn[s>>2],vn[i>>2]=~~(1e3*(+Qn[u+(e<<4)>>3]-+Qn[n>>3]+ +Qn[l>>3]))>>>0,Rt(i,4,1,r),c=u+(e<<4)+12|0,vn[i>>2]=vn[c>>2],Rt(i,4,1,r),Rt(0|vn[u+(e<<4)+8>>2],0|vn[c>>2],1,r),e=e+1|0}while((0|e)<(0|vn[a>>2]))}return pt(r),o=0,Mn=t,0|o}function P(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0;if(i=Mn,Mn=Mn+2464|0,a=i+512|0,o=i,s=i+516|0,vn[a>>2]=r,Qe(o,511,4756,a),!(r=0|gt(o,4754)))return l=1,Mn=i,0|l;if((0|vn[e+68>>2])>=(0|t)&&q(0|vn[e+56>>2]),t=n+48024|0,vn[a>>2]=vn[t>>2],Rt(a,4,1,r),(0|vn[t>>2])>0){o=e+56|0,u=e+8|0,c=e+48|0,e=s+129|0,d=s+258|0,A=s+387|0,g=s+516|0,p=s+645|0,f=s+774|0,h=s+903|0,m=s+1032|0,E=s+1161|0,v=s+1290|0,y=s+1419|0,I=s+1548|0,b=s+1677|0,C=s+1806|0,B=0;do{w=n+24+(B<<4)|0,K(0|vn[o>>2],+Qn[w>>3],n+24+(B<<4)+8|0,2),J(0|vn[o>>2],+Qn[w>>3]),j(0|vn[o>>2],s),S=(0!=(0|fn[s>>0])&1)+(0!=(0|fn[e>>0])&1)+(0!=(0|fn[d>>0])&1)+(0!=(0|fn[A>>0])&1)+(0!=(0|fn[g>>0])&1)+(0!=(0|fn[p>>0])&1)+(0!=(0|fn[f>>0])&1)+(0!=(0|fn[h>>0])&1)+(0!=(0|fn[m>>0])&1)+(0!=(0|fn[E>>0])&1)+(0!=(0|fn[v>>0])&1)+(0!=(0|fn[y>>0])&1)+(0!=(0|fn[I>>0])&1)+(0!=(0|fn[b>>0])&1)+(0!=(0|fn[C>>0])&1)|0,vn[a>>2]=~~(1e3*(+Qn[w>>3]-+Qn[u>>3]+ +Qn[c>>3]))>>>0,Rt(a,4,1,r),Qt(S<<24>>24,r),S=0;do{w=s+(129*S|0)|0,0|fn[w>>0]&&(T=0|ke(w),Qt(S<<24>>24,r),Qt(T<<24>>24,r),Rt(w,255&T,1,r)),S=S+1|0}while(15!=(0|S));B=B+1|0}while((0|B)<(0|vn[t>>2]))}return pt(r),l=0,Mn=i,0|l}function O(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0,L=0,x=0,F=0,U=0,V=0,G=0,H=0,j=0,Y=0,K=0,q=0,J=0,z=0,W=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,Ae=0,ge=0,pe=0,fe=0,he=0,me=0,Ee=0,ve=0,ye=0,Ie=0,be=0,Ce=0,Be=0,we=0,Se=0,Te=0,ke=0,De=0,Re=0,_e=0,Me=0;if(a=Mn,Mn=Mn+3856|0,o=a+3848|0,s=a+3832|0,l=a+3816|0,u=a+3784|0,c=a+3760|0,d=a+3728|0,A=a+3720|0,g=a+3712|0,p=a+3704|0,f=a+3672|0,h=a+3656|0,m=a+3640|0,E=a+3632|0,v=a+512|0,y=a,I=r+8|0,b=0|vn[I>>2],b?(k=0|vn[r>>2],Q=b+-1|0,C=+Qn[k+16>>3],B=+Qn[k+(48*Q|0)+16>>3],w=+Qn[k+(48*Q|0)+24>>3],S=+Qn[k+24>>3]):(C=0,B=0,w=0,S=0),k=r+20|0,Q=0|vn[k>>2],Q?(N=0|vn[r+12>>2],P=Q+-1|0,D=+Qn[N+16>>3],R=+Qn[N+(48*P|0)+24>>3],_=+Qn[N+24>>3],M=+Qn[N+(48*P|0)+16>>3]):(D=0,R=0,_=0,M=0),(O=+Zt(+ +(0|b),+ +(0|Q)))>0)for(P=r+12|0,N=0,L=C,x=B,F=D,U=M;;){if((0|N)<(0|b)?(V=+Qn[(0|vn[r>>2])+(48*N|0)+16>>3],G=+Xt(+V,+L),H=G,j=+Zt(+V,+x)):(H=L,j=x),(0|N)<(0|Q)?(V=+Qn[(0|vn[P>>2])+(48*N|0)+16>>3],G=+Xt(+V,+F),Y=G,K=+Zt(+V,+U)):(Y=F,K=U),N=N+1|0,!(O>+(0|N))){q=H,J=j,z=Y,W=K;break}L=H,x=j,F=Y,U=K}else q=C,J=B,z=D,W=M;if(f=e+64|0,(0!=(0|vn[e>>2])?(0|vn[f>>2])<(0|t):0)?0|n&&(0|vn[I>>2]?(M=+Qn[e+40>>3]-S,Z=M):Z=0,p=0|vn[k>>2],p?(M=+Qn[e+32>>3]-_,X=M,$=p):(X=0,$=0),g=0==(0|$),0|vn[I>>2]?(M=+Xt(+Z,+X),ee=g?Z:M,te=34):g||(ee=X,te=34),34==(0|te)&&(Qn[e+48>>3]=ee)):(vn[f>>2]=t,f=0==(0|vn[k>>2]),f||(Qn[e+8>>3]=_),(0|vn[I>>2]?(A=e+8|0,f|+Qn[A>>3]>S):0)&&(Qn[A>>3]=S),vn[e>>2]=1),A=0|vn[I>>2],ee=+Qn[e+48>>3],(0|A)>0){f=0|vn[r>>2],g=0;do{$=f+(48*g|0)+16|0,Qn[$>>3]=ee+ +Qn[$>>3],$=f+(48*g|0)+24|0,Qn[$>>3]=ee+ +Qn[$>>3],g=g+1|0}while((0|g)<(0|A))}if(g=0|vn[k>>2],(0|g)>0?(f=0|vn[r+12>>2],$=f+16|0,Qn[$>>3]=ee+ +Qn[$>>3],$=f+24|0,Qn[$>>3]=ee+ +Qn[$>>3],1!=(0|g)):0){$=1;do{p=f+(48*$|0)+16|0,Qn[p>>3]=ee+ +Qn[p>>3],p=f+(48*$|0)+24|0,Qn[p>>3]=ee+ +Qn[p>>3],$=$+1|0}while((0|$)<(0|g))}M=q+ee,q=z+ee,z=S+ee,S=_+ee,0|A&&(Qn[e+24>>3]=J+ee,Qn[e+40>>3]=w+ee),0|g&&(Qn[e+16>>3]=W+ee,Qn[e+32>>3]=R+ee,vn[e+60>>2]=vn[32+(0|vn[r+12>>2])>>2]),$=e+8|0,d=v+32|0,A=v+36|0,g=r+49068|0,e=v+1064|0,f=v+1066|0,p=r+49070|0,n=r+48042|0,m=v+38|0,h=v+40|0,E=r+48044|0,N=r+50094|0,P=v+2090|0,Q=v+2092|0,b=r+50096|0,ne=v+8|0,re=v+4|0,ie=r+12|0,ae=v+2093|0,oe=v+16|0,se=v+24|0,le=0;e:for(;;){ue=0==(1&le|0),tn(0|v,0,3120),vn[d>>2]=t,fn[A>>0]=4,ce=0|mn[g>>1],mn[e>>1]=ce,$t(0|f,0|p,65535&ce|0),ce=0|mn[n>>1],mn[m>>1]=ce,$t(0|h,0|E,65535&ce|0),de=0|mn[N>>1],mn[P>>1]=de,$t(0|Q,0|b,65535&de|0);do{if(le>>>0<2)if(de=0|vn[k>>2]){if(ue?ce<<16>>16==0|0==(0|mn[e>>1]):0){te=82;break}if(vn[v>>2]=vn[ie>>2],vn[re>>2]=de,vn[ne>>2]=1,ee=+Qn[$>>3],(R=q-ee)<0){te=83;break e}de=0|xt(1e5*R),Ae=oe,vn[Ae>>2]=de,vn[Ae+4>>2]=((0|de)<0)<<31>>31,ge=S-ee,pe=1e5,fe=ee,te=67}else te=82;else if(de=0|vn[I>>2]){if(vn[v>>2]=vn[r>>2],vn[re>>2]=de,vn[ne>>2]=0,ee=+Qn[$>>3],(R=M-ee)<0){te=83;break e}de=(0|In[ae>>0])>>>7|fn[Q>>0]<<1&14,de>>>0>12?(Nt(4101),W=+Qn[$>>3],he=48e3,me=M-W,Ee=0|vn[ne>>2],ve=W):(he=0|vn[16+(de<<2)>>2],me=R,Ee=0,ve=ee),de=0|xt(me*+(0|he)),Ae=oe,vn[Ae>>2]=de,vn[Ae+4>>2]=((0|de)<0)<<31>>31;do{if(1!=(0|Ee)){if((de=(0|In[ae>>0])>>>7|fn[Q>>0]<<1&14)>>>0>12){Nt(4101),ye=48e3,Ie=+Qn[$>>3];break}ye=0|vn[16+(de<<2)>>2],Ie=ve;break}ye=1e5,Ie=ve}while(0);ge=z-Ie,pe=+(0|ye),fe=Ie,te=67}else te=82}while(0);if(67==(0|te)){if(te=0,ce=0|xt(ge*pe),de=se,vn[de>>2]=ce,vn[de+4>>2]=((0|ce)<0)<<31>>31,!(!0|ue)){ce=0|vn[ne>>2];do{if(1!=(0|ce)){if((de=(0|In[ae>>0])>>>7|fn[Q>>0]<<1&14)>>>0>12){Nt(4101),be=48e3,Ce=+Qn[$>>3],Be=0|vn[ne>>2];break}be=0|vn[16+(de<<2)>>2],Ce=fe,Be=ce;break}be=1e5,Ce=fe,Be=1}while(0);ce=0|vn[v>>2],ee=+Qn[ce+16>>3],de=0|xt((ee-Ce)*+(0|be)),Ae=((0|de)<0)<<31>>31;do{if(1!=(0|Be)){if((we=(0|In[ae>>0])>>>7|fn[Q>>0]<<1&14)>>>0>12){Nt(4101),Se=0|vn[v>>2],Te=48e3,ke=Se,De=+Qn[$>>3],Re=0|vn[ne>>2],_e=+Qn[Se+16>>3];break}Te=0|vn[16+(we<<2)>>2],ke=ce,De=Ce,Re=Be,_e=ee;break}Te=1e5,ke=ce,De=Ce,Re=1,_e=ee}while(0);ee=+Qn[ke+(48*((0|vn[re>>2])-1|0)|0)+16>>3],ce=0|xt((ee-De)*+(0|Te)),vn[c>>2]=1==(0|Re)?5099:5105,Qn[c+8>>3]=_e,Qn[c+16>>3]=ee,_t(5111,c),ee=+Qn[16+(0|vn[v>>2])>>3]-+Qn[$>>3],vn[u>>2]=1==(0|vn[ne>>2])?5099:5105,Qn[u+8>>3]=ee,we=u+16|0,vn[we>>2]=de,vn[we+4>>2]=Ae,we=u+24|0,vn[we>>2]=ce,vn[we+4>>2]=((0|ce)<0)<<31>>31,_t(5133,u),ce=0|vn[oe>>2],we=0|vn[re>>2],vn[l>>2]=1==(0|vn[ne>>2])?5099:5105,vn[l+4>>2]=ce,vn[l+8>>2]=we,_t(5170,l)}if(we=1==(0|vn[ne>>2])?118:115,vn[s>>2]=i,vn[s+4>>2]=we,vn[s+8>>2]=ue?5196:5201,Qe(y,511,5206,s),!(we=0|gt(y,4754))){te=78;break}ue?(T(v,4176,we),T(v,4221,we)):(T(v,4206,we),T(v,4421,we),T(v,4331,we),T(v,4431,we)),pt(we)}else 82==(0|te)&&(te=0);if((le=le+1|0)>>>0>=4){Me=0,te=86;break}}return 78==(0|te)?(vn[o>>2]=y,_t(5219,o),Me=1,Mn=a,0|Me):83==(0|te)?(Me=1,Mn=a,0|Me):86==(0|te)?(Mn=a,0|Me):0}function L(e){e|=0;var t=0,n=0,r=0;if(t=e+20|0,(0|vn[t>>2])>0){n=e+12|0,r=0;do{re(0|vn[(0|vn[n>>2])+(48*r|0)+8>>2]),r=r+1|0}while((0|r)<(0|vn[t>>2]))}if(t=e+8|0,(0|vn[t>>2])>0){r=0;do{re(0|vn[(0|vn[e>>2])+(48*r|0)+8>>2]),r=r+1|0}while((0|r)<(0|vn[t>>2]))}if(t=e+48036|0,r=e+48028|0,(0|vn[t>>2])>0){n=0;do{re(0|vn[(0|vn[r>>2])+(n<<4)+8>>2]),n=n+1|0}while((0|n)<(0|vn[t>>2]))}if(re(0|vn[e>>2]),re(0|vn[e+12>>2]),re(0|vn[r>>2]),!(0|vn[e+51136>>2]))return void tn(0|e,0,51176);re(e+51140|0),re(e+51156|0),tn(0|e,0,51176)}function x(e){return e|=0,+ +Qn[e+16>>3]}function F(e){return e|=0,+ +Qn[e+8>>3]}function U(e){return e|=0,0|vn[e+60>>2]}function V(e,t,n,r,i,a,o,s,l){e|=0,t|=0,n|=0,r|=0,i|=0,a|=0,o|=0,s|=0,l|=0;var u=0,c=0,d=0,A=0,g=0,p=0,y=0;if(u=Mn,Mn=Mn+52752|0,c=u+512|0,d=u+1568|0,A=u+1552|0,g=u+1536|0,p=u,vn[g>>2]=i,vn[g+4>>2]=118,vn[g+8>>2]=5201,Qe(p,511,5206,g),Dt(p),vn[A>>2]=i,vn[A+4>>2]=118,vn[A+8>>2]=5196,Qe(p,511,5206,A),Dt(p),vn[d>>2]=i,vn[d+4>>2]=115,vn[d+8>>2]=5201,Qe(p,511,5206,d),Dt(p),vn[c>>2]=i,vn[c+4>>2]=115,vn[c+8>>2]=5196,Qe(p,511,5206,c),Dt(p),tn(0|d,0,51176),vn[d+51120>>2]=a,vn[d+51128>>2]=-1,vn[d+51132>>2]=-1,a=d+51136|0,o){vn[a>>2]=1,o=d+51140|0,p=s,s=o+16|0;do{fn[o>>0]=0|fn[p>>0],o=o+1|0,p=p+1|0}while((0|o)<(0|s));o=d+51156|0,p=l,s=o+16|0;do{fn[o>>0]=0|fn[p>>0],o=o+1|0,p=p+1|0}while((0|o)<(0|s))}else vn[a>>2]=0;if(!(p=0|gt(r,5235)))return Rt(5238,15,1,0|vn[824]),Nt(5254),y=1,Mn=u,0|y;r=0|f(),E(r,1,d);do{if((0|(o=0|Pt(c,1,1024,p)))<1)break;m(r,c,o)}while(!(0|Ot(p)));return v(r),pt(p),h(r),0|vn[a>>2]&&(D(d),R(d)),_(d),0|O(e,t,n,d,i)?(Nt(5274),L(d),y=1,Mn=u,0|y):(P(e,t,d,i),N(e,0,d,i),vn[e+68>>2]=t,L(d),y=0,Mn=u,0|y)}function G(e){e|=0;var t=0,n=0;if(t=0|gt(5292,5301),!(n=0|ie(e,1)))return void Nt(5325);(0|Rt(n,1,e,t))!=(0|e)&&Nt(5304),pt(t),re(n)}function H(e,t){e|=0,t|=0;var n=0,r=0,i=0;n=+Qn[e>>3],r=+Qn[t>>3];do{if(n==r)i=0;else{if(r>n){if(!(r-n<47721.85884)){i=1;break}}else if(!(n>r&!(n-r<47721.85884))){i=1;break}i=-1}}while(0);return 0|i}function j(e,t){e|=0,t|=0,0!=(0|e)&0!=(0|t)&&($t(0|t,e+7224|0,129),$t(t+129|0,e+7353|0,129),$t(t+258|0,e+7482|0,129),$t(t+387|0,e+7611|0,129),$t(t+516|0,e+7740|0,129),$t(t+645|0,e+7869|0,129),$t(t+774|0,e+7998|0,129),$t(t+903|0,e+8127|0,129),$t(t+1032|0,e+8256|0,129),$t(t+1161|0,e+8385|0,129),$t(t+1290|0,e+8514|0,129),$t(t+1419|0,e+8643|0,129),$t(t+1548|0,e+8772|0,129),$t(t+1677|0,e+8901|0,129),$t(t+1806|0,e+9030|0,129))}function Y(e,t,n,r){e|=0,t=+t,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0,L=0,x=0,F=0,U=0,V=0,G=0,H=0,j=0,Y=0,K=0,q=0,J=0,z=0,W=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,Ae=0,ge=0,pe=0,fe=0,he=0,me=0,Ee=0,ve=0,ye=0,Ie=0,be=0,Ce=0,Be=0,we=0,Se=0,Te=0,Qe=0,De=0,Re=0,_e=0,Me=0,Ne=0,Pe=0,Oe=0,Le=0,xe=0,Fe=0,Ue=0,Ve=0,Ge=0,He=0,je=0,Ye=0,Ke=0,qe=0,Je=0,ze=0,We=0,Ze=0,Xe=0,$e=0,et=0,tt=0,nt=0,rt=0;if(i=Mn,Mn=Mn+288|0,a=i+272|0,o=i+264|0,s=i+256|0,l=i+248|0,u=i+232|0,c=i+208|0,A=i+200|0,g=i+184|0,p=i+160|0,f=i+152|0,h=i+128|0,m=i,(0|r)<=0)return void(Mn=i);for(E=e+3216|0,v=e+3224|0,y=e+5160|0,I=e+3220|0,b=m+4|0,C=m+8|0,B=m+12|0,w=m+16|0,S=m+20|0,T=m+24|0,k=m+28|0,Q=m+32|0,D=m+36|0,R=m+40|0,_=m+44|0,M=m+48|0,N=m+52|0,P=m+56|0,O=m+60|0,L=e+3208|0,x=e+3212|0,F=e+7224|0,U=e+5168|0,V=e+7104|0,G=e+5297|0,H=e+5426|0,j=e+5555|0,Y=e+5684|0,K=e+5813|0,q=e+5942|0,J=e+6071|0,z=e+6200|0,W=e+6329|0,Z=e+6458|0,X=e+6587|0,$=e+6716|0,ee=e+6845|0,te=e+6974|0,ne=e+9160|0,re=e+7353|0,ie=e+7482|0,ae=e+7611|0,oe=e+7740|0,se=e+7869|0,le=e+7998|0,ue=e+8127|0,ce=e+8256|0,de=e+8385|0,Ae=e+8514|0,ge=e+8643|0,pe=e+8772|0,fe=e+8901|0,he=e+9030|0,me=e+3228|0,Ee=e+9168|0,ve=e+9176|0,ye=e+9184|0,Ie=e+9192|0,be=e+9200|0,Ce=e+9208|0,Be=e+9216|0,we=e+9224|0,Se=e+9232|0,Te=e+9240|0,Qe=e+9248|0,De=e+9256|0,Re=e+9264|0,_e=e+9272|0,Me=0;;){if((0|(Ne=1|Me))>=(0|r)){Pe=4;break}Oe=0|fn[n+Me>>0],Le=127&Oe,xe=255&Le,Fe=0|fn[n+Ne>>0],Ne=127&Fe,Ue=255&Ne;e:do{if(96&xe){switch(Qn[h>>3]=t,vn[h+8>>2]=xe,vn[h+12>>2]=Ue,vn[h+16>>2]=xe,vn[h+20>>2]=Ue,d(3,5351,h),127&Oe){case 42:et=5402;break;case 92:et=5374;break;case 94:et=5377;break;case 95:et=5380;break;case 96:et=5383;break;case 123:et=5386;break;case 124:et=5389;break;case 125:et=5392;break;case 126:et=5395;break;case 127:et=5398;break;default:et=0}if(He=0|vn[y>>2],2!=(0|vn[v>>2])?(je=e+7224+(129*He|0)|0,0|fn[je>>0]?tt=je:(Qn[e+9160+(He<<3)>>3]=t,tt=je)):tt=e+5168+(129*He|0)|0,et){if((0|(He=0|ke(et)))>0){je=0;do{qe=0|ke(tt),(0|qe)<128&&(fn[tt+qe>>0]=0|fn[et+je>>0],fn[tt+(qe+1)>>0]=0),je=je+1|0}while((0|je)!=(0|He))}}else(0|(He=0|ke(tt)))<128&&(fn[tt+He>>0]=Le,fn[tt+(He+1)>>0]=0);switch(127&Fe){case 42:nt=5402;break;case 92:nt=5374;break;case 94:nt=5377;break;case 95:nt=5380;break;case 96:nt=5383;break;case 123:nt=5386;break;case 124:nt=5389;break;case 125:nt=5392;break;case 126:nt=5395;break;case 127:nt=5398;break;default:nt=0}if(He=0|vn[y>>2],2!=(0|vn[v>>2])?(je=e+7224+(129*He|0)|0,0|fn[je>>0]?rt=je:(Qn[e+9160+(He<<3)>>3]=t,rt=je)):rt=e+5168+(129*He|0)|0,!nt){if((0|(He=0|ke(rt)))>=128)break;fn[rt+He>>0]=Ne,fn[rt+(He+1)>>0]=0;break}if((0|(He=0|ke(nt)))>0){je=0;do{qe=0|ke(rt),(0|qe)<128&&(fn[rt+qe>>0]=0|fn[nt+je>>0],fn[rt+(qe+1)>>0]=0),je=je+1|0}while((0|je)!=(0|He))}}else{if((0|vn[E>>2])==(0|xe)?(0|vn[I>>2])==(0|Ue):0){vn[I>>2]=0,vn[E>>2]=0;break}if(vn[E>>2]=xe,vn[I>>2]=Ue,Ve=8|Le,Ge=Ve<<24>>24==25,He=112&Fe,(je=He<<24>>24==32)&Ge){if(Qn[f>>3]=t,d(3,5405,f),Ye=0|vn[y>>2],2==(0|vn[v>>2])){if((0|(Ke=0|ke(e+5168+(129*Ye|0)|0)))>=128)break;fn[e+5168+(129*Ye|0)+Ke>>0]=32,fn[Ke+1+(e+5168+(129*Ye|0))>>0]=0;break}if(Ke=e+7224+(129*Ye|0)|0,0|fn[Ke>>0]||(Qn[e+9160+(Ye<<3)>>3]=t),(0|(qe=0|ke(Ke)))>=128)break;fn[e+7224+(129*Ye|0)+qe>>0]=32,fn[qe+1+(e+7224+(129*Ye|0))>>0]=0;break}if(He<<24>>24==48&Ge){if(vn[m>>2]=5420,vn[b>>2]=5423,vn[C>>2]=5426,vn[B>>2]=5429,vn[w>>2]=5432,vn[S>>2]=5436,vn[T>>2]=5439,vn[k>>2]=5442,vn[Q>>2]=5446,vn[D>>2]=5449,vn[R>>2]=5451,vn[_>>2]=5454,vn[M>>2]=5457,vn[N>>2]=5460,vn[P>>2]=5463,vn[O>>2]=5466,Qn[p>>3]=t,vn[p+8>>2]=xe,vn[p+12>>2]=Ue,vn[p+16>>2]=xe,vn[p+20>>2]=Ue,d(3,5469,p),Ge=Ue+-48|0,He=0|vn[y>>2],2==(0|vn[v>>2])){if(Ye=e+5168+(129*He|0)|0,qe=0|vn[m+(Ge<<2)>>2],(0|(Ke=0|ke(qe)))>0){Je=0;do{ze=0|ke(Ye),(0|ze)<128&&(fn[e+5168+(129*He|0)+ze>>0]=0|fn[qe+Je>>0],fn[ze+1+(e+5168+(129*He|0))>>0]=0),Je=Je+1|0}while((0|Je)!=(0|Ke))}}else if(Ke=e+7224+(129*He|0)|0,0|fn[Ke>>0]||(Qn[e+9160+(He<<3)>>3]=t),Je=0|vn[m+(Ge<<2)>>2],(0|(qe=0|ke(Je)))>0){Ye=0;do{ze=0|ke(Ke),(0|ze)<128&&(fn[e+7224+(129*He|0)+ze>>0]=0|fn[Je+Ye>>0],fn[ze+1+(e+7224+(129*He|0))>>0]=0),Ye=Ye+1|0}while((0|Ye)!=(0|qe))}break}if(16==(112&Oe)&(255&Ne)>63){qe=(0|vn[80+((Ue>>>5&1|Oe<<1&14)<<2)>>2])-1|0,Ye=(0|qe)>0?qe:0,qe=((255&Ne)>95?-96:-64)+Ue|0,He=0|vn[144+(qe<<2)>>2],Je=0|vn[v>>2],Ke=1==(0|Je)?14:(0|Ye)<14?Ye:14,Ye=(qe+-18|0)>>>0<14,qe=129*Ke|0,2==(0|Je)?(Ye&&tn(e+(qe+5168)|0,32,0|((0|He)>1?He:1)),We=e+5168+(129*Ke|0)+He|0):(Ye&&tn(e+(qe+7224)|0,32,0|((0|He)>1?He:1)),We=e+7224+(129*Ke|0)+He|0),fn[We>>0]=0,vn[y>>2]=Ke,Qn[g>>3]=t,vn[g+8>>2]=Ke,vn[g+12>>2]=He,d(3,5501,g);break}if(Ve<<24>>24==31&(Ne+-33&255)<3)for(d(3,5526,A),He=Ue+-32|0,Ke=0;;)if(qe=0|vn[y>>2],2==(0|vn[v>>2])?(0|(Ye=0|ke(e+5168+(129*qe|0)|0)))<128&&(fn[e+5168+(129*qe|0)+Ye>>0]=32,fn[Ye+1+(e+5168+(129*qe|0))>>0]=0):(Ye=e+7224+(129*qe|0)|0,0|fn[Ye>>0]||(Qn[e+9160+(qe<<3)>>3]=t),(0|(Je=0|ke(Ye)))<128&&(fn[e+7224+(129*qe|0)+Je>>0]=32,fn[Je+1+(e+7224+(129*qe|0))>>0]=0)),(0|(Ke=Ke+1|0))==(0|He))break e;if(Ve<<24>>24==28){if(He=Ue+-32|0,Ke=272+(He<<3)|0,!je){Qn[c>>3]=t,vn[c+8>>2]=Ke,vn[c+12>>2]=xe,vn[c+16>>2]=Ue,d(3,5538,c);break}switch(Qn[u>>3]=t,vn[u+8>>2]=Ke,d(3,5576,u),127&Fe){case 32:if(2!=(0|vn[v>>2])){fn[U>>0]=0,fn[G>>0]=0,fn[H>>0]=0,fn[j>>0]=0,fn[Y>>0]=0,fn[K>>0]=0,fn[q>>0]=0,fn[J>>0]=0,fn[z>>0]=0,fn[W>>0]=0,fn[Z>>0]=0,fn[X>>0]=0,fn[$>>0]=0,fn[ee>>0]=0,fn[te>>0]=0,fn[re>>0]=0,fn[ie>>0]=0,fn[ae>>0]=0,fn[oe>>0]=0,fn[se>>0]=0,fn[le>>0]=0,fn[ue>>0]=0,fn[ce>>0]=0,fn[de>>0]=0,fn[Ae>>0]=0,fn[ge>>0]=0,fn[pe>>0]=0,fn[fe>>0]=0,fn[he>>0]=0,Ze=ne,Xe=Ze+120|0;do{vn[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));Ze=V,Xe=Ze+120|0;do{vn[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));fn[V+120>>0]=0}Qn[l>>3]=t,d(3,5587,l),vn[v>>2]=2;break e;case 47:if(2==(0|vn[v>>2])){je=0;do{Ve=e+5168+(129*je|0)|0,Ke=0|fn[Ve>>0],Ze=m,qe=e+5168+(129*je|0)+1|0,Xe=Ze+128|0;do{fn[Ze>>0]=0|fn[qe>>0],Ze=Ze+1|0,qe=qe+1|0}while((0|Ze)<(0|Xe));Je=e+7224+(129*je|0)|0,$t(0|Ve,0|Je,129),(0|fn[Je>>0]?0|(Ye=0|vn[L>>2]):0)&&cr[0&Ye](0|vn[x>>2],+Qn[e+9160+(je<<3)>>3],t,Je),Ke<<24>>24&&(Qn[e+9160+(je<<3)>>3]=t),fn[Je>>0]=Ke,Ze=e+7224+(129*je|0)+1|0,qe=m,Xe=Ze+128|0;do{fn[Ze>>0]=0|fn[qe>>0],Ze=Ze+1|0,qe=qe+1|0}while((0|Ze)<(0|Xe));je=je+1|0}while(15!=(0|je))}else{fn[U>>0]=0,fn[G>>0]=0,fn[H>>0]=0,fn[j>>0]=0,fn[Y>>0]=0,fn[K>>0]=0,fn[q>>0]=0,fn[J>>0]=0,fn[z>>0]=0,fn[W>>0]=0,fn[Z>>0]=0,fn[X>>0]=0,fn[$>>0]=0,fn[ee>>0]=0,fn[te>>0]=0,fn[re>>0]=0,fn[ie>>0]=0,fn[ae>>0]=0,fn[oe>>0]=0,fn[se>>0]=0,fn[le>>0]=0,fn[ue>>0]=0,fn[ce>>0]=0,fn[de>>0]=0,fn[Ae>>0]=0,fn[ge>>0]=0,fn[pe>>0]=0,fn[fe>>0]=0,fn[he>>0]=0,Ze=ne,Xe=Ze+120|0;do{vn[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));Ze=V,Xe=Ze+120|0;do{vn[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));fn[V+120>>0]=0}vn[v>>2]=2;break e;case 46:if(2!=(0|vn[v>>2]))break e;fn[U>>0]=0,fn[G>>0]=0,fn[H>>0]=0,fn[j>>0]=0,fn[Y>>0]=0,fn[K>>0]=0,fn[q>>0]=0,fn[J>>0]=0,fn[z>>0]=0,fn[W>>0]=0,fn[Z>>0]=0,fn[X>>0]=0,fn[$>>0]=0,fn[ee>>0]=0,fn[te>>0]=0,Ze=V,Xe=Ze+120|0;do{vn[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));break e;case 41:Qn[s>>3]=t,d(3,5611,s),vn[v>>2]=3;break e;case 45:if(1!=(0|vn[v>>2]))break e;if(je=0|vn[me>>2],qe=15-je|0,Ke=e+7224+(129*qe|0)|0,(0!=(0|fn[Ke>>0])?0!=(0|(Ve=0|vn[L>>2])):0)?(cr[0&Ve](0|vn[x>>2],+Qn[e+9160+(qe<<3)>>3],t,Ke),$e=0|vn[me>>2]):$e=je,(0|$e)<=1)break e;for(je=$e;;){if(Ke=15-je|0,qe=Ke+1|0,Ve=e+7224+(129*qe|0)|0,$t(e+7224+(129*Ke|0)|0,0|Ve,129),fn[Ve>>0]=0,Qn[e+9160+(Ke<<3)>>3]=+Qn[e+9160+(qe<<3)>>3],!((0|je)>2))break;je=je+-1|0}break;case 44:(0|fn[F>>0]?0|(je=0|vn[L>>2]):0)&&cr[0&je](0|vn[x>>2],+Qn[ne>>3],t,F),(0|fn[re>>0]?0|(je=0|vn[L>>2]):0)&&cr[0&je](0|vn[x>>2],+Qn[Ee>>3],t,re),(0|fn[ie>>0]?0|(je=0|vn[L>>2]):0)&&cr[0&je](0|vn[x>>2],+Qn[ve>>3],t,ie),(0|fn[ae>>0]?0|(je=0|vn[L>>2]):0)&&cr[0&je](0|vn[x>>2],+Qn[ye>>3],t,ae),(0|fn[oe>>0]?0|(je=0|vn[L>>2]):0)&&cr[0&je](0|vn[x>>2],+Qn[Ie>>3],t,oe);do{if(0|fn[se>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[be>>3],t,se)}}while(0);do{if(0|fn[le>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Ce>>3],t,le)}}while(0);do{if(0|fn[ue>>0]){if(!(je=0|vn[L>>2]))break
;cr[0&je](0|vn[x>>2],+Qn[Be>>3],t,ue)}}while(0);do{if(0|fn[ce>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[we>>3],t,ce)}}while(0);do{if(0|fn[de>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Se>>3],t,de)}}while(0);do{if(0|fn[Ae>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Te>>3],t,Ae)}}while(0);do{if(0|fn[ge>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Qe>>3],t,ge)}}while(0);do{if(0|fn[pe>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[De>>3],t,pe)}}while(0);do{if(0|fn[fe>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Re>>3],t,fe)}}while(0);do{if(0|fn[he>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[_e>>3],t,he)}}while(0);fn[F>>0]=0,fn[re>>0]=0,fn[ie>>0]=0,fn[ae>>0]=0,fn[oe>>0]=0,fn[se>>0]=0,fn[le>>0]=0,fn[ue>>0]=0,fn[ce>>0]=0,fn[de>>0]=0,fn[Ae>>0]=0,fn[ge>>0]=0,fn[pe>>0]=0,fn[fe>>0]=0,fn[he>>0]=0,Ze=ne,Xe=Ze+120|0;do{vn[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));break e;case 43:case 42:vn[v>>2]=4;break e;case 39:case 38:case 37:if(1!=(0|vn[v>>2])){(0|fn[F>>0]?0|(je=0|vn[L>>2]):0)&&cr[0&je](0|vn[x>>2],+Qn[ne>>3],t,F),(0|fn[re>>0]?0|(je=0|vn[L>>2]):0)&&cr[0&je](0|vn[x>>2],+Qn[Ee>>3],t,re),(0|fn[ie>>0]?0|(je=0|vn[L>>2]):0)&&cr[0&je](0|vn[x>>2],+Qn[ve>>3],t,ie);do{if(0|fn[ae>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[ye>>3],t,ae)}}while(0);do{if(0|fn[oe>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Ie>>3],t,oe)}}while(0);do{if(0|fn[se>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[be>>3],t,se)}}while(0);do{if(0|fn[le>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Ce>>3],t,le)}}while(0);do{if(0|fn[ue>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Be>>3],t,ue)}}while(0);do{if(0|fn[ce>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[we>>3],t,ce)}}while(0);do{if(0|fn[de>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Se>>3],t,de)}}while(0);do{if(0|fn[Ae>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Te>>3],t,Ae)}}while(0);do{if(0|fn[ge>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Qe>>3],t,ge)}}while(0);do{if(0|fn[pe>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[De>>3],t,pe)}}while(0);do{if(0|fn[fe>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[Re>>3],t,fe)}}while(0);do{if(0|fn[he>>0]){if(!(je=0|vn[L>>2]))break;cr[0&je](0|vn[x>>2],+Qn[_e>>3],t,he)}}while(0);fn[U>>0]=0,fn[G>>0]=0,fn[H>>0]=0,fn[j>>0]=0,fn[Y>>0]=0,fn[K>>0]=0,fn[q>>0]=0,fn[J>>0]=0,fn[z>>0]=0,fn[W>>0]=0,fn[Z>>0]=0,fn[X>>0]=0,fn[$>>0]=0,fn[ee>>0]=0,fn[te>>0]=0,fn[re>>0]=0,fn[ie>>0]=0,fn[ae>>0]=0,fn[oe>>0]=0,fn[se>>0]=0,fn[le>>0]=0,fn[ue>>0]=0,fn[ce>>0]=0,fn[de>>0]=0,fn[Ae>>0]=0,fn[ge>>0]=0,fn[pe>>0]=0,fn[fe>>0]=0,fn[he>>0]=0,Ze=ne,Xe=Ze+120|0;do{vn[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));Ze=V,Xe=Ze+120|0;do{vn[Ze>>2]=0,Ze=Ze+4|0}while((0|Ze)<(0|Xe));fn[V+120>>0]=0}vn[v>>2]=1,vn[me>>2]=7==(0|He)?4:6==(0|He)?3:2,Qn[o>>3]=t,d(3,5637,o);break e;default:vn[a>>2]=xe,vn[a+4>>2]=Ue,d(3,5662,a);break e}}}}while(0);if((0|(Me=Me+2|0))>=(0|r)){Pe=4;break}}return 4==(0|Pe)?void(Mn=i):void 0}function K(e,t,n,r){e|=0,t=+t,n|=0,r|=0;var i=0,a=0,o=0;if(i=(0|r)/2|0,!((0|r)<=1))for(r=0;;){if(200==(0|(a=0|vn[e>>2]))){5;break}if(vn[e>>2]=a+1,Qn[e+8+(a<<4)>>3]=t,o=r<<1,fn[e+8+(a<<4)+8>>0]=0|fn[n+o>>0],fn[e+8+(a<<4)+9>>0]=0|fn[n+(1|o)>>0],(0|(r=r+1|0))>=(0|i)){5;break}}}function q(e){e|=0,tn(e+8|0,0,3200),vn[e>>2]=0}function J(e,t){e|=0,t=+t;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0;n=e+8|0,he(n,0|vn[e>>2],16,1),r=0|vn[e>>2];e:do{if((0|r)>0){for(i=t+-.5,a=0,o=r;;){if(s=+Qn[e+8+(a<<4)>>3],i>s){if(!(i-s<47721.85884))break}else if(!(s>i)|s-i<47721.85884)break;if(Y(e,s+.1,e+8+(a<<4)+8|0,2),l=a+1|0,!((0|(u=0|vn[e>>2]))>(0|l)))break e;a=l,o=u}u=o-a|0,0|a&&(en(0|n,e+8+(a<<4)|0,u<<4|0),vn[e>>2]=u)}}while(0);Qn[e+13408>>3]=t}function z(e,t){e|=0,t|=0;var n=0;return(n=0|ie(1,13416))?(vn[n+3208>>2]=e,vn[n+3212>>2]=t,vn[n+5160>>2]=14,0|n):0|0}function W(e){e|=0,re(e)}function Z(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0;fn[e>>0]=0|fn[t>>0],fn[e+1>>0]=0|fn[t+1>>0],fn[e+2>>0]=0|fn[t+2>>0],fn[e+3>>0]=0|fn[t+3>>0],fn[e+4>>0]=0|fn[t+4>>0],fn[e+5>>0]=0|fn[t+5>>0],fn[e+6>>0]=0|fn[t+6>>0],fn[e+7>>0]=0|fn[t+7>>0],fn[e+8>>0]=0|fn[t+8>>0],fn[e+9>>0]=0|fn[t+9>>0],fn[e+10>>0]=0|fn[t+10>>0],fn[e+11>>0]=0|fn[t+11>>0],fn[e+12>>0]=0|fn[t+12>>0],fn[e+13>>0]=0|fn[t+13>>0],fn[e+14>>0]=0|fn[t+14>>0],fn[e+15>>0]=0|fn[t+15>>0],t=4;do{n=t<<2,r=0|fn[e+(n+-4)>>0],i=0|fn[e+(n+-3)>>0],a=0|fn[e+(n+-2)>>0],o=0|fn[e+(n+-1)>>0],3&t?(s=r,l=i,u=a,c=o):(s=fn[5694+(t>>>2)>>0]^fn[400+(255&i)>>0],l=0|fn[400+(255&a)>>0],u=0|fn[400+(255&o)>>0],c=0|fn[400+(255&r)>>0]),fn[e+n>>0]=fn[e+(n+-16)>>0]^s,fn[e+(1|n)>>0]=fn[e+(n+-15)>>0]^l,fn[e+(2|n)>>0]=fn[e+(n+-14)>>0]^u,fn[e+(3|n)>>0]=fn[e+(n+-13)>>0]^c,t=t+1|0}while(44!=(0|t))}function X(e,t,n){e|=0,t|=0,n|=0,Z(e,t),t=e+176|0,e=n,n=t+16|0;do{fn[t>>0]=0|fn[e>>0],t=t+1|0,e=e+1|0}while((0|t)<(0|n))}function $(e,t){e|=0,t|=0;var n=0;n=e+176|0,e=t,t=n+16|0;do{fn[n>>0]=0|fn[e>>0],n=n+1|0,e=e+1|0}while((0|n)<(0|t))}function ee(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0,L=0,x=0,F=0,U=0,V=0,G=0,H=0,j=0,Y=0,K=0,q=0,J=0,z=0,W=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,Ae=0,ge=0,pe=0,fe=0,he=0;for(n=fn[e>>0]^fn[t+160>>0],fn[e>>0]=n,r=e+1|0,i=fn[r>>0]^fn[t+161>>0],fn[r>>0]=i,a=e+2|0,o=fn[a>>0]^fn[t+162>>0],fn[a>>0]=o,s=e+3|0,l=fn[s>>0]^fn[t+163>>0],fn[s>>0]=l,u=e+4|0,c=fn[u>>0]^fn[t+164>>0],fn[u>>0]=c,d=e+5|0,A=fn[d>>0]^fn[t+165>>0],fn[d>>0]=A,g=e+6|0,p=fn[g>>0]^fn[t+166>>0],fn[g>>0]=p,f=e+7|0,h=fn[f>>0]^fn[t+167>>0],fn[f>>0]=h,m=e+8|0,E=fn[m>>0]^fn[t+168>>0],fn[m>>0]=E,v=e+9|0,y=fn[v>>0]^fn[t+169>>0],fn[v>>0]=y,I=e+10|0,b=fn[I>>0]^fn[t+170>>0],fn[I>>0]=b,C=e+11|0,B=fn[C>>0]^fn[t+171>>0],fn[C>>0]=B,w=e+12|0,S=fn[w>>0]^fn[t+172>>0],fn[w>>0]=S,T=e+13|0,k=fn[T>>0]^fn[t+173>>0],fn[T>>0]=k,Q=e+14|0,D=fn[Q>>0]^fn[t+174>>0],fn[Q>>0]=D,R=e+15|0,_=fn[R>>0]^fn[t+175>>0],fn[R>>0]=_,M=i,i=A,A=y,y=b,b=D,D=o,o=p,p=h,h=B,B=_,_=l,l=n,n=c,c=E,E=S,S=k,k=9;;){if(N=0|fn[656+(255&l)>>0],fn[e>>0]=N,P=0|fn[656+(255&n)>>0],fn[u>>0]=P,O=0|fn[656+(255&c)>>0],fn[m>>0]=O,L=0|fn[656+(255&E)>>0],fn[w>>0]=L,x=0|fn[656+(255&S)>>0],fn[r>>0]=x,F=0|fn[656+(255&M)>>0],fn[d>>0]=F,U=0|fn[656+(255&i)>>0],fn[v>>0]=U,V=0|fn[656+(255&A)>>0],fn[T>>0]=V,G=0|fn[656+(255&y)>>0],fn[a>>0]=G,H=0|fn[656+(255&b)>>0],fn[g>>0]=H,j=0|fn[656+(255&D)>>0],fn[I>>0]=j,Y=0|fn[656+(255&o)>>0],fn[Q>>0]=Y,K=0|fn[656+(255&p)>>0],fn[s>>0]=K,q=0|fn[656+(255&h)>>0],fn[f>>0]=q,J=0|fn[656+(255&B)>>0],fn[C>>0]=J,z=0|fn[656+(255&_)>>0],fn[R>>0]=z,!k)break;for(W=k<<4,Z=fn[t+W>>0]^N,fn[e>>0]=Z,X=fn[t+(1|W)>>0]^x,fn[r>>0]=X,$=fn[t+(2|W)>>0]^G,fn[a>>0]=$,ee=fn[t+(3|W)>>0]^K,fn[s>>0]=ee,fn[u>>0]=fn[t+(4|W)>>0]^P,fn[d>>0]=fn[t+(5|W)>>0]^F,fn[g>>0]=fn[t+(6|W)>>0]^H,fn[f>>0]=fn[t+(7|W)>>0]^q,fn[m>>0]=fn[t+(8|W)>>0]^O,fn[v>>0]=fn[t+(9|W)>>0]^U,fn[I>>0]=fn[t+(10|W)>>0]^j,fn[C>>0]=fn[t+(11|W)>>0]^J,fn[w>>0]=fn[t+(12|W)>>0]^L,fn[T>>0]=fn[t+(13|W)>>0]^V,fn[Q>>0]=fn[t+(14|W)>>0]^Y,fn[R>>0]=fn[t+(15|W)>>0]^z,W=0,te=Z,Z=X,X=$,$=ee;;){if(ee=255&te,ne=0-(ee>>>7)&27^ee<<1,ee=255&ne,re=0-(ee>>>7)&27^ee<<1,ee=255&re,ie=0-(ee>>>7)&27^ee<<1,ee=255&Z,ae=0-(ee>>>7)&27^ee<<1,ee=255&ae,oe=0-(ee>>>7)&27^ee<<1,ee=255&oe,se=0-(ee>>>7)&27^ee<<1,ee=255&se,le=255&X,ue=0-(le>>>7)&27^le<<1,le=255&ue,ce=0-(le>>>7)&27^le<<1,le=255&ce,de=0-(le>>>7)&27^le<<1,le=255&$,Ae=0-(le>>>7)&27^le<<1,le=255&Ae,ge=0-(le>>>7)&27^le<<1,le=255&ge,pe=0-(le>>>7)&27^le<<1,le=255&pe,fe=X^255&de,fn[e+(W<<2)>>0]=fe^Z^$^255&ae^255&ce^ee^255&(re^ne^ie)^le,he=te^255&ie,fn[e+(W<<2)+1>>0]=fe^$^255&ue^255&ge^he^255&(oe^ae^se)^le,se=he^Z,fn[e+(W<<2)+2>>0]=$^le^255&Ae^255&re^ee^se^255&(ce^ue^de),fn[e+(W<<2)+3>>0]=fe^255&ne^255&oe^ee^se^255&(ge^Ae^pe),4==(0|(pe=W+1|0)))break;W=pe,te=0|fn[e+(pe<<2)>>0],Z=0|fn[e+(pe<<2)+1>>0],X=0|fn[e+(pe<<2)+2>>0],$=0|fn[e+(pe<<2)+3>>0]}M=0|fn[r>>0],i=0|fn[d>>0],A=0|fn[v>>0],y=0|fn[I>>0],b=0|fn[Q>>0],D=0|fn[a>>0],o=0|fn[g>>0],p=0|fn[f>>0],h=0|fn[C>>0],B=0|fn[R>>0],_=0|fn[s>>0],l=0|fn[e>>0],n=0|fn[u>>0],c=0|fn[m>>0],E=0|fn[w>>0],S=0|fn[T>>0],k=k+-1|0}fn[e>>0]=fn[t>>0]^N,fn[r>>0]=fn[t+1>>0]^x,fn[a>>0]=fn[t+2>>0]^G,fn[s>>0]=fn[t+3>>0]^K,fn[u>>0]=fn[t+4>>0]^P,fn[d>>0]=fn[t+5>>0]^F,fn[g>>0]=fn[t+6>>0]^H,fn[f>>0]=fn[t+7>>0]^q,fn[m>>0]=fn[t+8>>0]^O,fn[v>>0]=fn[t+9>>0]^U,fn[I>>0]=fn[t+10>>0]^j,fn[C>>0]=fn[t+11>>0]^J,fn[w>>0]=fn[t+12>>0]^L,fn[T>>0]=fn[t+13>>0]^V,fn[Q>>0]=fn[t+14>>0]^Y,fn[R>>0]=fn[t+15>>0]^z}function te(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0;if(r=Mn,Mn=Mn+16|0,i=r,!n)return void(Mn=r);for(a=e+176|0,o=e+177|0,s=e+178|0,l=e+179|0,u=e+180|0,c=e+181|0,d=e+182|0,A=e+183|0,g=e+184|0,p=e+185|0,f=e+186|0,h=e+187|0,m=e+188|0,E=e+189|0,v=e+190|0,y=e+191|0,I=t,t=0;;){b=i,C=I,B=b+16|0;do{fn[b>>0]=0|fn[C>>0],b=b+1|0,C=C+1|0}while((0|b)<(0|B));ee(I,e),fn[I>>0]=fn[I>>0]^fn[a>>0],w=I+1|0,fn[w>>0]=fn[w>>0]^fn[o>>0],w=I+2|0,fn[w>>0]=fn[w>>0]^fn[s>>0],w=I+3|0,fn[w>>0]=fn[w>>0]^fn[l>>0],w=I+4|0,fn[w>>0]=fn[w>>0]^fn[u>>0],w=I+5|0,fn[w>>0]=fn[w>>0]^fn[c>>0],w=I+6|0,fn[w>>0]=fn[w>>0]^fn[d>>0],w=I+7|0,fn[w>>0]=fn[w>>0]^fn[A>>0],w=I+8|0,fn[w>>0]=fn[w>>0]^fn[g>>0],w=I+9|0,fn[w>>0]=fn[w>>0]^fn[p>>0],w=I+10|0,fn[w>>0]=fn[w>>0]^fn[f>>0],w=I+11|0,fn[w>>0]=fn[w>>0]^fn[h>>0],w=I+12|0,fn[w>>0]=fn[w>>0]^fn[m>>0],w=I+13|0,fn[w>>0]=fn[w>>0]^fn[E>>0],w=I+14|0,fn[w>>0]=fn[w>>0]^fn[v>>0],w=I+15|0,fn[w>>0]=fn[w>>0]^fn[y>>0],b=a,C=i,B=b+16|0;do{fn[b>>0]=0|fn[C>>0],b=b+1|0,C=C+1|0}while((0|b)<(0|B));if((t=t+16|0)>>>0>=n>>>0)break;I=I+16|0}Mn=r}function ne(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0,L=0,x=0,F=0,U=0,V=0,G=0,H=0,j=0,Y=0,K=0,q=0,J=0,z=0,W=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,ge=0,pe=0,fe=0,he=0,me=0,Ee=0,ve=0,ye=0,Ie=0,be=0,Ce=0,Be=0,we=0,Se=0,Te=0,ke=0,Qe=0,De=0,Re=0,_e=0,Me=0,Ne=0;t=Mn,Mn=Mn+16|0,n=t;do{if(e>>>0<245){if(r=e>>>0<11?16:e+11&-8,i=r>>>3,a=0|vn[1965],3&(o=a>>>i)|0)return s=(1&o^1)+i|0,l=7900+(s<<1<<2)|0,u=l+8|0,c=0|vn[u>>2],d=c+8|0,A=0|vn[d>>2],(0|A)==(0|l)?vn[1965]=a&~(1<<s):(vn[A+12>>2]=l,vn[u>>2]=A),A=s<<3,vn[c+4>>2]=3|A,s=c+A+4|0,vn[s>>2]=1|vn[s>>2],g=d,Mn=t,0|g;if(d=0|vn[1967],r>>>0>d>>>0){if(0|o)return s=2<<i,A=o<<i&(s|0-s),s=(A&0-A)-1|0,A=s>>>12&16,i=s>>>A,s=i>>>5&8,o=i>>>s,i=o>>>2&4,c=o>>>i,o=c>>>1&2,u=c>>>o,c=u>>>1&1,l=(s|A|i|o|c)+(u>>>c)|0,c=7900+(l<<1<<2)|0,u=c+8|0,o=0|vn[u>>2],i=o+8|0,A=0|vn[i>>2],(0|A)==(0|c)?(s=a&~(1<<l),vn[1965]=s,p=s):(vn[A+12>>2]=c,vn[u>>2]=A,p=a),A=l<<3,l=A-r|0,vn[o+4>>2]=3|r,u=o+r|0,vn[u+4>>2]=1|l,vn[o+A>>2]=l,0|d&&(A=0|vn[1970],o=d>>>3,c=7900+(o<<1<<2)|0,s=1<<o,p&s?(s=c+8|0,f=0|vn[s>>2],h=s):(vn[1965]=p|s,f=c,h=c+8|0),vn[h>>2]=A,vn[f+12>>2]=A,vn[A+8>>2]=f,vn[A+12>>2]=c),vn[1967]=l,vn[1970]=u,g=i,Mn=t,0|g;if(i=0|vn[1966]){for(u=(i&0-i)-1|0,l=u>>>12&16,c=u>>>l,u=c>>>5&8,A=c>>>u,c=A>>>2&4,s=A>>>c,A=s>>>1&2,o=s>>>A,s=o>>>1&1,m=0|vn[8164+((u|l|c|A|s)+(o>>>s)<<2)>>2],s=m,o=m,A=(-8&vn[m+4>>2])-r|0;;){if(m=0|vn[s+16>>2])E=m;else{if(!(c=0|vn[s+20>>2]))break;E=c}m=(-8&vn[E+4>>2])-r|0,c=m>>>0<A>>>0,s=E,o=c?E:o,A=c?m:A}if((s=o+r|0)>>>0>o>>>0){m=0|vn[o+24>>2],c=0|vn[o+12>>2];do{if((0|c)==(0|o)){if(l=o+20|0,u=0|vn[l>>2])b=u,C=l;else{if(v=o+16|0,!(y=0|vn[v>>2])){I=0;break}b=y,C=v}for(l=b,u=C;;){if(v=l+20|0,y=0|vn[v>>2])S=y,T=v;else{if(B=l+16|0,!(w=0|vn[B>>2]))break;S=w,T=B}l=S,u=T}vn[u>>2]=0,I=l}else v=0|vn[o+8>>2],vn[v+12>>2]=c,vn[c+8>>2]=v,I=c}while(0);do{if(0|m){if(c=0|vn[o+28>>2],v=8164+(c<<2)|0,(0|o)==(0|vn[v>>2])){if(vn[v>>2]=I,!I){vn[1966]=i&~(1<<c);break}}else if(c=m+16|0,vn[((0|vn[c>>2])==(0|o)?c:m+20|0)>>2]=I,!I)break;vn[I+24>>2]=m,c=0|vn[o+16>>2],0|c&&(vn[I+16>>2]=c,vn[c+24>>2]=I),c=0|vn[o+20>>2],0|c&&(vn[I+20>>2]=c,vn[c+24>>2]=I)}}while(0);return A>>>0<16?(m=A+r|0,vn[o+4>>2]=3|m,i=o+m+4|0,vn[i>>2]=1|vn[i>>2]):(vn[o+4>>2]=3|r,vn[s+4>>2]=1|A,vn[s+A>>2]=A,0|d&&(i=0|vn[1970],m=d>>>3,c=7900+(m<<1<<2)|0,v=1<<m,v&a?(v=c+8|0,k=0|vn[v>>2],Q=v):(vn[1965]=v|a,k=c,Q=c+8|0),vn[Q>>2]=i,vn[k+12>>2]=i,vn[i+8>>2]=k,vn[i+12>>2]=c),vn[1967]=A,vn[1970]=s),g=o+8|0,Mn=t,0|g}D=r}else D=r}else D=r}else if(e>>>0<=4294967231)if(c=e+11|0,i=-8&c,v=0|vn[1966]){m=0-i|0,y=c>>>8,y?i>>>0>16777215?R=31:(c=(y+1048320|0)>>>16&8,B=y<<c,y=(B+520192|0)>>>16&4,w=B<<y,B=(w+245760|0)>>>16&2,_=14-(y|c|B)+(w<<B>>>15)|0,R=i>>>(_+7|0)&1|_<<1):R=0,_=0|vn[8164+(R<<2)>>2];e:do{if(_)for(B=0,w=m,c=_,y=i<<(31==(0|R)?0:25-(R>>>1)|0),L=0;;){if((x=(-8&vn[c+4>>2])-i|0)>>>0<w>>>0){if(!x){F=c,U=0,V=c,O=65;break e}G=c,H=x}else G=B,H=w;if(x=0|vn[c+20>>2],c=0|vn[c+16+(y>>>31<<2)>>2],j=0==(0|x)|(0|x)==(0|c)?L:x,!c){M=j,N=G,P=H,O=61;break}B=G,w=H,y<<=1,L=j}else M=0,N=0,P=m,O=61}while(0);if(61==(0|O)){if(0==(0|M)&0==(0|N)){if(_=2<<R,!(m=(_|0-_)&v)){D=i;break}_=(m&0-m)-1|0,m=_>>>12&16,r=_>>>m,_=r>>>5&8,o=r>>>_,r=o>>>2&4,s=o>>>r,o=s>>>1&2,A=s>>>o,s=A>>>1&1,Y=0,K=0|vn[8164+((_|m|r|o|s)+(A>>>s)<<2)>>2]}else Y=N,K=M;K?(F=Y,U=P,V=K,O=65):(q=Y,J=P)}if(65==(0|O))for(s=F,A=U,o=V;;){if(r=(-8&vn[o+4>>2])-i|0,m=r>>>0<A>>>0,_=m?r:A,r=m?o:s,m=0|vn[o+16>>2],!(z=m||0|vn[o+20>>2])){q=r,J=_;break}s=r,A=_,o=z}if((0!=(0|q)?J>>>0<((0|vn[1967])-i|0)>>>0:0)?(o=q+i|0)>>>0>q>>>0:0){A=0|vn[q+24>>2],s=0|vn[q+12>>2];do{if((0|s)==(0|q)){if(_=q+20|0,r=0|vn[_>>2])Z=r,X=_;else{if(m=q+16|0,!(a=0|vn[m>>2])){W=0;break}Z=a,X=m}for(_=Z,r=X;;){if(m=_+20|0,a=0|vn[m>>2])$=a,ee=m;else{if(d=_+16|0,!(L=0|vn[d>>2]))break;$=L,ee=d}_=$,r=ee}vn[r>>2]=0,W=_}else m=0|vn[q+8>>2],vn[m+12>>2]=s,vn[s+8>>2]=m,W=s}while(0);do{if(A){if(s=0|vn[q+28>>2],m=8164+(s<<2)|0,(0|q)==(0|vn[m>>2])){if(vn[m>>2]=W,!W){m=v&~(1<<s),vn[1966]=m,te=m;break}}else if(m=A+16|0,vn[((0|vn[m>>2])==(0|q)?m:A+20|0)>>2]=W,!W){te=v;break}vn[W+24>>2]=A,m=0|vn[q+16>>2],0|m&&(vn[W+16>>2]=m,vn[m+24>>2]=W),m=0|vn[q+20>>2],m?(vn[W+20>>2]=m,vn[m+24>>2]=W,te=v):te=v}else te=v}while(0);e:do{if(J>>>0<16)v=J+i|0,vn[q+4>>2]=3|v,A=q+v+4|0,vn[A>>2]=1|vn[A>>2];else{if(vn[q+4>>2]=3|i,vn[o+4>>2]=1|J,vn[o+J>>2]=J,A=J>>>3,J>>>0<256){v=7900+(A<<1<<2)|0,m=0|vn[1965],s=1<<A,m&s?(s=v+8|0,ne=0|vn[s>>2],re=s):(vn[1965]=m|s,ne=v,re=v+8|0),vn[re>>2]=o,vn[ne+12>>2]=o,vn[o+8>>2]=ne,vn[o+12>>2]=v;break}if(v=J>>>8,v?J>>>0>16777215?ie=31:(s=(v+1048320|0)>>>16&8,m=v<<s,v=(m+520192|0)>>>16&4,A=m<<v,m=(A+245760|0)>>>16&2,a=14-(v|s|m)+(A<<m>>>15)|0,ie=J>>>(a+7|0)&1|a<<1):ie=0,a=8164+(ie<<2)|0,vn[o+28>>2]=ie,m=o+16|0,vn[m+4>>2]=0,vn[m>>2]=0,m=1<<ie,!(te&m)){vn[1966]=te|m,vn[a>>2]=o,vn[o+24>>2]=a,vn[o+12>>2]=o,vn[o+8>>2]=o;break}m=0|vn[a>>2];t:do{if((-8&vn[m+4>>2]|0)!=(0|J)){for(a=J<<(31==(0|ie)?0:25-(ie>>>1)|0),A=m;;){if(oe=A+16+(a>>>31<<2)|0,!(s=0|vn[oe>>2]))break;if((-8&vn[s+4>>2]|0)==(0|J)){ae=s;break t}a<<=1,A=s}vn[oe>>2]=o,vn[o+24>>2]=A,vn[o+12>>2]=o,vn[o+8>>2]=o;break e}ae=m}while(0);m=ae+8|0,_=0|vn[m>>2],vn[_+12>>2]=o,vn[m>>2]=o,vn[o+8>>2]=_,vn[o+12>>2]=ae,vn[o+24>>2]=0}}while(0);return g=q+8|0,Mn=t,0|g}D=i}else D=i;else D=-1}while(0);if((q=0|vn[1967])>>>0>=D>>>0)return ae=q-D|0,oe=0|vn[1970],ae>>>0>15?(J=oe+D|0,vn[1970]=J,vn[1967]=ae,vn[J+4>>2]=1|ae,vn[oe+q>>2]=ae,vn[oe+4>>2]=3|D):(vn[1967]=0,vn[1970]=0,vn[oe+4>>2]=3|q,ae=oe+q+4|0,vn[ae>>2]=1|vn[ae>>2]),g=oe+8|0,Mn=t,0|g;if((oe=0|vn[1968])>>>0>D>>>0)return ae=oe-D|0,vn[1968]=ae,q=0|vn[1971],J=q+D|0,vn[1971]=J,vn[J+4>>2]=1|ae,vn[q+4>>2]=3|D,g=q+8|0,Mn=t,0|g;if(0|vn[2083]?se=0|vn[2085]:(vn[2085]=4096,vn[2084]=4096,vn[2086]=-1,vn[2087]=-1,vn[2088]=0,vn[2076]=0,vn[2083]=-16&n^1431655768,se=4096),n=D+48|0,q=D+47|0,ae=se+q|0,J=0-se|0,(se=ae&J)>>>0<=D>>>0)return g=0,Mn=t,0|g;if(ie=0|vn[2075],0|ie?(te=0|vn[2073],(ne=te+se|0)>>>0<=te>>>0|ne>>>0>ie>>>0):0)return g=0,Mn=t,0|g;e:do{if(4&vn[2076])pe=0,O=143;else{ie=0|vn[1971];t:do{if(ie){for(ne=8308;;){if(te=0|vn[ne>>2],te>>>0<=ie>>>0?(te+(0|vn[ne+4>>2])|0)>>>0>ie>>>0:0)break;if(!(te=0|vn[ne+8>>2])){O=128;break t}ne=te}if((te=ae-oe&J)>>>0<2147483647)if((0|(re=0|nn(0|te)))==((0|vn[ne>>2])+(0|vn[ne+4>>2])|0)){if(-1!=(0|re)){ue=te,ce=re,O=145;break e}le=te}else de=re,ge=te,O=136;else le=0}else O=128}while(0);do{if(128==(0|O))if(ie=0|nn(0),-1!=(0|ie)?(i=ie,te=0|vn[2084],re=te+-1|0,W=(0==(re&i|0)?0:(re+i&0-te)-i|0)+se|0,i=0|vn[2073],te=W+i|0,W>>>0>D>>>0&W>>>0<2147483647):0){if(re=0|vn[2075],0|re?te>>>0<=i>>>0|te>>>0>re>>>0:0){le=0;break}if((0|(re=0|nn(0|W)))==(0|ie)){ue=W,ce=ie,O=145;break e}de=re,ge=W,O=136}else le=0}while(0);do{if(136==(0|O)){if(W=0-ge|0,!(n>>>0>ge>>>0&ge>>>0<2147483647&-1!=(0|de))){if(-1==(0|de)){le=0;break}ue=ge,ce=de,O=145;break e}if(re=0|vn[2085],(ie=q-ge+re&0-re)>>>0>=2147483647){ue=ge,ce=de,O=145;break e}if(-1==(0|nn(0|ie))){nn(0|W),le=0;break}ue=ie+ge|0,ce=de,O=145;break e}}while(0);vn[2076]=4|vn[2076],pe=le,O=143}}while(0);if(!(143==(0|O)?se>>>0<2147483647:0)||(le=0|nn(0|se),se=0|nn(0),de=se-le|0,ge=de>>>0>(D+40|0)>>>0,-1==(0|le)|1^ge|le>>>0<se>>>0&-1!=(0|le)&-1!=(0|se)^1)||(ue=ge?de:pe,ce=le,O=145),145==(0|O)){le=(0|vn[2073])+ue|0,vn[2073]=le,le>>>0>(0|vn[2074])>>>0&&(vn[2074]=le),le=0|vn[1971];e:do{if(le){for(pe=8308;;){if(fe=0|vn[pe>>2],he=0|vn[pe+4>>2],(0|ce)==(fe+he|0)){O=154;break}if(!(de=0|vn[pe+8>>2]))break;pe=de}if((154==(0|O)?(de=pe+4|0,0==(8&vn[pe+12>>2]|0)):0)?ce>>>0>le>>>0&fe>>>0<=le>>>0:0){vn[de>>2]=he+ue,de=(0|vn[1968])+ue|0,ge=le+8|0,se=0==(7&ge|0)?0:0-ge&7,ge=le+se|0,q=de-se|0,vn[1971]=ge,vn[1968]=q,vn[ge+4>>2]=1|q,vn[le+de+4>>2]=40,vn[1972]=vn[2087];break}for(ce>>>0<(0|vn[1969])>>>0&&(vn[1969]=ce),de=ce+ue|0,q=8308;;){if((0|vn[q>>2])==(0|de)){O=162;break}if(!(ge=0|vn[q+8>>2]))break;q=ge}if(162==(0|O)?0==(8&vn[q+12>>2]|0):0){vn[q>>2]=ce,pe=q+4|0,vn[pe>>2]=(0|vn[pe>>2])+ue,pe=ce+8|0,ge=ce+(0==(7&pe|0)?0:0-pe&7)|0,pe=de+8|0,se=de+(0==(7&pe|0)?0:0-pe&7)|0,pe=ge+D|0,n=se-ge-D|0,vn[ge+4>>2]=3|D;t:do{if((0|le)==(0|se))J=(0|vn[1968])+n|0,vn[1968]=J,vn[1971]=pe,vn[pe+4>>2]=1|J;else{if((0|vn[1970])==(0|se)){J=(0|vn[1967])+n|0,vn[1967]=J,vn[1970]=pe,vn[pe+4>>2]=1|J,vn[pe+J>>2]=J;break}if(1==(3&(J=0|vn[se+4>>2])|0)){oe=-8&J,ae=J>>>3;n:do{if(J>>>0<256){if(ie=0|vn[se+8>>2],(0|(W=0|vn[se+12>>2]))==(0|ie)){vn[1965]=vn[1965]&~(1<<ae);break}vn[ie+12>>2]=W,vn[W+8>>2]=ie;break}ie=0|vn[se+24>>2],W=0|vn[se+12>>2];do{if((0|W)==(0|se)){if(re=se+16|0,te=re+4|0,i=0|vn[te>>2])Ee=i,ve=te;else{if(!(ee=0|vn[re>>2])){me=0;break}Ee=ee,ve=re}for(te=Ee,i=ve;;){if(re=te+20|0,ee=0|vn[re>>2])ye=ee,Ie=re;else{if($=te+16|0,!(X=0|vn[$>>2]))break;ye=X,Ie=$}te=ye,i=Ie}vn[i>>2]=0,me=te}else re=0|vn[se+8>>2],vn[re+12>>2]=W,vn[W+8>>2]=re,me=W}while(0);if(!ie)break;W=0|vn[se+28>>2],A=8164+(W<<2)|0;do{if((0|vn[A>>2])==(0|se)){if(vn[A>>2]=me,0|me)break;vn[1966]=vn[1966]&~(1<<W);break n}if(re=ie+16|0,vn[((0|vn[re>>2])==(0|se)?re:ie+20|0)>>2]=me,!me)break n}while(0);if(vn[me+24>>2]=ie,W=se+16|0,A=0|vn[W>>2],0|A&&(vn[me+16>>2]=A,vn[A+24>>2]=me),!(A=0|vn[W+4>>2]))break;vn[me+20>>2]=A,vn[A+24>>2]=me}while(0);be=se+oe|0,Ce=oe+n|0}else be=se,Ce=n;if(ae=be+4|0,vn[ae>>2]=-2&vn[ae>>2],vn[pe+4>>2]=1|Ce,vn[pe+Ce>>2]=Ce,ae=Ce>>>3,Ce>>>0<256){J=7900+(ae<<1<<2)|0,ne=0|vn[1965],A=1<<ae,ne&A?(A=J+8|0,Be=0|vn[A>>2],we=A):(vn[1965]=ne|A,Be=J,we=J+8|0),vn[we>>2]=pe,vn[Be+12>>2]=pe,vn[pe+8>>2]=Be,vn[pe+12>>2]=J;break}J=Ce>>>8;do{if(J){if(Ce>>>0>16777215){Se=31;break}A=(J+1048320|0)>>>16&8,ne=J<<A,ae=(ne+520192|0)>>>16&4,W=ne<<ae,ne=(W+245760|0)>>>16&2,re=14-(ae|A|ne)+(W<<ne>>>15)|0,Se=Ce>>>(re+7|0)&1|re<<1}else Se=0}while(0);if(J=8164+(Se<<2)|0,vn[pe+28>>2]=Se,oe=pe+16|0,vn[oe+4>>2]=0,vn[oe>>2]=0,oe=0|vn[1966],re=1<<Se,!(oe&re)){vn[1966]=oe|re,vn[J>>2]=pe,vn[pe+24>>2]=J,vn[pe+12>>2]=pe,vn[pe+8>>2]=pe;break}re=0|vn[J>>2];n:do{if((-8&vn[re+4>>2]|0)!=(0|Ce)){for(J=Ce<<(31==(0|Se)?0:25-(Se>>>1)|0),oe=re;;){if(ke=oe+16+(J>>>31<<2)|0,!(ne=0|vn[ke>>2]))break;if((-8&vn[ne+4>>2]|0)==(0|Ce)){Te=ne;break n}J<<=1,oe=ne}vn[ke>>2]=pe,vn[pe+24>>2]=oe,vn[pe+12>>2]=pe,vn[pe+8>>2]=pe;break t}Te=re}while(0);re=Te+8|0,J=0|vn[re>>2],vn[J+12>>2]=pe,vn[re>>2]=pe,vn[pe+8>>2]=J,vn[pe+12>>2]=Te,vn[pe+24>>2]=0}}while(0);return g=ge+8|0,Mn=t,0|g}for(pe=8308;;){if(n=0|vn[pe>>2],n>>>0<=le>>>0?(Qe=n+(0|vn[pe+4>>2])|0)>>>0>le>>>0:0)break;pe=0|vn[pe+8>>2]}pe=Qe+-47|0,ge=pe+8|0,n=pe+(0==(7&ge|0)?0:0-ge&7)|0,ge=le+16|0,pe=n>>>0<ge>>>0?le:n,n=pe+8|0,se=ue+-40|0,de=ce+8|0,q=0==(7&de|0)?0:0-de&7,de=ce+q|0,J=se-q|0,vn[1971]=de,vn[1968]=J,vn[de+4>>2]=1|J,vn[ce+se+4>>2]=40,vn[1972]=vn[2087],se=pe+4|0,vn[se>>2]=27,vn[n>>2]=vn[2077],vn[n+4>>2]=vn[2078],vn[n+8>>2]=vn[2079],vn[n+12>>2]=vn[2080],vn[2077]=ce,vn[2078]=ue,vn[2080]=0,vn[2079]=n,n=pe+24|0;do{J=n,n=n+4|0,vn[n>>2]=7}while((J+8|0)>>>0<Qe>>>0);if((0|pe)!=(0|le)){if(n=pe-le|0,vn[se>>2]=-2&vn[se>>2],vn[le+4>>2]=1|n,vn[pe>>2]=n,J=n>>>3,n>>>0<256){de=7900+(J<<1<<2)|0,q=0|vn[1965],re=1<<J,q&re?(re=de+8|0,De=0|vn[re>>2],Re=re):(vn[1965]=q|re,De=de,Re=de+8|0),vn[Re>>2]=le,vn[De+12>>2]=le,vn[le+8>>2]=De,vn[le+12>>2]=de;break}if(de=n>>>8,de?n>>>0>16777215?_e=31:(re=(de+1048320|0)>>>16&8,q=de<<re,de=(q+520192|0)>>>16&4,J=q<<de,q=(J+245760|0)>>>16&2,ie=14-(de|re|q)+(J<<q>>>15)|0,_e=n>>>(ie+7|0)&1|ie<<1):_e=0,ie=8164+(_e<<2)|0,vn[le+28>>2]=_e,vn[le+20>>2]=0,vn[ge>>2]=0,q=0|vn[1966],J=1<<_e,!(q&J)){vn[1966]=q|J,vn[ie>>2]=le,vn[le+24>>2]=ie,vn[le+12>>2]=le,vn[le+8>>2]=le;break}J=0|vn[ie>>2];t:do{if((-8&vn[J+4>>2]|0)!=(0|n)){for(ie=n<<(31==(0|_e)?0:25-(_e>>>1)|0),q=J;;){if(Ne=q+16+(ie>>>31<<2)|0,!(re=0|vn[Ne>>2]))break;if((-8&vn[re+4>>2]|0)==(0|n)){Me=re;break t}ie<<=1,q=re}vn[Ne>>2]=le,vn[le+24>>2]=q,vn[le+12>>2]=le,vn[le+8>>2]=le;break e}Me=J}while(0);n=Me+8|0,J=0|vn[n>>2],vn[J+12>>2]=le,vn[n>>2]=le,vn[le+8>>2]=J,vn[le+12>>2]=Me,vn[le+24>>2]=0}}else J=0|vn[1969],0==(0|J)|ce>>>0<J>>>0&&(vn[1969]=ce),vn[2077]=ce,vn[2078]=ue,vn[2080]=0,vn[1974]=vn[2083],vn[1973]=-1,vn[1978]=7900,vn[1977]=7900,vn[1980]=7908,vn[1979]=7908,vn[1982]=7916,vn[1981]=7916,vn[1984]=7924,vn[1983]=7924,vn[1986]=7932,vn[1985]=7932,vn[1988]=7940,vn[1987]=7940,vn[1990]=7948,vn[1989]=7948,vn[1992]=7956,vn[1991]=7956,vn[1994]=7964,vn[1993]=7964,vn[1996]=7972,vn[1995]=7972,vn[1998]=7980,vn[1997]=7980,vn[2e3]=7988,vn[1999]=7988,vn[2002]=7996,vn[2001]=7996,vn[2004]=8004,vn[2003]=8004,vn[2006]=8012,vn[2005]=8012,vn[2008]=8020,vn[2007]=8020,vn[2010]=8028,vn[2009]=8028,vn[2012]=8036,vn[2011]=8036,vn[2014]=8044,vn[2013]=8044,vn[2016]=8052,vn[2015]=8052,vn[2018]=8060,vn[2017]=8060,vn[2020]=8068,vn[2019]=8068,vn[2022]=8076,vn[2021]=8076,vn[2024]=8084,vn[2023]=8084,vn[2026]=8092,vn[2025]=8092,vn[2028]=8100,vn[2027]=8100,vn[2030]=8108,vn[2029]=8108,vn[2032]=8116,vn[2031]=8116,vn[2034]=8124,vn[2033]=8124,vn[2036]=8132,vn[2035]=8132,vn[2038]=8140,vn[2037]=8140,vn[2040]=8148,vn[2039]=8148,J=ue+-40|0,n=ce+8|0,ge=0==(7&n|0)?0:0-n&7,n=ce+ge|0,pe=J-ge|0,vn[1971]=n,vn[1968]=pe,vn[n+4>>2]=1|pe,vn[ce+J+4>>2]=40,vn[1972]=vn[2087]}while(0);if((ce=0|vn[1968])>>>0>D>>>0)return ue=ce-D|0,vn[1968]=ue,ce=0|vn[1971],le=ce+D|0,vn[1971]=le,vn[le+4>>2]=1|ue,vn[ce+4>>2]=3|D,g=ce+8|0,Mn=t,0|g}return ce=0|Ae(),vn[ce>>2]=12,g=0,Mn=t,0|g}function re(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0;if(e){t=e+-8|0,n=0|vn[1969],r=0|vn[e+-4>>2],e=-8&r,i=t+e|0;do{if(1&r)c=t,d=e,A=t;else{if(a=0|vn[t>>2],!(3&r))return;if(o=t+(0-a)|0,s=a+e|0,o>>>0<n>>>0)return;if((0|vn[1970])==(0|o)){if(l=i+4|0,3!=(3&(u=0|vn[l>>2])|0)){c=o,d=s,A=o;break}return vn[1967]=s,vn[l>>2]=-2&u,vn[o+4>>2]=1|s,void(vn[o+s>>2]=s)}if(u=a>>>3,a>>>0<256){if(a=0|vn[o+8>>2],(0|(l=0|vn[o+12>>2]))==(0|a)){vn[1965]=vn[1965]&~(1<<u),c=o,d=s,A=o;break}vn[a+12>>2]=l,vn[l+8>>2]=a,c=o,d=s,A=o;break}a=0|vn[o+24>>2],l=0|vn[o+12>>2];do{if((0|l)==(0|o)){if(u=o+16|0,g=u+4|0,p=0|vn[g>>2])m=p,E=g;else{if(!(f=0|vn[u>>2])){h=0;break}m=f,E=u}for(g=m,p=E;;){if(u=g+20|0,f=0|vn[u>>2])I=f,b=u;else{if(v=g+16|0,!(y=0|vn[v>>2]))break;I=y,b=v}g=I,p=b}vn[p>>2]=0,h=g}else u=0|vn[o+8>>2],vn[u+12>>2]=l,vn[l+8>>2]=u,h=l}while(0);if(a){if(l=0|vn[o+28>>2],u=8164+(l<<2)|0,(0|vn[u>>2])==(0|o)){if(vn[u>>2]=h,!h){vn[1966]=vn[1966]&~(1<<l),c=o,d=s,A=o;break}}else if(l=a+16|0,vn[((0|vn[l>>2])==(0|o)?l:a+20|0)>>2]=h,!h){c=o,d=s,A=o;break}vn[h+24>>2]=a,l=o+16|0,u=0|vn[l>>2],0|u&&(vn[h+16>>2]=u,vn[u+24>>2]=h),u=0|vn[l+4>>2],u?(vn[h+20>>2]=u,vn[u+24>>2]=h,c=o,d=s,A=o):(c=o,d=s,A=o)}else c=o,d=s,A=o}}while(0);if(!(A>>>0>=i>>>0)&&(t=i+4|0,1&(e=0|vn[t>>2]))){if(2&e)vn[t>>2]=-2&e,vn[c+4>>2]=1|d,vn[A+d>>2]=d,k=d;else{if((0|vn[1971])==(0|i)){if(h=(0|vn[1968])+d|0,vn[1968]=h,vn[1971]=c,vn[c+4>>2]=1|h,(0|c)!=(0|vn[1970]))return;return vn[1970]=0,void(vn[1967]=0)}if((0|vn[1970])==(0|i))return h=(0|vn[1967])+d|0,vn[1967]=h,vn[1970]=A,vn[c+4>>2]=1|h,void(vn[A+h>>2]=h);h=(-8&e)+d|0,b=e>>>3;do{if(e>>>0<256){if(I=0|vn[i+8>>2],(0|(E=0|vn[i+12>>2]))==(0|I)){vn[1965]=vn[1965]&~(1<<b);break}vn[I+12>>2]=E,vn[E+8>>2]=I;break}I=0|vn[i+24>>2],E=0|vn[i+12>>2];do{if((0|E)==(0|i)){if(m=i+16|0,n=m+4|0,r=0|vn[n>>2])B=r,w=n;else{if(!(u=0|vn[m>>2])){C=0;break}B=u,w=m}for(n=B,r=w;;){if(m=n+20|0,u=0|vn[m>>2])S=u,T=m;else{if(l=n+16|0,!(f=0|vn[l>>2]))break;S=f,T=l}n=S,r=T}vn[r>>2]=0,C=n}else g=0|vn[i+8>>2],vn[g+12>>2]=E,vn[E+8>>2]=g,C=E}while(0);if(0|I){if(E=0|vn[i+28>>2],o=8164+(E<<2)|0,(0|vn[o>>2])==(0|i)){if(vn[o>>2]=C,!C){vn[1966]=vn[1966]&~(1<<E);break}}else if(E=I+16|0,vn[((0|vn[E>>2])==(0|i)?E:I+20|0)>>2]=C,!C)break;vn[C+24>>2]=I,E=i+16|0,o=0|vn[E>>2],0|o&&(vn[C+16>>2]=o,vn[o+24>>2]=C),o=0|vn[E+4>>2],0|o&&(vn[C+20>>2]=o,vn[o+24>>2]=C)}}while(0);if(vn[c+4>>2]=1|h,vn[A+h>>2]=h,(0|c)==(0|vn[1970]))return void(vn[1967]=h);k=h}if(d=k>>>3,k>>>0<256)return A=7900+(d<<1<<2)|0,e=0|vn[1965],t=1<<d,e&t?(t=A+8|0,Q=0|vn[t>>2],D=t):(vn[1965]=e|t,Q=A,D=A+8|0),vn[D>>2]=c,vn[Q+12>>2]=c,vn[c+8>>2]=Q,void(vn[c+12>>2]=A);A=k>>>8,A?k>>>0>16777215?R=31:(Q=(A+1048320|0)>>>16&8,D=A<<Q,A=(D+520192|0)>>>16&4,t=D<<A,D=(t+245760|0)>>>16&2,e=14-(A|Q|D)+(t<<D>>>15)|0,R=k>>>(e+7|0)&1|e<<1):R=0,e=8164+(R<<2)|0,vn[c+28>>2]=R,vn[c+20>>2]=0,vn[c+16>>2]=0,D=0|vn[1966],t=1<<R;e:do{if(D&t){Q=0|vn[e>>2];t:do{if((-8&vn[Q+4>>2]|0)!=(0|k)){for(A=k<<(31==(0|R)?0:25-(R>>>1)|0),d=Q;;){if(M=d+16+(A>>>31<<2)|0,!(h=0|vn[M>>2]))break;if((-8&vn[h+4>>2]|0)==(0|k)){_=h;break t}A<<=1,d=h}vn[M>>2]=c,vn[c+24>>2]=d,vn[c+12>>2]=c,vn[c+8>>2]=c;break e}_=Q}while(0);Q=_+8|0,I=0|vn[Q>>2],vn[I+12>>2]=c,vn[Q>>2]=c,vn[c+8>>2]=I,vn[c+12>>2]=_,vn[c+24>>2]=0}else vn[1966]=D|t,vn[e>>2]=c,vn[c+24>>2]=e,vn[c+12>>2]=c,vn[c+8>>2]=c}while(0);if(c=(0|vn[1973])-1|0,vn[1973]=c,!(0|c)){for(c=8316;;){if(!(_=0|vn[c>>2]))break;c=_+8|0}vn[1973]=-1}}}}function ie(e,t){e|=0,t|=0;var n=0,r=0;return e?(n=0|Fn(t,e),r=(t|e)>>>0>65535?(0|(n>>>0)/(e>>>0))==(0|t)?n:-1:n):r=0,(n=0|ne(r))&&3&vn[n+-4>>2]?(tn(0|n,0,0|r),0|n):0|n}function ae(e,t){e|=0,t|=0;var n=0,r=0,i=0;return e?t>>>0>4294967231?(n=0|Ae(),vn[n>>2]=12,0|0):0|(n=0|oe(e+-8|0,t>>>0<11?16:t+11&-8))?0|(n+8|0):(n=0|ne(t))?(r=0|vn[e+-4>>2],i=(-8&r)-(0==(3&r|0)?8:4)|0,$t(0|n,0|e,0|(i>>>0<t>>>0?i:t)),re(e),0|n):0|0:0|(0|ne(t))}function oe(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0;if(n=e+4|0,r=0|vn[n>>2],i=-8&r,a=e+i|0,!(3&r))return t>>>0<256?0|0:(i>>>0>=(t+4|0)>>>0?(i-t|0)>>>0<=vn[2085]<<1>>>0:0)?0|e:0|0;if(i>>>0>=t>>>0)return(o=i-t|0)>>>0<=15?0|e:(s=e+t|0,vn[n>>2]=1&r|t|2,vn[s+4>>2]=3|o,l=a+4|0,vn[l>>2]=1|vn[l>>2],se(s,o),0|e);if((0|vn[1971])==(0|a))return o=(0|vn[1968])+i|0,s=o-t|0,l=e+t|0,o>>>0<=t>>>0?0|0:(vn[n>>2]=1&r|t|2,vn[l+4>>2]=1|s,vn[1971]=l,vn[1968]=s,0|e);if((0|vn[1970])==(0|a))return(s=(0|vn[1967])+i|0)>>>0<t>>>0?0|0:(l=s-t|0,l>>>0>15?(o=e+t|0,u=e+s|0,vn[n>>2]=1&r|t|2,vn[o+4>>2]=1|l,vn[u>>2]=l,c=u+4|0,vn[c>>2]=-2&vn[c>>2],d=o,A=l):(vn[n>>2]=1&r|s|2,l=e+s+4|0,vn[l>>2]=1|vn[l>>2],d=0,A=0),vn[1967]=A,vn[1970]=d,0|e);if(2&(d=0|vn[a+4>>2])|0)return 0|0;if((A=(-8&d)+i|0)>>>0<t>>>0)return 0|0;i=A-t|0,l=d>>>3;do{if(d>>>0<256){if(s=0|vn[a+8>>2],(0|(o=0|vn[a+12>>2]))==(0|s)){vn[1965]=vn[1965]&~(1<<l);break}vn[s+12>>2]=o,vn[o+8>>2]=s;break}s=0|vn[a+24>>2],o=0|vn[a+12>>2];do{if((0|o)==(0|a)){if(c=a+16|0,u=c+4|0,g=0|vn[u>>2])h=g,m=u;else{if(!(p=0|vn[c>>2])){f=0;break}h=p,m=c}for(u=h,g=m;;){if(c=u+20|0,p=0|vn[c>>2])y=p,I=c;else{if(E=u+16|0,!(v=0|vn[E>>2]))break;y=v,I=E}u=y,g=I}vn[g>>2]=0,f=u}else c=0|vn[a+8>>2],vn[c+12>>2]=o,vn[o+8>>2]=c,f=o}while(0);if(0|s){if(o=0|vn[a+28>>2],c=8164+(o<<2)|0,(0|vn[c>>2])==(0|a)){if(vn[c>>2]=f,!f){vn[1966]=vn[1966]&~(1<<o);break}}else if(o=s+16|0,vn[((0|vn[o>>2])==(0|a)?o:s+20|0)>>2]=f,!f)break;vn[f+24>>2]=s,o=a+16|0,c=0|vn[o>>2],0|c&&(vn[f+16>>2]=c,vn[c+24>>2]=f),c=0|vn[o+4>>2],0|c&&(vn[f+20>>2]=c,vn[c+24>>2]=f)}}while(0);return i>>>0<16?(vn[n>>2]=1&r|A|2,f=e+A+4|0,vn[f>>2]=1|vn[f>>2],0|e):(f=e+t|0,vn[n>>2]=1&r|t|2,vn[f+4>>2]=3|i,t=e+A+4|0,vn[t>>2]=1|vn[t>>2],se(f,i),0|e)}function se(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0;n=e+t|0,r=0|vn[e+4>>2];do{if(1&r)u=e,c=t;else{if(i=0|vn[e>>2],!(3&r))return;if(a=e+(0-i)|0,o=i+t|0,(0|vn[1970])==(0|a)){if(s=n+4|0,3!=(3&(l=0|vn[s>>2])|0)){u=a,c=o;break}return vn[1967]=o,vn[s>>2]=-2&l,vn[a+4>>2]=1|o,void(vn[n>>2]=o)}if(l=i>>>3,i>>>0<256){if(i=0|vn[a+8>>2],(0|(s=0|vn[a+12>>2]))==(0|i)){vn[1965]=vn[1965]&~(1<<l),u=a,c=o;break}vn[i+12>>2]=s,vn[s+8>>2]=i,u=a,c=o;break}i=0|vn[a+24>>2],s=0|vn[a+12>>2];do{if((0|s)==(0|a)){if(l=a+16|0,d=l+4|0,A=0|vn[d>>2])f=A,h=d;else{if(!(g=0|vn[l>>2])){p=0;break}f=g,h=l}for(d=f,A=h;;){if(l=d+20|0,g=0|vn[l>>2])v=g,y=l;else{if(m=d+16|0,!(E=0|vn[m>>2]))break;v=E,y=m}d=v,A=y}vn[A>>2]=0,p=d}else l=0|vn[a+8>>2],vn[l+12>>2]=s,vn[s+8>>2]=l,p=s}while(0);if(i){if(s=0|vn[a+28>>2],l=8164+(s<<2)|0,(0|vn[l>>2])==(0|a)){if(vn[l>>2]=p,!p){vn[1966]=vn[1966]&~(1<<s),u=a,c=o;break}}else if(s=i+16|0,vn[((0|vn[s>>2])==(0|a)?s:i+20|0)>>2]=p,!p){u=a,c=o;break}vn[p+24>>2]=i,s=a+16|0,l=0|vn[s>>2],0|l&&(vn[p+16>>2]=l,vn[l+24>>2]=p),l=0|vn[s+4>>2],l?(vn[p+20>>2]=l,vn[l+24>>2]=p,u=a,c=o):(u=a,c=o)}else u=a,c=o}}while(0);if(t=n+4|0,2&(e=0|vn[t>>2]))vn[t>>2]=-2&e,vn[u+4>>2]=1|c,vn[u+c>>2]=c,S=c;else{if((0|vn[1971])==(0|n)){if(p=(0|vn[1968])+c|0,vn[1968]=p,vn[1971]=u,vn[u+4>>2]=1|p,(0|u)!=(0|vn[1970]))return;return vn[1970]=0,void(vn[1967]=0)}if((0|vn[1970])==(0|n))return p=(0|vn[1967])+c|0,vn[1967]=p,vn[1970]=u,vn[u+4>>2]=1|p,void(vn[u+p>>2]=p);p=(-8&e)+c|0,y=e>>>3;do{if(e>>>0<256){if(v=0|vn[n+8>>2],(0|(h=0|vn[n+12>>2]))==(0|v)){vn[1965]=vn[1965]&~(1<<y);break}vn[v+12>>2]=h,vn[h+8>>2]=v;break}v=0|vn[n+24>>2],h=0|vn[n+12>>2];do{if((0|h)==(0|n)){if(f=n+16|0,r=f+4|0,l=0|vn[r>>2])b=l,C=r;else{if(!(s=0|vn[f>>2])){I=0;break}b=s,C=f}for(r=b,l=C;;){if(f=r+20|0,s=0|vn[f>>2])B=s,w=f;else{if(g=r+16|0,!(m=0|vn[g>>2]))break;B=m,w=g}r=B,l=w}vn[l>>2]=0,I=r}else d=0|vn[n+8>>2],vn[d+12>>2]=h,vn[h+8>>2]=d,I=h}while(0);if(0|v){if(h=0|vn[n+28>>2],o=8164+(h<<2)|0,(0|vn[o>>2])==(0|n)){if(vn[o>>2]=I,!I){vn[1966]=vn[1966]&~(1<<h);break}}else if(h=v+16|0,vn[((0|vn[h>>2])==(0|n)?h:v+20|0)>>2]=I,!I)break;vn[I+24>>2]=v,h=n+16|0,o=0|vn[h>>2],0|o&&(vn[I+16>>2]=o,vn[o+24>>2]=I),o=0|vn[h+4>>2],0|o&&(vn[I+20>>2]=o,vn[o+24>>2]=I)}}while(0);if(vn[u+4>>2]=1|p,vn[u+p>>2]=p,(0|u)==(0|vn[1970]))return void(vn[1967]=p);S=p}if(c=S>>>3,S>>>0<256)return e=7900+(c<<1<<2)|0,t=0|vn[1965],p=1<<c,t&p?(p=e+8|0,T=0|vn[p>>2],k=p):(vn[1965]=t|p,T=e,k=e+8|0),vn[k>>2]=u,vn[T+12>>2]=u,vn[u+8>>2]=T,void(vn[u+12>>2]=e);if(e=S>>>8,e?S>>>0>16777215?Q=31:(T=(e+1048320|0)>>>16&8,k=e<<T,e=(k+520192|0)>>>16&4,p=k<<e,k=(p+245760|0)>>>16&2,t=14-(e|T|k)+(p<<k>>>15)|0,Q=S>>>(t+7|0)&1|t<<1):Q=0,t=8164+(Q<<2)|0,vn[u+28>>2]=Q,vn[u+20>>2]=0,vn[u+16>>2]=0,k=0|vn[1966],p=1<<Q,!(k&p))return vn[1966]=k|p,vn[t>>2]=u,vn[u+24>>2]=t,vn[u+12>>2]=u,void(vn[u+8>>2]=u);p=0|vn[t>>2];e:do{if((-8&vn[p+4>>2]|0)!=(0|S)){for(t=S<<(31==(0|Q)?0:25-(Q>>>1)|0),k=p;;){if(R=k+16+(t>>>31<<2)|0,!(T=0|vn[R>>2]))break;if((-8&vn[T+4>>2]|0)==(0|S)){D=T;break e}t<<=1,k=T}return vn[R>>2]=u,vn[u+24>>2]=k,vn[u+12>>2]=u,void(vn[u+8>>2]=u)}D=p}while(0);R=D+8|0,S=0|vn[R>>2],vn[S+12>>2]=u,vn[R>>2]=u,vn[u+8>>2]=S,vn[u+12>>2]=D,vn[u+24>>2]=0}function le(e){e|=0;var t=0,n=0,r=0;return t=Mn,Mn=Mn+16|0,n=t,r=0|ge(0|vn[e+60>>2]),vn[n>>2]=r,r=0|de(0|rr(6,0|n)),Mn=t,0|r}function ue(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0;r=Mn,Mn=Mn+48|0,i=r+32|0,a=r+16|0,o=r,s=e+28|0,l=0|vn[s>>2],vn[o>>2]=l,
u=e+20|0,c=(0|vn[u>>2])-l|0,vn[o+4>>2]=c,vn[o+8>>2]=t,vn[o+12>>2]=n,t=c+n|0,c=e+60|0,vn[a>>2]=vn[c>>2],vn[a+4>>2]=o,vn[a+8>>2]=2,l=0|de(0|Xn(146,0|a));e:do{if((0|t)!=(0|l)){for(a=2,d=t,A=o,g=l;;){if((0|g)<0)break;if(d=d-g|0,p=0|vn[A+4>>2],f=g>>>0>p>>>0,h=f?A+8|0:A,m=a+(f<<31>>31)|0,E=g-(f?p:0)|0,vn[h>>2]=(0|vn[h>>2])+E,p=h+4|0,vn[p>>2]=(0|vn[p>>2])-E,vn[i>>2]=vn[c>>2],vn[i+4>>2]=h,vn[i+8>>2]=m,g=0|de(0|Xn(146,0|i)),(0|d)==(0|g)){v=3;break e}a=m,A=h}vn[e+16>>2]=0,vn[s>>2]=0,vn[u>>2]=0,vn[e>>2]=32|vn[e>>2],y=2==(0|a)?0:n-(0|vn[A+4>>2])|0}else v=3}while(0);return 3==(0|v)&&(v=0|vn[e+44>>2],vn[e+16>>2]=v+(0|vn[e+48>>2]),e=v,vn[s>>2]=e,vn[u>>2]=e,y=n),Mn=r,0|y}function ce(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0;return r=Mn,Mn=Mn+32|0,i=r,a=r+20|0,vn[i>>2]=vn[e+60>>2],vn[i+4>>2]=0,vn[i+8>>2]=t,vn[i+12>>2]=a,vn[i+16>>2]=n,(0|de(0|Wn(140,0|i)))<0?(vn[a>>2]=-1,o=-1):o=0|vn[a>>2],Mn=r,0|o}function de(e){e|=0;var t=0,n=0;return e>>>0>4294963200?(t=0|Ae(),vn[t>>2]=0-e,n=-1):n=e,0|n}function Ae(){return 8420}function ge(e){return 0|(e|=0)}function pe(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0;return r=Mn,Mn=Mn+32|0,i=r+16|0,a=r,vn[a>>2]=t,o=a+4|0,s=e+48|0,l=0|vn[s>>2],vn[o>>2]=n-(0!=(0|l)&1),u=e+44|0,vn[a+8>>2]=vn[u>>2],vn[a+12>>2]=l,vn[i>>2]=vn[e+60>>2],vn[i+4>>2]=a,vn[i+8>>2]=2,a=0|de(0|Zn(145,0|i)),(0|a)>=1?(i=0|vn[o>>2],a>>>0>i>>>0?(o=0|vn[u>>2],u=e+4|0,vn[u>>2]=o,l=o,vn[e+8>>2]=l+(a-i),0|vn[s>>2]?(vn[u>>2]=l+1,fn[t+(n+-1)>>0]=0|fn[l>>0],c=n):c=n):c=a):(vn[e>>2]=vn[e>>2]|48&a^16,c=a),Mn=r,0|c}function fe(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0;return r=Mn,Mn=Mn+32|0,i=r,vn[e+36>>2]=1,(0==(64&vn[e>>2]|0)?(vn[i>>2]=vn[e+60>>2],vn[i+4>>2]=21523,vn[i+8>>2]=r+16,0|nr(54,0|i)):0)&&(fn[e+75>>0]=-1),i=0|ue(e,t,n),Mn=r,0|i}function he(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0;i=Mn,Mn=Mn+208|0,a=i,o=i+192|0,s=0|Fn(n,t),t=o,vn[t>>2]=1,vn[t+4>>2]=0;e:do{if(0|s){for(t=0-n|0,vn[a+4>>2]=n,vn[a>>2]=n,l=2,u=n,c=n;;){if(d=u+n+c|0,vn[a+(l<<2)>>2]=d,!(d>>>0<s>>>0))break;A=c,l=l+1|0,c=d,u=A}if((u=e+s+t|0)>>>0>e>>>0)for(c=u,l=1,A=e,d=1;;){do{if(3!=(3&d|0)){if(g=l+-1|0,(0|vn[a+(g<<2)>>2])>>>0<(c-A|0)>>>0?me(A,n,r,l,a):ve(A,n,r,o,l,0,a),1==(0|l)){ye(o,1),p=0;break}ye(o,g),p=1;break}me(A,n,r,l,a),Ee(o,2),p=l+2|0}while(0);if(g=1|vn[o>>2],vn[o>>2]=g,!((f=A+n|0)>>>0<u>>>0)){h=p,m=f,E=g;break}l=p,A=f,d=g}else h=1,m=e,E=1;for(ve(m,n,r,o,h,0,a),d=o+4|0,A=m,l=h,u=E;;){if(1==(0|l)&1==(0|u)){if(!(0|vn[d>>2]))break e;v=19}else(0|l)<2?v=19:(ye(o,2),c=l+-2|0,vn[o>>2]=7^vn[o>>2],Ee(o,1),ve(A+(0-(0|vn[a+(c<<2)>>2]))+t|0,n,r,o,l+-1|0,1,a),ye(o,1),g=1|vn[o>>2],vn[o>>2]=g,f=A+t|0,ve(f,n,r,o,c,1,a),y=f,I=c,b=g);19==(0|v)&&(v=0,g=0|Ie(o),Ee(o,g),y=A+t|0,I=g+l|0,b=0|vn[o>>2]),A=y,l=I,u=b}}}while(0);Mn=i}function me(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0;a=Mn,Mn=Mn+240|0,o=a,vn[o>>2]=e;e:do{if((0|r)>1)for(s=0-t|0,l=e,u=r,c=1,d=e;;){if(A=l+s|0,g=u+-2|0,p=A+(0-(0|vn[i+(g<<2)>>2]))|0,(0|lr[1&n](d,p))>-1?(0|lr[1&n](d,A))>-1:0){f=c;break e}if(h=o+(c<<2)|0,(0|lr[1&n](p,A))>-1?(vn[h>>2]=p,m=p,E=u+-1|0):(vn[h>>2]=A,m=A,E=g),g=c+1|0,(0|E)<=1){f=g;break e}l=m,u=E,c=g,d=0|vn[o>>2]}else f=1}while(0);Ce(t,o,f),Mn=a}function Ee(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0;n=e+4|0,t>>>0>31?(r=0|vn[n>>2],vn[e>>2]=r,vn[n>>2]=0,i=t+-32|0,a=0,o=r):(i=t,a=0|vn[n>>2],o=0|vn[e>>2]),vn[e>>2]=a<<32-i|o>>>i,vn[n>>2]=a>>>i}function ve(e,t,n,r,i,a,o){e|=0,t|=0,n|=0,r|=0,i|=0,a|=0,o|=0;var s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0;s=Mn,Mn=Mn+240|0,l=s+232|0,u=s,c=0|vn[r>>2],vn[l>>2]=c,d=0|vn[r+4>>2],r=l+4|0,vn[r>>2]=d,vn[u>>2]=e;e:do{if(1!=(0|c)|0!=(0|d)?(A=0-t|0,g=e+(0-(0|vn[o+(i<<2)>>2]))|0,(0|lr[1&n](g,e))>=1):0)for(p=1,f=i,h=0==(0|a),m=e,E=g;;){if(h&(0|f)>1){if(g=m+A|0,v=0|vn[o+(f+-2<<2)>>2],(0|lr[1&n](g,E))>-1){y=p,I=f,b=m,C=10;break e}if((0|lr[1&n](g+(0-v)|0,E))>-1){y=p,I=f,b=m,C=10;break e}}if(v=p+1|0,vn[u+(p<<2)>>2]=E,g=0|Ie(l),Ee(l,g),B=g+f|0,!(1!=(0|vn[l>>2])|0!=(0|vn[r>>2]))){y=v,I=B,b=E,C=10;break e}if(g=E+(0-(0|vn[o+(B<<2)>>2]))|0,(0|lr[1&n](g,0|vn[u>>2]))<1){w=E,S=v,T=B,k=0,C=9;break}Q=E,p=v,f=B,h=1,E=g,m=Q}else w=e,S=1,T=i,k=a,C=9}while(0);(9==(0|C)?0==(0|k):0)&&(y=S,I=T,b=w,C=10),10==(0|C)&&(Ce(t,u,y),me(b,t,n,I,o)),Mn=s}function ye(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0;n=e+4|0,t>>>0>31?(r=0|vn[e>>2],vn[n>>2]=r,vn[e>>2]=0,i=t+-32|0,a=0,o=r):(i=t,a=0|vn[e>>2],o=0|vn[n>>2]),vn[n>>2]=a>>>(32-i|0)|o<<i,vn[e>>2]=a<<i}function Ie(e){e|=0;var t=0,n=0;return t=0|be((0|vn[e>>2])-1|0),t?0|t:(n=0|be(0|vn[e+4>>2]),0|(0==(0|n)?0:n+32|0))}function be(e){e|=0;var t=0,n=0,r=0;if(e)if(1&e)r=0;else for(t=e,e=0;;){if(n=e+1|0,2&t){r=n;break}t>>>=1,e=n}else r=32;return 0|r}function Ce(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0;r=Mn,Mn=Mn+256|0,i=r;e:do{if((0|n)>=2?(a=t+(n<<2)|0,vn[a>>2]=i,0|e):0)for(o=e,s=i;;){l=o>>>0<256?o:256,$t(0|s,0|vn[t>>2],0|l),u=0;do{c=t+(u<<2)|0,u=u+1|0,$t(0|vn[c>>2],0|vn[t+(u<<2)>>2],0|l),vn[c>>2]=(0|vn[c>>2])+l}while((0|u)!=(0|n));if(!(u=o-l|0))break e;o=u,s=0|vn[a>>2]}}while(0);Mn=r}function Be(e){return((e|=0)+-48|0)>>>0<10|0}function we(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0;if(n=0|fn[e>>0],r=0|fn[t>>0],n<<24>>24==0?1:n<<24>>24!=r<<24>>24)i=r,a=n;else{n=t,t=e;do{t=t+1|0,n=n+1|0,e=0|fn[t>>0],r=0|fn[n>>0]}while(!(e<<24>>24==0?1:e<<24>>24!=r<<24>>24));i=r,a=e}return(255&a)-(255&i)|0}function Se(){return 3684}function Te(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0;n=255&t;e:do{if(n){if(3&e)for(a=255&t,o=e;;){if(s=0|fn[o>>0],s<<24>>24==0?1:s<<24>>24==a<<24>>24){r=o;break e}if(!(3&(s=o+1|0))){i=s;break}o=s}else i=e;o=0|Fn(n,16843009),a=0|vn[i>>2];t:do{if((-2139062144&a^-2139062144)&a+-16843009)c=i;else for(s=i,l=a;;){if((-2139062144&(u=l^o)^-2139062144)&u+-16843009|0){c=s;break t}if(u=s+4|0,(-2139062144&(l=0|vn[u>>2])^-2139062144)&l+-16843009|0){c=u;break}s=u}}while(0);for(o=255&t,a=c;;){if(s=0|fn[a>>0],s<<24>>24==0?1:s<<24>>24==o<<24>>24){r=a;break}a=a+1|0}}else r=e+(0|ke(e))|0}while(0);return 0|r}function ke(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0;t=e;e:do{if(3&t)for(i=e,a=t;;){if(!(0|fn[i>>0])){o=a;break e}if(s=i+1|0,!(3&(a=s))){n=s,r=5;break}i=s}else n=e,r=5}while(0);if(5==(0|r)){for(r=n;;){if((-2139062144&(l=0|vn[r>>2])^-2139062144)&l+-16843009)break;r=r+4|0}if((255&l)<<24>>24)for(l=r;;){if(r=l+1|0,!(0|fn[r>>0])){u=r;break}l=r}else u=r;o=u}return o-t|0}function Qe(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0;return i=Mn,Mn=Mn+16|0,a=i,vn[a>>2]=r,r=0|Re(e,t,n,a),Mn=i,0|r}function De(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0;e:do{if(n){for(i=e,a=n,o=t;;){if(s=0|fn[i>>0],l=0|fn[o>>0],s<<24>>24!=l<<24>>24)break;if(!(a=a+-1|0)){r=0;break e}i=i+1|0,o=o+1|0}r=(255&s)-(255&l)|0}else r=0}while(0);return 0|r}function Re(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0;i=Mn,Mn=Mn+128|0,a=i+124|0,o=i,s=o,l=3928,u=s+124|0;do{vn[s>>2]=vn[l>>2],s=s+4|0,l=l+4|0}while((0|s)<(0|u));return(t+-1|0)>>>0>2147483646?t?(a=0|Ae(),vn[a>>2]=75,g=-1):(c=a,d=1,A=4):(c=e,d=t,A=4),4==(0|A)&&(A=-2-c|0,t=d>>>0>A>>>0?A:d,vn[o+48>>2]=t,d=o+20|0,vn[d>>2]=c,vn[o+44>>2]=c,A=c+t|0,c=o+16|0,vn[c>>2]=A,vn[o+28>>2]=A,A=0|_e(o,n,r),t?(t=0|vn[d>>2],fn[t+(((0|t)==(0|vn[c>>2]))<<31>>31)>>0]=0,g=A):g=A),Mn=i,0|g}function _e(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0;r=Mn,Mn=Mn+224|0,i=r+208|0,a=r+160|0,o=r+80|0,s=r,l=a,u=l+40|0;do{vn[l>>2]=0,l=l+4|0}while((0|l)<(0|u));return vn[i>>2]=vn[n>>2],(0|Me(0,t,i,o,a))<0?c=-1:(d=(0|vn[e+76>>2])>-1?0|Ne(e):0,n=0|vn[e>>2],l=32&n,(0|fn[e+74>>0])<1&&(vn[e>>2]=-33&n),n=e+48|0,0|vn[n>>2]?h=0|Me(e,t,i,o,a):(u=e+44|0,A=0|vn[u>>2],vn[u>>2]=s,g=e+28|0,vn[g>>2]=s,p=e+20|0,vn[p>>2]=s,vn[n>>2]=80,f=e+16|0,vn[f>>2]=s+80,s=0|Me(e,t,i,o,a),A?(ur[7&vn[e+36>>2]](e,0,0),m=0==(0|vn[p>>2])?-1:s,vn[u>>2]=A,vn[n>>2]=0,vn[f>>2]=0,vn[g>>2]=0,vn[p>>2]=0,h=m):h=s),a=0|vn[e>>2],vn[e>>2]=a|l,0|d&&Pe(e),c=0==(32&a|0)?h:-1),Mn=r,0|c}function Me(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0,L=0,x=0,F=0,U=0,V=0,G=0,H=0,j=0,Y=0,K=0,q=0,J=0,z=0,W=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,ge=0,pe=0,fe=0,he=0,me=0,Ee=0,ve=0,ye=0,Ie=0,be=0,Ce=0,we=0;a=Mn,Mn=Mn+64|0,o=a+56|0,s=a+40|0,l=a,u=a+48|0,c=a+60|0,vn[o>>2]=t,t=0!=(0|e),d=l+40|0,A=d,g=l+39|0,l=u+4|0,p=0,f=0,h=0;e:for(;;){for(m=p,E=f;;){do{if((0|E)>-1){if((0|m)>(2147483647-E|0)){v=0|Ae(),vn[v>>2]=75,y=-1;break}y=m+E|0;break}y=E}while(0);if(I=0|vn[o>>2],!((v=0|fn[I>>0])<<24>>24)){b=94;break e}C=v,v=I;t:for(;;){switch(C<<24>>24){case 37:b=10;break t;case 0:B=v;break t}w=v+1|0,vn[o>>2]=w,C=0|fn[w>>0],v=w}t:do{if(10==(0|b))for(b=0,C=v,w=v;;){if(37!=(0|fn[w+1>>0])){B=C;break t}if(S=C+1|0,w=w+2|0,vn[o>>2]=w,37!=(0|fn[w>>0])){B=S;break}C=S}}while(0);if(m=B-I|0,t&&Oe(e,I,m),!m)break;E=y}if(E=0==(0|Be(0|fn[1+(0|vn[o>>2])>>0])),m=0|vn[o>>2],(E?0:36==(0|fn[m+2>>0]))?(T=(0|fn[m+1>>0])-48|0,k=1,Q=3):(T=-1,k=h,Q=1),E=m+Q|0,vn[o>>2]=E,m=0|fn[E>>0],(v=(m<<24>>24)-32|0)>>>0>31|0==(1<<v&75913|0))D=0,R=m,_=E;else for(m=0,C=v,v=E;;){if(E=1<<C|m,w=v+1|0,vn[o>>2]=w,S=0|fn[w>>0],(C=(S<<24>>24)-32|0)>>>0>31|0==(1<<C&75913|0)){D=E,R=S,_=w;break}m=E,v=w}if(R<<24>>24==42){if(0!=(0|Be(0|fn[_+1>>0]))?(v=0|vn[o>>2],36==(0|fn[v+2>>0])):0)m=v+1|0,vn[i+((0|fn[m>>0])-48<<2)>>2]=10,M=0|vn[r+((0|fn[m>>0])-48<<3)>>2],N=1,P=v+3|0;else{if(0|k){O=-1;break}t?(v=3+(0|vn[n>>2])&-4,m=0|vn[v>>2],vn[n>>2]=v+4,L=m):L=0,M=L,N=0,P=1+(0|vn[o>>2])|0}vn[o>>2]=P,m=(0|M)<0,x=m?0-M|0:M,F=m?8192|D:D,U=N,V=P}else{if((0|(m=0|Le(o)))<0){O=-1;break}x=m,F=D,U=k,V=0|vn[o>>2]}do{if(46==(0|fn[V>>0])){if(m=V+1|0,42!=(0|fn[m>>0])){vn[o>>2]=m,m=0|Le(o),G=m,H=0|vn[o>>2];break}if(0|Be(0|fn[V+2>>0])?(m=0|vn[o>>2],36==(0|fn[m+3>>0])):0){v=m+2|0,vn[i+((0|fn[v>>0])-48<<2)>>2]=10,C=0|vn[r+((0|fn[v>>0])-48<<3)>>2],v=m+4|0,vn[o>>2]=v,G=C,H=v;break}if(0|U){O=-1;break e}t?(v=3+(0|vn[n>>2])&-4,C=0|vn[v>>2],vn[n>>2]=v+4,j=C):j=0,C=2+(0|vn[o>>2])|0,vn[o>>2]=C,G=j,H=C}else G=-1,H=V}while(0);for(C=0,v=H;;){if(((0|fn[v>>0])-65|0)>>>0>57){O=-1;break e}if(m=v,v=v+1|0,vn[o>>2]=v,Y=0|fn[(0|fn[m>>0])-65+(912+(58*C|0))>>0],((K=255&Y)+-1|0)>>>0>=8)break;C=K}if(!(Y<<24>>24)){O=-1;break}m=(0|T)>-1;do{if(Y<<24>>24==19){if(m){O=-1;break e}b=54}else{if(m){vn[i+(T<<2)>>2]=K,w=r+(T<<3)|0,E=0|vn[w+4>>2],S=s,vn[S>>2]=vn[w>>2],vn[S+4>>2]=E,b=54;break}if(!t){O=0;break e}xe(s,K,n),q=0|vn[o>>2],b=55}}while(0);54==(0|b)&&(b=0,t?(q=v,b=55):J=0);t:do{if(55==(0|b)){b=0,m=0|fn[q+-1>>0],E=0!=(0|C)&3==(15&m|0)?-33&m:m,m=-65537&F,S=0==(8192&F|0)?F:m;n:do{switch(0|E){case 110:switch((255&C)<<24>>24){case 0:case 1:vn[vn[s>>2]>>2]=y,J=0;break t;case 2:w=0|vn[s>>2],vn[w>>2]=y,vn[w+4>>2]=((0|y)<0)<<31>>31,J=0;break t;case 3:mn[vn[s>>2]>>1]=y,J=0;break t;case 4:fn[vn[s>>2]>>0]=y,J=0;break t;case 6:vn[vn[s>>2]>>2]=y,J=0;break t;case 7:w=0|vn[s>>2],vn[w>>2]=y,vn[w+4>>2]=((0|y)<0)<<31>>31,J=0;break t;default:J=0;break t}break;case 112:z=120,W=G>>>0>8?G:8,Z=8|S,b=67;break;case 88:case 120:z=E,W=G,Z=S,b=67;break;case 111:w=s,X=0|vn[w>>2],$=0|vn[w+4>>2],w=0|Ue(X,$,d),ee=A-w|0,te=w,ne=0,re=5705,ie=0==(8&S|0)|(0|G)>(0|ee)?G:ee+1|0,ae=S,oe=X,se=$,b=73;break;case 105:case 100:if($=s,X=0|vn[$>>2],(0|(ee=0|vn[$+4>>2]))<0){$=0|Ht(0,0,0|X,0|ee),w=Ln,le=s,vn[le>>2]=$,vn[le+4>>2]=w,ue=1,ce=5705,de=$,ge=w,b=72;break n}ue=0!=(2049&S|0)&1,ce=0==(2048&S|0)?0==(1&S|0)?5705:5707:5706,de=X,ge=ee,b=72;break n;case 117:ee=s,ue=0,ce=5705,de=0|vn[ee>>2],ge=0|vn[ee+4>>2],b=72;break;case 99:fn[g>>0]=vn[s>>2],pe=g,fe=0,he=5705,me=1,Ee=m,ve=A;break;case 109:ee=0|Ae(),ye=0|Ge(0|vn[ee>>2]),b=77;break;case 115:ee=0|vn[s>>2],ye=0==(0|ee)?5715:ee,b=77;break;case 67:vn[u>>2]=vn[s>>2],vn[l>>2]=0,vn[s>>2]=u,Ie=-1,b=81;break;case 83:G?(Ie=G,b=81):(je(e,32,x,0,S),be=0,b=91);break;case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:J=0|Ke(e,+Qn[s>>3],x,G,S,E);break t;default:pe=I,fe=0,he=5705,me=G,Ee=S,ve=A}}while(0);n:do{if(67==(0|b))b=0,E=s,ee=0|vn[E>>2],X=0|vn[E+4>>2],E=0|Fe(ee,X,d,32&z),w=0==(8&Z|0)|0==(0|ee)&0==(0|X),te=E,ne=w?0:2,re=w?5705:5705+(z>>>4)|0,ie=W,ae=Z,oe=ee,se=X,b=73;else if(72==(0|b))b=0,te=0|Ve(de,ge,d),ne=ue,re=ce,ie=G,ae=S,oe=de,se=ge,b=73;else if(77==(0|b))b=0,X=0|He(ye,0,G),ee=0==(0|X),pe=ye,fe=0,he=5705,me=ee?G:X-ye|0,Ee=m,ve=ee?ye+G|0:X;else if(81==(0|b)){for(b=0,X=0|vn[s>>2],ee=0;;){if(!(w=0|vn[X>>2])){Ce=ee;break}if(E=0|Ye(c,w),(we=(0|E)<0)|E>>>0>(Ie-ee|0)>>>0){b=85;break}if(w=E+ee|0,!(Ie>>>0>w>>>0)){Ce=w;break}X=X+4|0,ee=w}if(85==(0|b)){if(b=0,we){O=-1;break e}Ce=ee}if(je(e,32,x,Ce,S),Ce)for(X=0|vn[s>>2],w=0;;){if(!(E=0|vn[X>>2])){be=Ce,b=91;break n}if($=0|Ye(c,E),(0|(w=$+w|0))>(0|Ce)){be=Ce,b=91;break n}if(Oe(e,c,$),w>>>0>=Ce>>>0){be=Ce,b=91;break}X=X+4|0}else be=0,b=91}}while(0);if(73==(0|b))b=0,m=0!=(0|oe)|0!=(0|se),X=0!=(0|ie)|m,w=A-te+(1&(1^m))|0,pe=X?te:d,fe=ne,he=re,me=X?(0|ie)>(0|w)?ie:w:0,Ee=(0|ie)>-1?-65537&ae:ae,ve=A;else if(91==(0|b)){b=0,je(e,32,x,be,8192^S),J=(0|x)>(0|be)?x:be;break}w=ve-pe|0,X=(0|me)<(0|w)?w:me,m=X+fe|0,ee=(0|x)<(0|m)?m:x,je(e,32,ee,m,Ee),Oe(e,he,fe),je(e,48,ee,m,65536^Ee),je(e,48,X,w,0),Oe(e,pe,w),je(e,32,ee,m,8192^Ee),J=ee}}while(0);p=J,f=y,h=U}e:do{if(94==(0|b))if(e)O=y;else if(h){for(U=1;;){if(!(f=0|vn[i+(U<<2)>>2]))break;if(xe(r+(U<<3)|0,f,n),!((f=U+1|0)>>>0<10)){O=1;break e}U=f}for(f=U;;){if(0|vn[i+(f<<2)>>2]){O=-1;break e}if((f=f+1|0)>>>0>=10){O=1;break}}}else O=0}while(0);return Mn=a,0|O}function Ne(e){return e|=0,0}function Pe(e){e|=0}function Oe(e,t,n){e|=0,t|=0,n|=0,32&vn[e>>2]||it(t,n,e)}function Le(e){e|=0;var t=0,n=0,r=0,i=0,a=0;if(0|Be(0|fn[vn[e>>2]>>0]))for(n=0;;){if(r=0|vn[e>>2],i=(10*n|0)-48+(0|fn[r>>0])|0,a=r+1|0,vn[e>>2]=a,!(0|Be(0|fn[a>>0]))){t=i;break}n=i}else t=0;return 0|t}function xe(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0;e:do{if(t>>>0<=20)switch(0|t){case 9:r=3+(0|vn[n>>2])&-4,i=0|vn[r>>2],vn[n>>2]=r+4,vn[e>>2]=i;break e;case 10:i=3+(0|vn[n>>2])&-4,r=0|vn[i>>2],vn[n>>2]=i+4,i=e,vn[i>>2]=r,vn[i+4>>2]=((0|r)<0)<<31>>31;break e;case 11:r=3+(0|vn[n>>2])&-4,i=0|vn[r>>2],vn[n>>2]=r+4,r=e,vn[r>>2]=i,vn[r+4>>2]=0;break e;case 12:r=7+(0|vn[n>>2])&-8,i=r,a=0|vn[i>>2],o=0|vn[i+4>>2],vn[n>>2]=r+8,r=e,vn[r>>2]=a,vn[r+4>>2]=o;break e;case 13:o=3+(0|vn[n>>2])&-4,r=0|vn[o>>2],vn[n>>2]=o+4,o=(65535&r)<<16>>16,r=e,vn[r>>2]=o,vn[r+4>>2]=((0|o)<0)<<31>>31;break e;case 14:o=3+(0|vn[n>>2])&-4,r=0|vn[o>>2],vn[n>>2]=o+4,o=e,vn[o>>2]=65535&r,vn[o+4>>2]=0;break e;case 15:o=3+(0|vn[n>>2])&-4,r=0|vn[o>>2],vn[n>>2]=o+4,o=(255&r)<<24>>24,r=e,vn[r>>2]=o,vn[r+4>>2]=((0|o)<0)<<31>>31;break e;case 16:o=3+(0|vn[n>>2])&-4,r=0|vn[o>>2],vn[n>>2]=o+4,o=e,vn[o>>2]=255&r,vn[o+4>>2]=0;break e;case 17:case 18:o=7+(0|vn[n>>2])&-8,s=+Qn[o>>3],vn[n>>2]=o+8,Qn[e>>3]=s;break e;default:break e}}while(0)}function Fe(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0;if(0==(0|e)&0==(0|t))i=n;else for(a=n,n=t,t=e;;){if(e=a+-1|0,fn[e>>0]=0|In[1376+(15&t)>>0]|r,t=0|qt(0|t,0|n,4),n=Ln,0==(0|t)&0==(0|n)){i=e;break}a=e}return 0|i}function Ue(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0;if(0==(0|e)&0==(0|t))r=n;else for(i=n,n=t,t=e;;){if(e=i+-1|0,fn[e>>0]=7&t|48,t=0|qt(0|t,0|n,3),n=Ln,0==(0|t)&0==(0|n)){r=e;break}i=e}return 0|r}function Ve(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0;if(t>>>0>0|0==(0|t)&e>>>0>4294967295){r=n,i=e,a=t;do{t=i,i=0|Kt(0|i,0|a,10,0),o=a,a=Ln,s=0|Vt(0|i,0|a,10,0),l=0|Ht(0|t,0|o,0|s,0|Ln),r=r+-1|0,fn[r>>0]=255&l|48}while(o>>>0>9|9==(0|o)&t>>>0>4294967295);u=i,c=r}else u=e,c=n;if(u)for(n=u,u=c;;){if(c=n,n=(n>>>0)/10|0,e=u+-1|0,fn[e>>0]=c-(10*n|0)|48,c>>>0<10){d=e;break}u=e}else d=c;return 0|d}function Ge(e){e|=0;var t=0;return t=188+(0|Xe())|0,0|$e(e,0|vn[t>>2])}function He(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0;r=255&t,i=0!=(0|n);e:do{if(i&0!=(3&e|0))for(a=255&t,o=e,s=n;;){if((0|fn[o>>0])==a<<24>>24){l=o,u=s,c=6;break e}if(d=o+1|0,A=s+-1|0,!((g=0!=(0|A))&0!=(3&d|0))){p=d,f=A,h=g,c=5;break}o=d,s=A}else p=e,f=n,h=i,c=5}while(0);5==(0|c)&&(h?(l=p,u=f,c=6):c=16);e:do{if(6==(0|c)){if(f=255&t,(0|fn[l>>0])==f<<24>>24){if(u){m=l;break}c=16;break}p=0|Fn(r,16843009);t:do{if(u>>>0>3)for(h=l,i=u;;){if((-2139062144&(n=vn[h>>2]^p)^-2139062144)&n+-16843009|0){E=i,v=h;break t}if(n=h+4|0,!((e=i+-4|0)>>>0>3)){y=n,I=e,c=11;break}h=n,i=e}else y=l,I=u,c=11}while(0);if(11==(0|c)){if(!I){c=16;break}E=I,v=y}for(p=v,i=E;;){if((0|fn[p>>0])==f<<24>>24){m=p;break e}if(!(i=i+-1|0)){c=16;break}p=p+1|0}}}while(0);return 16==(0|c)&&(m=0),0|m}function je(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0;if(a=Mn,Mn=Mn+256|0,o=a,(0|n)>(0|r)&0==(73728&i|0)){if(i=n-r|0,tn(0|o,t<<24>>24|0,0|(i>>>0<256?i:256)),i>>>0>255){t=n-r|0,r=i;do{Oe(e,o,256),r=r+-256|0}while(r>>>0>255);s=255&t}else s=i;Oe(e,o,s)}Mn=a}function Ye(e,t){e|=0,t|=0;return 0|(e?0|We(e,t,0):0)}function Ke(e,t,n,r,i,a){e|=0,t=+t,n|=0,r|=0,i|=0,a|=0;var o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0,_=0,M=0,N=0,P=0,O=0,L=0,x=0,F=0,U=0,V=0,G=0,H=0,j=0,Y=0,K=0,q=0,J=0,z=0,W=0,Z=0,X=0,$=0,ee=0,te=0,ne=0,re=0,ie=0,ae=0,oe=0,se=0,le=0,ue=0,ce=0,de=0,Ae=0,ge=0,pe=0,fe=0,he=0,me=0,Ee=0,ve=0,ye=0,Ie=0,be=0,Ce=0,Be=0,we=0,Se=0,Te=0,ke=0;o=Mn,Mn=Mn+560|0,s=o+32|0,l=o+536|0,u=o,c=u,d=o+540|0,vn[l>>2]=0,A=d+12|0,g=0|qe(t),p=Ln,(0|p)<0?(f=-t,h=0|qe(f),m=f,E=1,v=5722,y=Ln,I=h):(m=t,E=0!=(2049&i|0)&1,v=0==(2048&i|0)?0==(1&i|0)?5723:5728:5725,y=p,I=g);do{if(!0&2146435072==(2146435072&y|0))g=0!=(32&a|0),I=E+3|0,je(e,32,n,I,-65537&i),Oe(e,v,E),Oe(e,m!=m|!1?g?5749:5753:g?5741:5745,3),je(e,32,n,I,8192^i),b=I;else{if(t=2*+Je(m,l),I=0!=t,I&&(vn[l>>2]=(0|vn[l>>2])-1),97==(0|(g=32|a))){p=32&a,h=0==(0|p)?v:v+9|0,C=2|E,B=12-r|0;do{if(!(r>>>0>11|0==(0|B))){f=8,w=B;do{w=w+-1|0,f*=16}while(0!=(0|w));if(45==(0|fn[h>>0])){S=-(f+(-t-f));break}S=t+f-f;break}S=t}while(0);for(B=0|vn[l>>2],w=(0|B)<0?0-B|0:B,T=0|Ve(w,((0|w)<0)<<31>>31,A),(0|T)==(0|A)?(w=d+11|0,fn[w>>0]=48,k=w):k=T,fn[k+-1>>0]=43+(B>>31&2),B=k+-2|0,fn[B>>0]=a+15,T=(0|r)<1,w=0==(8&i|0),Q=u,D=S;;){if(R=~~D,_=Q+1|0,fn[Q>>0]=p|In[1376+R>>0],D=16*(D-+(0|R)),1!=(_-c|0)||w&T&0==D?M=_:(fn[_>>0]=46,M=Q+2|0),0==D)break;Q=M}Q=M,(0!=(0|r)?(-2-c+Q|0)<(0|r):0)?(T=A,w=B,N=r+2+T-w|0,P=T,O=w):(w=A,T=B,N=w-c-T+Q|0,P=w,O=T),T=N+C|0,je(e,32,n,T,i),Oe(e,h,C),je(e,48,n,T,65536^i),w=Q-c|0,Oe(e,u,w),Q=P-O|0,je(e,48,N-(w+Q)|0,0,0),Oe(e,B,Q),je(e,32,n,T,8192^i),b=T;break}T=(0|r)<0?6:r,I?(Q=(0|vn[l>>2])-28|0,vn[l>>2]=Q,L=268435456*t,x=Q):(L=t,x=0|vn[l>>2]),Q=(0|x)<0?s:s+288|0,w=Q,D=L;do{p=~~D>>>0,vn[w>>2]=p,w=w+4|0,D=1e9*(D-+(p>>>0))}while(0!=D);if(I=Q,(0|x)>0)for(B=Q,C=w,h=x;;){if(p=(0|h)<29?h:29,(_=C+-4|0)>>>0>=B>>>0){R=_,_=0;do{F=0|Jt(0|vn[R>>2],0,0|p),U=0|Gt(0|F,0|Ln,0|_,0),F=Ln,_=0|Kt(0|U,0|F,1e9,0),V=0|Vt(0|_,0|Ln,1e9,0),G=0|Ht(0|U,0|F,0|V,0|Ln),vn[R>>2]=G,R=R+-4|0}while(R>>>0>=B>>>0);_?(R=B+-4|0,vn[R>>2]=_,H=R):H=B}else H=B;e:do{if(C>>>0>H>>>0)for(R=C;;){if(G=R+-4|0,0|vn[G>>2]){j=R;break e}if(!(G>>>0>H>>>0)){j=G;break}R=G}else j=C}while(0);if(_=(0|vn[l>>2])-p|0,vn[l>>2]=_,!((0|_)>0)){Y=H,K=j,q=_;break}B=H,C=j,h=_}else Y=Q,K=w,q=x;if((0|q)<0)for(h=1+((T+25|0)/9|0)|0,C=102==(0|g),B=Y,_=K,R=q;;){if(G=0-R|0,V=(0|G)<9?G:9,B>>>0<_>>>0){G=(1<<V)-1|0,F=1e9>>>V,U=0,J=B;do{z=0|vn[J>>2],vn[J>>2]=(z>>>V)+U,U=0|Fn(z&G,F),J=J+4|0}while(J>>>0<_>>>0);J=0==(0|vn[B>>2])?B+4|0:B,U?(vn[_>>2]=U,W=_+4|0,Z=J):(W=_,Z=J)}else W=_,Z=0==(0|vn[B>>2])?B+4|0:B;if(J=C?Q:Z,F=(W-J>>2|0)>(0|h)?J+(h<<2)|0:W,R=(0|vn[l>>2])+V|0,vn[l>>2]=R,(0|R)>=0){X=Z,$=F;break}B=Z,_=F}else X=Y,$=K;if(X>>>0<$>>>0)if(_=9*(I-X>>2)|0,(B=0|vn[X>>2])>>>0<10)ee=_;else for(R=_,_=10;;){if(_=10*_|0,h=R+1|0,B>>>0<_>>>0){ee=h;break}R=h}else ee=0;if(R=103==(0|g),_=0!=(0|T),(0|(B=T-(102==(0|g)?0:ee)+((_&R)<<31>>31)|0))<((9*($-I>>2)|0)-9|0)){if(h=B+9216|0,B=(0|h)/9|0,C=Q+4+(B+-1024<<2)|0,(0|(w=h-(9*B|0)|0))<8)for(B=w,w=10;;){if(h=10*w|0,!((0|B)<7)){te=h;break}B=B+1|0,w=h}else te=10;if(w=0|vn[C>>2],B=(w>>>0)/(te>>>0)|0,g=w-(0|Fn(B,te))|0,(h=(C+4|0)==(0|$))&0==(0|g))se=C,le=ee,ue=X;else if(f=0==(1&B|0)?9007199254740992:9007199254740994,B=te>>>1,D=g>>>0<B>>>0?.5:h&(0|g)==(0|B)?1:1.5,E?(B=45==(0|fn[v>>0]),ne=B?-D:D,re=B?-f:f):(ne=D,re=f),B=w-g|0,vn[C>>2]=B,re+ne!=re){if(g=B+te|0,vn[C>>2]=g,g>>>0>999999999)for(g=C,B=X;;){if(w=g+-4|0,vn[g>>2]=0,w>>>0<B>>>0?(h=B+-4|0,vn[h>>2]=0,ie=h):ie=B,h=1+(0|vn[w>>2])|0,vn[w>>2]=h,!(h>>>0>999999999)){ae=w,oe=ie;break}g=w,B=ie}else ae=C,oe=X;if(B=9*(I-oe>>2)|0,(g=0|vn[oe>>2])>>>0<10)se=ae,le=B,ue=oe;else for(w=B,B=10;;){if(B=10*B|0,h=w+1|0,g>>>0<B>>>0){se=ae,le=h,ue=oe;break}w=h}}else se=C,le=ee,ue=X;w=se+4|0,ce=le,de=$>>>0>w>>>0?w:$,Ae=ue}else ce=ee,de=$,Ae=X;w=0-ce|0;e:do{if(de>>>0>Ae>>>0)for(B=de;;){if(g=B+-4|0,0|vn[g>>2]){ge=B,pe=1;break e}if(!(g>>>0>Ae>>>0)){ge=g,pe=0;break}B=g}else ge=de,pe=0}while(0);do{if(R){if(C=T+(1&(1^_))|0,(0|C)>(0|ce)&(0|ce)>-5?(fe=a+-1|0,he=C+-1-ce|0):(fe=a+-2|0,he=C+-1|0),!(8&i)){if(pe?0!=(0|(C=0|vn[ge+-4>>2])):0)if((C>>>0)%10|0)me=0;else for(B=0,V=10;;){if(V=10*V|0,U=B+1|0,0|(C>>>0)%(V>>>0)){me=U;break}B=U}else me=9;if(B=(9*(ge-I>>2)|0)-9|0,102==(32|fe)){V=B-me|0,C=(0|V)>0?V:0,Ee=fe,ve=(0|he)<(0|C)?he:C;break}C=B+ce-me|0,B=(0|C)>0?C:0,Ee=fe,ve=(0|he)<(0|B)?he:B;break}Ee=fe,ve=he}else Ee=a,ve=T}while(0);if(T=0!=(0|ve),I=T?1:i>>>3&1,_=102==(32|Ee))ye=0,Ie=(0|ce)>0?ce:0;else{if(R=(0|ce)<0?w:ce,B=0|Ve(R,((0|R)<0)<<31>>31,A),((R=A)-B|0)<2)for(C=B;;){if(V=C+-1|0,fn[V>>0]=48,!((R-V|0)<2)){be=V;break}C=V}else be=B;fn[be+-1>>0]=43+(ce>>31&2),C=be+-2|0,fn[C>>0]=Ee,ye=C,Ie=R-C|0}if(C=E+1+ve+I+Ie|0,je(e,32,n,C,i),Oe(e,v,E),je(e,48,n,C,65536^i),_){w=Ae>>>0>Q>>>0?Q:Ae,V=u+9|0,U=V,g=u+8|0,h=w;do{if(F=0|Ve(0|vn[h>>2],0,V),(0|h)==(0|w))(0|F)==(0|V)?(fn[g>>0]=48,Ce=g):Ce=F;else if(F>>>0>u>>>0)for(tn(0|u,48,F-c|0),J=F;;){if(!((G=J+-1|0)>>>0>u>>>0)){Ce=G;break}J=G}else Ce=F;Oe(e,Ce,U-Ce|0),h=h+4|0}while(h>>>0<=Q>>>0);if(0==(8&i|0)&(1^T)||Oe(e,5757,1),h>>>0<ge>>>0&(0|ve)>0)for(Q=ve,U=h;;){if((g=0|Ve(0|vn[U>>2],0,V))>>>0>u>>>0)for(tn(0|u,48,g-c|0),w=g;;){if(!((_=w+-1|0)>>>0>u>>>0)){Be=_;break}w=_}else Be=g;if(Oe(e,Be,(0|Q)<9?Q:9),U=U+4|0,w=Q+-9|0,!(U>>>0<ge>>>0&(0|Q)>9)){we=w;break}Q=w}else we=ve;je(e,48,we+9|0,9,0)}else{if(Q=pe?ge:Ae+4|0,Ae>>>0<Q>>>0&(0|ve)>-1)for(U=u+9|0,V=0==(8&i|0),h=U,T=0-c|0,w=u+8|0,F=ve,_=Ae;;){I=0|Ve(0|vn[_>>2],0,U),(0|I)==(0|U)?(fn[w>>0]=48,Se=w):Se=I;do{if((0|_)==(0|Ae)){if(I=Se+1|0,Oe(e,Se,1),V&(0|F)<1){Te=I;break}Oe(e,5757,1),Te=I}else{if(Se>>>0<=u>>>0){Te=Se;break}for(tn(0|u,48,Se+T|0),I=Se;;){if(!((R=I+-1|0)>>>0>u>>>0)){Te=R;break}I=R}}}while(0);if(g=h-Te|0,Oe(e,Te,(0|F)>(0|g)?g:F),I=F-g|0,!((_=_+4|0)>>>0<Q>>>0&(0|I)>-1)){ke=I;break}F=I}else ke=ve;je(e,48,ke+18|0,18,0),Oe(e,ye,A-ye|0)}je(e,32,n,C,8192^i),b=C}}while(0);return Mn=o,0|((0|b)<(0|n)?n:b)}function qe(e){e=+e;var t=0;return Qn[_n>>3]=e,t=0|vn[_n>>2],Ln=0|vn[_n+4>>2],0|t}function Je(e,t){return e=+e,t|=0,+ +ze(e,t)}function ze(e,t){e=+e,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0;switch(Qn[_n>>3]=e,n=0|vn[_n>>2],r=0|vn[_n+4>>2],2047&(i=0|qt(0|n,0|r,52))){case 0:0!=e?(a=+ze(0x10000000000000000*e,t),o=a,s=(0|vn[t>>2])-64|0):(o=e,s=0),vn[t>>2]=s,l=o;break;case 2047:l=e;break;default:vn[t>>2]=(2047&i)-1022,vn[_n>>2]=n,vn[_n+4>>2]=-2146435073&r|1071644672,l=+Qn[_n>>3]}return+l}function We(e,t,n){e|=0,t|=0,n|=0;var r=0;do{if(e){if(t>>>0<128){fn[e>>0]=t,r=1;break}if(n=188+(0|Ze())|0,!(0|vn[vn[n>>2]>>2])){if(57216==(-128&t|0)){fn[e>>0]=t,r=1;break}n=0|Ae(),vn[n>>2]=84,r=-1;break}if(t>>>0<2048){fn[e>>0]=t>>>6|192,fn[e+1>>0]=63&t|128,r=2;break}if(t>>>0<55296|57344==(-8192&t|0)){fn[e>>0]=t>>>12|224,fn[e+1>>0]=t>>>6&63|128,fn[e+2>>0]=63&t|128,r=3;break}if((t+-65536|0)>>>0<1048576){fn[e>>0]=t>>>18|240,fn[e+1>>0]=t>>>12&63|128,fn[e+2>>0]=t>>>6&63|128,fn[e+3>>0]=63&t|128,r=4;break}n=0|Ae(),vn[n>>2]=84,r=-1;break}r=1}while(0);return 0|r}function Ze(){return 0|Se()}function Xe(){return 0|Se()}function $e(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0;for(n=0;;){if((0|In[1392+n>>0])==(0|e)){r=4;break}if(87==(0|(i=n+1|0))){a=87,r=5;break}n=i}if(4==(0|r)&&(n?(a=n,r=5):o=1488),5==(0|r))for(r=1488,n=a;;){a=r;do{e=a,a=a+1|0}while(0!=(0|fn[e>>0]));if(!(n=n+-1|0)){o=a;break}r=a}return 0|et(o,0|vn[t+20>>2])}function et(e,t){return e|=0,t|=0,0|tt(e,t)}function tt(e,t){e|=0,t|=0;var n=0;return n=t?0|nt(0|vn[t>>2],0|vn[t+4>>2],e):0,0|(0==(0|n)?e:n)}function nt(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0;r=1794895138+(0|vn[e>>2])|0,i=0|rt(0|vn[e+8>>2],r),a=0|rt(0|vn[e+12>>2],r),o=0|rt(0|vn[e+16>>2],r);e:do{if((i>>>0<t>>>2>>>0?(s=t-(i<<2)|0,a>>>0<s>>>0&o>>>0<s>>>0):0)?0==(3&(o|a)|0):0){for(s=a>>>2,l=o>>>2,u=0,c=i;;){if(d=c>>>1,A=u+d|0,g=A<<1,p=g+s|0,f=0|rt(0|vn[e+(p<<2)>>2],r),!((h=0|rt(0|vn[e+(p+1<<2)>>2],r))>>>0<t>>>0&f>>>0<(t-h|0)>>>0)){m=0;break e}if(0|fn[e+(h+f)>>0]){m=0;break e}if(!(f=0|we(n,e+h|0)))break;if(h=(0|f)<0,1==(0|c)){m=0;break e}u=h?u:A,c=h?d:c-d|0}c=g+l|0,u=0|rt(0|vn[e+(c<<2)>>2],r),s=0|rt(0|vn[e+(c+1<<2)>>2],r),m=s>>>0<t>>>0&u>>>0<(t-s|0)>>>0&&0==(0|fn[e+(s+u)>>0])?e+s|0:0}else m=0}while(0);return 0|m}function rt(e,t){e|=0,t|=0;var n=0;return n=0|Wt(0|e),0|(0==(0|t)?e:n)}function it(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0;r=n+16|0,i=0|vn[r>>2],i?(a=i,o=5):0|at(n)?s=0:(a=0|vn[r>>2],o=5);e:do{if(5==(0|o)){if(i=n+20|0,r=0|vn[i>>2],l=r,(a-r|0)>>>0<t>>>0){s=0|ur[7&vn[n+36>>2]](n,e,t);break}t:do{if((0|fn[n+75>>0])<0|0==(0|t))u=0,c=e,d=t,A=l;else{for(r=t;;){if(g=r+-1|0,10==(0|fn[e+g>>0]))break;if(!g){u=0,c=e,d=t,A=l;break t}r=g}if((g=0|ur[7&vn[n+36>>2]](n,e,r))>>>0<r>>>0){s=g;break e}u=r,c=e+r|0,d=t-r|0,A=0|vn[i>>2]}}while(0);$t(0|A,0|c,0|d),vn[i>>2]=(0|vn[i>>2])+d,s=u+d|0}}while(0);return 0|s}function at(e){e|=0;var t=0,n=0,r=0;return t=e+74|0,n=0|fn[t>>0],fn[t>>0]=n+255|n,n=0|vn[e>>2],8&n?(vn[e>>2]=32|n,r=-1):(vn[e+8>>2]=0,vn[e+4>>2]=0,t=0|vn[e+44>>2],vn[e+28>>2]=t,vn[e+20>>2]=t,vn[e+16>>2]=t+(0|vn[e+48>>2]),r=0),0|r}function ot(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0;return r=e+20|0,i=0|vn[r>>2],a=(0|vn[e+16>>2])-i|0,e=a>>>0>n>>>0?n:a,$t(0|i,0|t,0|e),vn[r>>2]=(0|vn[r>>2])+e,0|n}function st(e,t){e|=0,t|=0;var n=0;return n=0|Te(e,t),0|((0|fn[n>>0])==(255&t)<<24>>24?n:0)}function lt(e){e|=0;var t=0,n=0,r=0;return t=e+74|0,n=0|fn[t>>0],fn[t>>0]=n+255|n,n=e+20|0,t=e+28|0,(0|vn[n>>2])>>>0>(0|vn[t>>2])>>>0&&ur[7&vn[e+36>>2]](e,0,0),vn[e+16>>2]=0,vn[t>>2]=0,vn[n>>2]=0,n=0|vn[e>>2],4&n?(vn[e>>2]=32|n,r=-1):(t=(0|vn[e+44>>2])+(0|vn[e+48>>2])|0,vn[e+8>>2]=t,vn[e+4>>2]=t,r=n<<27>>31),0|r}function ut(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0;return r=Mn,Mn=Mn+16|0,i=r,vn[i>>2]=n,n=0|_e(e,t,i),Mn=r,0|n}function ct(e){return e|=0,0}function dt(e){e|=0;var t=0,n=0,r=0,i=0;return t=0==(0|st(e,43)),n=0|fn[e>>0],r=t?n<<24>>24!=114&1:2,t=0==(0|st(e,120)),i=t?r:128|r,r=0==(0|st(e,101)),e=r?i:524288|i,i=n<<24>>24==114?e:64|e,e=n<<24>>24==119?512|i:i,0|(n<<24>>24==97?1024|e:e)}function At(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0;do{if(e){if((0|vn[e+76>>2])<=-1){t=0|It(e);break}n=0==(0|Ne(e)),r=0|It(e),n?t=r:(Pe(e),t=r)}else{if(i=0|vn[920]?0|At(0|vn[920]):0,r=0|ht(),n=0|vn[r>>2])for(r=n,n=i;;){if(o=(0|vn[r+76>>2])>-1?0|Ne(r):0,s=(0|vn[r+20>>2])>>>0>(0|vn[r+28>>2])>>>0?0|It(r)|n:n,0|o&&Pe(r),!(r=0|vn[r+56>>2])){a=s;break}n=s}else a=i;mt(),t=a}}while(0);return 0|t}function gt(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0;return n=Mn,Mn=Mn+48|0,r=n+32|0,i=n+16|0,a=n,0|st(5759,0|fn[t>>0])?(o=0|dt(t),vn[a>>2]=e,vn[a+4>>2]=32768|o,vn[a+8>>2]=438,e=0|de(0|tr(5,0|a)),(0|e)>=0?(524288&o|0&&(vn[i>>2]=e,vn[i+4>>2]=2,vn[i+8>>2]=1,$n(221,0|i)),i=0|vt(e,t),i?s=i:(vn[r>>2]=e,rr(6,0|r),s=0)):s=0):(i=0|Ae(),vn[i>>2]=22,s=0),Mn=n,0|s}function pt(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0;return t=(0|vn[e+76>>2])>-1?0|Ne(e):0,ft(e),n=0!=(1&vn[e>>2]|0),n||(r=0|ht(),i=0|vn[e+52>>2],a=e+56|0,0|i&&(vn[i+56>>2]=vn[a>>2]),o=0|vn[a>>2],0|o&&(vn[o+52>>2]=i),(0|vn[r>>2])==(0|e)&&(vn[r>>2]=o),mt()),o=0|At(e),r=0|sr[1&vn[e+12>>2]](e)|o,o=0|vn[e+92>>2],0|o&&re(o),n?0|t&&Pe(e):re(e),0|r}function ft(e){e|=0;var t=0,n=0,r=0;0|vn[e+68>>2]&&(t=0|vn[e+116>>2],n=e+112|0,0|t&&(vn[t+112>>2]=vn[n>>2]),e=0|vn[n>>2],r=e?e+116|0:232+(0|Et())|0,vn[r>>2]=t)}function ht(){return qn(8424),8432}function mt(){ir(8424)}function Et(){return 0|Se()}function vt(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0;return n=Mn,Mn=Mn+64|0,r=n+40|0,i=n+24|0,a=n+16|0,o=n,s=n+56|0,0|st(5759,0|fn[t>>0])?(l=0|ne(1156),l?(tn(0|l,0,124),0|st(t,43)||(vn[l>>2]=114==(0|fn[t>>0])?8:4),0|st(t,101)&&(vn[o>>2]=e,vn[o+4>>2]=2,vn[o+8>>2]=1,$n(221,0|o)),97==(0|fn[t>>0])?(vn[a>>2]=e,vn[a+4>>2]=3,t=0|$n(221,0|a),1024&t||(vn[i>>2]=e,vn[i+4>>2]=4,vn[i+8>>2]=1024|t,$n(221,0|i)),i=128|vn[l>>2],vn[l>>2]=i,c=i):c=0|vn[l>>2],vn[l+60>>2]=e,vn[l+44>>2]=l+132,vn[l+48>>2]=1024,i=l+75|0,fn[i>>0]=-1,(0==(8&c|0)?(vn[r>>2]=e,vn[r+4>>2]=21523,vn[r+8>>2]=s,0==(0|nr(54,0|r))):0)&&(fn[i>>0]=10),vn[l+32>>2]=3,vn[l+36>>2]=1,vn[l+40>>2]=2,vn[l+12>>2]=1,0|vn[2090]||(vn[l+76>>2]=-1),yt(l),u=l):u=0):(l=0|Ae(),vn[l>>2]=22,u=0),Mn=n,0|u}function yt(e){e|=0;var t=0,n=0;return t=0|ht(),vn[e+56>>2]=vn[t>>2],n=0|vn[t>>2],0|n&&(vn[n+52>>2]=e),vn[t>>2]=e,mt(),0|e}function It(e){e|=0;var t=0,n=0,r=0,i=0,a=0,o=0,s=0;return t=e+20|0,n=e+28|0,((0|vn[t>>2])>>>0>(0|vn[n>>2])>>>0?(ur[7&vn[e+36>>2]](e,0,0),0==(0|vn[t>>2])):0)?r=-1:(i=e+4|0,a=0|vn[i>>2],o=e+8|0,s=0|vn[o>>2],a>>>0<s>>>0&&ur[7&vn[e+40>>2]](e,a-s|0,1),vn[e+16>>2]=0,vn[n>>2]=0,vn[t>>2]=0,vn[o>>2]=0,vn[i>>2]=0,r=0),0|r}function bt(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0,u=0,c=0;n=Mn,Mn=Mn+16|0,r=n,i=255&t,fn[r>>0]=i,a=e+16|0,o=0|vn[a>>2],o?(s=o,l=4):0|at(e)?u=-1:(s=0|vn[a>>2],l=4);do{if(4==(0|l)){if(o=e+20|0,a=0|vn[o>>2],a>>>0<s>>>0?(0|(c=255&t))!=(0|fn[e+75>>0]):0){vn[o>>2]=a+1,fn[a>>0]=i,u=c;break}u=1==(0|ur[7&vn[e+36>>2]](e,r,1))?0|In[r>>0]:-1}}while(0);return Mn=n,0|u}function Ct(e){e|=0;var t=0,n=0;return t=128&vn[e>>2]&&(0|vn[e+20>>2])>>>0>(0|vn[e+28>>2])>>>0?2:1,n=0|ur[7&vn[e+40>>2]](e,0,t),0|((0|n)<0?n:n-(0|vn[e+8>>2])+(0|vn[e+4>>2])+(0|vn[e+20>>2])-(0|vn[e+28>>2])|0)}function Bt(e){e|=0;var t=0,n=0;return(0|vn[e+76>>2])>-1?(0==(0|Ne(e)),t=0|Ct(e),n=t):n=0|Ct(e),0|n}function wt(e){return e|=0,0|Bt(e)}function St(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0;return r=1==(0|n)?t-(0|vn[e+8>>2])+(0|vn[e+4>>2])|0:t,t=e+20|0,i=e+28|0,((0|vn[t>>2])>>>0>(0|vn[i>>2])>>>0?(ur[7&vn[e+36>>2]](e,0,0),0==(0|vn[t>>2])):0)?a=-1:(vn[e+16>>2]=0,vn[i>>2]=0,vn[t>>2]=0,(0|ur[7&vn[e+40>>2]](e,r,n))<0?a=-1:(vn[e+8>>2]=0,vn[e+4>>2]=0,vn[e>>2]=-17&vn[e>>2],a=0)),0|a}function Tt(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0;return(0|vn[e+76>>2])>-1?(r=0==(0|Ne(e)),i=0|St(e,t,n),r?a=i:(Pe(e),a=i)):a=0|St(e,t,n),0|a}function kt(e,t,n){return e|=0,t|=0,n|=0,0|Tt(e,t,n)}function Qt(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0,o=0,s=0,l=0;((0|vn[t+76>>2])>=0?0!=(0|Ne(t)):0)?(n=255&e,r=255&e,((0|r)!=(0|fn[t+75>>0])?(i=t+20|0,(a=0|vn[i>>2])>>>0<(0|vn[t+16>>2])>>>0):0)?(vn[i>>2]=a+1,fn[a>>0]=n,o=r):o=0|bt(t,e),Pe(t),s=o):l=3;do{if(3==(0|l)){if(o=255&e,r=255&e,(0|r)!=(0|fn[t+75>>0])?(n=t+20|0,(a=0|vn[n>>2])>>>0<(0|vn[t+16>>2])>>>0):0){vn[n>>2]=a+1,fn[a>>0]=o,s=r;break}s=0|bt(t,e)}}while(0);return 0|s}function Dt(e){e|=0;var t=0,n=0,r=0,i=0,a=0;return t=Mn,Mn=Mn+16|0,n=t+8|0,r=t,i=e,vn[r>>2]=i,e=0|zn(10,0|r),-21==(0|e)?(vn[n>>2]=i,a=0|er(40,0|n)):a=e,e=0|de(a),Mn=t,0|e}function Rt(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0;return i=0|Fn(n,t),a=0==(0|t)?0:n,(0|vn[r+76>>2])>-1?(n=0==(0|Ne(r)),o=0|it(e,i,r),n?s=o:(Pe(r),s=o)):s=0|it(e,i,r),0|((0|s)==(0|i)?a:(s>>>0)/(t>>>0)|0)}function _t(e,t){e|=0,t|=0;var n=0,r=0;return n=Mn,Mn=Mn+16|0,r=n,vn[r>>2]=t,t=0|_e(0|vn[888],e,r),Mn=n,0|t}function Mt(e,t){e|=0,t|=0;var n=0;return n=0|ke(e),((0|Rt(e,1,n,t))!=(0|n))<<31>>31|0}function Nt(e){e|=0;var t=0,n=0,r=0,i=0,a=0;t=0|vn[888],n=(0|vn[t+76>>2])>-1?0|Ne(t):0;do{if((0|Mt(e,t))<0)r=-1;else{if(10!=(0|fn[t+75>>0])?(i=t+20|0,(a=0|vn[i>>2])>>>0<(0|vn[t+16>>2])>>>0):0){vn[i>>2]=a+1,fn[a>>0]=10,r=0;break}r=(0|bt(t,10))>>31}}while(0);return 0|n&&Pe(t),0|r}function Pt(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0;i=0|Fn(n,t),a=0==(0|t)?0:n,o=(0|vn[r+76>>2])>-1?0|Ne(r):0,n=r+74|0,s=0|fn[n>>0],fn[n>>0]=s+255|s,s=r+4|0,n=0|vn[s>>2],l=(0|vn[r+8>>2])-n|0,
(0|l)>0?(u=l>>>0<i>>>0?l:i,$t(0|e,0|n,0|u),vn[s>>2]=(0|vn[s>>2])+u,c=i-u|0,d=e+u|0):(c=i,d=e);e:do{if(c){for(e=r+32|0,u=d,s=c;;){if(0|lt(r))break;if(((n=0|ur[7&vn[e>>2]](r,u,s))+1|0)>>>0<2)break;if(!(l=s-n|0)){A=13;break e}u=u+n|0,s=l}0|o&&Pe(r),g=((i-s|0)>>>0)/(t>>>0)|0}else A=13}while(0);return 13==(0|A)&&(o?(Pe(r),g=a):g=a),0|g}function Ot(e){e|=0;var t=0,n=0;return(0|vn[e+76>>2])>-1?(0==(0|Ne(e)),t=(0|vn[e>>2])>>>4&1,n=t):n=(0|vn[e>>2])>>>4&1,0|n}function Lt(e){e=+e;var t=0,n=0,r=0,i=0;return Qn[_n>>3]=e,t=0|vn[_n+4>>2],n=2146435072&t,n>>>0>1126170624|1126170624==(0|n)&!1?i=e:(n=(0|t)<0,r=n?e+-4503599627370496+4503599627370496:e+4503599627370496+-4503599627370496,i=0==r?n?-0:0:r),+i}function xt(e){e=+e;return 0|ct(32),0|~~+Lt(e)}function Ft(){}function Ut(e,t){e|=0,t|=0;var n=0,r=0,i=0,a=0;return n=65535&e,r=65535&t,i=0|Fn(r,n),a=e>>>16,e=(i>>>16)+(0|Fn(r,a))|0,r=t>>>16,t=0|Fn(r,n),0|(Ln=(e>>>16)+(0|Fn(r,a))+(((65535&e)+t|0)>>>16)|0,e+t<<16|65535&i|0)}function Vt(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0,a=0;return i=e,e=n,n=0|Ut(i,e),a=Ln,0|(Ln=(0|Fn(t,e))+(0|Fn(r,i))+a|0&a,0|n)}function Gt(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0;return i=e+n>>>0,0|(Ln=t+r+(i>>>0<e>>>0|0)>>>0,0|i)}function Ht(e,t,n,r){e|=0,t|=0,n|=0,r|=0;var i=0;return i=t-r>>>0,i=t-r-(n>>>0>e>>>0|0)>>>0,0|(Ln=i,e-n>>>0|0)}function jt(e){return e|=0,0|(e?31-(0|Gn(e^e-1))|0:32)}function Yt(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0;var a=0,o=0,s=0,l=0,u=0,c=0,d=0,A=0,g=0,p=0,f=0,h=0,m=0,E=0,v=0,y=0,I=0,b=0,C=0,B=0,w=0,S=0,T=0,k=0,Q=0,D=0,R=0;if(a=e,o=t,s=o,l=n,u=r,c=u,!s)return d=0!=(0|i),c?d?(vn[i>>2]=0|e,vn[i+4>>2]=0&t,A=0,g=0,0|(Ln=A,g)):(A=0,g=0,0|(Ln=A,g)):(d&&(vn[i>>2]=(a>>>0)%(l>>>0),vn[i+4>>2]=0),A=0,g=(a>>>0)/(l>>>0)>>>0,0|(Ln=A,g));d=0==(0|c);do{if(l){if(!d){if((p=(0|Gn(0|c))-(0|Gn(0|s))|0)>>>0<=31){f=p+1|0,h=31-p|0,m=p-31>>31,E=f,v=a>>>(f>>>0)&m|s<<h,y=s>>>(f>>>0)&m,I=0,b=a<<h;break}return i?(vn[i>>2]=0|e,vn[i+4>>2]=o|0&t,A=0,g=0,0|(Ln=A,g)):(A=0,g=0,0|(Ln=A,g))}if((h=l-1|0)&l|0){m=33+(0|Gn(0|l))-(0|Gn(0|s))|0,f=64-m|0,p=32-m|0,C=p>>31,B=m-32|0,w=B>>31,E=m,v=p-1>>31&s>>>(B>>>0)|(s<<p|a>>>(m>>>0))&w,y=w&s>>>(m>>>0),I=a<<f&C,b=(s<<f|a>>>(B>>>0))&C|a<<p&m-33>>31;break}return 0|i&&(vn[i>>2]=h&a,vn[i+4>>2]=0),1==(0|l)?(A=o|0&t,g=0|e,0|(Ln=A,g)):(h=0|jt(0|l),A=s>>>(h>>>0)|0,g=s<<32-h|a>>>(h>>>0)|0,0|(Ln=A,g))}if(d)return 0|i&&(vn[i>>2]=(s>>>0)%(l>>>0),vn[i+4>>2]=0),A=0,g=(s>>>0)/(l>>>0)>>>0,0|(Ln=A,g);if(!a)return 0|i&&(vn[i>>2]=0,vn[i+4>>2]=(s>>>0)%(c>>>0)),A=0,g=(s>>>0)/(c>>>0)>>>0,0|(Ln=A,g);if(!((h=c-1|0)&c))return 0|i&&(vn[i>>2]=0|e,vn[i+4>>2]=h&s|0&t),A=0,g=s>>>((0|jt(0|c))>>>0),0|(Ln=A,g);if((h=(0|Gn(0|c))-(0|Gn(0|s))|0)>>>0<=30){m=h+1|0,p=31-h|0,E=m,v=s<<p|a>>>(m>>>0),y=s>>>(m>>>0),I=0,b=a<<p;break}return i?(vn[i>>2]=0|e,vn[i+4>>2]=o|0&t,A=0,g=0,0|(Ln=A,g)):(A=0,g=0,0|(Ln=A,g))}while(0);if(E){t=0|n,n=u|0&r,r=0|Gt(0|t,0|n,-1,-1),u=Ln,o=b,b=I,I=y,y=v,v=E,E=0;do{e=o,o=b>>>31|o<<1,b=E|b<<1,a=y<<1|e>>>31|0,e=y>>>31|I<<1|0,Ht(0|r,0|u,0|a,0|e),s=Ln,c=s>>31|((0|s)<0?-1:0)<<1,E=1&c,y=0|Ht(0|a,0|e,c&t|0,(((0|s)<0?-1:0)>>31|((0|s)<0?-1:0)<<1)&n|0),I=Ln,v=v-1|0}while(0!=(0|v));S=o,T=b,k=I,Q=y,D=0,R=E}else S=b,T=I,k=y,Q=v,D=0,R=0;return E=T,T=0,0|i&&(vn[i>>2]=Q,vn[i+4>>2]=k),A=(0|E)>>>31|(S|T)<<1|0&(T<<1|E>>>31)|D,g=-2&(E<<1|0)|R,0|(Ln=A,g)}function Kt(e,t,n,r){return e|=0,t|=0,n|=0,r|=0,0|Yt(e,t,n,r,0)}function qt(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(Ln=t>>>n,e>>>n|(t&(1<<n)-1)<<32-n):(Ln=0,t>>>n-32|0)}function Jt(e,t,n){return e|=0,t|=0,(0|(n|=0))<32?(Ln=t<<n|(e&(1<<n)-1<<32-n)>>>32-n,e<<n):(Ln=e<<n-32,0)}function zt(e){return(255&(e|=0))<<8|e>>8&255|0}function Wt(e){return(255&(e|=0))<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>>24|0}function Zt(e,t){return e=+e,t=+t,e!=e?+t:t!=t?+e:+Vn(+e,+t)}function Xt(e,t){return e=+e,t=+t,e!=e?+t:t!=t?+e:+Un(+e,+t)}function $t(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0;if((0|n)>=8192)return 0|ar(0|e,0|t,0|n);if(r=0|e,i=e+n|0,(3&e)==(3&t)){for(;3&e;){if(!n)return 0|r;fn[e>>0]=0|fn[t>>0],e=e+1|0,t=t+1|0,n=n-1|0}for(a=-4&i|0,n=a-64|0;(0|e)<=(0|n);)vn[e>>2]=vn[t>>2],vn[e+4>>2]=vn[t+4>>2],vn[e+8>>2]=vn[t+8>>2],vn[e+12>>2]=vn[t+12>>2],vn[e+16>>2]=vn[t+16>>2],vn[e+20>>2]=vn[t+20>>2],vn[e+24>>2]=vn[t+24>>2],vn[e+28>>2]=vn[t+28>>2],vn[e+32>>2]=vn[t+32>>2],vn[e+36>>2]=vn[t+36>>2],vn[e+40>>2]=vn[t+40>>2],vn[e+44>>2]=vn[t+44>>2],vn[e+48>>2]=vn[t+48>>2],vn[e+52>>2]=vn[t+52>>2],vn[e+56>>2]=vn[t+56>>2],vn[e+60>>2]=vn[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|a);)vn[e>>2]=vn[t>>2],e=e+4|0,t=t+4|0}else for(a=i-4|0;(0|e)<(0|a);)fn[e>>0]=0|fn[t>>0],fn[e+1>>0]=0|fn[t+1>>0],fn[e+2>>0]=0|fn[t+2>>0],fn[e+3>>0]=0|fn[t+3>>0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|i);)fn[e>>0]=0|fn[t>>0],e=e+1|0,t=t+1|0;return 0|r}function en(e,t,n){e|=0,t|=0,n|=0;var r=0;if((0|t)<(0|e)&(0|e)<(t+n|0)){for(r=e,t=t+n|0,e=e+n|0;(0|n)>0;)e=e-1|0,t=t-1|0,n=n-1|0,fn[e>>0]=0|fn[t>>0];e=r}else $t(e,t,n);return 0|e}function tn(e,t,n){e|=0,t|=0,n|=0;var r=0,i=0,a=0,o=0;if(r=e+n|0,t&=255,(0|n)>=67){for(;3&e;)fn[e>>0]=t,e=e+1|0;for(i=-4&r|0,a=i-64|0,o=t|t<<8|t<<16|t<<24;(0|e)<=(0|a);)vn[e>>2]=o,vn[e+4>>2]=o,vn[e+8>>2]=o,vn[e+12>>2]=o,vn[e+16>>2]=o,vn[e+20>>2]=o,vn[e+24>>2]=o,vn[e+28>>2]=o,vn[e+32>>2]=o,vn[e+36>>2]=o,vn[e+40>>2]=o,vn[e+44>>2]=o,vn[e+48>>2]=o,vn[e+52>>2]=o,vn[e+56>>2]=o,vn[e+60>>2]=o,e=e+64|0;for(;(0|e)<(0|i);)vn[e>>2]=o,e=e+4|0}for(;(0|e)<(0|r);)fn[e>>0]=t,e=e+1|0;return r-n|0}function nn(e){e|=0;var t=0,n=0;return t=0|vn[Rn>>2],n=t+e|0,(0|e)>0&(0|n)<(0|t)|(0|n)<0?(Kn(),Jn(12),-1):(vn[Rn>>2]=n,((0|n)>(0|Yn())?0==(0|jn()):0)?(vn[Rn>>2]=t,Jn(12),-1):0|t)}function rn(e,t){return e|=0,t|=0,0|sr[1&e](0|t)}function an(e,t,n){return e|=0,t|=0,n|=0,0|lr[1&e](0|t,0|n)}function on(e,t,n,r){return e|=0,t|=0,n|=0,r|=0,0|ur[7&e](0|t,0|n,0|r)}function sn(e,t,n,r,i){e|=0,t|=0,n=+n,r=+r,i|=0,cr[0&e](0|t,+n,+r,0|i)}function ln(e,t,n,r,i){e|=0,t|=0,n|=0,r|=0,i|=0,dr[1&e](0|t,0|n,0|r,0|i)}function un(e){return e|=0,Hn(0),0}function cn(e,t){return e|=0,t|=0,Hn(1),0}function dn(e,t,n){return e|=0,t|=0,n|=0,Hn(2),0}function An(e,t,n,r){e|=0,t=+t,n=+n,r|=0,Hn(3)}function gn(e,t,n,r){e|=0,t|=0,n|=0,r|=0,Hn(4)}var pn=e.Int8Array,fn=new pn(n),hn=e.Int16Array,mn=new hn(n),En=e.Int32Array,vn=new En(n),yn=e.Uint8Array,In=new yn(n),bn=e.Uint16Array,Cn=new bn(n),Bn=e.Uint32Array,wn=new Bn(n),Sn=e.Float32Array,Tn=new Sn(n),kn=e.Float64Array,Qn=new kn(n),Dn=e.byteLength,Rn=0|t.DYNAMICTOP_PTR,_n=0|t.tempDoublePtr,Mn=0|t.STACKTOP,Nn=0|t.STACK_MAX,Pn=0,On=0,Ln=(e.NaN,e.Infinity,0),xn=(e.Math.floor,e.Math.abs),Fn=(e.Math.sqrt,e.Math.pow,e.Math.cos,e.Math.sin,e.Math.tan,e.Math.acos,e.Math.asin,e.Math.atan,e.Math.atan2,e.Math.exp,e.Math.log,e.Math.ceil,e.Math.imul),Un=e.Math.min,Vn=e.Math.max,Gn=e.Math.clz32,Hn=t.abort,jn=(t.assert,t.enlargeMemory),Yn=t.getTotalMemory,Kn=t.abortOnCannotGrowMemory,qn=(t.invoke_ii,t.invoke_iii,t.invoke_iiii,t.invoke_viddi,t.invoke_viiii,t.___lock),Jn=t.___setErrNo,zn=t.___syscall10,Wn=t.___syscall140,Zn=t.___syscall145,Xn=t.___syscall146,$n=t.___syscall221,er=t.___syscall40,tr=t.___syscall5,nr=t.___syscall54,rr=t.___syscall6,ir=t.___unlock,ar=(t.__exit,t._emscripten_memcpy_big),or=t._exit,sr=(t._llvm_fabs_f64,[un,le]),lr=[cn,H],ur=[dn,ue,ce,pe,fe,ot,dn,dn],cr=[An],dr=[gn,M];return{___errno_location:Ae,___muldi3:Vt,___udivdi3:Kt,_bitshift64Lshr:qt,_bitshift64Shl:Jt,_convert_segment_file:V,_emscripten_replace_memory:r,_free:re,_get_dts_offset:F,_get_key_frame_first:U,_get_last_vpts:x,_i64Add:Gt,_i64Subtract:Ht,_llvm_bswap_i16:zt,_llvm_bswap_i32:Wt,_llvm_maxnum_f64:Zt,_llvm_minnum_f64:Xt,_malloc:ne,_memcpy:$t,_memmove:en,_memset:tn,_sbrk:nn,_simulate_memory_allocation:G,_stream_ctx_delete:B,_stream_ctx_new:C,dynCall_ii:rn,dynCall_iii:an,dynCall_iiii:on,dynCall_viddi:sn,dynCall_viiii:ln,establishStackSpace:s,getTempRet0:c,runPostSets:Ft,setTempRet0:u,setThrew:l,stackAlloc:i,stackRestore:o,stackSave:a}}(Module.asmGlobalArg,Module.asmLibraryArg,Ie),wt=(Module.___errno_location=Bt.___errno_location,Module.___muldi3=Bt.___muldi3,Module.___udivdi3=Bt.___udivdi3,Module._bitshift64Lshr=Bt._bitshift64Lshr,Module._bitshift64Shl=Bt._bitshift64Shl,Module._convert_segment_file=Bt._convert_segment_file,Module._emscripten_replace_memory=Bt._emscripten_replace_memory),St=(Module._free=Bt._free,Module._get_dts_offset=Bt._get_dts_offset,Module._get_key_frame_first=Bt._get_key_frame_first,Module._get_last_vpts=Bt._get_last_vpts,Module._i64Add=Bt._i64Add,Module._i64Subtract=Bt._i64Subtract,Module._llvm_bswap_i16=Bt._llvm_bswap_i16,Module._llvm_bswap_i32=Bt._llvm_bswap_i32,Module._llvm_maxnum_f64=Bt._llvm_maxnum_f64,Module._llvm_minnum_f64=Bt._llvm_minnum_f64,Module._malloc=Bt._malloc),Tt=(Module._memcpy=Bt._memcpy,Module._memmove=Bt._memmove,Module._memset=Bt._memset,Module._sbrk=Bt._sbrk,Module._simulate_memory_allocation=Bt._simulate_memory_allocation,Module._stream_ctx_delete=Bt._stream_ctx_delete,Module._stream_ctx_new=Bt._stream_ctx_new,Module.establishStackSpace=Bt.establishStackSpace,Module.getTempRet0=Bt.getTempRet0,Module.runPostSets=Bt.runPostSets,Module.setTempRet0=Bt.setTempRet0,Module.setThrew=Bt.setThrew,Module.stackAlloc=Bt.stackAlloc),kt=Module.stackRestore=Bt.stackRestore,Qt=Module.stackSave=Bt.stackSave;Module.dynCall_ii=Bt.dynCall_ii,Module.dynCall_iii=Bt.dynCall_iii,Module.dynCall_iiii=Bt.dynCall_iiii,Module.dynCall_viddi=Bt.dynCall_viddi,Module.dynCall_viiii=Bt.dynCall_viiii;if(Module.asm=Bt,Module.cwrap=i,ot)if(M(ot)||(ot=function(e){return Module.locateFile?Module.locateFile(e,he):he+e}(ot)),pe||fe){var Dt=Module.readBinary(ot);Ce.set(Dt,8)}else{R("memory initializer");var Rt=function(e){e.byteLength&&(e=new Uint8Array(e)),Ce.set(e,8),Module.memoryInitializerRequest&&delete Module.memoryInitializerRequest.response,_("memory initializer")},_t=X(ot);_t?Rt(_t.buffer):Module.memoryInitializerRequest?Module.memoryInitializerRequest.response?setTimeout(ae,0):Module.memoryInitializerRequest.addEventListener("load",ae):ie()}oe.prototype=new Error,oe.prototype.constructor=oe;var Mt;if(at=function e(){Module.calledRun||se(),Module.calledRun||(at=e)},Module.run=se,Module.abort=ue,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();return Module.noExitRuntime=!0,se(),{Module:Module,FS:mt}}}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!HlscoreLoader",["exports","base64-hlscore-wasm","hlscore","hlscore-asm","util"],t);else if("undefined"!=typeof exports)t(exports,require("base64-hlscore-wasm"),require("hlscore"),require("hlscore-asm"),require("util"));else{var n={exports:{}};t(n.exports,e.base64HlscoreWasm,e.hlscore,e.hlscoreAsm,e.util),e.unknown=n.exports}}(this,function(e,t,n,r,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(){this.hasRuntimeInitialized_=!0,this.hlscore_&&this.releaseQueue()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=a(t),n=a(n),r=a(r),i=a(i);var c=function(){function e(n,r){o(this,e),this.mode_=r.mode,window.Module={onRuntimeInitialized:u.bind(this),locateFile:function(e,t){return r.baseUrl+"lib/"+e}},this.mode_==e.Mode.MODULARIZED_WEB_ASSEMBLY&&(window.Module.wasmBinary=i.default.base64ToUint8Array(t.default)),this.log_=n?n.getLogFn("HlscoreLoader"):function(){console.log.apply(console,["[!HlscoreLoader!]\t"].concat(Array.prototype.slice.call(arguments)))},this.hlscore_=null,this.callbackQueue_=[],this.hasRuntimeInitialized_=!1}return l(e,[{key:"releaseQueue",value:function(){for(;this.callbackQueue_.length;){var e=this.callbackQueue_.shift();"function"==typeof e&&e(this.hlscore_)}}},{key:"load",value:function(){if(this.log_("@load with mode:",this.mode_),!this.hlscore_){var t;t=this.mode_==e.Mode.ASM?r.default:n.default,this.hlscore_=t(),this.hasRuntimeInitialized_&&this.releaseQueue()}}},{key:"registerCallback",value:function(e){this.callbackQueue_.push(e),this.hasRuntimeInitialized_&&this.releaseQueue()}},{key:"resetCallbackQueue",value:function(){this.callbackQueue_=[]}},{key:"destroy",value:function(){this.mode_=null,this.hlscore_=null,this.callbackQueue_=[],this.hasRuntimeInitialized_=!1}}]),e}();e.default=c,c.Mode={ASM:"ASM",WEB_ASSEMBLY:"WEB_ASSEMBLY",MODULARIZED_WEB_ASSEMBLY:"MODULARIZED_WEB_ASSEMBLY"}}),anv.define("VideoManager",["util","PlayerSelector","Video","ExternalVideoInterface","JSHlsVideo","DashVideo","FlashVideo","ShakaVideo","Audio","es6!HlscoreLoader","hlscore"],function(e,t,n,r,i,a,o,s,l,u,c){function d(c,d,A,g,p,f){function h(){F("@onHlscoreReady")}function m(e){switch(F("@setVideoInstanceType",e),Y.resetCallbackQueue(),e){case G.MSE:P=new i(c,d,A,g,U),Y.registerCallback(P.setHlscore),j.mode==u.default.Mode.ASM&&Y.load();break;case G.HTML5:P=new n(c,d,A,g);break;case G.FLASH:P=new o(c,d,A,g);break;case G.EXTERNAL:P=new r(c,d,A,g);break;case G.DASH:P=new a(c,d,A,g,U);break;case G.SHAKA:P=new s(c,d,A,g,U);break;case G.AUDIO:P=new l(c,d,A,g);break;default:throw new Error("Unrecognized video instance type set with setVideoInstanceType")}f.dispatchEvent("PLAYER_TYPE_SET",e),c.publish("playerTypeSet",e)}function E(e){var t=Array.prototype.slice.call(arguments,1);try{if(e in P)return P[e].apply(null,t)}catch(t){console.error("Encountered an error while calling method: "+e+" on selectedVideoInstance:",t.message)}}function v(){M&&M.resetCapabilities&&M.resetCapabilities()}function y(){P&&P.destroy&&P.destroy()}function I(e,t){return M.filterPublishedUrls(e,t)}function b(n,r,i){O=i;var a,o=r.videoElement,s=r.audioElement,l=r.audioPosterElement;if(arguments.length>2&&(arguments[1].videoElement="",arguments[1].audioElement="",arguments[1].audioPosterElement="",x=e.deepCopy(Array.prototype.slice.call(arguments)),arguments[1].videoElement=x[1].videoElement=o,arguments[1].audioElement=x[1].audioElement=s,arguments[1].audioPosterElement=x[1].audioPosterElement=l,x[2]=i),!(n&&"object"==typeof n&&"length"in n))return console.error("No valid media urls are provided"),!1;if(a=I(n,r.isLive),!(N=M.getSelection({isLive:r.isLive},V,a.filteredTypes,a.filtered)))return F("@setSourceOnCompatiblePlayer no compatible player selection"),!1;if(L=V==t.SelectionTypes.STRICT_MEDIA_URL_ORDER?a.filtered[N.selectedFormatIndex]:R(a.filtered,r.duration,r.isLive,r.selectedBitrate),L&&"adBreakInfo"in L||g.compactInfo?c.publish("adBreakInfoDetected",L.adBreakInfo||g.compactInfo):c.publish("adBreakInfoDetected",null),g.externalVideoInterface&&r.isLive?(F("@setSourceOnCompatiblePlayer using ExternalVideoInterface as videoObj"),"getType"in P&&P.getType()!=G.EXTERNAL&&(F("@setSourceOnCompatiblePlayer creating ExternalVideoInterface as videoObj"),P.destroy(),P.setVideoInstanceType(G.EXTERNAL),P.init())):(F("@setSourceOnCompatiblePlayer creating",N.selectedPlayer,"as videoObj"),F("@setSourceOnCompatiblePlayer","getType"in P,P.getType(),N.selectedPlayer,P.getType()!=N.selectedPlayer),F("@setSourceOnCompatiblePlayer destroying ",P.getType(),"to create",N.selectedPlayer),P.destroy(),m(N.selectedPlayer),P.init(r.videoElement,r.width,r.height,{element:r.audioElement,posterElement:r.audioPosterElement,posterUrl:r.poster})),g.startAtContentTime&&(r.offset=f.translateToAbsoluteTime(g.startAtContentTime)),!L||"object"!=typeof L||"length"in L)F("@setSourceOnCompatiblePlayer Invalid source info",L);else{var u=r.useBackup?L.backup_url:L.embed_url;if(!(U.master_m3u8_cache&&U.master_m3u8_cache[u])&&C(L,r.timeDelta))return F("Master has expired and it was not cached before, triggering failover"),void c.publish("streamError","VMNG030");L.video=r.uploadId,L.timeDelta=r.timeDelta,F("@setSourceOnCompatiblePlayer selectedVideoSourceInfo",L),B(L,N,r.isLive),P.setSource(L,D,r.offset,r.useBackup,r.livePlayAt)}return!0}function C(e,t){var n,r=/[\W]te=([0-9]+)(\W|$)/,i=r.exec(e.embed_url),a=(Date.now()+t)/1e3;return!!(i&&i.length>2)&&(n=parseInt(i[1]),F("@hasMasterExpired",n,"vs",a),a>n)}function B(e,t,n){var r,i={DASH:1,MSE:1},a=/\{\{NEED_SERVER_SIDE_AD_TRACKING\}\}/,o=!("clientSideAdTracking"in g)||!!g.clientSideAdTracking;n&&(o=t.selectedPlayer in i&&o),r=o?0:1,e&&("string"==typeof e.embed_url&&(e.embed_url=e.embed_url.replace(a,r)),"string"==typeof e.backup_url&&(e.backup_url=e.backup_url.replace(a,r)),f.dispatchEvent("STITCHED_AD_TRACKING_TYPE_SET",o?"client-side":"server-side"))}function w(){return L}function S(){return L&&!!L.backup_url}function T(e,t,n){return F("@loadBackupStream selectedVideoSourceInfo",L),"backup_url"in L&&L.embed_url!=L.backup_url?(P.destroy(),m(N.selectedPlayer),P.init(e,t,n),P.setSource(L,D,null,!0),!0):(console.error("@loadBackupStream no backup stream detected"),!1)}function k(e,t,n){return F("@loadMainStream selectedVideoSourceInfo",L),P.destroy(),m(N.selectedPlayer),P.init(e,t,n),P.setSource(L,D,null),!0}function Q(e){var t,n,r,i;return!("failover"!==e||!x||(t=x[0],n=x[1],r=M.filterPublishedUrls(t,n.isLive),(i=r.filtered)&&i.length))}function D(e,t){F("@evaluateError",e);var n=!1;if(e){if(N&&(F("blacklisting capability:",N.selectedPlayer,N.selectedFormat),M.blackListCapability(N.selectedPlayer,N.selectedFormat)),F("@evaluateError last currentTime",P.getCurrentTime()),Q(t))return!1;n=b.apply(null,Array.prototype.slice.call(x))}return F("@evaluateError alternateAvailable:",n),"failover"!=t&&O&&O(e),n}function R(e,t,n,r){var i,a,o,s,l,u,c=0,d=625e4;if(!e||!e.length)return f.dispatchError("VMNG010"),null;if(!(o=N&&N.selectedFormat||null))return f.dispatchError("VMNG020"),null;F("@selectBestFormat isLive:",n,"selectedFormat:",o),o in{DASH_VOD:1,DASH_LIVE:1}?u=!0:o in{HLS_LIVE:1,HLS_VOD:1}?l=!0:o in{MP4:1,MP4_BP:1}&&(s=!0),F("@selectBestFormat isMp4Prioritized",s),F("@selectBestFormat isHLSPrioritized",l),F("@selectBestFormat isDashPrioritized",u);for(var p,h=0,m=e.length;h<m;h++)(i=e[h])&&i.protocol in{http:1,https:1}&&(p="string"==typeof i.format?i.format.toLowerCase():"",(p.indexOf("mp4")>-1||p.indexOf("m3u8")>-1||p.indexOf("dash")>-1)&&(a=Math.pow(parseInt(r)-(parseInt(i.kbps)||r),2),F("@selectBestFormat non-prioritized raw score",a,"item.kbps",i.kbps,"selectedBitrate",r),s&&p.indexOf("mp4")>-1&&(a-=7840001),s&&/mp4.*bp/.test(p)&&(a-=7840001),l&&p.indexOf("m3u8")>-1&&(a-=5e4),l&&"m3u8-variant"==p&&(a-=5e4),u&&/dash/.test(i.format)&&(a-=5e4),u&&/dash/.test(i.format)&&"string"==typeof i.kbps&&/variant/.test(i.kbps.toLowerCase())&&(a-=5e4),g.preferredCdn&&"string"==typeof i.cdn_name&&new RegExp(g.preferredCdn,"i").test(i.cdn_name)&&(a-=1e3),F("@selectBestFormat kbps:",i.kbps,"format:",p,"score:",a,i.protocol),a<d&&(c=h,d=a)));return F("@selectBestFormat selected embed_url:",e[c].format,e[c].embed_url,e[c].embed_url.length),e[c].embed_url.length>=1024&&F("WARNING: Some platforms such as fire tv does not accept URLs longer than 1024 bytes"),F("selected entry",A.stringify(e[c],null,3)),e[c]}function _(e,n){var r=I(e,n),i=M.getSelection({isLive:n},t.SelectionTypes.PLAYER_PRIORITY,r.filteredTypes);return!(!i||!i.selectedPlayer||i.selectedPlayer!==G.AUDIO)}var M,N,P,O,L,x,F=A?A.getLogFn("VideoManager"):function(){console.log.apply(console,["[!VideoManager!]\t"].concat(Array.prototype.slice.call(arguments)))},U={},V="number"==typeof g.playerSelectionType?g.playerSelectionType:t.SelectionTypes.STRICT_MEDIA_URL_ORDER,G={MSE:"MSE",DASH:"DASH",SHAKA:"SHAKA",HTML5:"HTML5",FLASH:"FLASH",EXTERNAL:"EXTERNAL",AUDIO:"AUDIO"},H=["videoContent","init","width","height","getCurrentTime","seekTo","getDuration","load","setSource","getSource","getReadyState","play","pause","hardPause","setVolume","getVolume","hide","show","setStyle","hasEmbedCaption","enabledEmbedCaption","disableEmbedCaption","resize","setFullscreen","getPaused","startTimeNotification","cancelTimeNotification","setPlaybackRate","getPlaybackRate","resetPlaybackRate","getBufferEnd","enableEmbedCaption","loadOpenCaption","unloadOpenCaption","getType","destroy","catchLive","setSpherical","isBitrateSwitchSupported","setBitrate","toggleMobileAutoPlay","notifyCaptionStatus","toggleInlinePlayback","isMuted","stopDownload","resumeDownload","getRemainingBuffer","loadWebVtt"],j={mode:u.default.Mode.ASM,baseUrl:g.baseURL};g.mseOptimizationMode&&g.mseOptimizationMode in u.default.Mode&&(j.mode=g.mseOptimizationMode);var Y=new u.default(A,j);Y.registerCallback(h),j.mode!=u.default.Mode.ASM&&Y.load();var K={};return function(){for(var e=0,t=H.length;e<t;e++)K[H[e]]=E.bind(null,H[e]);K.setVideoInstanceType=m,K.filterPublishedUrls=I,K.setSourceOnCompatiblePlayer=b,K.getSelectedVideoSourceInfo=w,K.hasBackupStream=S,K.loadBackupStream=T,K.loadMainStream=k,K.evaluateError=D,K.isAudioOnly=_,K.destroySelectedVideoInstance=y,K.resetCapabilityBlacklist=v}(),M=new t(c,document.createElement("video"),document.createElement("audio"),A,g),K}return d}),anv.define("Control",["util"],function(e){function t(t,n,r,i,a){function o(e){var t={quality:"bitrateMenuVisible",duration:"duration",currentTime:"currentTime",preview:"preview"};for(var n in e)e.hasOwnProperty(n)&&(e[n]=s(n+"ButtonVisible",t[n]),Ee[n]=n)}function s(e,t){return e in a?a[e]:!(t&&t in a)||a[t]}function l(e){ge&&(ge.style.visibility="hidden"),clearTimeout(ee),e.style.visibility="visible",ge=e}function u(){clearTimeout(ee),ee=setTimeout(function(){ge&&(ge.style.visibility="hidden",ge=null)},1400)}function c(t,n){se?(e.addEventListener(t,"touchstart",function(e){return function(t){l(e)}}(n),!1),e.addEventListener(t,"touchend",function(e){return function(t){u(e)}}(n),!1)):(e.addEventListener(t,"mousemove",function(e){return function(){l(e)}}(n),!1),e.addEventListener(t,"mouseout",function(e){return function(){u(e)}}(n),!1))}function d(e){return e=e.toLowerCase(),e in Ce?Ce[e]:e}function A(t){ie.caption=e.generateChild(t,"div","caption","caption-btn control-btn"),ie.caption.style.position="relative",ie.caption.style.overflow="visible",ie.captionPopup=e.generateChild(ie.caption,"div","caption-popup","caption-popup"),ie.captionPopupMenu=e.generateChild(ie.captionPopup,"div","caption-popup-menu","caption-popup-menu"),ie.captionPopupTail=e.generateChild(ie.captionPopup,"div","caption-popup-tail","caption-popup-tail"),ie.captionPopup.style.position="absolute",ie.captionPopup.style.overflow="auto"}function g(t){ie.quality=e.generateChild(t,"div","quality","quality-btn control-btn"),ie.qualityImage=e.generateChild(ie.quality,"div","icon","quality-btn-icon control-btn-icon"),ie.qualityImage.style.display="block",ie.qualityImage.style.width="100%",ie.qualityImage.style.height="100%",ie.quality.style.display="none",ie.quality.style.position="relative",ie.quality.style.overflow="visible",ie.qualityPopup=e.generateChild(ie.quality,"div","quality-popup","quality-popup"),ie.qualityPopupMenu=e.generateChild(ie.qualityPopup,"div","quality-popup-menu","quality-popup-menu"),ie.qualityPopupTail=e.generateChild(ie.qualityPopup,"div","quality-popup-tail","quality-popup-tail"),ie.qualityPopup.style.position="absolute",ie.qualityPopup.style.overflow="auto"}function p(n,r,i){function a(n,r){var i;i=r||("auto"!=n?n+" kbps":n);var a=e.generateChild(ie.qualityPopupMenu,"div","bitrate-"+n,"quality-popup-entry",i);ie.qualityEntries.push(a);var o=20*Math.min(J.parentNode.offsetWidth/640,1),s=16*Math.min(J.parentNode.offsetWidth/640,1);return o<14&&(o=14),s<12&&(s=12),a.style.height="16px",a.style.fontSize="12px",w(a,!1),e.addEventListener(a,"click",function(){f(),w(a,!0);var e=/bitrate-(.+)$/.exec(this.id),n=e[1].toLowerCase();he("selected",e[1]),he("bitrate clicked: "+n),ie.qualityPopupMenu.setAttribute("data-selected-bitrate",n),t.publish("bitrateSelected",n)},!1),a}he("@setAvailableBitrates",n,r),i=i||{};var o,s,l=!1,u=e.invertObjectKeysAndValues(i);if(n.length>1){for(be.quality=!0,ie.qualityEntries=[],e.safeSetInnerHtml(ie.qualityPopupMenu,""),o=0;o<n.length;o++){var c=n[o],d=i[c],A=u[d],g=A;void 0!==A&&A.constructor===Array&&(g=A[A.length-1]),void 0!==d&&parseInt(g)!==c||(s=a(c,d),l||(l=c==r,w(s,l),l&&ie.qualityPopupMenu.setAttribute("data-selected-bitrate",r)))}s=a("auto"),e.addClass(s,"captions-off-button",!0),l||(w(s,!0),ie.qualityPopupMenu.setAttribute("data-selected-bitrate","auto"))}else be.quality=!1;E("quality")}function f(){for(var e=ie.qualityEntries.length,t=0;t<e;t++)w(ie.qualityEntries[t],!1)}function h(e){var t,n,r;if(ie.qualityEntries){t=ie.qualityEntries.length,r=ie.qualityPopupMenu.getAttribute("data-selected-bitrate"),"auto"!=r&&f();for(var i=0;i<t;i++){n=ie.qualityEntries[i];var a=/bitrate-(.+)$/.exec(n.id),o=a[1].toLowerCase();he("selected",a[1],o,e,o==e),"auto"==r&&"auto"==o||w(n,o==e)}ie.quality.setAttribute("switch-in-progress",!1)}}function m(e){var t,n=ie.qualityEntries.length,r=ie.qualityPopupMenu.getAttribute("data-selected-bitrate");"auto"!=r&&f();for(var i=0;i<n;i++){t=ie.qualityEntries[i];var a=/bitrate-(.+)$/.exec(t.id),o=a[1].toLowerCase();he("selected",a[1],o,e,o==e),"auto"==r&&"auto"==o||(w(t,o==e&&"pending"),o==e&&ie.quality.setAttribute("switch-in-progress",!0))}}function E(e,t,n,r){var i,a,o=J.parentNode;r=r||J.offsetWidth||o&&o.offsetWidth,a=!(e in Ie)||r>=Ie[e],i=ve[e]&&be[e]&&a&&("boolean"!=typeof t||t),ie[e]&&(ie[e].style.display=i?n||"block":"none")}function v(n,i,a){function o(n,i){var a=e.generateChild(ie.captionPopupMenu,"div","language-"+n,"caption-popup-entry",e.capitalize(d(n)));return a.style.height="16px",a.style.fontSize="12px",i&&n.toLowerCase()!==i.toLowerCase()||!i&&n.toLowerCase()!==fe("control-captionsOff-content").toLowerCase()?(w(a,!1),e.addEventListener(a,"click",function(){var e=/language-(.+)$/.exec(this.id),n=e[1].toLowerCase();he("selected",e[1]),he("Caption language clicked: "+n),n===fe("control-captionsOff-content").toLowerCase()&&(n=null),"settings"==n&&(P("hidden"),he(r.stringify(ve))),t.publish("captionLanguageSelected",n)},!1)):w(a,!0),a}var s,l;if(Ae=a,e.safeSetInnerHtml(ie.captionPopupMenu,""),n.length>0){for(be.caption=!0,be.search=!0,s=0;s<n.length;s++)o(n[s],i);he("@setAvailableCaptionLanguages",ve.captionSetting,Ae),ie.captionSetting=o("Settings",i),e.addClass(ie.captionSetting,"captions-setting-button",!0),E(Ee.captionSetting),l=o(fe("control-captionsOff-content"),i),e.addClass(l,"captions-off-button",!0),l.setAttribute("on",!i),l.title=fe("control-captionsOff-tooltip")}else be.caption=!1,be.search=!1;E(Ee.caption,n.length>0&&!ue),E(Ee.search,!!Ae)}function y(t,n,r){var i,a,o,s;if(ie.volume=e.generateChild(t,"div","volume-icon","volume-icon-btn control-btn volume-icon-med-btn"),ie.volumeSlider=e.generateChild(t,"div",n,r),"flat_line"===me.STYLE)me.nodes.left=e.generateChild(ie.volumeSlider,"div","flat-slider-left","volume-slider-flat-bar volume-active"),b(me.nodes.left,!0),me.nodes.right=e.generateChild(ie.volumeSlider,"div","flat-slider-right","volume-slider-flat-bar"),me.nodes.scrubber=e.generateChild(ie.volumeSlider,"div","flat-slider-scrubber","volume-slider-scrubber");else if("tapered_bars"===me.STYLE)for(a=(me.TAPERED_BAR_ENDING_HEIGHT-me.TAPERED_BAR_STARTING_HEIGHT)/(me.TAPERED_BAR_COUNT-1),me.barWidth=me.WIDTH/(me.TAPERED_BAR_COUNT*(1+me.BAR_GAP_RATIO)),me.barMarginLeft=me.barWidth*me.BAR_GAP_RATIO,s=0;s<me.TAPERED_BAR_COUNT;s++)i=me.TAPERED_BAR_STARTING_HEIGHT+a*s,o=(ie.volumeSlider.clientHeight-i)/2,me.nodes[s]=e.generateChild(ie.volumeSlider,"div","tapered-bar"+s,"volume-slider-tapered-bar"),me.nodes[s].style.width=me.barWidth+"px",me.nodes[s].style.height=i+"px",me.nodes[s].style.margin=o+"px 0px "+o+"px "+me.barMarginLeft+"px"}function I(t){var n,r,i,a,o;if(a=["volume-icon-off-btn","volume-icon-low-btn","volume-icon-med-btn","volume-icon-high-btn"],o=0===t?"volume-icon-off-btn":t<.3333?"volume-icon-low-btn":t<.6667?"volume-icon-med-btn":"volume-icon-high-btn",a.map(function(t){e.removeClass(ie.volume,t,!0)}),e.addClass(ie.volume,o,!0),"flat_line"===me.STYLE)me.nodes.left.style.width=t*me.WIDTH+"px",me.nodes.right.style.width=(1-t)*me.WIDTH+"px",me.nodes.scrubber.style.left=t*(me.WIDTH-me.SCRUBBER_WIDTH)+"px";else if("tapered_bars"===me.STYLE){for(n=Math.floor(t*me.TAPERED_BAR_COUNT),n=Math.min(n,me.TAPERED_BAR_COUNT-1),r=t*me.WIDTH-(me.barWidth+me.barMarginLeft)*n-me.barMarginLeft,i=0;i<=n;i++)b(me.nodes[i],!0),me.nodes[i].style.boxShadow="";for(i=n+1;i<me.TAPERED_BAR_COUNT;i++)b(me.nodes[i],!1),me.nodes[i].style.boxShadow="";r>0?me.nodes[n].style.boxShadow=-(me.barWidth-r)+"px 0px 0px 0px "+me.INACTIVE_COLOR+" inset":(b(me.nodes[n],!1),me.nodes[n].style.boxShadow="")}}function b(t,n){n?e.addClass(t,"anv-volume-active",!1):e.removeClass(t,"anv-volume-active",!1)}function C(){var e=w(ie.volume)?me.volumeToRestore:0;I(e),t.publish("volumeUpdate",e,!0)}function B(e){he("toggleCaptionSettingButton",e),be.captionSetting=e,E(Ee.captionSetting,e)}function w(e,t){return void 0!==t?(e.setAttribute("on",t.toString()),t):"true"===e.getAttribute("on")?(e.setAttribute("on","false"),!1):(e.setAttribute("on","true"),!0)}function S(){pe||("responsive"===Z&&(clearTimeout(X),J.style.transition="visibility 0s linear 0s, opacity "+ne+"s ease 0s",J.style.opacity="1",J.style.visibility="visible",J.style.display="block",X=setTimeout(function(){J.style.transition="visibility 0s linear "+re+"s, opacity "+re+"s ease 0s",J.style.opacity="0",J.style.visibility="hidden"},te)),Z="responsive")}function T(){he("@displayAdBreaks");for(var e,t=0,n=ae.length;t<n;t++)e=ae[t].node,e.style.display="block"}function k(){for(var e,t=0,n=ae.length;t<n;t++)e=ae[t].node,e.style.display="none"}function Q(){for(var e,t=0,n=ae.length;t<n;t++)e=ae[t].node,e.parentNode.removeChild(e);ae=[]}function D(e,t){var n,r,i=[];if(Q(),!t){for(r=arguments.length;r--;)i[r]=arguments[r];return Be.updateAdBreaks=D,void(we.updateAdBreaks=i)}delete Be.updateAdBreaks,delete we.updateAdBreaks;for(var a=0,o=e.length;a<o;a++){if("number"!=typeof e[a])return;n=e[a],he("@updateAdBreaks",n,t),ae.push({node:R(n,t),index:n})}}function R(t,n){var r=e.generateChild(ie.timeLine,"div","ad-break","ad-break");r.style.position="absolute",he("@generateAdBreaks:",ie.timeLine.clientWidth,t,n);var i=100*t/n;return r.style.left=i+"%",r.style.display="block",r}function _(){clearTimeout($),ie.volumeSlider.style.width="75px"}function M(){clearTimeout($),$=setTimeout(function(){ie.volumeSlider.style.width="0px"},1400)}function N(n){function r(e,t){oe||ue||u(e,"previewRequest",t)}function o(t){var n,r,i,a;if(oe){if(u(t,"sliderPreviewRequest",ie.timeLine),"touchmove"==t.type||"touchstart"==t.type||"touchend"==t.type){r=t.changedTouches[0].clientX}else r=t.clientX;i=e.getCumulativeOffset(ie.timeLine),a=ie.timeLine.clientWidth,r-=i.x,r=r<0?0:r,r=r>a?a:r,n=z*r/a+Te,O(n)}}function s(n){oe&&(oe=!1,t.publish("cancelSliderPreviewRequest"),t.publish("continueRequest"),t.publish("controlMoveEventsEnd"),he("@stopPreviewDrag"),u(n,"seekRequest",ie.timeLine),se?(e.removeEventListener(window,"mousemove",o,!1),e.removeEventListener(window,"mouseup",s,!1)):(e.removeEventListener(window,"touchmove",o,!1),e.removeEventListener(window,"touchend",s,!1),e.removeEventListener(window,"touchcancel",s,!1)))}function l(n){se?(e.removeEventListener(window,"touchmove",d,!1),e.removeEventListener(window,"touchend",l,!1),e.removeEventListener(window,"touchcancel",l,!1)):(e.removeEventListener(window,"mousemove",d,!1),e.removeEventListener(window,"mouseup",l,!1),M()),t.publish("controlMoveEventsEnd"),d(n)}function u(n,r,i){var a,o,s,l,u={};if("touchmove"==n.type||"touchstart"==n.type||"touchend"==n.type){a=n.changedTouches[0].clientX}else a=n.clientX;o=e.getCumulativeOffset(i),l=i.clientWidth,a-=o.x,a=a<0?0:a,a=a>l?l:a,s=z*a/l+Te,u.left=i.clientLeft,u.right=u.left+i.clientWidth,u.top=i.clientTop,u.x=a+u.left,t.publish(r,s,u,"Control")}function d(n){var r,i,a;if("touchmove"==n.type||"touchstart"==n.type||"touchend"==n.type){r=n.changedTouches[0].clientX}else r=n.clientX;i=e.getCumulativeOffset(ie.volumeSlider),r-=i.x,a=r/Math.max(ie.volumeSlider.offsetWidth,ie.volumeSlider.clientWidth),a<0?a=0:a>1&&(a=1),
a&&"touchmove"!=n.type&&"mousemove"!=n.type&&(me.volumeToRestore=a),w(ie.volume,a>0),a!==me.volume&&(me.volume=a,I(me.volume),t.publish("volumeUpdate",me.volume,!0)),S(),_()}"string"==typeof n&&(n=e.getElementById(a.pInstance,n)),se=i.android||i.ipad||i.iphone||i.ipod,J=n,Z="responsive",he("initializing Control instance"),q=e.generateChild(n,"div","control-background","control-background"),ie.timeLine=e.generateChild(n,"div","time-line","time-line"),ie.timeLine.height="50px",ie.timeLine.width="100%",ie.remaining=e.generateChild(ie.timeLine,"div","time-line-remaining","time-line-remaining"),ie.remaining.style.height="100%",ie.remaining.style.width="100%",ie.remaining.style.float="left",ie.recallFrame=e.generateChild(ie.remaining,"div","recall-frame","recall-frame"),ie.recallFrame.style.display="none",ie.recallTime=e.generateChild(ie.recallFrame,"div","recall-time","recall-time"),ie.recallTail=e.generateChild(ie.recallFrame,"div","recall-tail","recall-tail"),ie.recallLine=e.generateChild(ie.recallFrame,"div","recall-line","recall-line"),ie.recallFrame.style.position="absolute",ie.durationBar=e.generateChild(ie.remaining,"div","duration-bar","duration-bar"),ie.scrollButton=e.generateChild(ie.remaining,"div","scroll-button","scroll-button"),ie.scrollButtonCircle=e.generateChild(ie.scrollButton,"div","scroll-button-circle","scroll-button-circle"),ie.durationBar.style.height="100%",ie.durationBar.style.width="0%",ie.playPause=e.generateEmptyImg(n,"play-pause","play-pause-btn control-btn"),ie.restartLive=e.generateEmptyImg(n,"restart-live","restart-live-btn control-btn"),ie.playNext=e.generateEmptyImg(n,"play-next","play-next-btn control-btn"),be.playNext=!0,y(n,"volumeSlider","volume-slider-btn control-btn"),ie.chromecast=e.generateEmptyImg(n,"chromecast-button","chromecast-button control-btn"),ie.fullscreen=e.generateEmptyImg(n,"fullscreen","fullscreen-btn control-btn"),ie.fullscreen.style.display=be.fullscreen?"block":"none",ie.pictureInPicture=e.generateEmptyImg(n,"picture-in-picture","picture-in-picture-btn control-btn"),ie.pictureInPicture.style.display=be.pictureInPicture?"block":"none",ie.download=e.generateEmptyImg(n,"download","download-btn control-btn"),ie.download.style.display="none",g(n),ie.search=e.generateEmptyImg(n,"search","search-btn control-btn"),A(n),ie.playlist=e.generateChild(n,"playlist","playlist-btn control-btn"),ie.playlist.style.float="right",ie.playlistIcon=e.generateEmptyImg(ie.playlist,"playlist-icon","playlist-btn control-btn"),ie.playlistBadge=e.generateChild(ie.playlist,"div","control-playlist-badge","control-playlist-badge"),ie.playlistBadge.style.display="none",ie.playlistBadgeText=e.generateChild(ie.playlistBadge,"div","control-playlist-badge-text","control-playlist-badge-text"),ie.playlistBadgeText.style.display="none",be.playlist=!0,ie.duration=e.generateChild(n,"div","duration","duration-btn control-btn"),ie.currentTime=e.generateChild(ie.duration,"span","current-time","control-duration-label"),ie.totalDuration=e.generateChild(ie.duration,"span","total-duration","control-duration-label"),ie.duration.style.display="none",ie.live=e.generateChild(n,"div","live","live-btn control-btn"),ie.liveMark=e.generateChild(ie.live,"div","live-mark","live-mark"),e.safeSetInnerHtml(ie.liveMark,"&#x25cf;"),ie.liveMark.style.color="#ee3f25",ie.liveLabel=e.generateChild(ie.live,"div","live-label","live-label"),e.safeSetInnerHtml(ie.liveLabel,"&nbspLive"),ie.liveLabel.style.color="#fff",w(ie.playPause,!0),w(ie.restartLive,!1),w(ie.fullscreen,!1),w(ie.pictureInPicture,!1),w(ie.caption,!1),w(ie.volume,!0),me.volume=me.INITIAL_VOLUME_LEVEL,me.volumeToRestore=me.INITIAL_VOLUME_LEVEL,I(me.volume),L(),e.preventDefaultMouseDown([ie.timeLine,ie.durationBar,ie.scrollButton,ie.playPause,ie.restartLive,ie.duration,ie.fullscreen,ie.pictureInPicture,ie.quality,ie.search,ie.caption,ie.volume,ie.volumeSlider]),ie.playPause.onclick=function(){he("playPauseClicked"),w(ie.playPause),t.publish("playPauseClicked",!1)},ie.fullscreen.onclick=function(){w(ie.fullscreen),t.publish("fullscreenClicked")},ie.pictureInPicture.onclick=function(){w(ie.pictureInPicture),t.publish("pictureInPictureClicked")},ie.restartLive.onclick=function(){t.publish("restartLiveRequested")},ie.chromecast.onclick=function(){t.publish("chromecastButtonClicked")},ie.playlist.onclick=function(){t.publish("togglePlaylistPanel")},ie.playNext.onclick=function(){t.publish("playNextRequested")},ie.search.onclick=function(){t.publish("toggleSearchPanel")},c(ie.caption,ie.captionPopup),c(ie.quality,ie.qualityPopup),se?(he("attaching touch events"),e.addEventListener(ie.timeLine,"touchstart",function(e){t.publish("controlMoveEventsActive"),e.preventDefault()},!1),e.addEventListener(ie.volume,"touchstart",function(e){_(),e.preventDefault()},!1),e.addEventListener(ie.timeLine,"touchmove",function(e){e.preventDefault(),ue||r(e,this)},!1),e.addEventListener(J,"touchmove",function(e){"responsive"==Z&&P("visible")},!1),e.addEventListener(J,"touchstart",function(e){"visible"!=Z&&P("visible")},!1),e.addEventListener(J,"touchend",function(e){t.publish("controlMoveEventsEnd"),ue||P("responsive")},!1),e.addEventListener(ie.timeLine,"touchstart",function(n){t.publish("cancelPreviewRequest"),t.publish("pauseRequest"),ue||(t.publish("controlMoveEventsActive"),e.addEventListener(window,"touchmove",o,!1),e.addEventListener(window,"touchend",s,!1),e.addEventListener(window,"touchcancel",s,!1),u(n,"sliderPreviewRequest",this),oe=!0)},!1),e.addEventListener(ie.volume,"touchend",function(e){he("addEventListener->touchend"),t.publish("controlMoveEventsEnd"),e.preventDefault(),C()},!1),e.addEventListener(ie.volume,"touchstart",function(e){e.preventDefault()},!1),e.addEventListener(ie.volumeSlider,"touchstart",function(n){n.preventDefault(),t.publish("controlMoveEventsActive"),e.addEventListener(window,"touchmove",d,!1),e.addEventListener(window,"touchend",l,!1),e.addEventListener(window,"touchcancel",l,!1),d(n)},!1),e.addEventListener(ie.live,"touchend",function(e){de||t.publish("catchLive")},!1),ie.volumeSlider.style.width=me.WIDTH+"px",ie.volumeSlider.style.marginLeft=me.TOUCH_SIDE_MARGIN+"px",ie.volumeSlider.style.marginRight=me.TOUCH_SIDE_MARGIN+"px"):(he("attaching mouse events"),e.addEventListener(J,"mousemove",function(){"responsive"==Z&&P("visible")},!1),e.addEventListener(ie.volume,"mousemove",function(){_()},!1),e.addEventListener(ie.volumeSlider,"mousemove",function(){_()},!1),e.addEventListener(ie.volumeSlider,"mouseout",function(){M()},!1),e.addEventListener(ie.volume,"mouseout",function(e){M(),e.preventDefault()},!1),e.addEventListener(J,"mouseout",function(){ue||ce||"hidden"!=Z&&(he("responsive triggered by mouseout"),P("responsive"))},!1),e.addEventListener(ie.timeLine,"mousemove",function(e){r(e,this)},!1),e.addEventListener(ie.timeLine,"mouseout",function(e){t.publish("cancelPreviewRequest")},!1),e.addEventListener(ie.timeLine,"mousedown",function(n){ue||(t.publish("controlMoveEventsActive"),t.publish("cancelPreviewRequest"),t.publish("pauseRequest"),e.addEventListener(window,"mousemove",o,!1),e.addEventListener(window,"mouseup",s,!1),u(n,"sliderPreviewRequest",this),oe=!0)},!1),e.addEventListener(ie.volume,"click",function(e){C()},!1),e.addEventListener(ie.volumeSlider,"mousedown",function(n){t.publish("controlMoveEventsActive"),e.addEventListener(window,"mousemove",d,!1),e.addEventListener(window,"mouseup",l,!1),d(n)},!1),e.addEventListener(ie.live,"click",function(e){de||t.publish("catchLive")},!1)),E(Ee.volume),E(Ee.volumeSlider),n.style.visibility=pe?"hidden":"visible",he("Control initialized",pe,pe)}function P(e){if(ce&&"hidden"!=e&&(e="visible"),!pe)switch(clearTimeout(X),e){case"visible":J.style.transition="visibility 0s linear 0s, opacity 0s ease 0s",J.style.opacity="1",J.style.visibility="visible",J.style.display="block",Z=e;break;case"hidden":J.style.transition="visibility 0s linear 0s, opacity 0s ease 0s",J.style.opacity="0",J.style.visibility="hidden",J.style.display="none",Z=e;break;case"responsive":Z=e,S(),J.style.display="block";break;default:return}}function O(t,n,r){var i;oe||ue||(z=r||z,Te=n||Te,t!=W&&(t>0||!W)&&(z||(z=0),Math.round(t)!=Math.round(W)&&(e.safeSetInnerHtml(ie.currentTime,e.sec2TimeString(Math.round(Math.abs(t)))+" "),e.safeSetInnerHtml(ie.totalDuration," / "+e.sec2TimeString(z))),i=(t-Te)/z*100,i>100?i=100:i<0&&(i=0),ie.durationBar.style.width=i+"%",ie.scrollButton.style.left=i+"%",W=t))}function L(){var t;ie.playPause.title=fe("control-playPause-tooltip"),ie.duration.title=fe("control-duration-tooltip"),ie.fullscreen.title=fe("control-fullscreen-tooltip"),ie.pictureInPicture.title=fe("control-picture-in-picture-tooltip"),ie.quality.title=fe("control-quality-tooltip"),ie.search.title=fe("control-search-tooltip"),ie.caption.title=fe("control-caption-tooltip"),ie.volume.title=fe("control-volume-tooltip"),ie.download.title=fe("control-download-tooltip"),(t=ie.captionPopup.querySelector(".anvCaptionsOffButton"))&&(e.safeSetInnerHtml(t,fe("control-captionsOff-content")),t.title=fe("control-captionsOff-tooltip"))}function x(t){e.safeSetInnerHtml(ie.recallTime,e.sec2TimeString(t));var n,r,i,a,o;i=ie.durationBar.clientLeft+ie.durationBar.clientWidth,a=0,o=ie.timeLine.clientWidth,n=Math.max(i-25,a),r=Math.min(n+50,o),n=r-50,n=Math.max(n,a),ie.recallFrame.style.left=n+"px",ie.recallFrame.style.display="block"}function F(){ie.recallFrame.style.display="none"}function U(t,n){var r=J.parentNode,i=t||J.offsetWidth||r&&r.offsetWidth,a=i/640;ue||n&&(ve=e.deepCopy(ye)),V(i),he("Player width:",i,a)}function V(e){var t,n,r={search:{additionalCondition:!!Ae},totalDuration:{displayAttribute:"inline-block",additionalCondition:!le},currentTime:{displayAttribute:"inline",additionalCondition:!le},quality:{additionalCondition:!ce},fullscreen:{additionalCondition:!ce}};for(var i in ve)ve.hasOwnProperty(i)&&(t=i in r?r[i].additionalCondition:null,n=i in r?r[i].displayAttribute:null,E(i,t,n,e))}function G(){J.style.display="none"}function H(e){J.style.pointerEvents=e?"":"none"}function j(e){le&&(ie.liveMark.style.color=e?"#ee3f25":"rgb(126, 124, 124)",de=e)}function Y(e,t){Se=e,Te=t||0,he("@setRestartLiveMode",Se,le),be.restartLive=Se,E(Ee.restartLive,Se),ie.timeLine.style.visibility=Se?"visible":le?"hidden":"visible"}function K(e){he("@setLive",e),le=e,de=!0,e&&(ie.timeLine.style.visibility=Se?"visible":"hidden",E(Ee.duration,!ue&&!le)),ie.live.style.display=e?"block":"none"}var q,J,z,W,Z,X,$,ee,te="number"==typeof a.autoHideDelay?1e3*a.autoHideDelay:3e3,ne=.2,re=.7,ie={},ae=[],oe=!1,se=!1,le=!1,ue=!1,ce=!1,de=!1,Ae=!1,ge=null,pe="control"in a&&!a.control||a.chromeless,fe=n?n.tr:function(){return"--"},he=r?r.getLogFn("Control"):function(){console.log.apply(console,["[!Control!]\t"].concat(Array.prototype.slice.call(arguments)))},me={INITIAL_VOLUME_LEVEL:.5,STYLE:"flat_line",TAPERED_BAR_COUNT:8,BAR_GAP_RATIO:.5,TAPERED_BAR_STARTING_HEIGHT:4,TAPERED_BAR_ENDING_HEIGHT:18,INACTIVE_COLOR:"#666",WIDTH:75,TOUCH_SIDE_MARGIN:8,SCRUBBER_WIDTH:6,volume:0,volumeToRestore:0,nodes:[],barWidth:0,barMarginLeft:0},Ee={},ve={volume:!0,volumeSlider:!0,currentTime:!0,duration:!0,totalDuration:!0,playlist:!0,playNext:!0,caption:!0,captionSetting:!0,search:!0,quality:!0,fullscreen:!0,pictureInPicture:!0,preview:!0,restartLive:!0},ye={volume:!0,volumeSlider:!0,currentTime:!0,duration:!0,totalDuration:!0,playlist:!0,playNext:!0,caption:!0,captionSetting:!0,search:!0,quality:!0,fullscreen:!0,pictureInPicture:!0,preview:!0,restartLive:!0},Ie={captionSetting:500,playlist:500,playNext:500,search:500,totalDuration:500,quality:400,preview:300,volumeSlider:300},be={volume:e.isVideoMutedSupported(),volumeSlider:e.isVideoVolumeSetSupported(),currentTime:!0,search:!1,caption:!1,captionSetting:!1,quality:!1,playlist:!1,playNext:!1,duration:!0,totalDuration:!0,preview:!1,fullscreen:"hasVideoFullscreenSupport"in a&&a.hasVideoFullscreenSupport||"hasContainerFullscreenSupport"in a&&a.hasContainerFullscreenSupport,pictureInPicture:document.pictureInPictureEnabled&&a.enablePictureInPicture,download:!1},Ce={en:"English",es:"Espa&ntilde;ol"},Be={},we={},Se=!1,Te=0;return o(ve),o(ye),{init:function(e,t,n){N(e),U(),pe&&G()},rescale:function(e,t){he("@rescale"),U(e,t)},updateDuration:O,getNode:function(){return J},getLayout:function(){},updateLanguage:function(){L()},setDuration:function(e){he("@setDuration",e),z=Math.round(e),"function"==typeof Be.updateAdBreaks&&we.updateAdBreaks.length>1&&(we.updateAdBreaks[1]=z,Be.updateAdBreaks.apply(null,we.updateAdBreaks))},setVisibilityMode:P,showTemporarily:function(){S()},setPaused:function(e){w(ie.playPause,e),e&&j(!e)},setLiveSyncStatus:j,setFullscreen:function(e){w(ie.fullscreen,e)},setPictureInPicture:function(e){w(ie.pictureInPicture,e)},setAvailableCaptionLanguages:function(e,t,n){v(e,t,n)},toggleCaptionSettingButton:B,setAvailableBitrates:p,setPlaylistReady:function(e,t){t?(ie.playlistBadge.style.display="block",ie.playlistBadgeText.style.display="block",ie.playlistBadgeText.innerText=t):(ie.playlistBadge.style.display="none",ie.playlistBadgeText.style.display="none"),be.playlist=e,be.playNext=e,E(Ee.playlist),E(Ee.playNext)},showRecallLabel:function(e){x(e)},hideRecallLabel:function(){F()},setLive:K,toggleRestartLiveMode:Y,setLiveCatch:function(){le&&!de&&(ie.liveMark.style.color="#ee3f25",de=!0)},setAdMode:function(e,t){ue=e,pe||(e?(k(),t&&(ie.timeLine.style.visibility="hidden")):(T(),ie.playPause.style.display="block",ie.timeLine.style.visibility=!le||Se?"visible":"hidden"),ve[Ee.playlist]=!e,ve[Ee.quality]=!e,ve[Ee.caption]=!e,ve[Ee.search]=!e,ve[Ee.playNext]=!e,ve[Ee.duration]=!(e&&t||le),ve[Ee.totalDuration]=!(e&&t||le),V())},setCastMode:function(e){ce=e,ie.quality.style.display=be.quality&&ve.bitrate&&!ce?"block":"none",E(Ee.fullscreen,!e),ie.liveMark.style.color="#ee3f25"},setCastStatus:function(e){ie.chromecast.setAttribute("state",e)},setVolume:function(e){e>0?(me.volumeToRestore=e,w(ie.volume,!0)):w(ie.volume,!1),I(e)},toggleVolume:C,setDownload:function(e){e&&a.downloadable?(be.download=!0,ie.download.onclick=function(){var t=document.createElement("a");t.href=e,t.target="_blank",t.download="true",t.click()},ie.download.style.display="block"):(ie.download.style.display="none",ie.download.onclick=function(){})},updateAdBreaks:D,setFullscreenButton:function(e){be.fullscreen=e,E(Ee.fullscreen,e)},setPictureInPictureButton:function(e){be.pictureInPicture=e,E(Ee.pictureInPicture,e)},setPlayNextButton:function(e){be.playNext=e,E(Ee.playNext,e)},hide:G,onBitrateChanged:h,onBitrateChangeInProgress:m,setPointerEvents:H}}return t}),anv.define("Preview",["util"],function(e){function t(t,n,r){function i(){var t=e.generateChild(n,"div","main-preview-frame","main-preview-frame"),r=e.generateChild(t,"div","main-preview","main-preview"),i=e.generateChild(n,"div","time-label","time-label"),a=e.generateChild(n,"div","time-label-tail","time-label-tail");return n.style.position="absolute",i.style.position="absolute",i.style.bottom="-20px",i.style.width="auto",i.style.padding="4px",i.style.height="20px",i.style.fontSize="0.9em",i.style.background="rgba(5, 4, 5, 0.69)",t.style.padding="5px 5px",t.style.background="rgba(5, 4, 5, 0.69)",{mainFrame:n,mainImageFrame:t,mainImage:r,timeLabel:i,tail:a}}function a(e){++v==y&&(E=!0,b=!0,t.publish("previewLoaded"))}function o(t){var n=[];y=t.length;for(var r=0;r<y;r++)n[r]=new Image,e.addEventListener(n[r],"load",function(){a(this)},!1),n[r].src=t[r].url}function s(e,t){if(!A)return"";var n=t?"0":"",r=t?S:w,i=Math.floor(e/r);return A+"-M"+n+i+".jpg"}function l(e,t){var n,r,i,a,o,l,u,c,d,A;n=Math.floor(e/I),r=s(n,t),u=t?10:5;var c=t?S:w;return d=t?h:p,A=t?m:f,o=n%c%u,l=Math.floor(n%c/u),i=-o*d,a=-l*A,{url:r,left:i,top:a}}function u(t,n){var r=Math.floor(t/I);if(r!=C){Math.round(r)!=Math.round(C)&&e.safeSetInnerHtml(d.timeLabel,e.sec2TimeString(Math.round(t))),C=r;var i=l(t);i.url!=B?(d.mainImage.style.background="#fff url('"+i.url+"') no-repeat "+i.left+"px "+i.top+"px",B=i.url):d.mainImage.style.backgroundPosition=i.left+"px "+i.top+"px",d.mainFrame.style.width="auto",d.mainFrame.style.height="auto",d.mainFrame.style.zIndex="2147483648",d.mainImage.style.width=p+"px",d.mainImage.style.height=f+"px"}d.mainImage.style.display=A?"block":"none",d.mainFrame.style.display="block",c(n)}function c(e){var t,n,r,i,a,o=d.tail.clientHeight,s=d.tail.offsetWidth,l=d.mainFrame.clientHeight,u=d.mainFrame.clientWidth,c=Math.max(e.x-u/2,e.left);c=Math.min(c+u,e.right)-u,c=Math.max(c,e.left),d.mainFrame.style.left=c+"px",d.mainFrame.style.top=e.top-l-o+"px",d.timeLabel.style.left=(d.mainImageFrame.clientWidth-d.timeLabel.clientWidth)/2+"px",d.timeLabel.style.top=d.mainImageFrame.clientHeight-d.timeLabel.clientHeight+"px",r=Math.min(e.x-u/2-e.left,0),i=Math.min(e.right-e.x-u/2,0),a=(u-s)/2,t=r<0?Math.max(0,a+r):a,n=i<0?Math.min(u,t-i+s):t+s,t=n-s,d.tail.style.left=t+"px"}var d,A,g,p,f,h,m,E=!1,v=0,y=0,I=2,b=!1,C=-1,B=null,w=25,S=100;r&&r.getLogFn("Preview");return{reset:function(){A=""},init:function(){d=i()},loadPreviewMatrices:function(e){A=e.previews.url,g=e.previews.n>400?400:e.previews.n,p=e.previews.twp,f=e.previews.thp,h=e.previews.tws,m=e.previews.ths,I=parseFloat(e.duration)/g,v=0,E=!1,b=!1,o(e.pvw_matrices)},show:function(e,t){u(e,t)},hide:function(){d.mainFrame.style.display="none",d.mainImage.style.display="none"},loadedAll:function(){return E},getFrameInfo:function(e,t){return l(e,t)},getWidthAndHeight:function(e){return e?{width:h,height:m}:{width:p,height:f}}}}return t}),anv.define("SliderPreview",["util"],function(e){function t(t,n,r){function i(){var t,r,i,a,o;return r=e.generateChild(n,"div","preview-band-frame","preview-band-frame"),t=e.generateChild(r,"div","preview-band","preview-band"),i=e.generateChild(n,"div","large-frame","large-frame"),a=e.generateChild(i,"div","large-preview","large-preview"),o=e.generateChild(i,"div","time-label","time-label"),o.style.fontSize="0.9em",i.style.width="auto",i.style.height="auto",r.style.width="100%",r.style.height="auto",r.style.padding="5px",r.style.background="rgba(5, 4, 5, 0.29)",o.style.width="100%",o.style.height="auto",o.style.background="rgba(5, 4, 5, 0.39)",i.style.position="absolute",i.style.padding="5px",i.style.background="rgba(5, 4, 5, 0.69)",a.style.position="relative",o.style.position="relative",{canvasFrame:r,previewBand:t,largeFrame:i,largePreview:a,timeLabel:o}}function a(e){D("@secondaryMatricesReady"),++I==e&&(I=0,D("ALL SECONDARY MATRICES READY"),s())}function o(){D("@getSecondaryMatrices");var e;e=Math.ceil(f/S),T=[];for(var t=0;t<e;t++)T[t]=new Image,T[t].src=p+"-M0"+t+".jpg",T[t].onload=function(){D("Secondary Matrix ready"),a(e)}}function s(){var r,i,a,o,s,l,u,c;n.style.display="none",r=g.previewBand,i=g.canvasFrame,i.style.position="absolute",i.style.bottom="0",r.style.position="relative",r.style.display="none",r.style.bottom="0",a=T.length,s=T[0].width,l=T[0].height,o=Math.round(l/v),e.safeSetInnerHtml(r,""),r.style.width=a*o*s+"px",r.style.height=v+"px";for(var d=0;d<a;d++)for(var A=0;A<o;A++)u=e.generateChild(r,"div","row-"+(d*o+A),"sliderPreviewRow"),c=s,u.style.width=c+"px",u.style.height=v+"px",e.setFloat(u,"left"),u.style.background="url('"+T[d].src+"') no-repeat",u.style.backgroundPosition="0 "+-A*v+"px";n.style.overflow="hidden",r.style.display="block",k=!0,t.publish("sliderPreviewReady")}function l(t,r){var i,a,o,s,l,d;y=r.right-r.left,n.style.width=y+"px",a=(y-E)/2,o=(y-h-10)/2,u(t,o),l=g.largeFrame.clientHeight,n.style.height=l+"px",e.safeSetInnerHtml(g.timeLabel,e.sec2TimeString(Math.round(t))),d=g.timeLabel.clientHeight,g.canvasFrame.style.bottom=d+"px",n.style.top=r.top-l+"px",i=Math.floor(t/b),s=i*E,c(-s+a),n.style.display="block"}function u(e,t){var n=A(e),r=Math.floor(e/b);r!=C&&(C=r,n.url!=B?(B=n.url,g.largePreview.style.background="#fff url('"+n.url+"') no-repeat "+n.left+"px "+n.top+"px"):g.largePreview.style.backgroundPosition=n.left+"px "+n.top+"px"),g.largeFrame.style.left=t+"px"}function c(e){g.previewBand.style.left=e+"px"}function d(e,t){var n=t?"0":"",r=t?S:w,i=Math.floor(e/r);return p+"-M"+n+i+".jpg"}function A(e,t){var n,r,i,a,o,s,l,u,c,A;return n=Math.floor(e/b),r=d(n,t),l=t?10:5,u=t?S:w,c=t?E:h,A=t?v:m,o=n%u%l,s=Math.floor(n%u/l),i=-o*c,a=-s*A,{url:r,left:i,top:a}}var g,p,f,h,m,E,v,y,I=0,b=2,C=-1,B=null,w=25,S=100,T=[],k=!1,Q=!0,D=r?r.getLogFn("SliderPreview"):function(){console.log.apply(console,["[!SliderPreview!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:function(){g=i()},reset:function(){p=""},loadPreviewMatrices:function(e){p=e.previews.url,f=e.previews.n>400?400:e.previews.n,h=e.previews.twp,m=e.previews.thp,g.largePreview.style.width=h-1+"px",g.largePreview.style.height=m-1+"px",E=e.previews.tws,v=e.previews.ths,b=parseFloat(e.duration)/f,k=!1,o()},show:function(e,n){k&&p&&(l(e,n),Q&&(t.publish("showRecallLabel",e,n),Q=!1))},hide:function(){n.style.display="none",Q=!0,t.publish("hideRecallLabel")}}}return t}),anv.define("CaptionSideCar",["util"],function(e){function t(t,n,r,i){function a(){var t,r,i;return e.safeSetInnerHtml(n,""),r=e.generateChild(n,"div","result-holder","caption-result-holder"),t=e.generateChild(r,"div","result","caption-result"),i=e.generateChild(t,"span","result-text","caption-result-text"),i.style.textAlign="left",i.style.fontWeight="bold",n.style.display="none",{resultHolder:r,result:t,resultText:i}}function o(t){w=t,D={};for(var n=0,r=t.length;n<r;n++)"language"in t[n]&&"string"==typeof t[n].language&&(t[n].language=t[n].language.toLowerCase(),t[n].language in D||(D[t[n].language]=[]),D[t[n].language].push(n));T.resultText&&e.safeSetInnerHtml(T.resultText,"")}function s(t,n){return n=n.toLowerCase(),"dfxp"==n||"tt"==n||n.indexOf("smpte")>-1?e.parseDFXP(t):"vtt"==n||"srt"==n?e.parseVTT(t):"json"==n?e.parseJSON(t):void 0}function l(e,n,r){P=r,t.publish("captionLoaded",!0),B=s(e,n),F("@populateCueList cueList.length",B.length),M=!(!B||!B.length)}function u(e,t){return t&&t.capitalize?e.toUpperCase():e.toLowerCase()}function c(t){var n=!1,r=!1;if("string"==typeof t.text){t.text=t.text?u(t.text,U):"",x=x.filter(function(e,i){var a=u(x[i].text,U);return r=!!e.end,0===t.text.indexOf(a)?(n=!0,x[i].text=t.text,!0):!(G&&r&&(Q>=e.end||e.begin>=Q))}),n||x.push(t),G&&r||!(x.length>2)||x.splice(0,1);var i=x.map(function(e){return e.text}).join("<br>");e.safeSetInnerHtml(T.resultText,i,{whiteList:{br:[]}})}}function d(t){Q=t;for(var r,i=0,a=B.length,o=!1,s=!1,l=Math.floor(a/2),u=a-1,d=0;!s&&u-d>4;)r=B[l],r.begin>Q?(u=l,l=Math.floor((d+l)/2)):r.end<Q?(d=l,l=Math.floor((l+u)/2)):r.begin<=Q&&Q<=r.end&&(s=!0,d=l-1,u=l+1);for(var i=d;i<=u;i++)r=B[i],r.begin<=Q&&Q<=r.end&&(c(r),o=!0);o?n.style.visibility="visible":(e.safeSetInnerHtml(T.resultText,""),n.style.visibility="hidden")}function A(){_&&(n.style.display="none",_=!1)}function g(){Q=0,D={},R=-1,_=!1,M=!1,N=!1,P=null,B=[],w=null,e.safeSetInnerHtml(T.resultText,"")}function p(t){var n,r=T.resultHolder.style,a=T.result.style,o=T.resultText.style;switch(e.getDeviceInfo.firetv&&(t={fontType:1,fontSize:7,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0}),t=t||U,n=t.scale?L:1,o.fontFamily=H[t.fontType]||o.fontFamily,o.fontSize=n*(12+4*t.fontSize)+"px",r.height="auto",parseInt(t.textEdge)){case 0:break;case 1:o.textShadow="1px 1px 1px #000";break;case 2:o.textShadow="0px 1px 0px #ccc";break;case 3:o.textShadow="-1px -1px 2px #000";break;case 4:o.textShadow="2px 0 0 #000, -2px 0 0 #000, 0 2px 0 #000, 0 -2px 0 #000, 1px 1px #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000"}e.safeSetInnerHtml(T.resultText,u(T.resultText.innerHTML,t)),o.color=f(Y[t.textColor],j[t.textAlpha]/100),r.background=f(Y[t.bgColor],j[t.bgAlpha]/100),a.background=f(Y[t.highlightColor],j[t.highlightAlpha]/100),U=t,F("style applied",i.stringify(U,null,3))}function f(e,t){return"rgba("+e.join(",")+","+t+")"}function h(e){var t,n={scale:1,capitalize:1,override:1};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&r in U&&(r in n?U[r]=1==e[r]:(t=parseInt(e[r]),isNaN(t)||(U[r]=t)));p(U)}return U}function m(e,t){if(!t||t==P)for(var n in e)e.hasOwnProperty(n)&&e[n]&&(!V[n]||V[n]&&e[n]!==V[n])&&(V[n]=e[n],v({begin:Date.now(),text:e[n]}))}function E(e,t){B=B||[],B=B.concat(e),B.sort(function(e,t){return e.begin-t.begin})}function v(e){e.text!=k&&(c(e),n.style.visibility="visible"),k=e.text,K.hideCue&&(clearTimeout(K.hideCue),delete K.hideCue),K.hideCue=setTimeout(y,3e3)}function y(){n.style.visibility="hidden",x=[]}function I(n){var r,i,a={dfxp:1,smpte:1,"smpte-tt":1,tt:1,vtt:1,srt:1,json:1},o={cea608:1,webVtt:1};if(n in D){for(var s=0,l=D[n].length;s<l;s++){if(r=D[n][s],i=w[r],i.format&&i.format.toLowerCase()in a)return e.download(i.url,null,b.bind(null,i,n),C.bind(null,s,n));if(i.format in o)return P=n,M=!0,"cea608"==i.format?setTimeout(function(){t.publish("captionLoaded",!1)},0):"webVtt"==i.format&&t.publish("webVttRequested",n),B=[],!0}return N=!1,B=[],M=!1,!1}return!1}function b(e,t,n){l(n,e.format,t)}function C(e,n,r){F("Error downloading sidecar caption file"),D[n].splice(e,1),D[n].length?I(n):(delete D[n],P=null,B=[],t.publish("captionLoaded",!1))}var B,w,S,T,k,Q=0,D={},R=-1,_=!1,M=!1,N=!1,P=null,O=1,L=1,x=[],F=i?i.getLogFn("Caption"):function(){console.log.apply(console,["[!Caption!]\t"].concat(Array.prototype.slice.call(arguments)))},U={fontType:0,fontSize:3,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0},V={},G=r.popOnCaptions||!1,H=["Arial","Courier","Georgia","Lucida Sans","Tahoma","Times New Roman","Verdana"],j=[0,25,50,75,100],Y=[[255,255,255],[7,247,247],[9,9,249],[4,246,5],[252,252,10],[248,9,248],[246,5,6],[0,0,0]],K={};return{init:function(e,t){F("@init",e,t);var n=parseInt(t);isNaN(n)||(L=n/540),T=a(),p(U)},loadCaptionInfo:function(e){e&&e.length?o(e):(A(),g())},getNode:function(){return n},getLayout:function(){return S},turnOn:function(){n.style.display="block",n.style.visibility="hidden",N=!0,_=!0},turnOff:function(){n.style.display="none",N=!1,_=!1},show:function(){N&&(n.style.display="block",n.style.visibility="hidden",_=!0)},hide:function(){A()},getAvailableLanguages:function(){F("@getAvailableLanguages");var e,t=[];for(e in D)D.hasOwnProperty(e)&&(F("@getAvailableLanguages",e),t.push(e));return t},setAvailableLanguages:function(e,t){F("@setAvailableLanguages",e,t);var n=0;D={},w=[];for(var r=0;r<e.length;r++){var i=e[r];i in D||(D[i]=[n],w.push({language:i,format:t}),n++)}},getCurrentLanguage:function(){return N?P:null},loadLanguage:I,updateTime:function(e){N&&_&&B&&B.length&&d(e)},getCueList:function(){return B},applyStyle:function(e){p(e)},setStyle:function(e){return h(e)},setFullscreenRatio:function(e){O=e,F("RATIO:",e),p()},resize:function(e){L=e/540,p()},getType:function(){return"sideCar"},destroy:function(){e.safeSetInnerHtml(n,""),n.style.display="none"},showCue:v,showCea608Cue:m,hideCue:y,appendWebVtt:E}}return t}),anv.define("CaptionEmbedded",["util"],function(e){function t(e,t,n){function r(e){var t,n=0;if(!b)return null;for(var r=null,i=0;i<b.length&&!r;i++)b[i].kind in B&&(t=d(b[i].language,n),t==e&&(r=b[i]),n++);return r}function i(){if(!b)return null;for(var e=0;e<b.length;e++)if(b[e].kind in B&&b[e].mode==v)return d(b[e].language,0);return null}function a(){if(!b)return null;for(var e=0;e<b.length;e++)if(b[e].kind in B)return b[e];return null}function o(){t||console.error("Embedded caption is not available")}function s(t){if(0!=b.length&&(t||!C)){l();var n=t?r(t):a();n&&(n.mode=v,C=!0,e.publish("captionLoaded",!1))}}function l(){var e=r(i());e&&(e.mode=y),C=!1}function u(){s()}function c(){l()}function d(e,t){return e||(t?"track"+t:I)}function A(){var e,t=[],n=0;if(b)for(var r=0;r<b.length;r++)b[r].kind in B&&(e=d(b[r].language,n),t.push(e),n++);return t}function g(e){}function p(){return i()}function f(e){return s(e),!!r(e)}function h(){return"embedded"}function m(){}function E(e){I=e}var v="showing",y="hidden",I=(n.getLogFn("CaptionEmbedded"),"en"),b=t,C=!1,B={captions:!0,subtitles:!0};return{init:o,turnOn:s,turnOff:l,show:u,hide:c,getAvailableLanguages:A,setAvailableLanguages:g,getCurrentLanguage:p,loadLanguage:f,getType:h,destroy:m,setDefaultLanguage:E}}return t}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!CaptionWebVtt",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){return e&&e.__esModule?e:{default:e}}(t);var a=function(){function e(t,r,i){n(this,e),this.mediator_=t,this.videoElement_=r,this.log_=i?i.getLogFn("CaptionWebVtt"):function(){console.log.apply(console,["[!CaptionWebVtt!]\t"].concat(Array.prototype.slice.call(arguments)))},this.currentLanguage_=null,this.availableLanguages_=[],this.hasLanguageLoaded_=!1}return i(e,[{key:"init",value:function(){this.log_("@init")}},{key:"appendWebVtt",value:function(e,t){this.hasLanguageLoaded_||(this.hasLanguageLoaded_=!0,this.mediator_.publish("captionLoaded",!1));var n=this.getTextTrackByLanguage_(t),r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value,u=new VTTCue(l.begin,l.end,l.text);u.line=12,n.addCue(u)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}n.mode="showing"}},{key:"getTextTrackByLanguage_",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=this.videoElement_.textTracks[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;if("subtitles"==o.kind&&o.language==e)return o}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return this.videoElement_.addTextTrack("subtitles",e,e)}},{key:"turnOff",value:function(){this.disableCurrentTrack_()}},{key:"show",value:function(){this.getTextTrackByLanguage_(this.currentLanguage_).mode="showing"}},{key:"hide",value:function(){this.getTextTrackByLanguage_(this.currentLanguage_).mode="hidden"}},{key:"disableAllTracks_",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.videoElement_.textTracks[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;"subtitles"==a.kind&&this.disableTrack_(a)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"disableTrack_",value:function(e){if(e&&e.cues){for(var t=e.cues.length-1;t>=0;t--)e.removeCue(e.cues[t]);e.mode="disabled"}}},{key:"disableCurrentTrack_",value:function(){var e=this.getTextTrackByLanguage_(this.currentLanguage_);this.disableTrack_(e)}},{key:"getAvailableLanguages",value:function(){return this.availableLanguages_}},{key:"setAvailableLanguages",value:function(e){this.log_("@setAvailableLanguages",e),this.availableLanguages_=e}},{key:"getCurrentLanguage",value:function(){return this.currentLanguage_}},{key:"loadLanguage",value:function(e){this.log_("@loadLanguage",e),this.disableCurrentTrack_(),this.currentLanguage_=e,this.mediator_.publish("webVttRequested",e),this.hasLanguageLoaded_=!1}},{key:"getCueList",value:function(){}},{key:"applyStyle",value:function(){}},{key:"getStyle",value:function(){}},{key:"setStyle",value:function(){}},{key:"getType",value:function(){return"webVtt"}},{key:"destroy",value:function(){this.disableAllTracks_(),this.currentLanguage_=null,this.availableLanguages_=[],this.hasLanguageLoaded_=!1}}]),e}();e.default=a}),anv.define("CaptionManager",["util","CaptionSideCar","Caption608","CaptionEmbedded","es6!CaptionWebVtt"],function(e,t,n,r,i){function a(a,o,s,l){function u(t){var n,r={scale:1,capitalize:1,override:1},i=e.deepCopy(t)
;if("object"==typeof t)for(var a in i)i.hasOwnProperty(a)&&a in m&&(null===i[a]?delete i[a]:a in r?i[a]=1==i[a]:(n=parseInt(i[a]),isNaN(n)?delete i[a]:i[a]=n));return i}function c(e){v("@setCaptionType",e);var i=f.getAvailableLanguages(),u=f.getCurrentLanguage(),c=!1;e==h.CEA608?f&&f.getType()!=h.CEA608&&(f.destroy(),f=new n(a,o.caption608,s,l),f.init(),f.setAvailableLanguages(i),u&&f.loadLanguage(u)):e==h.SIDE_CAR?f&&f.getType()!=h.SIDE_CAR&&(f.destroy(),f=new t(a,o.sideCar,s,l),f.init(),f.setAvailableLanguages(i),u&&f.loadLanguage(u)):e==h.EMBEDDED?f&&f.getType()!=h.EMBEDDED&&(f.destroy(),f=new r(a,o.embeddedCaption,l),f.init(),f.setAvailableLanguages(i),u&&f.loadLanguage(u)):e==h.WEB_VTT?f&&f.getType()!=h.WEB_VTT&&(f.destroy(),f=new E(a,o.video,l),f.init(),f.setAvailableLanguages(i),u&&f.loadLanguage(u)):(console.error("Caption instance type is not supported!"),c=!0),c||p(I)}function d(){return f.getType()}function A(e){var t=Array.prototype.slice.call(arguments,1);if(e in f)return f[e].apply(f,t)}function g(){return I}function p(t){return t=u(t),I=e.merge(I,t),f&&"function"==typeof f.setStyle&&(f.setStyle(I),a.publish("captionStyleSet",t)),e.setCookies(I),I}var f,h={SIDE_CAR:"sideCar",CEA608:"cea608",EMBEDDED:"embedded",WEB_VTT:"webVtt"},m={fontType:0,fontSize:3,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0},E=i.default,v=l?l.getLogFn("CaptionManager"):function(){console.log.apply(console,["[!CaptionManager!]\t"].concat(Array.prototype.slice.call(arguments)))},y=e.getCookies(e.deepCopy(m));y=u(y);var I=e.merge(m,y);return f=new t(a,o.sideCar,s,l),{init:A.bind(null,"init"),loadCaptionInfo:A.bind(null,"loadCaptionInfo"),getNode:A.bind(null,"getNode"),getLayout:A.bind(null,"getLayout"),turnOn:A.bind(null,"turnOn"),turnOff:A.bind(null,"turnOff"),show:A.bind(null,"show"),hide:A.bind(null,"hide"),getAvailableLanguages:A.bind(null,"getAvailableLanguages"),setAvailableLanguages:A.bind(null,"setAvailableLanguages"),getCurrentLanguage:A.bind(null,"getCurrentLanguage"),loadLanguage:A.bind(null,"loadLanguage"),updateTime:A.bind(null,"updateTime"),updateCaption:A.bind(null,"updateCaption"),showCue:A.bind(null,"showCue"),hideCue:A.bind(null,"hideCue"),showCea608Cue:A.bind(null,"showCea608Cue"),getCueList:A.bind(null,"getCueList"),applyStyle:A.bind(null,"applyStyle"),getStyle:g,setStyle:p,setFullscreenRatio:A.bind(null,"setFullscreenRatio"),setDrag:A.bind(null,"setDrag"),resize:A.bind(null,"resize"),setDefaultLanguage:A.bind(null,"setDefaultLanguage"),appendWebVtt:A.bind(null,"appendWebVtt"),setCaptionType:c,getCaptionType:d}}return a}),anv.define("CaptionSetting",["util"],function(e){function t(t,n,r){function i(){w.header=e.generateChild(n,"div","header","caption-set-header"),e.safeSetInnerHtml(w.header,"Closed Caption Settings"),w.close=e.generateChild(n,"div","close","caption-set-close"),w.content=e.generateChild(n,"div","content","caption-set-content"),w.main=e.generateChild(w.content,"div","main","caption-set-main"),w.advanced=e.generateChild(w.content,"div","advanced","caption-set-advanced"),w.resultFrame=e.generateChild(w.content,"div","result-frame","caption-set-result-frame"),w.resultHolder=e.generateChild(w.resultFrame,"div","result-holder","caption-set-result-holder"),w.result=e.generateChild(w.resultHolder,"span","result","caption-set-result"),w.resultText=e.generateChild(w.result,"span","result-text","caption-set-result-text"),w.resultText.style.textAlign="center",w.resultText.style.fontWeight="bold",e.safeSetInnerHtml(w.resultText,"Captions will look like this"),s(),E(),a(),u(),o(!0,!1)}function a(){var e,t=S.length,n=T.length,r=(k.length,Q.length);for(e=0;e<t;e++)w.fontSelect.options[e]=new Option(S[e],e);for(e=0;e<9;e++){var i=4*e+12+"px";w.sizeSelect.options[e]=new Option(i,e)}for(e=0;e<n;e++){var a=T[e]+"%";w.txtOpacitySelect.options[e]=new Option(a,e),w.bgOpacitySelect.options[e]=new Option(a,e),w.hOpacitySelect.options[e]=new Option(a,e)}for(e=0;e<r;e++)w.edge.options[e]=new Option(Q[e],e)}function o(n,r){R("@applyStyle",n,r);var i=w.resultHolder.style,a=w.result.style,o=w.resultText.style;switch(o.fontFamily=S[_.fontType],o.fontSize=12+4*_.fontSize+"px",parseInt(_.textEdge)){case 0:break;case 1:o.textShadow="1px 1px 1px #000";break;case 2:o.textShadow="0px 1px 0px #ccc";break;case 3:o.textShadow="-1px -1px 2px #000";break;case 4:o.textShadow="2px 0 0 #000, -2px 0 0 #000, 0 2px 0 #000, 0 -2px 0 #000, 1px 1px #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000"}e.safeSetInnerHtml(w.resultText,_.capitalize?w.resultText.innerHTML.toUpperCase():w.resultText.innerHTML.toLowerCase()),o.color=p(k[_.textColor],T[_.textAlpha]/100),i.background=p(k[_.bgColor],T[_.bgAlpha]/100),a.background=p(k[_.highlightColor],T[_.highlightAlpha]/100),n&&(w.fontSelect.selectedIndex=_.fontType,w.sizeSelect.selectedIndex=_.fontSize,w.txtColorSelect.style.background=l(k[_.textColor]),w.txtOpacitySelect.selectedIndex=_.textAlpha,w.bgSelect.style.background=l(k[_.bgColor]),w.bgOpacitySelect.selectedIndex=_.bgAlpha,w.edge.selectedIndex=_.textEdge,w.highlightSelect.style.background=l(k[_.highlightColor]),w.hOpacitySelect.selectedIndex=_.highlightAlpha,w.scaleCheck.checked=_.scale,w.overrideCheck.checked=_.override,w.capitalCheck.checked=_.capitalize),r&&t.publish("captionStyleUpdate",_)}function s(){var t,n,r,i;t=e.generateChild(w.main,"div","row0","caption-set-main-row"),n=e.generateChild(w.main,"div","row1","caption-set-main-row"),r=e.generateChild(w.main,"div","row3","caption-set-main-row"),w.fontLabel=e.generateChild(t,"div","font","caption-set-row-label left"),e.safeSetInnerHtml(w.fontLabel,"Font:"),w.fontSelect=e.generateChild(t,"select","font-select","caption-set-font-select caption-set-select"),w.sizeSelect=e.generateChild(t,"select","size-select","caption-set-size-select caption-set-select right"),i=e.generateChild(n,"span","half0","caption-set-main-half left"),w.txtColorLabel=e.generateChild(i,"div","text-color","caption-set-row-label left"),e.safeSetInnerHtml(w.txtColorLabel,"Text color:"),w.txtColorSelect=e.generateChild(i,"div","text-color-select","caption-set-color-box right"),w.txtCorner=e.generateChild(w.txtColorSelect,"div","select-corner","select-corner right"),w.txtTri=e.generateChild(w.txtCorner,"div","select-triangle","select-triangle"),i=e.generateChild(n,"span","half1","caption-set-row-half right"),w.txtOpacitySelect=e.generateChild(i,"select","text-opacity-select","caption-set-text-opacity-select caption-set-select right"),w.txtOpacityLabel=e.generateChild(i,"div","text-opacity","caption-set-row-label right"),e.safeSetInnerHtml(w.txtOpacityLabel,"Opacity:"),i=e.generateChild(r,"span","half0","caption-set-main-half left"),w.bgLabel=e.generateChild(i,"div","bg","caption-set-row-label left"),e.safeSetInnerHtml(w.bgLabel,"Background:"),w.bgSelect=e.generateChild(i,"div","bg-color","caption-set-color-box right"),w.bgCorner=e.generateChild(w.bgSelect,"div","select-corner","select-corner"),w.bgTri=e.generateChild(w.bgCorner,"div","select-triangle","select-triangle"),i=e.generateChild(r,"span","half1","caption-set-main-half right"),w.bgOpacitySelect=e.generateChild(i,"select","bg-opacity-select","caption-set-bg-opacity-select caption-set-select right"),w.bgOpacityLabel=e.generateChild(i,"div","bg-opacity","caption-set-row-label right"),e.safeSetInnerHtml(w.bgOpacityLabel,"Opacity:")}function l(e){return"rgb("+e.join(",")+")"}function u(){var t,r,i=e.generateChild(n,"div","color-picker","color-picker"),a=k.length;for(i.style.display="none",i.style.position="absolute",i.style.height=M*N+"px",i.style.width=M*a/N+"px",i.style.padding="3px",w.pickerColor=[],t=0;t<a;t++){t%(a/N)==0&&(r=e.generateChild(i,"div","picker-color-row"+parseInt(t/(a/N))),r.style.height=M+"px",r.style.width=M*a+"px",r.style.overflow="hidden");var o=e.generateChild(r,"div","picker-color"+t,"color-picker-item");o.style.background=l(k[t]),o.style.width=M-4+"px",o.style.height=M-4+"px",o.style.border="solid 1px #444444",o.style.margin="1px",o.style.float="left",w.pickerColor.push(o)}w.pickerFrame=i}function c(t,r){var i=e.getRelativeOffset(t,n);i.x-=n.offsetLeft,i.y-=n.offsetTop,R(i.x,i.y),w.pickerFrame.style.top=i.y+t.offsetHeight+"px",w.pickerFrame.style.left=i.x+"px",b=t,w.pickerFrame.style.display="block",w.pickerColor[r].style.border="solid 1px #fff",C=!0}function d(){C=!1,b=null,w.pickerFrame.style.display="none";var e=8;do{e--,w.pickerColor[e].style.border="solid 1px #444444"}while(e)}function A(){w.txtColorSelect.addEventListener("click",function(){C&&this==b?d():c(this,_.textColor)},!1),w.bgSelect.addEventListener("click",function(){C&&this==b?d():c(this,_.bgColor)},!1),w.highlightSelect.addEventListener("click",function(){C&&this==b?d():c(this,_.highlightColor)},!1),w.pickerFrame.addEventListener("mousemove",f,!1),w.pickerFrame.addEventListener("click",h,!1),w.fontSelect.addEventListener("change",g,!1),w.sizeSelect.addEventListener("change",g,!1),w.txtOpacitySelect.addEventListener("change",g,!1),w.bgOpacitySelect.addEventListener("change",g,!1),w.hOpacitySelect.addEventListener("change",g,!1),w.edge.addEventListener("change",g,!1),w.scaleCheck.addEventListener("change",g,!1),w.overrideCheck.addEventListener("change",g,!1),w.capitalCheck.addEventListener("change",g,!1),w.advExpandButton.addEventListener("click",function(){m()},!1),w.close.addEventListener("click",function(){R("sent toggleCaptionSet"),t.publish("toggleCaptionSet")},!1)}function g(e){var t,n=e.target.className;w.resultHolder.style,w.result.style,w.resultText.style;-1==n.indexOf("check")?(t=this[this.selectedIndex].value,t=parseInt(t)):t=this.checked,R("value:",t),R(n),n.indexOf("font-select")>-1?_.fontType=t:n.indexOf("size-select")>-1?_.fontSize=t:n.indexOf("text-opacity")>-1?_.textAlpha=t:n.indexOf("bg-opacity")>-1?_.bgAlpha=t:n.indexOf("hl-opacity")>-1?_.highlightAlpha=t:n.indexOf("edge-select")>-1?_.textEdge=t:n.indexOf("scale-check")>-1?(_.scale=t,R("checked",t)):n.indexOf("capital-check")>-1?(_.capitalize=t,R("checked",t)):n.indexOf("override-check")>-1&&(_.override=t,R("checked",t)),o(!1,!0)}function p(e,t){return"rgba("+e.join(",")+","+t+")"}function f(e){var t,n,r;if("touchmove"==e.type||"touchstart"==e.type||"touchend"==e.type){t=e.changedTouches[0].target.id}else t=e.target.id;return R(t),r=/picker-color([0-9]+)/.exec(t),r&&b?(n=r[1],b.id.indexOf("text-color")>-1?(R("changing text-color"),w.resultText.style.color=p(k[n],T[_.textAlpha]/100)):b.id.indexOf("bg-color")>-1?w.resultHolder.style.background=p(k[n],_.bgAlpha):b.id.indexOf("highlight-color")>-1&&(w.result.style.background=p(k[n],_.highlightAlpha)),n):null}function h(e){var t=f(e);null!=t&&(b.id.indexOf("text-color")>-1?_.textColor=t:b.id.indexOf("bg-color")>-1?_.bgColor=t:b.id.indexOf("highlight-color")>-1&&(_.highlightColor=t),b.style.background=l(k[t]),R("selected color",t),o(!1,!0)),d()}function m(){w.advPanel.style.visibility=D?"hidden":"visible",e.safeSetInnerHtml(w.advExpandArrow,D?"  &#x25be;":"  &#x25b4;"),D=!D}function E(){var t=[],n=0;for(w.advExpand=e.generateChild(w.advanced,"div","row0","caption-set-narrow-row"),w.advExpandButton=e.generateChild(w.advExpand,"span","expand-button","caption-set-expand-button"),w.advExpandButton.style.cursor="pointer",e.safeSetInnerHtml(w.advExpandButton,"Advanced"),w.advExpandButton.style.textDecoration="underline",w.advExpandArrow=e.generateChild(w.advExpand,"span"),e.safeSetInnerHtml(w.advExpandArrow,"  &#x25BE;"),w.advExpandArrow.style.lineHeight="1.4em",w.advPanel=e.generateChild(w.advanced,"div","adv-panel","caption-set-advanced-panel"),w.advPanel.style.visibility="hidden";n<4;){var r=n>1?"caption-set-narrow-row":"caption-set-advanced-row";t[n]=e.generateChild(w.advPanel,"div","row"+n,r),n++}w.edgeLabel=e.generateChild(t[0],"div","edge","caption-set-row-label left"),e.safeSetInnerHtml(w.edgeLabel,"Text Edge:"),w.edge=e.generateChild(t[0],"select","edge-select","caption-set-edge-select caption-set-select"),w.highlightLabel=e.generateChild(t[1],"div","highlight","caption-set-row-label left"),e.safeSetInnerHtml(w.highlightLabel,"Highlight:"),w.highlightSelect=e.generateChild(t[1],"div","highlight-color","caption-set-color-box left"),w.hlCorner=e.generateChild(w.highlightSelect,"div","select-corner","select-corner"),w.hlTri=e.generateChild(w.hlCorner,"div","select-triangle","select-triangle"),w.hOpacitySelect=e.generateChild(t[1],"select","hl-opacity-select","caption-set-hl-opacity caption-set-select right"),w.hOpacityLabel=e.generateChild(t[1],"div","hl-opacity-label","caption-set-row-label right"),e.safeSetInnerHtml(w.hOpacityLabel,"Opacity:"),w.scaleHolder=e.generateChild(t[2],"div","scale","caption-set-scale right"),w.scaleCheck=e.generateChild(w.scaleHolder,"input","scale-check","caption-set-check scale-check"),w.scaleLabel=e.generateChild(w.scaleHolder,"label","scale-label","caption-set-check-label"),w.scaleCheck.type="checkbox",w.scaleLabel.htmlFor=w.scaleCheck.id,w.scaleLabel.appendChild(document.createTextNode("Scale on resize")),w.capitalHolder=e.generateChild(t[2],"div","capital-holder","caption-set-capital-holder left"),w.capitalCheck=e.generateChild(w.capitalHolder,"input","capital-check","caption-set-check capital-check"),w.capitalLabel=e.generateChild(w.capitalHolder,"label","capital-label","caption-set-check-label"),w.capitalCheck.type="checkbox",w.capitalLabel.htmlFor=w.capitalCheck.id,w.capitalLabel.appendChild(document.createTextNode("Capitalize")),w.overrideHolder=e.generateChild(t[3],"div","override-holder","caption-set-override-holder left"),w.overrideCheck=e.generateChild(w.overrideHolder,"input","override-check","caption-set-check override-check"),w.overrideLabel=e.generateChild(w.overrideHolder,"label","override-label","caption-set-check-label"),w.overrideCheck.type="checkbox",w.overrideLabel.htmlFor=w.overrideCheck.id,w.overrideLabel.appendChild(document.createTextNode("Video override")),w.overrideHolder.style.display="none"}function v(e){var t,n={scale:1,capitalize:1,override:1};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&r in _&&(r in n?_[r]=1==e[r]:(t=parseInt(e[r]),isNaN(t)||(_[r]=t)));o(!0,!1)}}function y(e){R("@setCaptionType",e),B=e}function I(e,t){C&&d()}var b,C,B,w={},S=["Arial","Courier","Georgia","Lucida Sans","Tahoma","Times New Roman","Verdana"],T=[0,25,50,75,100],k=[[255,255,255],[7,247,247],[9,9,249],[4,246,5],[252,252,10],[248,9,248],[246,5,6],[0,0,0]],Q=["None","Drop Shadow","Raised","Depressed","Uniform"],D=!1,R=r?r.getLogFn("CaptionSetting"):function(){console.log.apply(console,["[!CaptionSetting!]\t"].concat(Array.prototype.slice.call(arguments)))},_={fontType:0,fontSize:3,textColor:0,textAlpha:4,bgColor:7,bgAlpha:0,textEdge:4,highlightColor:7,highlightAlpha:0,scale:!0,capitalize:!1,override:!0},M=32,N=2;return{init:function(){i(),A()},show:function(){var e;n.style.display="block",(e=n.offsetWidth)<=500&&(w.header.style.width="90%",w.content.style.width="90%")},hide:function(){n.style.display="none"},setStyle:v,setCaptionType:y,rescale:I}}return t}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof anv.define&&anv.define.amd)anv.define("clipboard",[],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Clipboard=e()}}(function(){var e;return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){return i(t[o][1][e]||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){function r(e,t){for(;e&&e.nodeType!==i;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var i=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}t.exports=r},{}],2:[function(e,t,n){function r(e,t,n,r,a){var o=i.apply(this,arguments);return e.addEventListener(n,o,a),{destroy:function(){e.removeEventListener(n,o,a)}}}function i(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}var a=e("./closest");t.exports=r},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!s.string(t))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(e))return i(e,t,n);if(s.nodeList(e))return a(e,t,n);if(s.string(e))return o(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function a(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function o(e,t,n){return l(document.body,e,t,n)}var s=e("./is"),l=e("delegate");t.exports=r},{"./is":3,delegate:2}],5:[function(e,t,n){function r(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}t.exports=r},{}],6:[function(e,t,n){function r(){}r.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var a=0,o=r.length;a<o;a++)r[a].fn!==t&&r[a].fn._!==t&&i.push(r[a]);return i.length?n[e]=i:delete n[e],this}},t.exports=r},{}],7:[function(t,n,r){!function(i,a){if("function"==typeof e&&e.amd)e(["module","select"],a);else if(void 0!==r)a(n,t("select"));else{var o={exports:{}};a(o,i.select),i.clipboardAction=o.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(e){return e&&e.__esModule?e:{default:e}}(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=o})},{select:5}],8:[function(t,n,r){!function(i,a){if("function"==typeof e&&e.amd)e(["module","./clipboard-action","tiny-emitter","good-listener"],a);else if(void 0!==r)a(n,t("./clipboard-action"),t("tiny-emitter"),t("good-listener"));else{var o={exports:{}};a(o,i.clipboardAction,i.tinyEmitter,i.goodListener),i.clipboard=o.exports}}(this,function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var u=i(t),c=i(n),d=i(r),A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e,n){a(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return s(t,e),g(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===A(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,d.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return l("action",e)}},{key:"defaultTarget",value:function(e){var t=l("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return l("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(c.default);e.exports=p})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),anv.define("Share",["util","clipboard"],function(e,t){function n(n,r,i,a,o,s,l){function u(){function i(e){$("KEY:",e.which);var t={8:1,27:1,16:1,186:1,37:1,38:1,39:1,40:1};e.which in t||e.which>47&&e.which<58||e.preventDefault()}function a(){W=!W,e.safeSetInnerHtml(G,Z?H.value:"from the beginning"),G.style.display=W?"none":"inline-block",j.style.display=W?"inline-block":"none",e.safeSetInnerHtml(V,W||Z?"Share at ":"Share ")}function o(){var t=E();Z=t,t?(a(),n.publish("updateEmbedInfo",_)):(e.safeSetInnerHtml(k.sendStatus,"You have entered an invalid time value!"),b())}var s,l,u,A,m,v,y,I,C,B,w,S,T,Q,D,R,M,N,P,O,L,x,F,U,V,G,H,j,Y,K,q,J,z;return l=e.generateChild(r,"div","share-panel","share-panel"),u=e.generateChild(l,"div","share-title","share-title-label"),A=e.generateChild(l,"div","share-send-status","share-send-status-label"),m=e.generateChild(l,"div","share-content","share-content-panel"),v=e.generateChild(m,"div","share-left","share-left-panel"),e.setFloat(v,"left"),y=e.generateChild(m,"div","share-right","share-right-panel"),e.setFloat(y,"left"),I=e.generateChild(v,"div","share-email-prompt","share-email-label"),C=e.generateChild(v,"input","share-to","share-to-input share-input"),C.style.display="block",B=e.generateChild(v,"input","share-from","share-from-input share-input"),B.style.display="block",w=e.generateChild(v,"textarea","share-msg","share-msg-input share-input"),w.style.display="block",S=c(v,"share-send","share-send-btn share-text-btn share-btn","",p),e.setFloat(S,"right"),T=e.generateChild(y,"div","share-social-links","share-social-links-panel"),z=e.generateChild(T,"div","share-social-start-shim",""),z.style.display="inline-block",T.appendChild(document.createTextNode(" ")),D=d(T,"share-twitter","twitter-btn share-social-btn share-btn",f),T.appendChild(document.createTextNode(" ")),Q=d(T,"share-facebook","facebook-btn share-social-btn share-btn",f),T.appendChild(document.createTextNode(" ")),R=d(T,"share-pinterest","pinterest-btn share-social-btn share-btn",f),T.appendChild(document.createTextNode(" ")),z=e.generateChild(T,"div","share-social-end-shim",""),z.style.display="inline-block",q=e.generateChild(T,"span","share-social-stretch",""),q.style.width="100%",q.style.display="inline-block",M=e.generateChild(y,"div","share-code-area","share-code-panel"),N=e.generateChild(M,"div","share-link-area","share-link-panel"),N.style.clear="both",J=e.generateChild(N,"span","share-link-input-wrapper",""),J.style.display="table-cell",J.style.width="100%",L=e.generateChild(J,"input","share-link-text","share-link-input share-input"),L.style.width="100%",z=e.generateChild(N,"span","share-link-shim",""),z.style.display="table-cell",z.style.minWidth="22px",J=e.generateChild(N,"span","share-link-button-wrapper",""),J.style.display="table-cell",x=c(J,"share-link-button","share-link-btn share-text-btn share-btn","",h),P=e.generateChild(M,"div","share-embed-area","share-embed-panel"),P.style.clear="both",J=e.generateChild(P,"span","share-embed-input-wrapper",""),J.style.display="table-cell",J.style.width="100%",F=e.generateChild(J,"input","share-embed-text","share-embed-input share-input"),F.style.width="100%",z=e.generateChild(P,"span","share-embed-shim",""),z.style.display="table-cell",z.style.minWidth="22px",J=e.generateChild(P,"span","share-embed-button-wrapper",""),J.style.display="table-cell",U=c(J,"share-embed-button","share-embed-btn share-text-btn share-btn","",h),O=e.generateChild(M,"div","share-start-time-area","share-start-time-panel"),O.style.clear="both",V=e.generateChild(O,"span","share-start-time-prefix","share-start-time-prefix"),G=e.generateChild(O,"span","share-start-time-button","share-start-time-button"),j=e.generateChild(O,"span","input-area","share-start-time-input-area"),j.style.display="none",H=e.generateChild(j,"input","share-start-time-input","share-start-time-input share-input"),Y=e.generateChild(j,"span","button-ok","share-start-time-input-button"),K=e.generateChild(j,"span","button-cancel","share-start-time-input-button"),H.placeholder="00:00",G.style.cursor="pointer",Y.style.cursor="pointer",K.style.cursor="pointer",e.addEventListener(H,"keydown",i),e.addEventListener(G,"click",a),e.addEventListener(K,"click",function(){Z&&(Z=!1,_=0),a(),n.publish("updateEmbedInfo",_)}),e.addEventListener(Y,"click",o),s=d(r,"shareClose","share-close-btn share-btn",g),s.style.zIndex=2147483648,new t(x,{target:function(){return L}}),new t(U,{target:function(){return F}}),{close:s,sharePanel:l,header:u,sendStatus:A,content:m,leftArea:v,rightArea:y,emailPrompt:I,to:C,from:B,message:w,sendButton:S,socialMediaButtons:T,facebook:Q,twitter:D,pinterest:R,codeArea:M,linkArea:N,embedArea:P,startTimeArea:O,linkText:L,linkButton:x,embedText:F,embedButton:U,startTimePrefix:V,startTimeButton:G,startTimeInputArea:j,startTimeInput:H,buttonOK:Y,buttonCancel:K}}function c(t,n,r,i,a){var o=e.generateChild(t,"div",n,r,i);return M?e.addEventListener(o,"touchend",a,!1):e.addEventListener(o,"click",a,!1),o}function d(t,n,r,i){var a=e.generateEmptyImg(t,n,r);return e.addEventListener(a,"click",i,!1),a}function A(){if("activeElement"in document)try{document.activeElement!==document.body&&document.activeElement.blur()}catch(e){}}function g(){$("Close button clicked"),n.publish("toggleSharePanel"),A()}function p(){$("Send button clicked"),!z&&m()&&(v(k.to.value,k.from.value,k.message.value,k.linkText.value),z=!0,e.safeSetInnerHtml(k.sendButton,"Sending..."),n.publish("dispatchUserShare")),A()}function f(){var t,r=s&&s.openGraphInfo&&s.openGraphInfo.image?s.openGraphInfo.image:s.baseURL+"img/anvatologo.png";R=R||r,D=D?D.replace(/"/g,""):"",Q=Q?Q.replace(/"/g,""):"",this.id.indexOf("facebook")>=0?t="http://www.facebook.com/sharer.php?u="+encodeURIComponent(O):this.id.indexOf("twitter")>=0?(msg=Q?e.uTF8Encode(Q):e.uTF8Encode(D),$("msg",msg,"description",Q),t="http://twitter.com/intent/tweet?url="+O,msg&&(t=t+"&text="+msg)):(t="http://pinterest.com/pin/create/button/?url="+O,R&&(t=t+"&media="+e.uTF8Encode(R)),Q?t=t+"&description="+e.uTF8Encode(Q):D&&(t=t+"&description="+e.uTF8Encode(D))),e.openURIInNewWindow(t),n.publish("dispatchUserShare")}function h(){this===k.embedButton?($("Embed button clicked"),
k.embedText.focus(),k.embedText.setSelectionRange(0,k.embedText.value.length)):($("Link button clicked"),k.linkText.focus(),k.linkText.setSelectionRange(0,k.linkText.value.length))}function m(){var e=!0;return k.to.style.border=H+"px "+Y+" "+q,k.from.style.border=H+"px "+Y+" "+q,F.test(k.to.value)||(k.to.style.border=j+"px "+K+" "+J,e=!1),F.test(k.from.value)||(k.from.style.border=j+"px "+K+" "+J,e=!1),e}function E(){var t=k.startTimeInput.value;return k.startTimeInput.style.border=H+"px "+G+" "+q,_=e.timeString2Sec(t),!(!U.test(t)||_>P)||(k.startTimeInput.style.border=j+"px "+G+" "+J,_=0,!1)}function v(t,n,r,i){var a=n+" has sent you a video!\n",o=(new Date).getTime()+x,s=Math.round(o/1e3),l=e.createUUID(),u=[n,t,l,s,e.md5("anvrocks")].join("|");$("Sending email","to: "+t,"from: "+n,"subject: "+a,"message: "+r),e.sendPostRequest(V,{to:t,from:n,subject:a,link:O,message:r,title:D,description:Q,image:R,ts:s,rid:l,token:e.md5(u)},y,I)}function y(t){var n;if("1"==t)$("got legacy email server response"),n={success:!0};else try{n=JSON.parse(t)}catch(e){return void I("100","E-mail server returned invalid response")}var r;n.success?($("Email success: "+t),e.safeSetInnerHtml(k.sendStatus,X("share-sendSuccess-content")),k.to.value="",k.from.value="",k.message.value="",z=!1,e.safeSetInnerHtml(k.sendButton,"Send"),b()):(r=n.error||{},I(r.code,r.info))}function I(t,n){l.dispatchError("SSHR100",t?"Email server error code:"+t+", detail:"+n:void 0),e.safeSetInnerHtml(k.sendStatus,X("share-sendFail-content")),z=!1,e.safeSetInnerHtml(k.sendButton,"Send"),b()}function b(){setTimeout(function(){e.safeSetInnerHtml(k.sendStatus,"")},3e3)}function C(t){e.setReadOnly(k.embedText,!1,M),k.embedText.value=t,e.setReadOnly(k.embedText,!0,M)}function B(t){e.setReadOnly(k.linkText,!1,M),k.linkText.value=t,e.setReadOnly(k.linkText,!0,M)}function w(){k.close.title=X("share-close-tooltip"),e.safeSetInnerHtml(k.header,X("share-title-content")),e.safeSetInnerHtml(k.sendStatus,""),e.safeSetInnerHtml(k.emailPrompt,X("share-emailPrompt-content")),k.to.placeholder=X("share-to-placeholder"),k.to.title=X("share-to-tooltip"),k.from.placeholder=X("share-from-placeholder"),k.from.title=X("share-from-tooltip"),k.message.placeholder=X("share-message-placeholder"),k.message.title=X("share-message-tooltip"),e.safeSetInnerHtml(k.sendButton,X("share-send-content")),k.sendButton.title=X("share-send-tooltip"),k.facebook.title=X("share-facebook-tooltip"),k.twitter.title=X("share-twitter-tooltip"),k.pinterest.title=X("share-pinterest-tooltip"),k.linkText.placeholder=X("share-linkText-placeholder"),k.linkText.title=X("share-linkText-tooltip"),e.safeSetInnerHtml(k.linkButton,X("share-linkButton-content")),k.linkButton.title=X("share-linkButton-tooltip"),k.embedText.placeholder=X("share-embedText-placeholder"),k.embedText.title=X("share-embedText-tooltip"),e.safeSetInnerHtml(k.embedButton,X("share-embedButton-content")),k.embedButton.title=X("share-embedButton-tooltip"),e.safeSetInnerHtml(k.startTimePrefix,"Share "),e.safeSetInnerHtml(k.startTimeButton,"from the beginning"),e.safeSetInnerHtml(k.buttonOK,"OK"),e.safeSetInnerHtml(k.buttonCancel,"Cancel")}function S(e,t){var n=e||Math.max(r.offsetWidth,r.clientWidth);n<640&&(k.header.style.height="20px",k.header.style.lineHeight="20px",k.sendStatus.style.height="20px",k.sendStatus.style.fontSize="15px"),n<500&&(ee.header=!1,ee.status=!1,ee.leftPanel=!1,ee.startAt=!1,k.header.style.display="none",k.sendStatus.style.display="none",k.leftArea.style.display="none",k.rightArea.style.width="90%",k.rightArea.style.marginLeft=0,k.startTimeArea.style.display="none"),n<400&&(k.socialMediaButtons.style.marginTop="7%"),n<300&&(ee.embed=!1,k.socialMediaButtons.style.marginTop="14%",k.socialMediaButtons.style.width="75%",k.codeArea.style.display="none"),$("Share width:",n)}function T(e){$("@setTimeDelta:",e),x=e}var k,Q,D,R,_,M,N,P,O,L,x,F=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,U=/^(([0-9]{1,2}:)?[0-5]{1}[0-9]{1}:)?[0-5]{1}[0-9]{1}$/,V=s.emailServer||"https://share.anvato.net/mail2.php",G="solid",H=0,j=3,Y="none",K="solid",q="#ccc",J="red",z=!1,W=!1,Z=!1,X=i?i.tr:function(){return"--"},$=a?a.getLogFn("Share"):function(){console.log.apply(console,["[!Share!]\t"].concat(Array.prototype.slice.call(arguments)))},ee={header:!0,status:!0,leftPanel:!0,startAt:!0,icons:!0,embed:!0};return{init:function(){M=o&&(o.android||o.ipad||o.iphone),k=u(),w(),e.preventDefaultMouseDown([k.facebook,k.twitter,k.pinterest,k.close,k.sendButton,k.linkButton,k.embedButton]),Q="",R="",_=0},updateLanguage:function(){w()},show:function(t){r.style.display="block",N=t?t.currentTime:null,P=t?t.duration:null,N&&(k.startTimeInput.value=e.sec2TimeString(N)),k.startTimeArea.style.visibility=t?"visible":"hidden",k.to.focus(),S()},hide:function(){r.style.display="none"},setEmbedCode:function(e){C(e)},setShareLink:function(e){O=e,B(e)},setOpenGraphShareLink:function(e){L=e},setDescription:function(e){Q=e},setTitle:function(e){D=e},setMediaURL:function(e){R=e},setTimeDelta:T}}return n}),anv.define("Search",["util"],function(e){function t(t,n,r,i){function a(){var t,r,i,a,o,s;return t=e.generateEmptyImg(n,"search-close","search-close-btn"),e.addEventListener(t,"click",l,!1),i=e.generateChild(n,"div","search-input-container",""),i.style.position="relative",i.style.margin="20px auto 0 auto",i.style.width="80%",r=e.generateChild(i,"input","search-input","search-input"),r.value="",r.style.margin="0px",r.style.width="100%",r.style.height=S+"px",r.style.fontSize=".9em",r.style.paddingLeft="8px",e.addEventListener(r,"input",c,!1),a=e.generateEmptyImg(i,"search-icon","search-icon"),a.style.position="absolute",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.style.margin="auto",a.style.zIndex="1",o=e.generateChild(n,"div","search-status","search-status-text"),o.style.marginTop=C+"px",o.style.marginLeft=b+"px",o.style.width=w+"px",o.style.height=T+"px",o.style.fontSize=".8em",o.style.textAlign="left",s=e.generateChild(n,"div","search-container","search-container"),s.style.position="absolute",s.style.top=S+T+b+2*C+"px",s.style.bottom=b+"px",s.style.left=b+"px",s.style.width=w+40+"px",s.style.fontSize="14px",s.style.overflow="auto",{close:t,searchBox:r,searchIcon:a,status:o,matchesContainer:s}}function o(t,n){var r,i,a,o;r=e.generateChild(t,"div","","search-matching-cue-container"),r.style.width="100%",r.style.height=k+"px",r.style.overflow="hidden",r.style.whiteSpace="nowrap",e.addEventListener(r,"click",u,!1),o=e.generateChild(r,"img","","search-matching-cue-thumbnail"),o.src="img/transparent.gif",o.style.margin="0px",o.style.width=y+"px",o.style.height=I+"px",o.style.verticalAlign="middle",n.frame&&(o.style.background="#fff url('"+n.frame.url+"') no-repeat "+n.frame.left+"px "+n.frame.top+"px"),i=e.generateChild(r,"span","","search-matching-cue-time",e.sec2TimeString(n.begin)),i.style.margin="0px 0px 0px "+B+"px",i.style.width=Q+"px",i.style.height=k+"px",a=e.generateChild(r,"span","","search-matching-cue-text",n.text),a.style.margin="0px 0px 0px "+B+"px",a.style.height=k+"px"}function s(){if("activeElement"in document)try{document.activeElement!==document.body&&document.activeElement.blur()}catch(e){}}function l(e){R("Close button clicked"),t.publish("toggleSearchPanel"),s()}function u(){var n,r;n=this.querySelector(".anv-search-matching-cue-time").innerHTML,r=e.timeString2Sec(n),R("Caption cue clicked on at "+n),t.publish("toggleSearchPanel"),t.publish("seekRequest",r)}function c(){var n;if(v=!0,E=[],R("User edited search box text: "+f.searchBox.value),0!==f.searchBox.value.length){try{n=new RegExp(f.searchBox.value,"i")}catch(e){v=!1}v&&(E=h.filter(function(e){return n.test(e.text)}))}A(),v&&E.length>0?t.publish("captionThumbnailsRequest",E):e.safeSetInnerHtml(f.matchesContainer,"")}function d(t){e.safeSetInnerHtml(f.matchesContainer,"");for(var n=0;n<t.length;n++)o(f.matchesContainer,t[n])}function A(){var t,n;h&&0!==h.length?0===f.searchBox.value.length?e.safeSetInnerHtml(f.status,""):v?(n=D("search-status-numberOfMatches").split("%"),t=3!==n.length?E.length+" '"+f.searchBox.value+"' ":n[0]+E.length+n[1]+f.searchBox.value+n[2],e.safeSetInnerHtml(f.status,t)):e.safeSetInnerHtml(f.status,D("search-status-invalidRegex")):e.safeSetInnerHtml(f.status,D(m?"search-status-select-lang":"search-status-emptyCueList"))}function g(){f.searchBox.value="",v=!0,e.safeSetInnerHtml(f.matchesContainer,""),E=[],A()}function p(){f.close.title=D("search-close-tooltip"),f.searchBox.placeholder=D("search-searchBox-placeholder"),f.searchBox.title=D("search-searchBox-tooltip"),f.matchesContainer.title=D("search-matchedItem-tooltip"),A()}var f,h,m,E,v,y,I,b=22,C=12,B=10,w=540-2*b-40,S=30,T=20,k=40,Q=60,D=r?r.tr:function(){return"--"},R=i?i.getLogFn("Search"):function(){console.log.apply(console,["[!Search!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:function(){v=!0,h=[],E=[],f=a(),y=0,I=0,p(),e.preventDefaultMouseDown([f.close,f.searchIcon])},updateLanguage:function(){p()},show:function(){n.style.display="block"},hide:function(){n.style.display="none",g()},setCueList:function(e,t){h=e||[],m=t.length,R("isCaptionAvailable",m),g()},setThumbnailWidthHeight:function(e){y=e.width,I=e.height},redrawCueList:function(e){d(e)}}}return t}),anv.define("Playlist",["util"],function(e){function t(t,n,r,i,a){function o(t,n){t&&n&&(t.style.background="url('"+n+"') no-repeat center",t.style.backgroundSize="100%",t.style.width="45%",t.style.maxWidth="128px",t.style.height="72px",e.setFloat(t,"left"))}function s(e){var n=[];e.captions&&e.captions.length?(ce("captionUpdate sent"),n=e.captions):n=[],t.publish("captionUpdate",n),e.previews&&e.previews.url&&e.duration&&e.pvw_matrices?(ce("previewDetected sent"),t.publish("previewDetected",{previews:e.previews,duration:e.duration,pvw_matrices:e.pvw_matrices})):t.publish("resetPreview"),ce("splashInfoUpdate sent"),t.publish("splashInfoUpdate",{def_description:e.def_description||null,def_title:e.def_title||null,video:e.id||e.upload_id,title:e.def_title,description:e.def_description,duration:e.duration,thumbnail:e.src_image_url||e.src_logo_url,rating:e.rating,live:"2"==e.video_type,previews:e.previews,pvw_matrices:e.pvw_matrices}),e.common&&"language"in e.common&&t.publish("contentLanguageDetected",e.common.language),e.plugins&&e.plugins.dfp&&"clientSide"in e.plugins.dfp&&t.publish("dfpConfigDetected",e.plugins.dfp),e.ad_slots&&t.publish("adSlotsDetected",e.ad_slots),e.rstv&&t.publish("restartTvDetected",e.rstv)}function l(){var e;return ce("@getNextItem",K,U.length,U.length),ce("@getNextItem loopThrough",J),I(K+1),K>=U.length?J?(I(K%U.length),(e=U[K])&&(e.play=!0)):(t.publish("completedPlaylist"),i&&"dispatchError"in i&&i.dispatchError("PLAY920"),I(U.length-1),(e=U[K])&&(e.play=!1)):e=U[K],s(e),e}function u(){var e,t;return ce("@checkNextItem",K,U.length,U.length),ce("@checkNextItem loopThrough",J),t=K+1,t>=U.length?J?(t=K%U.length,e=U[t]):(t=U.length-1,e=U[t]):e=U[t],e}function c(){return K<U.length-1||J}function d(){var e;return ce("@getPreviousItem",K,U.length,U.length),ce("@getPreviousItem loopThrough",J),I(K-1),ce("@getPreviousItem",K),K<0?J?(I(U.length-1),e=U[K]):(I(0),e=U[K],e&&(e.play=!1),i&&"dispatchError"in i&&i.dispatchError("PLAY921")):e=U[K],s(e),e}function A(){return K>0||J}function g(e){ce("getItemWithId",e);var t,n,r;for(n=0,r=U.length;n<r;n++)if(U[n].id&&U[n].id==e)return n,I(n),ce("Found the item with id:",e),t=U[n],s(t),t;return null}function p(e){return"number"==typeof e&&U.length>e?U[e]:null}function f(t,n){for(var r=0,i=U.length;r<i;r++)if(U[r].id&&U[r].id==t)return U[r]=e.merge(U[r],n),ce("@mergeToItemWithId found index:",r,"item:",JSON.stringify(U[r],null,3)),!0;return!1}function h(){ce("@decorate"),e.safeSetInnerHtml(G,"");var t,n;"visual"==z&&"native"==W&&(G.style.display="none",G.style.width="50%",G.style.maxWidth="500px",G.style.height="100%",G.style.position="absolute",G.style.right="0",G.style.top="0",G.style.color="#FFF",G.style.background="rgba(5, 4, 5, 0.82)",G.style.zIndex="2147483648",t=e.generateChild(G,"div","playlist-header","playlist-header"),t.style.width="100%",t.style.height="27px",t.style.padding="10px 0 0 10px",t.style.fontSize="1.1em",e.safeSetInnerHtml(t,"Playlist"),pe&&(ue=e.generateChild(t,"div","autoplay-toggle-holder","autoplay-toggle-holder"),ue.innerText="Autoplay",se=e.generateChild(ue,"div","autoplay-toggle","autoplay-toggle"),e.addEventListener(se,"click",N,!1),le=e.generateChild(se,"div","autoplay-toggle-inner-segment","autoplay-toggle-inner-segment")),n=e.generateChild(t,"div","playlist-close","playlist-close"),n.style.position="absolute",n.style.right="10px",n.style.top="10px",n.style.width="32px",n.style.height="32px",n.style.zIndex="3",n.onclick=function(){R()},H=e.generateChild(G,"div","playlist-menu","playlist-menu"),H.style.paddingLeft="5px",H.style.paddingRight="5px",H.style.height="90%",H.style.marginRight="3px",H.style.overflowY="scroll",H.style.overflowX="hidden"),e.addEventListener(G,"click",function(e){ce("click",e.target.className),ce("click",this.className)},!1),j=Q(),te=!0,de&&D()}function m(){var t,n,i,a=[],o=Date.now();if(ee=o,H){for(Y[o]=0,t=0;t<U.length;t++)n=U[t].thumbnail||U[t].src_image_url||X,a.push(n),j.length>t&&(e.safeSetInnerHtml(j[t].title,U[t].def_title||"Video #"+(t+1)),e.safeSetInnerHtml(j[t].description,U[t].def_description||""));ce("caching thumbnail",r.stringify(a,null,3)),i=a.filter(function(t){var n=e.md5(t);return $[n]&&E(o,{src:t}),!$[n]}),e.cacheImages(i,E.bind(null,o),v.bind(null,o))}}function E(t,n){if(t==ee){var r=e.md5(n.src);$[r]=!0,Y[t]++,y(t)}}function v(t,n){if(t==ee){var r=e.md5(n.src);$[r]=!1,Y[t]++,ce("Thumbnail load error",Y[t],n.src,r),y(t)}}function y(t){if(Y[t]==U.length){j=Q();for(var n=0;n<j.length;n++){var r=U[n].thumbnail||U[n].src_image_url||X;$[e.md5(r)]||(r=X),o(j[n].thumbnail,r,t)}Y[t]={}}}function I(e){if(V=K,K=e,ce("previous:",V,"current:",K),H)for(var t=0;t<H.children.length;t++)t==e?(H.children[t].querySelector(".anv-playlist-item-close").style.display="none",H.children[t].style.backgroundColor="rgba(238,63,37,0.8)"):(H.children[t].querySelector(".anv-playlist-item-close").style.display="block",H.children[t].style.backgroundColor="")}function b(t){var n=e.getCumulativeOffset(H).y+H.children[t].offsetTop;H.scrollTop=n}function C(){if(!ge){for(var e=this.previousSibling,n=0;e;)n++,e=e.previousSibling;I(n),t.publish("playlistItemSelected",n),R()}}function B(t){if(null!=Ae){if(t.touches&&t.touches.length>1)return;var n=t.touches?t.touches[0].clientY:t.clientY;ie=n-ne+H.scrollTop,Math.abs(ie)>0&&(ge=!0);var r=n-e.getCumulativeOffset(H).y;r<20?H.scrollTop-=5:r>H.offsetHeight-20&&(H.scrollTop+=5,H.scrollTop>re&&(H.scrollTop=re)),H.children[Ae].style.transition="",H.children[Ae].style.transform="translate(0px, "+ie+"px)",w()}}function w(){var t,n,r,i,a;for(ae=Ae,r=e.getCumulativeOffset(H.children[Ae]),a=H.children[Ae].offsetHeight,oe=ie,t=Ae-1;t>=0;t--)n=e.getCumulativeOffset(H.children[t]),i=H.children[t].offsetHeight,H.children[t].style.transition="transform 0.2s",ie+r.y<n.y+i/2?(H.children[t].style.transform="translate(0px, "+a+"px)",ae=t,oe=ie+r.y-n.y):H.children[t].style.transform="translate(0px, 0px)",H.children[t].style.zIndex=0;for(H.children[Ae].style.zIndex=1,t=Ae+1;t<H.children.length;t++)n=e.getCumulativeOffset(H.children[t]),i=H.children[t].offsetHeight,H.children[t].style.transition="transform 0.2s",ie+r.y>n.y-i/2?(H.children[t].style.transform="translate(0px, -"+a+"px)",ae=t,oe=ie+r.y-n.y):H.children[t].style.transform="translate(0px, 0px)",H.children[t].style.zIndex=0}function S(){function e(n){n.target.removeEventListener("transitionend",e,!1),t.publish("playlistItemMoved",U,Ae,ae)}if(null!=Ae){ae>Ae?H.insertBefore(H.children[Ae],H.children[ae+1]):ae<Ae&&H.insertBefore(H.children[Ae],H.children[ae]);for(var n=0;n<H.children.length;n++)n==ae?(H.children[n].style.transform="translate(0px, "+oe+"px)",H.children[n].offsetWidth,H.children[n].style.transition="transform 0.2s",H.children[n].style.transform="translate(0px, 0px)",H.children[n].removeEventListener("transitionend",e,!1),H.children[n].addEventListener("transitionend",e,!1)):(H.children[n].style.transition="",H.children[n].style.transform="translate(0px, 0px)");U.splice(ae,0,U.splice(Ae,1)[0]);var r=K;Ae==r?I(ae):Ae<r&&ae>=r?I(r-1):Ae>r&&ae<=r&&I(r+1),Ae=null}}function T(e){var t=this;for(Ae=0;t=t.previousSibling;Ae++);ne=e.touches?e.touches[0].clientY:e.clientY,ne+=H.scrollTop,re=H.scrollHeight-H.clientHeight,ge=!1,ie=0,oe=0,ae=Ae}function k(e,n){function r(e){e.target.removeEventListener("transitionend",r,!1),this.style.transition="",this.style.transform="translate(0px, 0px)",i()}function i(){a||(H.removeChild(s),t.publish("playlistItemRemoved",o,U,u),H.children.length<2&&t.publish("playlistSingleItemRemaining"),a=!0)}if(n.stopPropagation(),!ge){for(var a=!1,o=null,s=e,l=s.offsetHeight,u=0;e=e.previousSibling;u++);if(s.style.visibility="hidden",s.style.zIndex=0,o=U.splice(u,1)[0],u+1>=H.children.length)i();else for(var c=u+1;c<H.children.length;c++)H.children[c].style.transform="translate(0px, 0px)",H.children[c].offsetWidth,H.children[c].zIndex=1,H.children[c].style.transition="transform 0.2s",H.children[c].style.transform="translate(0px, -"+l+"px)",H.children[c].removeEventListener("transitionend",r,!1),H.children[c].addEventListener("transitionend",r,!1)}}function Q(){var t,n,r,i,a,s,l,u=0,c=[];for(e.safeSetInnerHtml(H,""),P();u<U.length;u++)t=e.generateChild(H,"div","playlist-item"+u,"playlist-item"),t.style.cursor="pointer",t.style.width="100%",t.style.height="84px",e.addEventListener(t,"click",C,!1),e.addEventListener(t,"mousedown",T,!1),e.addEventListener(t,"touchstart",T,!1),e.addEventListener(document,"touchmove",B,!1),e.addEventListener(document,"mousemove",B,!1),e.addEventListener(document,"touchend",S,!1),e.addEventListener(document,"touchcancel",S,!1),e.addEventListener(document,"mouseup",S,!1),n=e.generateChild(t,"div","playlist-item-thumbnail"+u,"playlist-item-thumbnail"),n.style.marginTop="6px",r=U[u].thumbnail||U[u].src_image_url||X,o(n,r),i=e.generateChild(t,"div","playlist-item-info"+u,"playlist-item-info"),a=e.generateChild(i,"div","playlist-item-title"+u,"playlist-item-title"),l=e.generateChild(i,"div","playlist-item-desc"+u,"playlist-item-desc"),a.paddingLeft="10px",a.style.fontSize=".9em",a.style.lineHeight="1.3em",a.style.fontWeight="bold",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.whiteSpace="nowrap",a.style.width="90%",a.style.margin="0px 0px 4px 0px",e.safeSetInnerHtml(a,U[u].def_title||"Video #"+(u+1)),s=e.generateChild(t,"div","playlist-item-close","playlist-item-close"),s.style.position="absolute",s.style.right="-5px",s.style.top="-5px",s.style.width="32px",s.style.height="32px",e.addEventListener(s,"click",k.bind(k,t),!1),e.safeSetInnerHtml(l,U[u].def_description||""),u==K&&(s.style.display="none",t.style.backgroundColor="rgba(238,63,37,0.8)"),c.push({thumbnail:n,title:a,description:l});return c}function D(){te?(Z=!0,t.publish("playlistDisplayed",Z),G.style.display="block"):de=!0}function R(){Z=!1,t.publish("playlistDisplayed",Z),G&&(G.style.display="none")}function _(e){U=U.filter(function(t,n){return e!=n}),t.publish("playlistUpdated",U)}function M(e){U=U.filter(function(t){return t.id!=e}),t.publish("playlistUpdated",U)}function N(){q=!q,O(),P(),t.publish("autoplayToggled",q,U)}function P(){pe&&(se.style.backgroundColor=q?"rgb(238,63,37)":"#888",le.style.left=q?"15px":"0")}function O(){for(var e=0,t=U.length;e<t;e++)e&&(U[e].play=q)}function L(e){ce("@append to queue of total:",U.length);for(var n=0,i=U.length;n<i;n++)if(U[n].id&&U[n].id==(e.id||e.upload_id))return U[n].play=q,{index:n,id:U[n].id,token:U[n].token,isExternal:!!U[n].isExternal,useBackupStream:!!e.useBackupStream};return e.started=!1,e.completed=!1,e.play=q,e.startAt=0,e.mcpid&&(e.id=e.mcpid,delete e.mcpid),e.title&&(e.def_title=e.title,delete e.title),e.description&&(e.def_description=e.description,delete e.description),e.image&&(e.src_image_url=e.image,delete e.image),U.push(e),ce("@append",r.stringify(e,null,3)),t.publish("playlistUpdated",U),{index:U.length-1,id:e.upload_id||e.id,token:e.token,isExternal:!!e.isExternal,useBackupStream:!!e.useBackupStream}}function x(){return ce("@getPlaylistIndex",K),K}function F(){U=[],K=-1,t.publish("playlistUpdated",U)}var U,V,G,H,j,Y={},K=-1,q=!1,J=!0,z="abstract",W="native",Z=!1,X=a.baseURL+"img/defaultthumbnail.png",$={};r&&"string"!=typeof r||(r=e.getLogger(r));var ee,te,ne,re,ie,ae,oe,se,le,ue,ce=r.getLogFn("Playlist"),de=!1,Ae=null,ge=!1,pe=!1;return{init:function(e,t,n,r){ce("init",e.length);var i=0;for(q=t,J=n;i<e.length;i++)e[i].started=!1,e[i].completed=!1,i&&(e[i].play=q),e[i].startAt=0;U=e,O(),pe=r},clear:F,updateVisualPlaylist:m,hasNextItem:c,getNextItem:function(){var e=l();return e.formats&&0==e.formats.length?(ce("No video in formats, giving next"),l()):e},checkNextItem:u,getPreviousItem:d,hasPreviousItem:A,getItemWithId:g,mergeToItemWithId:f,setVisual:function(e,t,n){z=t,W=n,G=e,h()},toggle:function(){Z?R():D()},show:function(){D()},hide:function(){R()},append:L,removeWithId:M,removeWithIndex:_,setLoopThrough:function(e){J=!!e},getItemWithIndex:p,getPlaylistIndex:x,getPlaylist:function(){return U},scrollTo:b,setCurrentIndex:I}}return t}),anv.define("Splash",["util"],function(e){function t(t,n,r,i,a){function o(){clearInterval(P),P=setInterval(function(){Z+=22.5,Z=Z>360?Z-360:Z;for(var e="Webkit Moz O ms Khtml".split(" "),t=0;t<e.length;t++)O.spinningWheel.style["-"+e[t]+"-transform"]="rotate("+Z+"deg)"},100)}function s(){n.style.display="none",n.style.position="absolute",n.style.left="0",n.style.top="0",n.style.width="100%",n.style.height="100%",O.splashImg=e.generateChild(n,"div","splash-img","splash-img"),O.splashImg.style.position="relative",O.splashImg.style.width="100%",O.splashImg.style.height="100%",O.header=e.generateChild(O.splashImg,"div","splash-header","splash-header"),O.info=e.generateChild(O.header,"div","splash-info","splash-info"),O.title=e.generateChild(O.info,"div","splash-title","splash-title"),O.description=e.generateChild(O.info,"p","splash-description","splash-description"),O.remaining=e.generateChild(O.info,"p","splash-remaining","splash-remaining"),O.share=e.generateChild(O.header,"div","splash-share","splash-share"),O.playButton=e.generateChild(O.splashImg,"div","splash-play-button","splash-play-button"),O.playButtonImg=e.generateChild(O.playButton,"img","splash-play-button","splash-play-button-img"),O.playButtonImg.src=G,O.castStatus=e.generateChild(O.splashImg,"div","splash-cast-status","splash-cast-status"),O.castLoadScreenButton=e.generateChild(O.splashImg,"div","splash-cast-load-button","splash-cast-load-button"),O.castLoadScreenIcon=e.generateEmptyImg(O.castLoadScreenButton,"chromecast-button","chromecast-button control-btn"),e.addEventListener(O.castLoadScreenButton,"click",function(){t.publish("chromecastButtonClicked")},!1),O.castStatusIcon=e.generateChild(O.castStatus,"div","splash-cast-status-icon","splash-cast-status-icon"),O.castStatusMessageWrapper=e.generateChild(O.castStatus,"div","splash-cast-status-message-wrapper","splash-cast-status-message-wrapper"),O.castStatusMessage=e.generateChild(O.castStatusMessageWrapper,"div","splash-cast-status-message","splash-cast-status-message","CONNECTING..."),O.castStatusReceiverName=e.generateChild(O.castStatusMessageWrapper,"div","splash-cast-status-receiver-name","splash-cast-status-receiver-name",""),l(1),O.spinningWheel=e.generateChild(n.parentNode,"div","splash-spinning-wheel","splash-spinning-wheel"),O.spinningWheel.style.display="none",X||e.addClass(O.header,"splash-header-gradient",!0),i&&!i.CSSAnimationSupport&&o(),O.share.onclick=function(){t.publish("toggleSharePanel")}}function l(e){O.playButtonImg.style.top=e*Y+"px",O.playButtonImg.width=H*e,O.playButton.style.width=j*e+"px",O.playButton.style.height=j*e+"px"}function u(e){if(e>0){var t="",n="";return B("sec",e),n=parseInt(e/60,10),e=parseInt(e%60,10),n>=60&&(t=parseInt(n/60,10),n=parseInt(n%60,10),t=t+" hour"+(t>1?"s ":" ")),n+=Math.round(e/60),e=n>0?"":e+" second"+(e>1?"s ":" "),n=n>0?n+" minute"+(n>1?"s ":" "):"",B(t,n,e),t+n+e+" left"}return""}function c(e,t){B("@imageLoadFailed",e,t),"splash"==t&&(f(),A())}function d(e,r){var i;"splash"==r?(O.splashImg.style.background="url('"+e+"') no-repeat center center",O.splashImg.style.backgroundSize="100% auto",F=!0,t.publish("posterLoaded"),B("@imageLoaded splashImageLoaded set to true")):"button"==r?L=!0:"loadingImg"==r&&(x=!0,N=(new Date).getTime(),i=N-M,t.publish("clientBandWith",1433680/i)),B(V,F,L),V&&L&&(g(),W||(n.style.display="block"),t.publish("splashDisplayed",Q),A())}function A(e,t){var r,i,a,o,s=e||Math.max(n.offsetWidth,n.clientWidth),u=s/640;o=(s-225)/575,r=16+11*o,i=11+7*o,a=1.1+.7*o,B("@scale width:",s,"title font size:",r),l(u),O.info.style.marginLeft=K*u+"px",O.title.style.fontSize=r+"px",O.description.style.fontSize=i+"px",O.description.style.lineHeight=a+"em",O.description.style.letterSpacing="0.02em",O.remaining.style.fontSize=i+"px",O.remaining.style.lineHeight=a+"em",O.description.style.visibility=u<.78125?"hidden":"visible"}function g(){B("applyMode",r.stringify(k,null,3));var t,n="visible",i="hidden";O.title.style.visibility=k.title&&!$?n:i,O.description.style.display=k.description&&!$?"block":"none",k.remaining&&R>0&&(t=u(R),e.safeSetInnerHtml(O.remaining,t)),O.remaining.style.display=k.remaining?"block":"none",O.share.style.visibility=k.share?n:i,O.playButton.style.visibility=k.play&&!U?n:i,k.marginLeft&&"auto"!=k.marginLeft?(O.playButton.style.marginLeft=k.marginLeft,O.playButton.style.marginBottom=k.marginBottom):O.playButton.style.margin="auto auto",k.poster?O.splashImg.style.backgroundSize="100% auto":O.splashImg.style.background="","hoverScreen"==Q?(clearTimeout(_),O.header.style.transition="visibility 0s linear 0s, opacity "+ee+"s ease 0s",O.header.style.opacity="1",O.header.style.visibility="visible",_=setTimeout(function(){O.header.style.transition="visibility 0s linear "+te+"s, opacity "+te+"s ease 0s",O.header.style.visibility="hidden",O.header.style.opacity="0"},ne)):(O.header.style.transition="visibility 0s linear 0s, opacity "+ee+"s ease 0s",O.header.style.opacity="1",O.header.style.visibility="visible",clearTimeout(_))}function p(e,t){B("@asyncLoad",e);var n=new Image;n.onload=function(){B("@asyncload~@onloaded",e),d(e,t)},n.onerror=function(){B("@asyncload~@onerror",e),c(e,t)},n.src=e}function f(){g(),O.splashImg.style.background="",W||(n.style.display="block"),t.publish("splashDisplayed",Q)}function h(){"castScreen"!=Q&&(B("Splash hidden"),V=!1,n.style.display="none",Q="hoverScreen",t.publish("splashHidden",Q))}function m(){e.addEventListener(O.playButton,"click",function(){B("sent playRequest",Q),"pauseScreen"==Q?t.publish("playRequest",!1):"loadScreen"==Q&&t.publish("playRequest",!0)})}function E(e){B("splash buffering",e,"display",V),U=e&&k!=z.castScreen,O.spinningWheel.style.display=e?"block":"none",e?O.playButton.style.visibility="hidden":V&&g()}function v(e){return!V||re[D]&&e in re[D]}function y(t,n){var r=e.deepCopy(z[t]),i="VIDEO_ON_MAIN"!=n&&"VIDEO_ON_CHROMECAST"!=n;return r.title=!i&&z[t].title,r.description=!i&&z[t].description,r.share=!i&&z[t].share,r.remaining=!i&&z[t].remaining,r}function I(t,n){var r={connected:"CONNECTED TO",playing:"PLAYING ON",paused:"PAUSED ON",buffering:"BUFFERING ON",idle:"READY TO CAST"},i={idle:r.idle,active:r.connected,paused:r.paused,playing:r.playing,buffering:r.buffering,loading:r.buffering};i[t.toLowerCase()]?e.safeSetInnerHtml(O.castStatusMessage,i[t.toLowerCase()]):e.safeSetInnerHtml(O.castStatusMessage,r.connected),e.safeSetInnerHtml(O.castStatusReceiverName,n),O.castLoadScreenButton.setAttribute("status",t),O.castLoadScreenIcon.setAttribute("state",t)}function b(){W=!1,n.style.display="block"}function C(){W=!0,n.style.display="none"}var B,w,S,T,k,Q,D,R,_,M,N,P,O={},L=!1,x=!1,F=!1,U=!1,V=!1,G=a.baseURL+"img/sprite32.png",H=480,j=128,Y=-58,K=20,q=a.baseURL+"img/loadingsprite.png",J=a||{},z={},W=!1,Z=0,X="info"in a&&!a.info||a.chromeless,$=!1;B=r?r.getLogFn("Splash"):function(){console.log.apply(console,["[!Splash!]\t"].concat(Array.prototype.slice.call(arguments)))};var ee=.2,te=.7,ne="number"==typeof a.autoHideDelay?1e3*a.autoHideDelay:3e3;z.loadScreen={title:!X&&(!("titleVisible"in a)||a.titleVisible),description:!1,play:!X,share:!X&&(!("share"in J)||J.share),poster:!0,marginLeft:"5%",marginBottom:"5%"},z.pauseScreen={title:!X&&(!("titleVisible"in a)||a.titleVisible),remaining:!X&&(!("titleVisible"in a)||a.titleVisible),share:!X&&(!("share"in J)||J.share),play:!X,marginLeft:"auto",marginBottom:"auto"},z.hoverScreen={title:!X&&(!("titleVisible"in a)||a.titleVisible),share:!X&&(!("share"in J)||J.share)},z.castScreen={title:!X&&(!("titleVisible"in a)||a.titleVisible),description:!1,share:!X&&(!("share"in J)||J.share),poster:!0,play:!1};var re={hoverScreen:{hoverScreen:1,loadScreen:1,pauseScreen:1,castScreen:1},loadScreen:{castScreen:1,loadScreen:1},castScreen:{loadScreen:1,pauseScreen:1,hoverScreen:1,castScreen:1},pauseScreen:{loadScreen:1,castScreen:1}};return{init:function(){s(),m()},getCurrentMode:function(){return Q},getCurrentPoster:function(){return B("@getCurrentPoster",w),w},show:function(r,i,a,o,s){B("@show",r);var l={hoverScreen:0,pauseScreen:0,loadScreen:0,castScreen:0};if(v(r)){B("Splash mode:",r,a),Q=r,t.publish("splashModeUpdated",Q),k=y(r,i),R=o,n.style.display="none",V=!0,L||p(G,"button"),x||p(q,"loadingImg"),O.info.style.display=S||T?"block":"none",a?(w=a,F=!1,M=(new Date).getTime(),p(a,"splash")):(f(),A()),"castScreen"==r&&g(),D=r;for(var u in l)l.hasOwnProperty(u)&&e.removeClass(n,"splash-mode-"+u,!0);X||e.addClass(n,"splash-mode-"+r,!0)}else B("invalid transition to",r,"from",D)},setInfo:function(t,n){S!==t&&(S=t,e.safeSetInnerHtml(O.title,t)),T!==n&&(T=n,e.safeSetInnerHtml(O.description,n)),O.info.style.display="block"},setChromecastInfo:I,resetInfo:function(){w=null,T=null,S=null,R=null,O.splashImg.style.background="",O.info.style.display="none"},hide:h,enable:b,disable:C,setAdMode:function(e){$=e,g()},buffering:function(e){B("@buffering",e),E(e)},rescale:function(e,t){A(e,t)}}}return t}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!Recommendation",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){return e&&e.__esModule?e:{default:e}}(t);var a=10,o=3,s=function(){function e(t,r,i,s){var l=arguments;n(this,e),this.mediator_=t,this.rootNode_=r,this.mergedConfig_=s,this.log_=i?i.getLogFn("Recommendation"):function(){console.log.apply(console,["[!Recommendation!]\t"].concat(Array.prototype.slice.call(l)))},this.areThumbnailsLoaded_=!1,this.components_={},this.countdownSeconds_=a,this.defaultThumbnailUrl_=s.baseURL+"img/defaultthumbnail.png",this.frames_={},this.hasPageChanged_=!1,this.loadedThumbnailCount_=0,this.maxPages_=s.maxRecomPages||o,this.sizeLookup_={},this.timerNodes_={},this.timers_={},this.videoOffset_=0,this.videos_=[]}return i(e,[{key:"toggleFrameFade_",value:function(e){for(var n=t.default.querySelectorAll(this.mergedConfig_.pInstance,".anv-recommendation-frame"),r=0;r<n.length;r++){var i=n[r];e?t.default.removeClass(i,"anv-recommendation-fade"):t.default.addClass(i,"anv-recommendation-fade")}}},{key:"loadPage_",value:function(){var e=this;this.toggleFrameFade_(!1),
setTimeout(function(){e.clearPage_(),e.loadThumbnails_(),e.mediator_.publish("loadingRecommendations")},200)}},{key:"loadThumbnails_",value:function(){var e=this;this.areThumbnailsLoaded_=!1,this.loadedThumbnailCount_=0;var n=this.videos_.slice(this.videoOffset_,this.videoOffset_+6),r=n.map(function(t){return t.image||(t.image=e.defaultThumbnailUrl_),t.image}),i=this.onThumbnailLoaded_.bind(this),a=this.onThumbnailLoadFailed_.bind(this);t.default.cacheImages(r,i,a)}},{key:"onThumbnailLoaded_",value:function(e,n){this.loadedThumbnailCount_++,this.sizeLookup_[t.default.base64Encode(e.src)]={w:e.width,h:e.height},this.videos_[this.videoOffset_+n].image=e.src,this.evaluateLoadedThumbnails_()}},{key:"onThumbnailLoadFailed_",value:function(e,t){var n=this.videos_[this.videoOffset_+t];n.image==this.defaultThumbnailUrl_?this.loadedThumbnailCount_++:(n.image=this.defaultThumbnailUrl_,e.src=this.defaultThumbnailUrl_),this.evaluateLoadedThumbnails_()}},{key:"evaluateLoadedThumbnails_",value:function(){var e=Math.min(this.videos_.length-this.videoOffset_,6);this.loadedThumbnailCount_>=e&&(this.generatePage_(),this.areThumbnailsLoaded_=!0,this.mediator_.publish("recommendationsReady"))}},{key:"generatePage_",value:function(){var e=this.videos_.slice(this.videoOffset_,this.videoOffset_+6),t=Math.min(e.length,3),n=Math.floor(this.components_.main.clientWidth/3);this.generateUpNext_();for(var r=0;r<t;r++)this.generateColumn_(r,n);this.rescale(),this.videoOffset_>0&&(this.components_.prev.style.display="block"),this.videoOffset_+6<this.videos_.length&&(this.components_.next.style.display="block"),0!=this.videoOffset_||this.hasPageChanged_||this.countdown_(this.countdownSeconds_),this.toggleFrameFade_(!0)}},{key:"generateUpNext_",value:function(){var e=this;if(this.videos_&&this.videos_.length){this.videos_[0].image&&(this.components_.backgroundPoster.style.backgroundImage="url(".concat(this.videos_[0].image,")"));var n=t.default.generateChild(this.components_.upNext,"div","text","recommendation-up-next-text"),r=t.default.generateChild(this.components_.upNext,"div","title","recommendation-up-next-title");this.timerNodes_.upNext=t.default.generateChild(this.components_.upNext,"div","timer","recommendation-up-next-timer");var i=t.default.generateChild(this.components_.upNext,"div","play","recommendation-up-next-play");t.default.safeSetInnerHtml(n,"Up Next"),this.videos_[0].title&&t.default.safeSetInnerHtml(r,this.videos_[0].title),t.default.safeSetInnerHtml(i,"PLAY"),t.default.addEventListener(i,"click",function(){e.mediator_.publish("recommendationSelected",e.videos_[0],!1)}),this.hasPageChanged_&&(i.style.display="block")}}},{key:"generateColumn_",value:function(e){var n=t.default.generateChild(this.components_.columns,"div","column".concat(e),"recommendation-column");this.frames_[2*e]=this.generateFrame_(n,2*e),this.frames_[2*e+1]=this.generateFrame_(n,2*e+1)}},{key:"generateFrame_",value:function(e,n){var r=this;if(!(this.videoOffset_+n>=this.videos_.length)){var i=t.default.generateChild(e,"div","frame"+n,"recommendation-frame recommendation-fade"),a=t.default.generateChild(i,"div","item"+n,"recommendation-item"),o=t.default.generateChild(a,"img","item"+n,"recommendation-thumbnail"),s=this.videos_[this.videoOffset_+n];o.src=s.image;var l=t.default.generateChild(a,"div","info"+n,"recommendation-info"),u=t.default.generateChild(l,"p","title"+n,"recommendation-info-title"),c=t.default.generateChild(l,"p","desc"+n,"recommendation-info-desc");n||(this.timerNodes_.main=t.default.generateChild(l,"p","timer","recommendation-info-timer"));var d=parseInt(s.duration),A=s.description||"";t.default.safeSetInnerHtml(u,s.title),t.default.safeSetInnerHtml(c,d?t.default.sec2TimeString(parseInt(s.duration)):A);var g=function(){r.clearTimer_("countdown"),r.mediator_.publish("recommendationSelected",r.videos_[r.videoOffset_+n],!0)};return t.default.addEventListener(i,"click",g),{frame:i,item:a,info:l,thumbnail:o,title:u,detail:c,clickHandler:g}}}},{key:"clearPage_",value:function(){this.components_.prev.style.display="none",this.components_.next.style.display="none",this.timerNodex_={},t.default.safeSetInnerHtml(this.components_.columns,""),t.default.safeSetInnerHtml(this.components_.upNext,"");for(var e=0,n=Object.keys(this.frames_);e<n.length;e++){var r=n[e];this.frames_[r]&&t.default.removeEventListener(this.frames_[r].frame,"click",this.frames_[r].clickHandler)}this.frames_={}}},{key:"displayPreviousPage_",value:function(){this.videoOffset_-6<0||(this.videoOffset_-=6,this.hasPageChanged_=!0,this.loadPage_())}},{key:"displayNextPage_",value:function(){this.videoOffset_+6>this.videos_.length||(this.videoOffset_+=6,this.hasPageChanged_=!0,this.loadPage_())}},{key:"updateTimerNodes_",value:function(e){for(var n=0,r=Object.keys(this.timerNodes_);n<r.length;n++){var i=r[n],a=this.timerNodes_[i];if(e){var o="Playing in ".concat(e," second").concat(1==e?"":"s");t.default.safeSetInnerHtml(a,o),a.style.display="block"}else a.style.display="none"}}},{key:"countdown_",value:function(e){var t=this;if(!e)return this.timerNodes_.main.parentNode.style.display="",void this.mediator_.publish("recommendationSelected",this.videos_[0],!1);this.updateTimerNodes_(e),e>0&&(this.timerNodes_.main.parentNode.style.display="block",this.timers_.countdown=setTimeout(function(){t.countdown_(e-1)},1e3))}},{key:"clearTimer_",value:function(e){clearTimeout(this.timers_[e]),this.timers_[e]=null}},{key:"resizeFrames_",value:function(){for(var e=.95*this.components_.main.clientWidth*3/16,n=16*e/9,r=0,i=Object.keys(this.frames_);r<i.length;r++){var a=i[r],o=this.frames_[a];if(o){var s=this.videos_[this.videoOffset_+parseInt(a)],l=this.sizeLookup_[t.default.base64Encode(s.image)]||this.sizeLookup_[t.default.base64Encode(this.defaultThumbnailUrl_)]||{},u=l.w,c=l.h;o.item.style.height=e+"px",c*n/u<=e?(o.thumbnail.width=n-3,o.thumbnail.height=o.thumbnail.width*c/u):(o.thumbnail.height=e-1,o.thumbnail.width=o.thumbnail.height*u/c),o.info.style.height="100%"}}}},{key:"init",value:function(){var e=this;this.log_("@init"),this.components_.content=t.default.generateChild(this.rootNode_,"div","content","recommendation-content"),this.components_.prev=t.default.generateChild(this.rootNode_,"div","prev","recommendation-prev recommendation-nav"),this.components_.prevIcon=t.default.generateChild(this.components_.prev,"div","icon","recommendation-nav-icon recommendation-nav-prev-icon"),this.components_.next=t.default.generateChild(this.rootNode_,"div","next","recommendation-next recommendation-nav"),this.components_.nextIcon=t.default.generateChild(this.components_.next,"div","icon","recommendation-nav-icon recommendation-nav-next-icon"),this.components_.backgroundPoster=t.default.generateChild(this.components_.content,"div","background-poster","recommendation-background-poster"),this.components_.backgroundPosterFilter=t.default.generateChild(this.components_.backgroundPoster,"div","filter","recommendation-background-poster-filter"),this.components_.header=t.default.generateChild(this.components_.content,"div","header","recommendation-header"),this.components_.title=t.default.generateChild(this.components_.header,"div","title","recommendation-title"),this.components_.share=t.default.generateChild(this.components_.header,"div","share","recommendation-share"),this.components_.replay=t.default.generateChild(this.components_.header,"div","replay","recommendation-replay"),this.components_.main=t.default.generateChild(this.components_.content,"div","main","recommendation-main"),this.components_.columns=t.default.generateChild(this.components_.main,"div","columns","recommendation-columns"),this.components_.upNext=t.default.generateChild(this.components_.content,"div","up-next","recommendation-up-next"),t.default.addEventListener(this.components_.prev,"click",function(){e.clearTimer_("countdown"),e.displayPreviousPage_()}),t.default.addEventListener(this.components_.next,"click",function(){e.clearTimer_("countdown"),e.displayNextPage_()}),t.default.addEventListener(this.components_.replay,"click",function(){e.clearTimer_("countdown"),e.hide(),e.mediator_.publish("playRequest")}),t.default.addEventListener(this.components_.share,"click",function(){e.clearTimer_("countdown"),e.hide(),e.mediator_.publish("toggleSharePanel")})}},{key:"setRecommendations",value:function(e,t){return this.log_("@setRecommendations",JSON.stringify(e,null,3)),this.clearPage_(),!!(e&&e instanceof Array&&e.length)&&(this.hasPageChanged_=!1,this.videoOffset_=0,this.videos_=e,this.countdownSeconds_=void 0!==t?t:a,this.loadPage_(),!0)}},{key:"getRecommendations",value:function(){return this.log_("@getRecommendations"),this.videos_}},{key:"show",value:function(e){this.log_("@show title:",e),e&&t.default.safeSetInnerHtml(this.components_.title,e),this.areThumbnailsLoaded_||this.mediator_.publish("loadingRecommendations"),this.rootNode_.style.visibility="visible"}},{key:"hide",value:function(){this.log_("@hide"),this.rootNode_.style.visibility="hidden"}},{key:"rescale",value:function(){for(var e=Math.floor(this.components_.main.clientWidth/3)-1,t=0;t<this.components_.columns.childElementCount;t++)this.components_.columns.children[t].style.width=e+"px";this.resizeFrames_()}}]),e}();e.default=s}),anv.define("Language",["util"],function(e){function t(t,n,r){function i(e,n){o=e,s=n,t.publish("languageLoaded")}var a,o,s,l=n.baseURL+"locales/",u={"control-playPause-tooltip":"Play/pause the video","control-duration-tooltip":"The current video playback time","control-volume-tooltip":"Adjust the volume","control-share-tooltip":"Share this video with your friends","control-caption-tooltip":"Change captions","control-search-tooltip":"Search","control-quality-tooltip":"Quality","control-fullscreen-tooltip":"Toggle fullscreen mode","control-picture-in-picture-tooltip":"Toggle Picture-in-Picture mode","control-captionsOff-content":"Off","control-captionsOff-tooltip":"Turn off captions","control-download-tooltip":"Download this video","share-title-content":"Share","share-close-tooltip":"Close the share screen","share-emailPrompt-content":"Email:","share-to-placeholder":"Friend's email","share-to-tooltip":"Enter your friend's email address here","share-from-placeholder":"Your email","share-from-tooltip":"Enter your email address here","share-message-placeholder":"Your message","share-message-tooltip":"Your email's message","share-send-content":"Send","share-send-tooltip":"Send this email","share-sendSuccess-content":"Your message was successfully sent!","share-sendFail-content":"An error occurred sending your message","share-facebook-tooltip":"Share this video on Facebook","share-twitter-tooltip":"Tweet this video","share-pinterest-tooltip":"Pin this video on Pinterest","share-linkText-placeholder":"Generating link...","share-linkText-tooltip":"Use this to link to this video","share-linkButton-content":"Copy Link","share-linkButton-tooltip":"Copy all of the link text","share-embedText-placeholder":"Generating embed code...","share-embedText-tooltip":"Use this code to embed this video in your site","share-embedButton-content":"Copy Embed","share-embedButton-tooltip":"Copy all of the embed code","share-startTimePrompt-content":"Start Playback at:","search-close-tooltip":"Close the search screen","search-searchBox-placeholder":"Enter text to search captions","search-searchBox-tooltip":"Enter some text to search for in closed captions","search-status-emptyCueList":"There are no captions for this video","search-status-select-lang":"Please select a caption language to activate closed caption search.","search-status-invalidRegex":"Search text is formatted incorrectly","search-status-numberOfMatches":"Found % results for '%':","search-matchedItem-tooltip":"Click to seek to this point",advertisementCountDown:"Advertisement: % of %.&nbsp;&nbsp;&nbsp;&nbsp;Your video will resume in % second",advertisementCountDownNoRemainingDetail:"Advertisement. Your video will resume after the ad break."},c=n.language||{},d=r?r.getLogFn("Language"):function(){console.log.apply(console,["[!Language!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:function(){a=l,o="en",s=u},setLanguage:function(t){if(!t||"en"===t)return d("Using the default language: en"),void i("en",u);d("Sending language GET request","lang="+t),e.download(a+t+".json",null,function(e){d("Get language success: "+t),i(t,JSON.parse(e))},function(e,n){d(404===e?"WARNING: Language not supported: "+t:"ERROR: Get language error: "+e+": "+n),d("Using the default language: en"),i("en",u)})},getLanguage:function(){return o},tr:function(e){return c[e]?c[e]:s[e]?s[e]:(d("WARNING: the key ("+e+") does not exist for this language ("+o+")"),u[e]?u[e]:(d("WARNING: the key ("+e+") does not exist for the default language (en)"),"--"))},setLanguageWithDictionary:function(e,t){o=e,s=t},setLocalesPath:function(e){a=e}}}return t}),function(e,t){"use strict";"undefined"!=typeof exports?exports.Mediator=t():"function"==typeof anv.define&&anv.define.amd?anv.define("mediator",[],function(){return e.Mediator=t(),e.Mediator()}):e.Mediator=t()}(this,function(){"use strict";function e(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function t(n,r,i){if(!(this instanceof t))return new t(n,r,i);this.id=e(),this.fn=n,this.options=r,this.context=i,this.channel=null}function n(e,t){if(!(this instanceof n))return new n(e);this.namespace=e||"",this._subscribers=[],this._channels=[],this._parent=t,this.stopped=!1}function r(){if(!(this instanceof r))return new r;this._channels=new n("")}return t.prototype={update:function(e){e&&(this.fn=e.fn||this.fn,this.context=e.context||this.context,this.options=e.options||this.options,this.channel&&this.options&&void 0!==this.options.priority&&this.channel.setPriority(this.id,this.options.priority))}},n.prototype={addSubscriber:function(e,n,r){var i=new t(e,n,r);return n&&void 0!==n.priority?(n.priority=n.priority>>0,n.priority<0&&(n.priority=0),n.priority>=this._subscribers.length&&(n.priority=this._subscribers.length-1),this._subscribers.splice(n.priority,0,i)):this._subscribers.push(i),i.channel=this,i},stopPropagation:function(){this.stopped=!0},getSubscriber:function(e){var t=0,n=this._subscribers.length;for(n;t<n;t++)if(this._subscribers[t].id===e||this._subscribers[t].fn===e)return this._subscribers[t]},setPriority:function(e,t){var n,r,i,a,o=0,s=0;for(s=0,a=this._subscribers.length;s<a&&(this._subscribers[s].id!==e&&this._subscribers[s].fn!==e);s++)o++;n=this._subscribers[o],r=this._subscribers.slice(0,o),i=this._subscribers.slice(o+1),this._subscribers=r.concat(i),this._subscribers.splice(t,0,n)},addChannel:function(e){this._channels[e]=new n((this.namespace?this.namespace+":":"")+e,this)},hasChannel:function(e){return this._channels.hasOwnProperty(e)},returnChannel:function(e){return this._channels[e]},removeSubscriber:function(e){var t=this._subscribers.length-1;if(!e)return void(this._subscribers=[]);for(t;t>=0;t--)this._subscribers[t].fn!==e&&this._subscribers[t].id!==e||(this._subscribers[t].channel=null,this._subscribers.splice(t,1))},publish:function(e){var t,n,r,i=0,a=this._subscribers.length,o=!1;for(a;i<a;i++)this.stopped||(t=this._subscribers[i],void 0!==t.options&&"function"==typeof t.options.predicate?t.options.predicate.apply(t.context,e)&&(t.fn.apply(t.context,e),o=!0):(n=this._subscribers.length,t.fn.apply(t.context,e),r=this._subscribers.length,a=r,r===n-1&&i--,o=!0)),o&&t.options&&void 0!==t.options&&--t.options.calls<1&&(this.removeSubscriber(t.id),a--,i--);this._parent&&this._parent.publish(e),this.stopped=!1}},r.prototype={getChannel:function(e){var t=this._channels,n=e.split(":"),r=0,i=n.length;if(""===e)return t;if(n.length>0)for(i;r<i;r++)t.hasChannel(n[r])||t.addChannel(n[r]),t=t.returnChannel(n[r]);return t},subscribe:function(e,t,n,r){var i=this.getChannel(e);return n=n||{},r=r||{},i.addSubscriber(t,n,r)},once:function(e,t,n,r){return n=n||{},n.calls=1,this.subscribe(e,t,n,r)},getSubscriber:function(e,t){return this.getChannel(t||"").getSubscriber(e)},remove:function(e,t){this.getChannel(e).removeSubscriber(t)},publish:function(e){var t=Array.prototype.slice.call(arguments,1),n=this.getChannel(e);t.push(n),this.getChannel(e).publish(t)}},r.prototype.on=r.prototype.subscribe,r.prototype.bind=r.prototype.subscribe,r.prototype.emit=r.prototype.publish,r.prototype.trigger=r.prototype.publish,r.prototype.off=r.prototype.remove,r.Channel=n,r.Subscriber=t,r.version="0.9.5",r}),anv.define("pluginDFP",["util"],function(e){function t(t,n,r,i,a,o,s,l){function u(){Ue("@injectKeyValues");var t,i,a,o,s=/(.*)\[\[(.*)\]\](.*)/,l=s.test(He);(n.keyValues||n.shareKeyValues||l)&&(t=e.getParameterByName("cust_params",He),a=e.decodeURLParams(He),o=e.getBaseUrl(He),i=t?e.decodeURLParams("?"+t):{},Ue("@injectKeyValues",i),i=oe&&n&&"shareKeyValues"in n?e.merge(i,n.shareKeyValues):e.merge(i,n.keyValues),delete a.cust_params,Ue("keyValues",r.stringify(i,null,3)),Ue("urlParams",r.stringify(a,null,3)),Ue("serverUrl",o),i=e.populateMacros(i,Ve),a=e.populateMacros(a,Ve,!0),Ue(">keyValues",r.stringify(i,null,3)),i!={}&&(i=e.encodeURLParams(i),Ue(">cust_params",i),i=i.replace(/\=/g,"%3D"),i=i.replace(/&/g,"%26"),i=i.replace(/,/g,"%2C"),Ue(">>cust_params",i),a.cust_params=i),a=e.encodeURLParams(a,!0),re=o+"?"+a,Ue("adTagUrl",re),Ue("cust_params",i))}function c(e){if(n&&n.macros){var t=n.macros;for(var r in t)t.hasOwnProperty(r)&&(e=e.replace(new RegExp("\\[\\["+r+"\\]\\]","ig"),encodeURIComponent(t[r])),e=e.replace(new RegExp("\\["+r+"\\]","ig"),encodeURIComponent(t[r])),e=e.replace(new RegExp("%5B"+r+"%5D","ig"),encodeURIComponent(t[r])))}return e}function d(e){var t,r=[];if(e.indexOf("ciu_sz")>0)return e;if(n&&ue){t=e.indexOf("?")>0?"&":"?";for(var i=0,a=ue.length;i<a;i++){var o=parseInt(ue[i].width),s=parseInt(ue[i].height);if(1==a&&!o&&!s)return e;r.push(o+"x"+s)}r.length&&(e+=t+"ciu_sz="+r.join(","))}return e}function A(r){var i;Ee=null;var a=new google.ima.AdsRenderingSettings;z("adsRequestTimeout"),t.publish("vastLoaded","dfp",null),Ze&&(Ze=!1,Xe=!0),n&&n.hasOwnProperty("useStyledNonLinearAds")?a.useStyledNonLinearAds=n.useStyledNonLinearAds:a.useStyledNonLinearAds=!0,n&&"bitrate"in n&&!isNaN(n.bitrate)&&(a.bitrate=Number(n.bitrate)),Re&&(a.loadVideoTimeout=Re),$e&&(a.enablePreloading=$e),ne=r.getAdsManager(et,a),t.publish("pluginReady","dfp"),i=ne.isCustomPlaybackUsed(),Se=i?Ge.AD_ON_MAIN:Ge.AD_ON_AD,Ue("isCustomPlaybackUsed?",i);var o=[google.ima.AdErrorEvent.Type.AD_ERROR,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.LOG];for(var u in o)e.addEventListener(ne,o[u],B);if(e.addEventListener(ne,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Q),e.addEventListener(ne,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,D),g(),s&&"function"==typeof s.initMoat)try{s.initMoat(ne,ce,google.ima.ViewMode.NORMAL)}catch(e){console.warn("Encountered an error while initializing moat plugin")}if(l&&"function"==typeof l.init)try{l.init(google,ne,ce,me.adTagUrl)}catch(e){console.warn("Encountered an error while initializing IAS plugin")}try{G()&&Xe&&!qe||(Ue("@onAdsManagerLoaded adsManager init with dimensions:",pe,"x",fe),ne.init(pe,fe,google.ima.ViewMode.NORMAL)),qe?(t.publish("adMediaRequested","dfp",null),ne.start()):(z("startTimeout"),t.publish("adBreakReadyToPlay"))}catch(e){console.warn("ERROR in vast response")}}function g(){pe=Math.max(ge.offsetWidth,ge.clientWidth),fe=Math.max(ge.offsetHeight,ge.clientHeight),pe=pe||Math.max(ce.offsetWidth,ce.clientWidth),fe=fe||Math.max(ce.offsetHeight,ce.clientHeight)}function p(e,n,r){if(r=void 0===r||!!r,Xe&&r)return void Z(!1);if(Ze&&r)return void(qe=!0);if(!Xe&&!Ze){void 0!==ne&&(ne.destroy(),z("onTimeUpdated"),z("startTimeout"),z("adsRequestTimeout"),Ue("@requestAds adsManager destroyed",typeof ne),he.contentComplete()),me=new google.ima.AdsRequest;var i=c(re),a=d(i);Ue("@requestAds with adTagUrl:",a),Ue("@requestAds with dimensions:",pe,"x",fe),me.adTagUrl=a,me.linearAdSlotWidth=pe,me.linearAdSlotHeight=fe,me.nonLinearAdSlotWidth=pe,me.nonLinearAdSlotHeight=fe,me.setAdWillAutoPlay(e),me.setAdWillPlayMuted(n),De&&(me.vastLoadTimeout=De),qe=r,t.publish("vastRequested","dfp",null),he.requestAds(me),Te&&(Me.adsRequestTimeout=setTimeout(b,Te))}}function f(){var t;e.safeSetInnerHtml(le,ie&&ie.layout&&ie.layout.skipText?ie.layout.skipText:"Skip Ad",{whiteList:{div:["style","class","id"],span:["style","class","id"]}}),t=ie&&ie.layout?ie.layout:null,t?e.styleComponent(le,pe,t):(le.style.right=0,le.style.top="60%"),Ie.initialize()}function h(e){return"string"==typeof e&&"application/javascript"==e.toLowerCase()}function m(e){var n,r,i,a,o,s,l,u=h(e);Ee&&ne&&(a=ne.getRemainingTime(),u&&!we&&"number"==typeof a&&a>0&&(a!=Le?(Le=a,z("onProgressTimeout")):Me.onProgressTimeout||(Me.onProgressTimeout=setTimeout(I,ke))),i=Ee.getDuration(),r=Ee&&"getAdPodInfo"in Ee?Ee.getAdPodInfo():null,n=r?r.getAdPosition()-1:0,l=r?r.getTotalAds():1,s=i-a>0?i-a:0,t.publish("updateTime",s,i),t.publish("dispatchEvent","PRESENTATION_UPDATED",s,i,"ad",n,l),Me.onTimeUpdated=setTimeout(m.bind(null,e),300),o=parseInt(a),o>0?(t.publish("updateAdTimer",o,n,l),se.parentNode.style.display="block",x()&&F()&&Ee.isSkippable()&&(ie&&"adSkipTime"in ie?s>=ie.adSkipTime&&(le.style.display="block"):le.style.display="block")):se.parentNode.style.display="none")}function E(){ne&&ne.skip&&ne.skip()}function v(e){return{getError:function(){return null},getErrorCode:function(){return null},getInnerError:function(){return""},getMessage:function(){return e?"SDK enforced "+e+" timeout":"SDK enforced an ad timeout"}}}function y(){Ue("@onStartTimeout");var e=v("ad start");k({getError:function(){return e}})}function I(){Ue("@onProgressTimeout");var e=v("ad progress");ne&&Le>0&&Le==ne.getRemainingTime()&&k({getError:function(){return e}})}function b(){Ue("@onAdRequestsTimeout");var e=v("ads request");k({getError:function(){return e}})}function C(e,t){return e&&t in e?e[t]():null}function B(i){var a,o,s,l,u,c,d,A,g,p={};try{Ee=C(i,"getAd"),adDuration=C(Ee,"getDuration"),be=C(Ee,"getAdId"),A=C(Ee,"getWrapperAdIds"),g=C(Ee,"getCreativeId"),Ce=C(Ee,"getTitle"),Be=C(Ee,"getMediaUrl"),l=C(Ee,"isLinear"),s=C(Ee,"getContentType"),a=C(Ee,"getAdPodInfo"),ve=C(a,"getPodIndex"),d=a?a.getAdPosition():1,c=a?a.getTotalAds():1,o=a?a.getMaxDuration():0}catch(e){Ue("@onAdEvent ERROR while getting detail from adEvent/currentAd",e.message)}switch(Ue("@onAdEvent","getPodIndex",ve),Ue("Ad event: ",i.type),i.type){case google.ima.AdErrorEvent.Type.AD_ERROR:k(i);break;case google.ima.AdEvent.Type.LOG:var f=i.getAdData();f.adError&&"function"==typeof f.adError.getMessage&&console.warn("Non-fatal IMA SDK error:",f.adError.getMessage());break;case google.ima.AdEvent.Type.CLICK:t.publish("dispatchEvent","AD_CLICKED",be,"dfp","dfp"),t.publish("adVideoClicked"),W(!1);break;case google.ima.AdEvent.Type.AD_METADATA:ne&&(u=ne.getCuePoints())&&u.length&&(Pe=!1);break;case google.ima.AdEvent.Type.LOADED:Ee?(Ue("ad type",s,l),l&&Qe&&!Me.startTimeout&&qe&&!$e&&(Me.startTimeout=setTimeout(y,Qe),Ue("scheduled a start timeout of",Qe))):Ue("no ads available, giving control to the player"),t.publish("dispatchEvent","AD_LOADED",be,Ce,"dfp"),t.publish("adsLoaded","dfp"),l&&(Ee&&(p.adDuration=adDuration,p.adId=be,p.adTitle=Ce,p.adIndex=d,p.adWrapperIds=A,p.adCreativeId=g),t.publish("adMediaLoaded","dfp",p));break;case google.ima.AdEvent.Type.STARTED:if(Ue("ad type",s,l),!l)return t.publish("nonLinearAdStarted","dfp"),void S(Ee);if(we=!1,xe=!1,z("startTimeout"),Pe=!1,le.onclick=E,x()&&!h(s)&&F()?(ce.style.display="none",ce.style.visibility="hidden"):(ce.style.display="block",ce.style.visibility="visible"),x()||Ue("using dfp video container"),F()||Ue("using dfp click tracker"),Ue("@onAdEvent->STARTED",Se),F()?(t.publish("showAdLearnMore"),W(!0)):!x()&&e.getDeviceInfo.isMobileBrowser&&(se.style.width="70%"),Ue("@onAdEvent->STARTED skipInfo",JSON.stringify(ie,null,3)),Ue("@onAdEvent->STARTED skipInfo isSkippable",Ee.isSkippable()),Me.onTimeUpdated||m(s),t.publish("playingAdContent","playingAdContent"),1==d&&(u=ne.getCuePoints(),ye=-1==ve?u&&u.length>0?u.length-1:0:ve,t.publish("dispatchEvent","AD_BREAK_STARTED",ye,o)),t.publish("dispatchEvent","AD_STARTED",be,Ce,"dfp"),ue&&Ee){Ue("retrieving companions for:",r.stringify(ue));for(var v=0,I=ue.length;v<I;v++)try{var b=parseInt(ue[v].width),B=parseInt(ue[v].height),Q=new google.ima.CompanionAdSelectionSettings;Q.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.STATIC,Q.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE,0==b||0==B?(Q.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE,b=1,B=1):Q.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.SELECT_EXACT_MATCH;var D=Ee.getCompanionAds(b,B,Q);if(Ue("total companions",D.length,b,"X",B),D)for(var R=0,_=D.length;R<_;R++){var M=D[R],N=M.getContent();t.publish("companionContent",M.getWidth(),M.getHeight(),N,null)}}catch(e){console.error("Encountered IMA SDK error while getting the companions | ",e.message)}}break;case google.ima.AdEvent.Type.COMPLETE:if(z("onTimeUpdated"),z("onProgressTimeout"),!l)return void T();Le=-1,Ue("Ad event: completed"),t.publish("adCompleted"),t.publish("dispatchEvent","AD_COMPLETED",be,"dfp","dfp"),d==c&&t.publish("dispatchEvent","AD_BREAK_COMPLETED",ye,o);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:Ue("Ad event: all ads completed"),Pe=!0,t.publish("dispatchEvent","ALL_ADS_COMPLETED",be,"dfp","dfp"),Ee=null;break;case google.ima.AdEvent.Type.FIRST_QUARTILE:t.publish("dispatchEvent","AD_FIRST_QUARTILE",be,"dfp","dfp");break;case google.ima.AdEvent.Type.MIDPOINT:t.publish("dispatchEvent","AD_MID_POINT",be,"dfp","dfp");break;case google.ima.AdEvent.Type.THIRD_QUARTILE:t.publish("dispatchEvent","AD_THIRD_QUARTILE",be,"dfp","dfp");break;case google.ima.AdEvent.Type.PAUSED:z("onProgressTimeout"),t.publish("adVideoPaused",!xe),we=!0;break;case google.ima.AdEvent.Type.RESUMED:t.publish("adVideoResumed"),W(!0),we=!1,xe=!1;break;case google.ima.AdEvent.Type.SKIPPED:l||T(),w(),Le=-1;break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:Ee.isSkippable()&&(t.publish("adSkipAllowed"),x()&&F()&&ie&&"number"!=typeof ie.adSkipTime&&(le.style.display="block"));break;case google.ima.AdEvent.Type.USER_CLOSE:if(!l)return void(n&&n.hideNonLinearAdsOnClose&&(ce.style.visibility="hidden"));break;case google.ima.AdEvent.Type.AD_BREAK_READY:console.error("ad break ready")}}function w(){var e=ne.getRemainingTime(),n=Ee.getDuration(),r=n-e>0?n-e:0;z("onTimeUpdated"),z("onProgressTimeout"),t.publish("adVideoSkipped",be,r,n)}function S(e){ae&&!je&&(ae.margin?ce.style.margin=ae.margin:(ae.marginTop&&(ce.style.marginTop=ae.marginTop),ae.marginRight&&(ce.style.marginRight=ae.marginRight),ae.marginBottom&&(ce.style.marginBottom=ae.marginBottom),ae.marginLeft&&(ce.style.marginLeft=ae.marginLeft)),je=!0)}function T(){je&&(ce.style.margin=null,ce.style.marginTop=null,ce.style.marginRight=null,ce.style.marginBottom=null,ce.style.marginLeft=null,ce.style.visibility="visible",je=!1)}function k(e){var n=e.getError(),r=n.getMessage(),a=n.getErrorCode()||"N/A",o=n.getErrorCode();Ue("@onAdError Error code:",a,"\n\t\tInner error:",o,"\n\t\tMessage:",r),z("requestAdsTimeout"),z("onTimeUpdated"),z("onProgressTimeout"),z("startTimeout"),ne&&ne.destroy(),t.publish("loadResumeVideoRequest",!1),t.publish("restoreMode"),t.publish("hideAdLearnMore"),t.publish("hideAdTimer"),Pe=!0,Le=-1,le.style.display="none",ce.style.visibility="hidden",ce.style.display="block",de.style.display="block",W(!1),Ee=null,i.dispatchError("DFP010",[r," IMA SDK Error Code: "+a].join("|"))}function Q(e){Ue("onContentPauseRequested"),le.style.display="none",t.publish("savePauseVideoRequest",{adId:be,creativeId:Oe}),t.publish("switchMode",Se);try{Ee=e&&"getAd"in e?e.getAd():null}catch(e){Ue("@onContentPauseRequested ERROR while getting detail from adEvent/currentAd",e.message)}de.style.display=Ke?"block":"none"}function D(){Ue("@onContentResumeRequested");var e=-1==ve||Je;z("onTimeUpdated"),z("onProgressTimeout"),z("adsRequestTimeout"),Ee=null,t.publish("loadResumeVideoRequest",e),t.publish("restoreMode"),t.publish("hideAdTimer"),le.style.display="none",ce.style.visibility="hidden",ce.style.display="block",de.style.display="block",F()&&(t.publish("hideAdLearnMore"),W(!1))}function R(){xe=!0,ne.pause()}function _(){Ue("@resume"),ne.resume()}function M(){return ne?ne.getVolume():(Ue("@getVolume adsManager is not ready"),null)}function N(e){Ue("@setVolume",e,!!ne),ne?ne.setVolume(e):Ue("@setVolume ignoring adsManager is not ready")}function P(e){Ve=e||{},Ue("@setMacros",r.stringify(e,null,3)),u()}function O(e,t,n){Ue("@resize",e,t,n?"fullscreen":"normal"),ne&&"resize"in ne&&ne.resize(e,t,n?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)}function L(){Ue("@notifyVideoEnd"),he.contentComplete(),et.currentTime=0}function x(){return ne&&"isCustomPlaybackUsed"in ne?ne.isCustomPlaybackUsed():null}function F(){return ne&&"isCustomClickTrackingUsed"in ne?ne.isCustomClickTrackingUsed():null}function U(){return Ue("@hasAllAdsCompleted",Pe),Pe}function V(){var e;if(ne){if(e=ne.getCuePoints(),Ue("@hasPreroll",e.length,!!Ee),e.length){for(var t=0,n=e.length;t<n;t++)if(0==e[t])return!0;return!1}return console.warn("adsManager can not determine if preroll exists or not"),null}return!1}function G(){return!!ne&&!!ne.getCuePoints().length}function H(){return Ue("@hasActiveAd"),!!Ee}function j(){return Ee&&"isLinear"in Ee?Ee.isLinear():null}function Y(){var e;if(ne){e=ne.getCuePoints(),Ue("@hasPostroll",e.length);for(var t=0,n=e.length;t<n;t++)if(-1==e[t])return!0;return!1}return!1}function K(){return Ue("@getAdDuration"),Ee&&"getDuration"in Ee?Ee.getDuration():null}function q(){return Ue("@getAdInformation"),Ee?{adId:be,adWrapperIds:C(Ee,"getWrapperAdIds"),adTitle:Ce,adMediaURL:Be,adDuration:K(),currentAdPodIndex:ve,vastApiFramework:C(Ee,"getApiFramework"),vastCreativeId:C(Ee,"getCreativeId"),wrapperCreativeIds:C(Ee,"getWrapperCreativeIds"),adSystem:C(Ee,"getAdSystem"),wrapperAdSystems:C(Ee,"getWrapperAdSystems"),isLinear:j()}:null}function J(){Ue("@destroy"),z("onTimeUpdated"),z("startTimeout"),z("onProgressTimeout"),z("adsRequestTimeout"),ne&&ne.destroy(),Ee=null,Pe=!0,Le=-1}function z(e){clearTimeout(Me[e]),delete Me[e]}function W(e){e&&Ye&&F()&&Ke?de.style.zIndex=1e18:de.style.zIndex=""}function Z(e){Ue("@startAd",e),Je=e,ne?(G()&&Xe&&(Ue("@startAd adsManager init with dimensions",pe,fe),g(),ne.init(pe,fe,google.ima.ViewMode.NORMAL)),t.publish("adMediaRequested","dfp",null),ne.start(),Xe=!1):Ue("@startAd adsManager is not ready yet.")}function X(e){We||(We=!0,Ue("@preloadAd",e),p(!1,e,!1),Ze=!0)}function $(){return ne&&Ee?Ee.getDuration()-ne.getRemainingTime():null}function ee(e){et.currentTime=e}function te(){return _e}var ne,re=n.adTagUrl,ie=n.skipInfo,ae=n.overlayInfo,oe=n.shared,se=o.adTimer,le=o.skipAdButton,ue=o.companions,ce=e.getElementById(o.shadowParentId,o.adNode.id),de=e.getElementById(o.shadowParentId,o.clickTracker.id),Ae=e.getElementById(o.shadowParentId,o.adLearnMore.id),ge=e.getElementById(o.shadowParentId,o.videoNode.id),pe=Math.max(ge.offsetWidth,ge.clientWidth),fe=Math.max(ge.offsetHeight,ge.clientHeight);pe=pe||parseInt(window.getComputedStyle(ge).getPropertyValue("width")),fe=fe||parseInt(window.getComputedStyle(ge).getPropertyValue("height"))
;var he,me,Ee,ve,ye,Ie,be,Ce,Be,we,Se,Te,ke,Qe,De,Re,_e,Me={},Ne=/iu=\/[0-9]+\/([^&]+)&/.exec(decodeURIComponent(re)),Pe=!0,Oe=Ne&&Ne.length>1?Ne[1]:"",Le=-1,xe=!1,Fe=a?a.tr:function(){return"--"},Ue=(Fe("advertisementCountDown"),r?r.getLogFn("DFP"):function(){console.log.apply(console,["[!DFP!]\t"].concat(Array.prototype.slice.call(arguments)))}),Ve={},Ge={AD_ON_MAIN:"AD_ON_MAIN",AD_ON_AD:"AD_ON_AD"};Te="number"==typeof n.adsRequestTimeout?1e3*n.adsRequestTimeout:void 0,Qe="number"==typeof n.startTimeout?1e3*n.startTimeout:5e3,De="number"==typeof n.vastLoadTimeout?1e3*n.vastLoadTimeout:void 0,Re="number"==typeof n.loadVideoTimeout?1e3*n.loadVideoTimeout:void 0,ke="number"==typeof n.progressTimeout?1e3*n.progressTimeout:3e3,_e="number"==typeof n.contentPauseRequestTimeout?1e3*n.contentPauseRequestTimeout:3e3;var He=re,je=!1,Ye="disableCustomClickTracking"in n&&!n.disableCustomClickTracking&&(e.getDeviceInfo.ipad||e.getDeviceInfo.iphone||e.getDeviceInfo.ipod||e.getDeviceInfo.android),Ke=!!n.fullAdClickableOnMobile,qe=!0,Je=!1,ze=e.getDeviceInfo.ipad||e.getDeviceInfo.iphone||e.getDeviceInfo.ipod?google.ima.ImaSdkSettings.VpaidMode.ENABLED:google.ima.ImaSdkSettings.VpaidMode.INSECURE,We=!1,Ze=!1,Xe=!1,$e=n.enablePreloading&&!e.getDeviceInfo.ipad&&!e.getDeviceInfo.iphone&&!e.getDeviceInfo.ipod,et={currentTime:0};return google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!n.iosCustomPlayback),google.ima.settings.setVpaidMode(ze),google.ima.settings.setPlayerVersion(n.playerVersion),google.ima.settings.setPlayerType(n.playerName),Ie=new google.ima.AdDisplayContainer(ce,ge,Ye?Ke?de:Ae:null),he=new google.ima.AdsLoader(Ie),e.addEventListener(he,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,A,!1),e.addEventListener(he,google.ima.AdErrorEvent.Type.AD_ERROR,k,!1),$e&&n.adTagUrl&&t.publish("preloadAdDetected","dfp"),{requestAds:p,initContainer:f,resume:_,setMacros:P,resize:O,pause:R,getVolume:M,setVolume:N,notifyVideoEnd:L,isCustomPlaybackUsed:x,isCustomClickTrackingUsed:F,hasAllAdsCompleted:U,hasPreroll:V,hasPostroll:Y,getAdDuration:K,getAdInformation:q,hasActiveAd:H,isActiveAdLinear:j,skipAd:E,startAd:Z,destroy:J,preloadAd:X,getCurrentTime:$,updateTime:ee,getContentPauseRequestTimeout:te}}return t}),anv.define("pluginFreeWheel",["util"],function(e){function t(t,n,r,i,a){function o(e){ue("@init",JSON.stringify(t,null,3)),s(e)}function s(n){ue("@resetContext for",[n.id,n.title,n.duration].join("|"));var r,i,a=n.upload_id||n.id,o=null;if(a!=(ee.id||ee.upload_id)){if(ee=n,R&&R.dispose(),K=!1,J=[],z=[],Z=[],$=[],oe=null,G=t.slotProfile,H=t.cuepointSequence,j=t.maxDuration,Y=t.minDuration,t.durationType&&"exact"==t.durationType?o=tv.freewheel.SDK.VIDEO_ASSET_DURATION_TYPE_EXACT:t.durationType&&"variable"==t.durationType&&(o=tv.freewheel.SDK.VIDEO_ASSET_DURATION_TYPE_VARIABLE),R=D.newContext(),R.registerVideoDisplayBase(t.displayBaseId),R.setProfile(t.profileId),"number"==typeof t.requestDuration&&R.setRequestDuration(t.requestDuration),R.setVideoAsset(t.videoAssetId||n.id||n.upload_id,t.videoDuration||n.duration,t.networkId,null,null,null,null,null,o),R.setSiteSection(t.siteSectionId,t.networkId),R.setRequestMode(2==n.video_type?tv.freewheel.SDK.REQUEST_MODE_LIVE:tv.freewheel.SDK.REQUEST_MODE_ON_DEMAND),t.keyValues)for(var s in t.keyValues)if(t.keyValues.hasOwnProperty(s))if((r=t.keyValues[s])instanceof Array)for(var l=0,u=r.length;l<u;l++)R.addKeyValue(s,r[l]);else R.addKeyValue(s,r);for(i in se)se.hasOwnProperty(i)&&e.addEventListener(R,i,se[i]);if(R.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_START_DETECT_TIMEOUT,ge,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),R.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_PROGRESS_DETECT_TIMEOUT,ge,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),R.setParameter(tv.freewheel.SDK.PARAMETER_RENDERER_VIDEO_DISPLAY_CONTROLS_WHEN_PAUSE,!1,tv.freewheel.SDK.PARAMETER_LEVEL_GLOBAL),t.amcb&&R.setCapability("amcb",tv.freewheel.SDK.CAPABILITY_STATUS_ON),t.sync&&R.setCapability("sync",tv.freewheel.SDK.CAPABILITY_STATUS_ON),t.rste&&R.setCapability(tv.freewheel.SDK.CAPABILITY_RESET_EXCLUSIVITY,tv.freewheel.SDK.CAPABILITY_STATUS_ON),ue("@resetContext common:",JSON.stringify(n.common,null,3)),ue("@resetContext ad_slots:",JSON.stringify(n.ad_slots,null,3)),x=[],n.ad_slots=n.ad_slots||t.adSlots,n.ad_slots&&"length"in n.ad_slots){for(var c=0,d=n.ad_slots.length;c<d;c++)x.push(parseFloat(n.ad_slots[c].ts));x=x.sort(function(e,t){return e-t}),ue("@resetContext currentMidrollPlan:",JSON.stringify(x,null,3))}if(M){ue("Player is adding the slots with time positions from videoJSON"),R.addTemporalSlot("Preroll_1",tv.freewheel.SDK.ADUNIT_PREROLL,0,G,H,j,Y);for(var A=0,g=t.midrollCount||x.length;A<g;A++)R.addTemporalSlot("Midroll_"+(A+1),tv.freewheel.SDK.ADUNIT_MIDROLL,x[A],G,H,j,Y),R.addTemporalSlot("Overlay_"+(A+1),tv.freewheel.SDK.ADUNIT_OVERLAY,x[A]>10?x[A]-10:x[A],G,H,j,Y);!t.postroll&&"postroll"in t||R.addTemporalSlot("Postroll_1",tv.freewheel.SDK.ADUNIT_POSTROLL,parseFloat(n.duration),G,H,j,Y)}}}function l(){ue("@onAdError",arguments),pe&&(pe.style.visibility=""),n.publish("loadResumeVideoRequest",!1),n.publish("restoreMode"),Q()}function u(t){ue("@onAdEvent",arguments);var n,r,i,a,o={};o[tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL]=1,o[tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL]=1,o[tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL]=1;var s=t.slot;if(ue("@onAdEvent",s.getWidth(),s.getHeight(),s.getCustomId(),s.getType(),s.getTimePositionClass(),t.adInstance.getAdId()),t.subType==tv.freewheel.SDK.EVENT_AD_IMPRESSION)if(ue("@onAdEvent","ad started",t,t.adInstance,t.adInstance.getAdId(),s),T("adStartTimeout"),F=t.adInstance.getAdId(),s.getTimePositionClass()in o){T("remainingTime"),p(t);for(var l=0,u=te.length;l<u;l++)if(ue("onAdEvent comparing",F,te[l],s.getTimePositionClass()),F==te[l]){U=l;break}ue("onAdEvent",F,U+1,"of",te.length)}else s.getTimePositionClass()==tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY&&(ue("detecting overlay node"),n=ae.parentNode.lastChild,n.id.indexOf("fw")>-1&&(ue("detected overlay node"),i=t.adInstance.getActiveCreativeRendition(),setTimeout(function(){n.style.position="absolute",n.style.width=i.getWidth()+"px",n.style.height=i.getHeight()+"px",n.style.top="0 !important",n.style.left="0 !important",n.style.left=0,n.style.right=0,n.style.top="",n.style.bottom="60px",n.style.margin="auto",r=e.generateChild(n,"div","close","overlay-close"),e.addEventListener(r,"click",function(){s.stop()})},10),(a=n.getElementsByTagName("iframe"))&&a.length&&(a=a[0],a.style.width=i.getWidth()+"px",a.style.height=i.getHeight()+"px",a.style.left=0,a.style.right=0,a.style.top=0,a.style.bottom=0,a.style.margin="auto")));else t.subType==tv.freewheel.SDK.EVENT_AD_IMPRESSION_END||(t.subType,tv.freewheel.SDK.EVENT_AD_FIRST_QUARTILE)}function c(e){ue("onRequestComplete");var t,r,i,a;if(J=[],z=[],Z=[],X=[],$=[],e.success){i=R.getTemporalSlots();for(var o=0;o<i.length;o++)switch(t=i[o],t.getTimePositionClass()){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:J.push(t);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:z.push(t);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:Z.push(t);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:$.push(t)}for(a=R._adResponse&&R._adResponse._videoPlayerNonTemporalSlots?R._adResponse._videoPlayerNonTemporalSlots:[],o=0;o<a.length;o++)t=a[o],t.getTimePositionClass()==tv.freewheel.SDK.TIME_POSITION_CLASS_DISPLAY&&X.push(t)}ue("Request completed"),T("adRequestTimeout"),q=!0,ue("@onRequestComplete #prerolls:",J.length,"#midrolls:",z.length,"#overlaySlots:",Z.length,"#displaySlots:",X.length,"#postrolls:",$.length,"duration:",ee.duration),r={prerollSlots:J,midrollSlots:z,postrollSlots:$,overlaySlots:Z,displaySlots:X};for(var s in r)r.hasOwnProperty(s)&&A(s,r[s]);ne.notifyVideoBegin&&(ne.notifyVideoBegin.apply(null,re.notifyVideoBegin),ne.notifyVideoBegin=null,re.notifyVideoBegin=null),ne.startPlayback&&(ne.startPlayback(),ne.startPlayback=null),n.publish("pluginReady","freewheel")}function d(){if(J){for(var e=0,t=J.length;e<t;e++)if(J[e].getAdCount())return!0;return!1}return!1}function A(e,t){console.log("-------------------- the content of ",e,"------------------- ");for(var n,r,i,a,o=0,s=t.length;o<s;o++){console.log("SLOT #",o),console.log("id:",t[o].toString()),console.log("total duration:",t[o].getTotalDuration()),console.log("customId:",t[o].getCustomId()),console.log("adCount:",t[o].getAdCount()),n=t[o].getAdInstances();for(var l=0,u=n.length;l<u;l++)if(r=n[l],console.log("\t------------------------ ad #",l,"-----------------"),console.log("\tadId:",r.getAdId()),console.log("\tduration:",r.getDuration()),(a=r.getCompanionAdInstances())&&a.length)for(var c=0,d=a.length;c<d;c++)i=a[c],console.log("\t------------------------ companion #",c,"-----------------"),console.log("\tadId:",i.getAdId()),console.log("\tduration:",i.getDuration());else console.log("\tNo companions!")}t.length||console.log("No",e,"slots!")}function g(){var e,r,i,a=_/(z.length+1),o=[];W=[],ue("ad request completed:",q),ue("@allocateMidrolls #",z.length," duration:",JSON.stringify(x,null,3),_||ee.duration,t.midrollCount,a);for(var s=0,l=z.length;s<l;s++)M?(ue("Player is allocating the slot time position"),e=x.length>s?x[s]:a*(1+s),r=x.length>s&&x[s]>10?x[s]-10:a*(1+s),z[s].setTimePosition(e),s<Z.length&&(Z[s].setTimePosition(r),ue("overlay planned at:",r)),i="set"):(ue("Player is respecting the slot time positions set by ad server"),s<Z.length&&(r=Z[s].getTimePosition(),ue("overlay planned at:",r)),e=z[s].getTimePosition(),i="observed"),ue("midroll "+i+" at:",e),o.push(e),W.push({slot:z[s],timeIndex:e,played:!1});n.publish("adBreaks",o,_)}function p(e){var t,n=e.slot.getTimePositionClass();switch(pe&&(pe.style.display="none",pe.style.visibility="hidden"),n){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:te=[],ue("@onSlotStarted",n,e.slot.getTimePosition()),t=e.slot.getAdInstances();for(var r=0,i=t.length;r<i;r++)te.push(t[r].getAdId());v(e.slot)}}function f(){T("remainingTime"),fe.parentNode.style.display="none",te=[],F=null,V=(new Date).getTime()}function h(t){var r=t.slot.getTimePositionClass();switch(pe&&(pe.style.visibility=""),r){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:f()}switch(r){case tv.freewheel.SDK.TIME_POSITION_CLASS_PREROLL:J.length&&(J.shift(),ue("@onPrerollSlotEnded #prerolls:",J.length,"#midrolls:",z.length),J.length?(n.publish("switchMode","AD_ON_MAIN"),J[0].play()):(n.publish("restoreMode"),n.publish("loadResumeVideoRequest",!1),e.addEventListener(ae,"timeupdate",m),R.setVideoState(tv.freewheel.SDK.VIDEO_STATE_PLAYING)));break;case tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL:ue("@onPrerollSlotEnded #prerolls:",J.length,"#midrolls:",z.length),oe=null,z.shift(),n.publish("restoreMode"),n.publish("loadResumeVideoRequest",!1);break;case tv.freewheel.SDK.TIME_POSITION_CLASS_OVERLAY:oe=null,n.publish("adOverlayHidden","FreeWheel");break;case tv.freewheel.SDK.TIME_POSITION_CLASS_POSTROLL:$.length&&($.shift(),$.length?(n.publish("switchMode","AD_ON_MAIN"),$[0].play()):(n.publish("restoreMode"),n.publish("loadResumeVideoRequest",!0),R.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED)))}ue("@onSlotEnded ",r," #prerolls:",J.length,"#midrolls:",z.length,"#postrolls:",$.length,"#overlays:",Z.length)}function m(){var t,r,i,a,o=ae.currentTime,s=-1;if(ue("@onContentVideoTimeUpdated",o),!Z.length&&!z.length)return ue("@onContentVideoTimeUpdated removing timeupdate since there is no midroll left"),void e.removeEventListener(ae,"timeupdate",m);if(oe!==tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL){for(var l=0,u=W.length;l<u;l++)if(t=W[l].slot,r=W[l].timeIndex,!W[l].played){if(o-r>=0&&o-r<=1&&!oe)return oe=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,ue("CALLING IN MIDROLL - TimeUpdated"),t&&1==t.getAdCount()&&(i=t.getAdInstances()[0],(a=i.getActiveCreativeRendition())&&"text/js_ref"==a.getContentType()&&ue("only one VPAID ad in slot, no need to reset/reload content video!")),n.publish("savePauseVideoRequest","savePauseVideoRequest"),n.publish("switchMode","AD_ON_MAIN"),W[l].played=!0,void t.play();P&&O<=r&&r<o&&(ue("Midroll Slot #",l,"is seeked over..."),!V||(V&&(new Date).getTime()-V)>ce?(ue("assigning seeked over #",l),s=l):(ue("cancelling assignment due to the grace period"),P=!1))}if(s>-1)return ue("playing seeked over midroll#",s),oe=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,ue("CALLING IN MIDROLL - TimeUpdated"),n.publish("savePauseVideoRequest","savePauseVideoRequest"),n.publish("switchMode","AD_ON_MAIN"),W[s].slot.play(),W[s].played=!0,void(P=!1);for(var c=0;c<Z.length;c++)if(t=Z[c],r=t.getTimePosition(),o-r>=0&&o-r<=1&&!oe)return oe=tv.freewheel.SDK.TIME_POSITION_CLASS_MIDROLL,Z.splice(c,1),t.play(),void n.publish("adOverlayDisplayed","FreeWheel")}}function E(){ue("@onContentVideoEnded"),R.setVideoState(tv.freewheel.SDK.VIDEO_STATE_STOPPED),$&&$.length?(ae.removeEventListener("timeupdate",m),ue("CALLING IN POSTROLL"),n.publish("savePauseVideoRequest","savePauseVideoRequest"),n.publish("switchMode","AD_ON_MAIN"),$[0].play()):(R.setVideoState(tv.freewheel.SDK.VIDEO_STATE_COMPLETED),n.publish("switchMode","VIDEO_ON_MAIN"))}function v(e){var t,r=null,i=null;try{r=e.getPlayheadTime(),i=e.getTotalDuration(),t=parseInt(i-r)}catch(e){ue("Could not get time information from ad slot (FreeWheel AdManager):",e)}"number"==typeof U&&te.length&&(n.publish("updateAdTimer",t,U,te.length),fe.parentNode.style.display="block"),n.publish("dispatchEvent","PRESENTATION_UPDATED",r,i,"ad",U,te.length),ie.remainingTime=setTimeout(v.bind(null,e),500)}function y(){ue("@loadAdData"),T("adRequestTimeout"),w("adRequestTimeout",de),R.submitRequest(),K=!0}function I(){ue("@startPlayback"),K?q?b():(ue("polling for adRequestCompleted before actualPlayback"),setTimeout(I,200)):(y(),ne.startPlayback=I)}function b(){ue("@actualPlayback",J.length),w("adStartTimeout",Ae),J.length?(n.publish("savePauseVideoRequest","savePauseVideoRequest"),n.publish("switchMode","AD_ON_MAIN"),J[0].play()):(n.publish("loadResumeVideoRequest",!1),n.publish("restoreMode"))}function C(e,t,n){switch(e){case"USER_BACKWARD_SEEK":N=!0,n.length>1&&(O=n[0],L=n[1]),ue("backward seek",JSON.stringify(n));break;case"USER_FORWARD_SEEK":P=!0,n.length>1&&(O=n[0],L=n[1]),ue("forward seek",JSON.stringify(n))}}function B(e){ue("notification received",e.duration),_=e.duration,f(),q?(g(),s(e),I()):(ne.notifyVideoBegin=B,re.notifyVideoBegin=[e])}function w(e,t,n){ue("startTimeout: "+e),ie[e]=setTimeout(n||function(){k(e)},t)}function S(){ue("cancelAllTimeouts");for(var e in ie)clearTimeout(e);ie={}}function T(e){ie&&ie[e]&&(ue("cancelTimeout: "+e),clearTimeout(ie[e]),delete ie[e])}function k(e){ue("@onTimeoutError: "+e),l({message:"SDK enforced Ad request timeout: "+e})}function Q(){if(R){for(eventName in se)se.hasOwnProperty(eventName)&&e.removeEventListener(R,eventName,se[eventName]);R.dispose()}f(),S()}var D,R,_,M,N,P,O,L,x,F,U,V,G,H,j,Y,K=!1,q=!1,J=[],z=[],W=[],Z=[],X=[],$=[],ee={},te=[],ne={},re={},ie={},ae=e.getElementById(r.pInstance,t.videoNodeId),oe=null,se={};se[tv.freewheel.SDK.EVENT_REQUEST_COMPLETE]=c,se[tv.freewheel.SDK.EVENT_SLOT_STARTED]=p,se[tv.freewheel.SDK.EVENT_SLOT_ENDED]=h,se[tv.freewheel.SDK.EVENT_AD]=u,se[tv.freewheel.SDK.EVENT_ERROR]=l,se[tv.freewheel.SDK.RENDERER_EVENT]=l;var le=a?a.tr:function(){return"--"},ue=(le("advertisementCountDown"),i?i.getLogFn("FreeWheel"):function(){console.log.apply(console,["[!FreeWheel!]\t"].concat(Array.prototype.slice.call(arguments)))}),ce=3e4,de="number"==typeof t.adRequestTimeout?1e3*t.adRequestTimeout:5e3,Ae="number"==typeof t.adStartTimeout?1e3*t.adStartTimeout:5e3,ge="number"==typeof t.adRenderTimeout?1e3*t.adRenderTimeout:1e4;tv.freewheel.SDK.setLogLevel(0),D=new tv.freewheel.SDK.AdManager,D.setNetwork(t.networkId),D.setServer(t.serverURL);var pe=e.getElementById(r.pInstance,t.clickTrackerId),fe=e.getElementById(r.pInstance,t.timerNodeId);return M=t.addSlots||!("addSlots"in t),{init:o,resetContext:s,requestAds:function(){y()},notifyVideoBegin:B,notifyVideoEnd:function(){E()},remainingSlotNumber:function(){return ue("@remainingSlotNumber"),$.length},sendBeacon:C,hasPreroll:d,onContentVideoTimeUpdated:m,destroy:Q}}return t}),anv.define("pluginOmniture",["util"],function(e){function t(t,n,r){function i(e){}function a(e,t){var n;if(d&&w[c]&&w[c].vars&&w[c].vars[e]){n=w[c].vars[e];for(var r=0,i=n.length;r<i;r++)d[n[r]]=t}}function o(e){b("@resetVar");var t;if(d&&w[c]&&w[c].vars&&w[c].vars[e]){t=w[c].vars[e];for(var n=0,r=t.length;n<r;n++)d[t[n]]=""}}function s(e){b("@trackCustomEvent evaluating event:",e);var t;if(d&&w[c]&&w[c].events&&e in w[c].events&&w[c].events[e].length){b("Custom event ",e,"found in profile"),d.events=w[c].events[e].join(",");t=Array.prototype.slice.call(arguments).slice(1),b("Custom event's sanitized args:",JSON.stringify(t)),t&&t.length&&d.events.length&&d.Media.track(t[0]),d.events=""}}function l(e){b("@setEvent:",e),d&&w[c]&&w[c].events&&e in w[c].events&&(b("Event",e,"found in profile"),d.events=w[c].events[e].join(","))}function u(e,t){switch(y=t,A=e,b("event:",e,"contentInfo:"),b(JSON.stringify(t,null,3)),a("clipLong",t.videoType),t.type&&t.type.video?a("primaryCategory",t.categories instanceof Array?t.categories.join(","):t.categories):o("primaryCategory"),a("tsPublished",t.tsPublished),a("playerName",n.playerName),a("pageURL",t.siteURL),e){case"VIDEO_STARTED":d.Media.open(t.contentTitle,t.duration,n.playerName),setTimeout(function(){b("delayed PLAY"),u("playingVideoContent",y)},1e3),I=!0;break;case"playingVideoContent":I&&d.Media.play(t.contentTitle,t.timeIndex);break;case"USER_PAUSE":b("processing",e),d.Media.stop(t.contentTitle,t.timeIndex);break;case"VIDEO_COMPLETED":I=!1,d.Media.close(t.contentTitle);break;case"AD_STARTED":a("adId",t.contentId),d.Media.openAd(t.contentTitle,-1,n.playerName),d.Media.play(t.contentTitle,t.timeIndex);break;case"playingAdContent":d.Media.play(t.contentTitle,t.timeIndex);break;case"pausedAdContent":d.Media.stop(t.contentTitle,t.timeIndex);break;case"VIDEO_FIRST_QUARTILE":case"VIDEO_MID_POINT":case"VIDEO_THIRD_QUARTILE":break;default:s(e,t.contentTitle)}!m&&w[c]&&w[c].events&&e in w[c].events&&w[c].events[e].length&&(a("clipLong",t.videoType),t.type&&t.type.video?a("primaryCategory",t.categories instanceof Array?t.categories.join(","):""):o("primaryCategory"),a("tsPublished",t.tsPublished),a("adId",t.contentId),a("playerName",n.playerName),a("pageURL",t.siteURL),o("videoSegments"),d.Media.open(t.contentTitle,t.duration,n.playerName),s("PLAYER_LOADED",t.contentTitle),m=!0)}var c=n.profile||"lin";c=c.toLowerCase();var d,A,g=n.parentPageURL?e.getUrlParts(n.parentPageURL):{},p=(g.host?g.host:"AnvatoUniversalPlayer")+"-"+n.pInstance,f=new Visitor(p),h=!1,m=!1,E={firstQuartile:"1:M:0-25",midPoint:"2:M:25-50",thirdQuartile:"3:M:50-75",lastQuartile:"4:M:75-100"},v=E.firstQuartile,y={duration:null,timeIndex:null,contentId:null,contentTitle:null,contentDefinition:null,type:{video:!0}},I=!1,b=r?r.getLogFn("Omniture"):function(){console.log.apply(console,["[!Omniture!]\t"].concat(Array.prototype.slice.call(arguments)))},C=[],B=[],w={lin:{vars:{playerName:["eVar38"],videoTitle:["eVar13"],clipLong:["eVar30"],videoSegments:["eVar31"],primaryCategory:["eVar32"],tsPublished:["eVar36"],segment:[],adId:[],pageURL:["eVar39"],adTitle:[],pod:[],podPosition:[],CPM:[],adSegment:[]},events:{timePlayed:[],view:[],segmentView:[],PLAYER_LOADED:[],VIDEO_STARTED:["event18"],VIDEO_COMPLETED:["event19"],VIDEO_FIRST_QUARTILE:["event35","event38","event39"],VIDEO_MID_POINT:["event36","event38","event39"],VIDEO_THIRD_QUARTILE:["event37","event38","event39"],USER_PAUSE:["event30"],AD_STARTED:["event25"],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:["event26"],AD_CLICKED:[],adTimePlayed:[],adView:[],adSegmentView:[],USER_SHARE:["event32"],USER_FORWARD_SEEK:["event34"],USER_BACKWARD_SEEK:["event33"]}},univision:{vars:{playerName:[],videoTitle:["eVar57"],clipLong:["eVar5"],videoSegments:["eVar55"],primaryCategory:["eVar58"],tsPublished:["eVar36"],segment:[],adId:["eVar37"],pageURL:["eVar56"],adTitle:[],pod:[],podPosition:[],CPM:[],adSegment:[]},events:{timePlayed:[],view:[],segmentView:[],FIRST_FRAME_READY:[],VIDEO_STARTED:["event8"],VIDEO_COMPLETED:["event26","event25","event12"],VIDEO_FIRST_QUARTILE:["event26","event25","event9"],VIDEO_MID_POINT:["event26","event25","event10"],VIDEO_THIRD_QUARTILE:["event26","event25","event11"],USER_PAUSE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],adTimePlayed:[],adView:[],adSegmentView:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[]}}};if(c&&!w[c])throw new Error("Profile "+c+" is not recognized.");for(var S in w[c].events)w[c].events.hasOwnProperty(S)&&(C=C.concat(w[c].events[S]));for(var T in w[c].vars)w[c].vars.hasOwnProperty(T)&&(B=B.concat(w[c].vars[T]));return C=["events"].concat(C).join(","),B=B.join(","),b("trackEvents:",C),b("trackVars:",B),n.playerName="AnvatoUniversalPlayer",f.trackingServer=n.trackingServer,d=new AppMeasurement,d.account=n.account,d.visitorNamespace=p,d.visitor=Visitor.getInstance(p),d.trackDownloadLinks=!0,d.trackExternalLinks=!0,d.trackInlineStats=!0,d.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",d.linkInternalFilters="javascript:",d.linkLeaveQueryString=!1,d.linkTrackVars="None",d.linkTrackEvents="None",d.trackingServer=n.trackingServer,d.usePlugins=!0,d.enableVideoTracking=!0,d.doPlugins=i,d.loadModule("Media"),d.Media.autoTrack=!1,d.Media.trackWhilePlaying=!0,d.Media.trackVars=B,d.Media.trackEvents=C,d.Media.trackMilestones="25,50,75",d.Media.playerName=n.playerName,d.Media.trackUsingContextData=!0,d.Media.contextDataMapping={"a.media.name":w[c].vars.videoTitle.join(","),"a.media.segment":w[c].vars.videoSegments.join(","),"a.contentType":"video","a.media.timePlayed":w[c].events.timePlayed.join(","),"a.media.view":w[c].events.view.join(","),"a.media.segmentView":w[c].events.segmentView.join(","),"a.media.milestones":{25:w[c].events.VIDEO_FIRST_QUARTILE.join(","),50:w[c].events.VIDEO_MID_POINT.join(","),75:w[c].events.VIDEO_THIRD_QUARTILE.join(",")},"a.media.ad.name":w[c].vars.adTitle.join(","),"a.media.ad.pod":w[c].vars.pod.join(","),"a.media.ad.podPosition":w[c].vars.podPosition.join(","),"a.media.ad.CPM":w[c].vars.CPM.join(","),"a.media.ad.clicked":w[c].events.AD_CLICKED.join(","),"a.media.ad.segment":w[c].vars.adSegment.join(","),"a.media.ad.timePlayed":w[c].events.timePlayed.join(","),"a.media.ad.view":w[c].events.adView.join(","),"a.media.ad.segmentView":w[c].events.adSegmentView.join(","),"a.media.ad.complete":w[c].events.AD_COMPLETED.join(",")},w[c].events.adSegmentView&&!w[c].events.adSegmentView.length&&(delete d.Media.contextDataMapping["a.media.ad.segmentView"],delete d.Media.contextDataMapping["a.media.ad.segment"]),d.Media.monitor=function(e,t){function n(){b("@sendRequest events:",e.events,e.events.length),e.events.length&&e.Media.track(t.name)}"MILESTONE"==t.event&&t.eventFirstTime&&(25==t.milestone&&(a("videoSegments",E.firstQuartile),v=E.midPoint,h=!0),50==t.milestone&&(a("videoSegments",E.midPoint),v=E.thirdQuartile,h=!0),75==t.milestone&&(a("videoSegments",E.thirdQuartile),v=E.lastQuartile,h=!0),h&&(h=!1,n())),"OPEN"==t.event&&(b("@media.event==OPEN",y.videoType),"Ad"!=y.videoType?(e.events=w[c].events.VIDEO_STARTED.join(","),a("videoSegments",E.firstQuartile)):e.events=w[c].events.AD_STARTED.join(","),n()),"STOP"==t.event&&(b("@media.event==STOP",A),"Ad"!=y.videoType&&"USER_PAUSE"==A&&(e.events=w[c].events.USER_PAUSE.join(","),a("videoSegments",v)),n()),"CLOSE"==t.event&&(b("@media.event==CLOSE",A),"VIDEO_COMPLETED"==A&&(a("videoSegments",E.lastQuartile),l("VIDEO_COMPLETED"),n(),o("videoSegments"),v=E.firstQuartile)),e.events="",A=null},d.debugTracking=!0,d.trackLocal=!0,{sendBeacon:u}}return t}),anv.define("pluginHeartbeat",["util"],function(e){function t(e,t,n,r){function i(e){p("@initPlugin (deferred)",e);var t={400:1,404:1};if(e){if(e in t)return void r.dispatchError("HRTBT001");I.account=e}b=new B(I),C=new o,T=new a(C),k=new Q(T,[b]),k.configure(D),A()}function a(e){a.__super__.constructor.call(this),this._player=e}function o(){function e(){s=null}function t(e,t,n,r,i){l=null,u=null,s=new c,s.playerName=m,s.id=e,s.name=t,s.length="vod"!=i?-1:n,s.playhead=r,s.streamType=i,p("@setVideoInfo videoInfo.length",n,s.length)}function n(){return p("_onPlayer @getVideoInfo",s,s.playhead),s}function r(e,t,n,r,i){l=new d,l.id=e,l.name=t,l.length=n,l.position=r,l.cpm=i}function i(){return p("_onPlayer @getAdInfo",l),l}function a(e,t,n){u=new A,u.name=e||"Preroll",u.position=t||1,u.playerName=m,u.startTime=n||0}function o(){return u}var s=null,l=null,u=null,c=ADB.va.VideoInfo,d=ADB.va.AdInfo,A=ADB.va.AdBreakInfo;return{setVideoInfo:t,resetVideoInfo:e,setAdInfo:r,setAdBreakInfo:a,getVideoInfo:n,getAdInfo:i,getAdBreakInfo:o}}function s(e,t){if(R in N){var n,r,i=N[R].metadata,a=[];for(var o in i)if(i.hasOwnProperty(o)&&("trackOn"in i[o]&&e in i[o].trackOn||!("trackOn"in i[o]))&&"vars"in i[o]&&i[o].vars.length){n=i[o].vars,I.contextData["a.media.name"]=t.eventId,I.contextData["a.media.friendlyName"]=t.titleWithEpisode,I.contextData["a.media.playerName"]=t.playerName,I.contextData["a.media.channel"]="web",I.contextData["a.contentType"]="video";for(var s=0,l=n.length;s<l;s++)-1==n[s].indexOf("eVar")&&-1==n[s].indexOf("prop")?(I.contextData[n[s]]=t[o],r="contextData."):(I[n[s]]=t[o],r=""),a.push(r+n[s])}return a}}function l(e,t,n){p("@trackCustomEvent evaluating event:",e,"with linkTrackVars",n.length?n.join("|"):"---");var r,i=[];I&&N[R]&&N[R].events&&e in N[R].events&&(N[R].events[e].length||n.length)&&(p("Custom event ",e,"found in profile"),r=N[R].events[e].length,r&&(I.events=N[R].events[e].join(","),I.linkTrackEvents=N[R].events[e].join(","),i=i.concat(["events"]),p("@trackCustomEvent appMeasurement.events:",I.events)),i=i.concat(["contextData.a.media.name","contextData.a.media.friendlyName","contextData.a.media.playerName","contextData.a.media.channel","contextData.a.contentType"]),I.linkTrackVars=i.concat(n).join(","),p("@trackCustomEvent tracking appMeasurement.linkTrackVars",I.linkTrackVars),p("@trackCustomEvent tracking appMeasurement.linkTrackEvents",I.linkTrackEvents),I.tl(!0,"o",t.contentTitle),I.events="",I.linkTrackEvents="None",I.linkTrackVars="None")}function u(e,t){var n;n=s(e,t)||[],l(e,t,n)}function c(e,t){if(p("@track event:",e,"contentUpdate",JSON.stringify(t,null,3)),k&&C)switch(t.type.video?C.setVideoInfo(t.eventId,t.titleWithEpisode,t.duration,t.timeIndex,t.live?ADB.va.ASSET_TYPE_LIVE:ADB.va.ASSET_TYPE_VOD):N[R].trackAds&&(C.setAdBreakInfo(),C.setAdInfo(t.contentId,t.contentTitle,t.duration,t.adPosition,null)),e in N[R].events&&("FIRST_FRAME_READY"==e&&!f||"FIRST_FRAME_READY"!=e)&&u(e,t),e){case"FIRST_FRAME_READY":f||(k.trackVideoLoad(),f=!0);break;case"VIDEO_STARTED":case"USER_RESUME":k.trackPlay();break;case"USER_PLAY":break;case"USER_PAUSE":k.trackPause();break;case"VIDEO_COMPLETED":k.trackPause(),k.trackComplete(),k.trackVideoUnload(),h=!0;break;case"AD_STARTED":N[R].trackAds&&k.trackAdStart();break;case"AD_COMPLETED":N[R].trackAds&&k.trackAdComplete();break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":k.trackSeekStart(),k.trackSeekComplete()}}function d(){k&&C?g.length?A():c.apply(null,Array.prototype.slice.call(arguments)):(p("pushing to the queue",arguments),g.push(arguments))}function A(){for(p("releasing the queue");g.length;)args=g.shift(),c.apply(null,Array.prototype.slice.call(args))}var g=[],p=n?n.getLogFn("Heartbeat"):function(){console.log.apply(console,["[!Heartbeat!]\t"].concat(Array.prototype.slice.call(arguments)))},f=!1,h=!1;p("init config:",JSON.stringify(t,null,3));var m="Anvato Universal Player",E=/\/\/([a-z0-9\.]+)\//.exec(t.parentPageURL),v=(E.length>1?E[1]:"AnvatoUniversalPlayer")+"-"+t.pInstance,y=new Visitor(t.marketingCloudId,v);t.trackingServer=t.trackingServer||"heartbeats.omtrdc.net",t.customTrackingServer=t.customTrackingServer||t.trackingServer,y.trackingServer=t.customTrackingServer,p("namespace",v);var I=new AppMeasurement;I.visitor=y,I.visitorNamespace=v,I.trackingServer=t.customTrackingServer,I.account=t.account;var b,C,B=ADB.va.plugins.AdobeAnalyticsPlugin,w=ADB.core.extend,S=ADB.va.PlayerDelegate;w(a,S),a.prototype.getVideoInfo=function(){return this._player.getVideoInfo()},a.prototype.getAdBreakInfo=function(){return this._player.getAdBreakInfo()},a.prototype.getAdInfo=function(){return this._player.getAdInfo()},a.prototype.getChapterInfo=function(){return null},a.prototype.getQoSInfo=function(){return null},a.prototype.onError=function(e){p("VideoAnalytics error. Message: "+e.message+". Details: "+e.details+".")},a.prototype.onVideoUnloaded=function(){p("video unloaded")};var T,k,Q=ADB.va.VideoHeartbeat,D=new ADB.va.ConfigData(t.trackingServer,t.jobId,t.publisherId);D.ovp="",D.sdk=m,D.channel="",D.debugLogging=!1,"object"!=typeof t.account?i():r.postWithWsse(t.account,i,i);var R=t.profile;R=R.toLowerCase(),p("profile:",R);var _=[],M=[],N={sni:{metadata:{video_started:{trackOn:{VIDEO_STARTED:1},vars:["videoStart"]},user_pause:{trackOn:{USER_PAUSE:1},vars:["videoPause"]},user_resume:{trackOn:{USER_RESUME:1},vars:["videoResume"]},user_fullscreen:{trackOn:{USER_FULLSCREEN:1},vars:["videoFullscreen"]},user_golive:{trackOn:{USER_GOLIVE:1},vars:["videoLive"]},video_completed:{trackOn:{VIDEO_COMPLETED:1},vars:["videoComplete"]},ad_started:{trackOn:{AD_STARTED:1},vars:["videoAdBegin"]},ad_completed:{trackOn:{AD_COMPLETED:1},vars:["videoAdComplete"]},titleWithEpisode:{trackOn:{VIDEO_STARTED:1},vars:["eVar23"]},stationId:{trackOn:{VIDEO_STARTED:1},vars:["eVar27"]},videoDuration:{trackOn:{VIDEO_STARTED:1},vars:["eVar33"]},playerType:{trackOn:{VIDEO_STARTED:1},vars:["eVar21"]},playerName:{trackOn:{VIDEO_STARTED:1},vars:["eVar24"]},mvpd:{trackOn:{VIDEO_STARTED:1},vars:["eVar26"]},adTitle:{trackOn:{AD_STARTED:1},vars:["eVar15","prop73"]},adDuration:{trackOn:{AD_STARTED:1},vars:["videoAdRunTime"]},clipLong:{},videoSegments:{},primaryCategory:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{PLAYER_LOADED:[],FIRST_FRAME_READY:[],VIDEO_STARTED:["event5"],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:["event9"],USER_PLAY:[],USER_RESUME:["event64"],USER_PAUSE:["event63"],USER_GOLIVE:["event86"],AD_STARTED:["event3"],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:["event4"],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:["event66"],USER_CANCEL_FULLSCREEN:[]}},cbs:{trackAds:!1,metadata:{contentTitle:{},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},adDuration:{},season:{trackOn:{VIDEO_STARTED:1},vars:["eVar18"]},group:{trackOn:{VIDEO_STARTED:1},vars:["eVar20"]},autoManual:{trackOn:{VIDEO_STARTED:1},vars:["eVar21"]},clipLong:{},videoSegments:{},primaryCategory:{},categories:{trackOn:{VIDEO_STARTED:1},vars:["eVar19"]},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{PLAYER_LOADED:[],FIRST_FRAME_READY:[],VIDEO_STARTED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_PAUSE:[],USER_RESUME:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]}}};if(N.cbslocal=N.cbs,R&&!N[R])throw new Error("Profile "+R+" is not recognized.");if(R in N){for(var P in N[R].events)N[R].events.hasOwnProperty(P)&&(_=_.concat(N[R].events[P]));for(var O in N[R].vars)N[R].vars.hasOwnProperty(O)&&(M=M.concat(N[R].vars[O]))
;_=["events"].concat(_).join(","),M=M.join(","),p("trackEvents:",_),p("trackVars:",M)}return{sendBeacon:d,initPlugin:i}}return t}),anv.define("pluginHeartbeatBeta",["util"],function(e){function t(t,n,r,i){function a(t){O("@initPlugin (deferred)",t);var r={400:1,404:1};if(t){if(t in r)return void i.dispatchError("HRTBT001");oe.account=t}de=new c,Ee=new s(de),Ae=new pe(Ee),ge=new fe,ge.debugLogging=ie,Ae.configure(ge),se=new ue(oe,new o),le=new ce,le.channel=n.channel||(Me[ke].keyValues&&Me[ke].keyValues.channel?Me[ke].keyValues.channel:"web"),le.debugLogging=ie,se.configure(le),ve=new Ie(new l),ye=new be(n.trackingServer,n.marketingCloudId||n.publisherId),ye.ovp=n.ovp||"",ye.ssl=e.isSecureSocket(),ye.sdk=e.getDeviceInfo.firetv?"firetv":n.sdk||Z,ye.debugLogging=ie,ve.configure(ye),te=[Ae,se,ve],Ce=new we(new u,te),Be=new Se,Be.debugLogging=ie,Ce.configure(Be),k=i.getConfigValue(M.HEARTBEAT.CONFIG.CHAPTER,"enabled",!0),k=null==k?ee:k,S()}function o(){}function s(e){s.__super__.constructor.call(this),this._player=e}function l(){}function u(){}function c(){function e(){c=null}function t(e,t,n,r,i,a){A=null,g=null,c=new p,c.playerName=a||Z,c.id=String(e),c.name=t,c.length=n,c.playhead=isNaN(r)?0:r,c.streamType=i}function n(){return I(N.VIDEO),c}function r(e,t,n,r){n=parseInt(n),r=parseInt(r),A=null,g=null,d=new f,d.name=String(e),d.position=t,d.startTime=isNaN(n)?0:n,d.length=isNaN(r)?0:r,O("@setChapterInfo videoInfo",[d.name,d.position,d.startTime,d.length].join("|"))}function i(){return I(N.CHAPTER),d}function a(){d=null}function o(e,t,n,r,i){K?(A=new h,A.id=String(e),A.name=String(t),A.length=parseInt(n),A.position=r,A.cpm=i):A=null}function s(){return I(N.AD),A}function l(e,t,n,r){K?(g=new m,g.name=e,g.position=void 0!==t?t:1,g.playerName=r||Z,g.startTime=n):g=null}function u(){return I(N.AD_BREAK),g}var c=null,d=null,A=null,g=null,p=ADB.va.plugins.videoplayer.VideoInfo,f=ADB.va.plugins.videoplayer.ChapterInfo,h=ADB.va.plugins.videoplayer.AdInfo,m=ADB.va.plugins.videoplayer.AdBreakInfo;return{setVideoInfo:t,resetVideoInfo:e,setAdInfo:o,setAdBreakInfo:l,getVideoInfo:n,getChapterInfo:i,setChapterInfo:r,resetChapterInfo:a,getAdInfo:s,getAdBreakInfo:u}}function d(e,t,n){var r,i;for(i=e.exec(t);i&&i[1]in _;)r=t.replace(new RegExp(i[0]),_[i[1]]),t=n?encodeURIComponent(r):r,i=e.exec(t);return t}function A(e){_=e||{},O("setMacros",JSON.stringify(e,null,3))}function g(e){var t=/\{\{(\w+)\}\}/,n={};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=g(e[r]));return n}return t.test(e)?d(t,e):e}function p(t,r,a){var o={chapter:{},video:{}};if(n.useDerivedMetadata)a===J.HEARTBEAT?(i.getConfigValue(M.HEARTBEAT.CONFIG.VIDEO,"enabled",!0)&&(o.video=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.VIDEO,""))),k&&(o.chapter=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.CHAPTER,""))),i.getConfigValue(M.HEARTBEAT.CONFIG.AD,"enabled",!0)&&(o.ad=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.AD,""))),i.getConfigValue(M.HEARTBEAT.CONFIG.AD_BREAK,"enabled",!0)&&(o.adBreak=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.AD_BREAK,"")))):a===J.APP_MEASUREMENT&&O("derivedMetadata is not supported with aap measurement");else if(ke in Me){var s,l,u,c,d=Me[ke].metadata,A=[];for(var p in d)if(d.hasOwnProperty(p)&&("trackOn"in d[p]&&t in d[p].trackOn||!("trackOn"in d[p]))&&"vars"in d[p]&&d[p].vars.length){s=d[p].vars,l=d[p].types,a==J.APP_MEASUREMENT&&(oe.contextData["a.media.name"]=Me[ke].trackChapters&&r.live?v("videoId",r,t):v("eventId",r,t),oe.contextData["a.media.friendlyName"]=Me[ke].trackChapters&&r.live?v("videoId",r,t):v("contentTitle",r,t),oe.contextData["a.media.playerName"]=v("playerName",r),oe.contextData["a.media.channel"]=e.getDeviceInfo.firetv?"firetv":Me[ke].keyValues&&Me[ke].keyValues.channel?Me[ke].keyValues.channel:"web",oe.contextData["a.contentType"]=v("streamType",r,t));for(var f=0,h=s.length;f<h;f++)if(a==J.APP_MEASUREMENT)-1==s[f].indexOf("eVar")&&-1==s[f].indexOf("prop")?(oe.contextData[s[f]]=d[p].adaptor?d[p].adaptor(r[p],r,t,s[f]):r[p],u="contextData.",l&&s[f]in l&&(O("@setCustomMetadata detected type for",s[f]),oe[l[s[f]]]=s[f],A.push(l[s[f]]))):(oe[s[f]]=d[p].adaptor?d[p].adaptor(r[p],r,t,s[f]):r[p],u=""),A.push(u+s[f]);else if(a==J.HEARTBEAT){if(c="",!d[p].trackWith||d[p].trackWith&&z.CHAPTER in d[p].trackWith){if(o.chapter[s[f]]=d[p].adaptor?d[p].adaptor(r[p],r,t,s[f]):r[p],t&&t in{USER_PLAY:1})break;c=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.CHAPTER,s[f],"")),O("derivedValue for:",s[f],c),c!=String(o.chapter[s[f]])?O("MISMATCH for",s[f],c,"vs",o.chapter[s[f]]):O("MATCH for",s[f],c)}if(!d[p].trackWith||d[p].trackWith&&z.VIDEO in d[p].trackWith){if(o.video[s[f]]=d[p].adaptor?d[p].adaptor(r[p],r,t,s[f]):r[p],t&&t in{USER_PLAY:1})break;c=g(i.getDerivedMetadata(M.HEARTBEAT.METADATA.VIDEO,s[f],"")),c!=String(o.chapter[s[f]])?O("MISMATCH:",c,o.chapter[s[f]]):O("MATCH:",c)}}}}return{linkTrackVars:A,heartbeatCustomMetadata:o}}function f(t,r,i,a){var o,s=[],l={},u={},c={},d={};a==J.APP_MEASUREMENT?n.useDerivedMetadata?O("derivedMetadata is not supported with aap measurement"):oe&&Me[ke]&&Me[ke].events&&t in Me[ke].events&&(Me[ke].events[t].length||i.linkTrackVars.length)&&(O("Custom event ",t,"found in profile"),o=Me[ke].events[t].length,o&&(oe.events=Me[ke].events[t].join(","),oe.linkTrackEvents=Me[ke].events[t].join(","),s=s.concat(["events"]),O("@trackCustomEvent appMeasurement.events:",oe.events)),s=s.concat(["contextData.a.media.name","contextData.a.media.friendlyName","contextData.a.media.playerName","contextData.a.media.channel","contextData.a.contentType"]),oe.linkTrackVars=s.concat(i.linkTrackVars).join(","),O("@trackCustomEvent tracking appMeasurement.linkTrackVars",oe.linkTrackVars),O("@trackCustomEvent tracking appMeasurement.linkTrackEvents",oe.linkTrackEvents),oe.tl(!0,"o",r.contentTitle),oe.events="",oe.linkTrackEvents="None",oe.linkTrackVars="None"):a==J.HEARTBEAT&&(l=i.heartbeatCustomMetadata.video,u=i.heartbeatCustomMetadata.chapter,c=i.heartbeatCustomMetadata.ad,d=i.heartbeatCustomMetadata.adBreak,n.customMetadata&&("video"in n.customMetadata&&"object"==typeof n.customMetadata.video&&(l=e.merge(l,n.customMetadata.video)),"chapter"in n.customMetadata&&"object"==typeof n.customMetadata.chapter&&(u=e.merge(u,n.customMetadata.chapter)),"ad"in n.customMetadata&&"object"==typeof n.customMetadata.ad&&(c=e.merge(c,n.customMetadata.ad)),"adBreak"in n.customMetadata&&"object"==typeof n.customMetadata.adBreak&&(d=e.merge(d,n.customMetadata.adBreak))),(n.useDerivedMetadata&&k||!n.useDerivedMetadata&&Me[ke].trackChapters)&&se.setChapterMetadata(u),se.setVideoMetadata(l))}function h(){var e=parseInt((new Date).getTime()/1e3);return n.playheadTrackingWithUTC&&e%86400||e}function m(e){var t={Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thr:"Thursday",Fri:"Friday",Sat:"Saturday"},r=h();_.TIME_HOUR=e.hours,_.TIME_MINUTE=e.minutes,_.DATE=e.date,_.DAY=e.day,_.DATE_DAY=t[e.dayOfWeek],_.MVPD=e.mvpd,_.MVPD_DISPLAY_NAME=e.mvpdDisplayName,_.PLAYER_NAME=e.playerName,_.PLAYER_VERSION=e.version,_.CURRENT_TIME=e.live?r:parseFloat(e.timeIndex),_.TALENT_NAME=e.live?e.talentName||"N/A":e.custom$rovi_credits||"N/A",_.CHAPTER_INDEX=e.chapterIndex?e.chapterIndex+1:1,_.CHAPTER_START_TIME=e.live?e.startTime:e.chapterStartTime,_.CHAPTER_LENGTH=e.live?e.endTime-e.startTime:e.chapterEndTime-e.chapterStartTime,_.AD_BREAK_INDEX=e.adBreakIndex,_.AD_INDEX=e.adIndex,_.AD_DURATION=e.adDuration,_.LAST_CONTENT_TIME_INDEX=e.lastContentTimeIndex,0==Math.floor(e.lastContentTimeIndex)?_.AD_POD_TYPE="Preroll":Math.ceil(e.lastContentTimeIndex)>=e.duration?_.AD_POD_TYPE="Postroll":_.AD_POD_TYPE="Midroll",_.AD_POD_INDEX=e.adBreakIndex+1,"string"==typeof e.daiRules&&e.daiRules.indexOf("no_local_dai")>-1&&e.daiRules.indexOf("no_network_dai")>-1?_.NIELSEN_AD_LOAD_TYPE=1:_.NIELSEN_AD_LOAD_TYPE=2,_.AD_LOAD_TYPE=_.NIELSEN_AD_LOAD_TYPE,_.AD_MODEL=_.NIELSEN_AD_LOAD_TYPE,_.NIELSEN_AD_MODEL=_.NIELSEN_AD_LOAD_TYPE,_.VIDEO_SCREEN_TYPE=e.fullscreen?"fullscreen":"normal",_.VIDEO_SCREEN=_.VIDEO_SCREEN_TYPE,_.VIDEO_PLAY_TYPE=e.autoManual,_.videoTitle=e.contentTitle,_.CHAPTER_TITLE=[e.live?e.episodeTitle:e.custom$cl_episode,e.chapterIndex?e.chapterIndex+1:1].join("|"),_.CHAPTER_TITLE2=e.chapterTitle,_.TITLE_OR_PROGRAM_NAME=e.live?e.initialTitle:e.program_name,_.ID1=k&&e.live?e.videoId:[e.custom$cl_scrid||"N/A",e.custom$cl_episode_type||e.custom$cl_ad_policy||"D4"].join("|"),_.ID2=k&&e.live?e.videoId:[e.custom$cl_show_name,e.custom$cl_episode].join("|"),_.DURATION2=e.live?-1:parseInt(e.duration),_.PLAYER_INSTANCE=n.pInstance,_.STREAM_TYPE=e.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD,_.START_TYPE=e.autoManual,_.CATEGORY=e.categories,_.STATUS=e.status,_.CALLSIGN=e.callsign,_.PLATFORM=e.platform,_.EPISODE_NUMBER=e.episodeNumber,_.EVENT_ID=e.eventId,_.AIR_DATE=e.ts_airdate,_.SEASON=e.season,_.DAY2=e["custom$[54]daypart"],_.ID=e.live?e.videoId:e.eventId,_.ID_TITLE=e.live?e.videoId:e.contentTitle;var i={0:"VOD Episode",1:"VOD Clip",2:ne.ASSET_TYPE_LIVE};_.STREAM_TYPE2="video_type"in e&&e.video_type in i?i[e.video_type]:_.STREAM_TYPE}function E(e,t,n){var r;r=p(e,t,n)||[],f(e,t,r,n)}function v(e,t,n){return O("@applyMainAdaptor",e),Me[ke]&&Me[ke].adaptors&&e in Me[ke].adaptors?(O("@applyMainAdaptor returning",Me[ke].adaptors[e](t[e],t,n)),Me[ke].adaptors[e](t[e],t,n)):(O("@applyMainAdaptor returning",t[e]),t[e])}function y(e,t,n,r){for(var a=0;a<t.length;a++){var o,s=t[a],l=g(i.getDerivedMetadata(e,s,""));e==M.HEARTBEAT.CONFIG.VIDEO&&("duration"==s&&(l=Q.live?-1:parseInt(Q.duration)),"currentTime"==s&&(o=h(),l=Q.live?o:parseFloat(Q.timeIndex))),e==M.HEARTBEAT.CONFIG.AD_BREAK&&("lastContentTimeIndex"==s&&(l=Q.lastContentTimeIndex),"id"==s&&(l=Q.adBreakIndex+1)),e==M.HEARTBEAT.CONFIG.AD&&("adId"==s&&(l=Q.adId||["ad",Q.adBreakIndex,Q.adIndex].join("_")),"name"==s&&(l=Q.adId||["ad",Q.adBreakIndex,Q.adIndex].join("_")),"id"==s&&(l=Q.adIndex+1),"duration"==s&&(l=Q.adDuration)),O("derivedValue for:",s,l),l!=String(n[a])?O("MISMATCH for",s,l,"vs",n[a]):O("MATCH for",s,l)}}function I(e){var t,r,a,o;n.useDerivedMetadata&&E(null,Q,J.HEARTBEAT),e==N.VIDEO?(o=h(),n.useDerivedMetadata?(r=g(i.getDerivedMetadata(M.HEARTBEAT.CONFIG.VIDEO,"")),t=[r.id,r.name,r.duration||Q.live?-1:parseInt(Q.duration),Q.live?o:parseFloat(Q.timeIndex),r.streamType,r.playerName]):(t=[Me[ke].trackChapters&&Q.live?v("videoId",Q,null):v("eventId",Q,null),Me[ke].trackChapters&&Q.live?v("videoId",Q,null):v("contentTitle",Q,null),Q.live?-1:parseInt(Q.duration),Q.live?o:parseFloat(Q.timeIndex),v("streamType",Q,null),v("playerName",Q,null)],a=["id","name","duration","currentTime","streamType","playerName"],y(M.HEARTBEAT.CONFIG.VIDEO,a,t,Q)),de.setVideoInfo.apply(null,t)):e==N.AD_BREAK?(void 0===Q.adBreakIndex&&(Q.adBreakIndex=-1),(n.useDerivedMetadata&&i.getConfigValue(M.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&Me[ke].trackAds)&&(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(M.HEARTBEAT.CONFIG.AD_BREAK,"")),t=[r.name,Q.adBreakIndex+1,r.lastContentTimeIndex||Q.lastContentTimeIndex,r.playerName]):(t=[["ad_break",Q.adBreakIndex].join("_"),Q.adBreakIndex+1,Q.lastContentTimeIndex],a=["name","id","lastContentTimeIndex"],y(M.HEARTBEAT.CONFIG.AD_BREAK,a,t,Q)),de.setAdBreakInfo.apply(null,t))):e==N.AD?(void 0===Q.adIndex&&(Q.adIndex=-1),void 0===Q.duration&&(Q.duration=0),n.useDerivedMetadata?(r=g(i.getDerivedMetadata(M.HEARTBEAT.CONFIG.AD,"")),t=[Q.adId||["ad",Q.adBreakIndex,Q.adIndex].join("_"),Q.adTitle||["ad",Q.adBreakIndex,Q.adIndex].join("_"),Q.adDuration,Q.adIndex+1,r.cpm||null]):(t=[Q.adId||["ad",Q.adBreakIndex,Q.adIndex].join("_"),Q.adTitle||["ad",Q.adBreakIndex,Q.adIndex].join("_"),Q.adDuration,Q.adIndex+1,null],a=["adId","name","duration","id","cpm"],y(M.HEARTBEAT.CONFIG.AD,a,t,Q)),de.setAdInfo.apply(null,t)):e==N.CHAPTER&&(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(M.HEARTBEAT.CONFIG.CHAPTER,"")),t=[r.name,Q.live?H:Q.chapterIndex?Q.chapterIndex+1:1,Q.live?Q.startTime:Q.chapterStartTime,Q.live?Q.endTime-Q.startTime:Q.chapterEndTime-Q.chapterStartTime,r.streamType]):(t=[v("chapterTitle",Q,null),Q.live?H:Q.chapterIndex?Q.chapterIndex+1:1,Q.live?Q.startTime:Q.chapterStartTime,Q.live?Q.endTime-Q.startTime:Q.chapterEndTime-Q.chapterStartTime,v("streamType",Q,null)],a=["name","chapterIndex","chapterStartTime","chapterLength","streamType"],y(M.HEARTBEAT.CONFIG.CHAPTER,a,t,Q)),de.setChapterInfo.apply(null,t))}function b(e,t){var r,a,o,s,l,u;if(m(t),O("@track event:",e),Q=t,"profile"in Me&&Me[ke].dynamicChaptersTracking&&(Me[ke].trackChapters=t.live?Me[ke].dynamicChaptersTracking.live:Me[ke].dynamicChaptersTracking.vod),Ae&&de){switch(!n.useDerivedMetadata&&Me&&e in Me[ke].events&&E(e,t,J.HEARTBEAT),l=t.live?"live":"vod",u=Me[ke].chapterLimits[l],V&&(n.useDerivedMetadata&&k||!n.useDerivedMetadata&&Me[ke].trackChapters)&&e in u.complete&&(o=de.getChapterInfo(),"AD_STARTED"==e&&x||(o&&O("@track->chapterComplete",[o.name,o.position,o.startTime,o.length,e].join("|")),Ae.trackChapterComplete(),n.useDerivedMetadata&&e in _e&&(H=0,O("@track->complete"),Ae.trackComplete(),O("@track->unload"),Ae.trackVideoUnload(),O("@track->load"),Ae.trackVideoLoad(),r=de.getVideoInfo(),O("@track->play",[r.id,r.name,r.playhead,r.length,e].join("|")),Ae.trackPlay()),V=!1)),e){case"METADATA_LOADED":r=de.getVideoInfo(),L&&(O("@track->unload"),Ae.trackVideoUnload(),L=!1),O("@track->load",[r.id,r.name,r.playhead,r.length].join("|")),Ae.trackVideoLoad(),L=!0,U=!1,V=!1,x=!1,F=!1,G=!1,j=!1,q=!1,Y=!1,V=!1,H=0;break;case"PLAYING_START":L||(Ae.trackVideoLoad(),L=!0);break;case"PROGRAM_CHANGED":n.useDerivedMetadata&&k||!n.useDerivedMetadata&&Me[ke].trackChapters||(j?(O("@track->complete"),Ae.trackComplete(),O("@track->unload"),Ae.trackVideoUnload(),O("@track->load"),Ae.trackVideoLoad(),r=de.getVideoInfo(),O("@track->play",[r.id,r.name,r.playhead,r.length,e].join("|")),Ae.trackPlay()):j=!0);break;case"VIDEO_STARTED":G||(G=!0,Ae.trackPlay(),r=de.getVideoInfo(),O("@track->play",[r.id,r.name,r.playhead,r.length].join("|"))),U=!0,!V&&q&&(H++,o=de.getChapterInfo(),o&&O("@track->chapterStart",[o.name,o.position,o.startTime,o.length,e].join("|")),Ae.trackChapterStart(),q=!1,V=!0);break;case"USER_RESUME":O("@track->play (resume)"),Ae.trackPlay();case"USER_PLAY":break;case"USER_PAUSE":O("@track->pause"),Ae.trackPause();break;case"VIDEO_COMPLETED":Y||(O("@track->complete"),Ae.trackComplete()),x=!0;break;case"AD_STARTED":(n.useDerivedMetadata&&i.getConfigValue(M.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&Me[ke].trackAds)&&(a=de.getAdInfo(),s=de.getAdBreakInfo(),s&&O("@track->adStart ad break info:",[s.playerName,s.name,s.position,s.startTime].join("|")),a&&O("@track->adStart",[a.id,a.length,a.position,a.name].join("|")),K=!0,Ae.trackAdStart(),G||(G=!0,Ae.trackPlay(),r=de.getVideoInfo(),O("@track->play",[r.id,r.name,r.playhead,r.length].join("|"))));break;case"AD_COMPLETED":(n.useDerivedMetadata&&i.getConfigValue(M.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&Me[ke].trackAds)&&(O("@track->adComplete"),Ae.trackAdComplete(),K=!1),x&&(O("@track->complete"),Ae.trackComplete());break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":F||(O("@track->seekStart"),Ae.trackSeekStart(),F=!0,setTimeout(function(){O("@track->seekCompleted"),Ae.trackSeekComplete(),F=!1},500));break;case"CRITICAL_OFFLINE_BUFFER":t.lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&Ae.trackPause();break;case"BROWSER_ONLINE":t.lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&Ae.trackPlay()}e in Me[ke].events&&U&&Me[ke].appMeasurementCustomTracking&&E(e,t,J.APP_MEASUREMENT),(n.useDerivedMetadata&&k||!n.useDerivedMetadata&&Me[ke].trackChapters)&&e in u.start&&Me[ke].trackChapters&&(U?V||(H++,o=de.getChapterInfo(),O("@track->chapterStart",[o.name,o.position,o.startTime,o.length].join("|"),e),Ae.trackChapterStart(),V=!0):(O("deferring track->chapterStart",e),q=!0))}}function C(e,t){var r=!1;if("number"==typeof n.metadataLookupTimeout?n.metadataLookupTimeout&&(r=n.metadataLookupTimeout):r=45e3,!t.live)return!1;if("METADATA_LOADED"==e)return!R.waitForProgramChange&&r&&(R.waitForProgramChange=setTimeout(B,r)),!0;if("PROGRAM_CHANGED"==e){for(var i=0,a=P.length;i<a;i++)P[i][1]=t;return!1}return!(!D&&!t.isSchedulePending)}function B(){D=!1,delete R.waitForProgramChange}function w(){D=C.apply(null,Array.prototype.slice.call(arguments)),(Me[ke]||n.useDerivedMetadata)&&(Ae&&de&&!D?(P.length&&S(),b.apply(null,Array.prototype.slice.call(arguments))):P.push(arguments))}function S(e){O("releasing the queue",n?n.length:0);for(var t,n=e||P;n.length;)t=n.shift(),b.apply(null,Array.prototype.slice.call(t))}function T(e){Y=e,O("@setPostrollExpected",e)}var k,Q,D=!1,R={},_={},M={HEARTBEAT:{CONFIG:{VIDEO:"plugins:heartbeatBeta:mapping:video:",CHAPTER:"plugins:heartbeatBeta:mapping:chapter:",AD:"plugins:heartbeatBeta:mapping:ad:",AD_BREAK:"plugins:heartbeatBeta:mapping:adBreak:"},METADATA:{VIDEO:"plugins:heartbeatBeta:mapping:video:context:",CHAPTER:"plugins:heartbeatBeta:mapping:chapter:context:",AD:"plugins:heartbeatBeta:mapping:ad:context:",AD_BREAK:"plugins:heartbeatBeta:mapping:adBreak:context:"}}},N={VIDEO:"video",AD:"ad",AD_BREAK:"ad_break",CHAPTER:"chapter"},P=[],O=r?r.getLogFn("Heartbeat"):function(){console.log.apply(console,["[!Heartbeat!]\t"].concat(Array.prototype.slice.call(arguments)))},L=!1,x=!1,F=!1,U=!1,V=!1,G=!1,H=0,j=!1,Y=!1,K=!1,q=!1,J={APP_MEASUREMENT:"appMeasurement",HEARTBEAT:"heartbeat"},z={VIDEO:"video",CHAPTER:"chapter"},W={nbc:1};O("init config:",JSON.stringify(n,null,3));var Z="Anvato Universal Player";O("config.parentPageURL",n.parentPageURL);var X=n.parentPageURL?e.getUrlParts(n.parentPageURL):{},$=(X.host?X.host:"AnvatoUniversalPlayer")+(n.pInstance?"-"+n.pInstance:""),ee=!("chapterTracking"in n)||n.chapterTracking;O("trackChapters:",ee),n.trackingServer=n.trackingServer||"heartbeats.omtrdc.net",n.customTrackingServer=n.customTrackingServer||n.trackingServer,n.customTrackingServerSecure=n.customTrackingServerSecure||n.customTrackingServer;var te,ne=ADB.va.plugins.videoplayer.AssetType,re=ADB.core.extend,ie=n.debugMode||n.debug&&(1==n.debug||"object"==typeof n.debug&&"length"in n.debug&&function(){for(var e=0,t=n.debug.length;e<t;e++)if("Heartbeat"==n.debug[e])return!0;return!1}()),ae=new Visitor(n.marketingCloudId,$);ae.trackingServer=n.customTrackingServer,ae.trackingServerSecure=n.customTrackingServerSecure,O("namespace",$);var oe=new AppMeasurement;oe.visitor=ae,oe.visitorNamespace=$,oe.trackingServer=n.customTrackingServer,oe.trackingServerSecure=n.customTrackingServerSecure,oe.account=n.account,oe.pageName=n.pageName||n.parentTitle,oe.charSet="UTF-8";var se,le,ue=ADB.va.plugins.aa.AdobeAnalyticsPlugin,ce=ADB.va.plugins.aa.AdobeAnalyticsPluginConfig;re(o,ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate),o.prototype.onError=function(e){console.log("AdobeAnalyticsPlugin error: "+e.getMessage()+" | "+e.getDetails())};var de,Ae,ge,pe=ADB.va.plugins.videoplayer.VideoPlayerPlugin,fe=ADB.va.plugins.videoplayer.VideoPlayerPluginConfig,he=ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate,me=!1;re(s,he),s.prototype.getVideoInfo=function(){return this._player.getVideoInfo()},s.prototype.getAdBreakInfo=function(){return this._player.getAdBreakInfo()},s.prototype.getAdInfo=function(){return this._player.getAdInfo()},s.prototype.getChapterInfo=function(){return this._player.getChapterInfo()},s.prototype.getQoSInfo=function(){return null},s.prototype.onError=function(e){O("VideoAnalytics error. Message: "+e.message+". Details: "+e.details+".")},s.prototype.onVideoUnloaded=function(){O("video unloaded")};var Ee,ve,ye,Ie=ADB.va.plugins.ah.AdobeHeartbeatPlugin,be=ADB.va.plugins.ah.AdobeHeartbeatPluginConfig;re(l,ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate),l.prototype.onError=function(e){console.log("AdobeHeartbeatPlugin error: "+e.getMessage()+" | "+e.getDetails())};var Ce,Be,we=ADB.va.Heartbeat,Se=ADB.va.HeartbeatConfig,Te=ADB.va.HeartbeatDelegate;re(u,Te),u.prototype.onError=function(e){console.log("Heartbeat error: "+e.getMessage()+" | "+e.getDetails())};var ke=n.profile;ke=ke?ke.toLowerCase():"default",O("profile:",ke),ke in W&&void 0===n.useDerivedMetadata&&(n.useDerivedMetadata=!0,O("set useDerivedMetadata to true (default is false)"));var Qe={duration:null,timeIndex:null,contentId:null,contentTitle:null,contentDefinition:null,type:{video:!0}},De=[],Re=[],_e={PROGRAM_CHANGED:1},Me={default:{metadata:{},events:{},trackChapters:ee,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{streamType:function(e,t,n){return t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD}}},nbc:{metadata:{program_name:{adaptor:function(e,t,n,r){return t.live?t.initialTitle:e},vars:["videoprogram"]},derivedMetadata$videodaypart:{vars:["videodaypart"]},minutes:{adaptor:function(e,t,n,r){return[t.hours,e].join(":")},vars:["videominute"]},hours:{vars:["videohour"]},dayOfWeek:{adaptor:function(e,t,n,r){return{Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thr:"Thursday",Fri:"Friday",Sat:"Saturday"}[e]},vars:["videoday"]},date:{vars:["videodate"]},playerName:{vars:["videoplayertech","videoplatform"]},mcp_id:{adaptor:function(e,t,n,r){return"NBC"},vars:["videonetwork","videoapp"]},mvpd:{vars:["videomvpd"]},autoManual:{vars:["videoinitiate"]},screen:{adaptor:function(){return"Full"},vars:["videoscreen"]},status:{vars:["videostatus"]},callsign:{vars:["videocallsign"]},episodeNumber:{vars:["videoepnumber"]},eventId:{vars:["videoguid"]},ts_airdate:{adaptor:function(t,n,r,i){var a=e.prettifyDate(1e3*t);return[a.month,a.day,a.year].join("/")},vars:["videoairdate"]},season:{vars:["videoseason"]},stationId:{vars:[]},videoDuration:{vars:[]},playerType:{vars:[]},adTitle:{vars:[]},adDuration:{vars:[]},clipLong:{},videoSegments:{},primaryCategory:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackAds:!0,trackChapters:!0,dynamicChaptersTracking:{live:!1,vod:!0},appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},adaptors:{streamType:function(e,t,n){var r={0:"VOD Episode",1:"VOD Clip",2:ne.ASSET_TYPE_LIVE};return t&&"video_type"in t&&t.video_type in r?r[t.video_type]:t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD}}},sni:{metadata:{live:{adaptor:function(e,t,n){return e?"C3":t.custom$cl_episode_type||t.custom$cl_ad_policy||"D4"},vars:["videoWindowing"]},custom$cl_scrid:{adaptor:function(e,t,n,r){return"name"==r?t.live?v("videoId",t,n):v("eventId",t,n):e||"N/A"},vars:["videoSCRID","name"]},custom$cl_non_linear_id:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoNLVID"]},custom$cl_sni_guid:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoGUID"]},autoManual:{adaptor:function(e,t,n,r){return"auto"==e?"autoplay":"manual"},vars:["videoPlayType"]},custom$sni_author:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoPublisherID"]},custom$cl_authenticated:{adaptor:function(e,t,n,r){return t.live||(me="Y"==e),me+""},vars:["requiresAuth"]},custom$authenticated:{adaptor:function(e,t,n,r){return t.live&&(me="yes"==e),me+""},vars:["requiresAuth"]},mvpd:{vars:["videoMVPD"]},playerType:{adaptor:function(e,t,n,r){return"videoPlayerName"==r?e+" v"+t.version:e},vars:["videoChannelName","videoPlayerName","videoPlayerType"]},initialTitle:{adaptor:function(e,t,n,r){return t.live?t.showTitle:t.custom$cl_show_name},vars:["videoShowTitle"]},custom$cl_episode:{adaptor:function(e,t,n,r){return e||t.contentTitle},vars:["videoTitle"]},contentTitle:{vars:["videoTitle"]},duration:{vars:["videoRuntime"]},fullscreen:{adaptor:function(e,t,n,r){return e?"fullscreen":"normal"},vars:["videoScreenType"]},talentName:{adaptor:function(e,t,n,r){return t.live?e||"N/A":Qe.custom$rovi_credits||"N/A"},vars:["talentName"]},friendlyName:{adaptor:function(e,t,n,r){return t.showTitle+"|"+t.contentTitle},vars:["friendlyName"]}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],METADATA_LOADED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackChapters:ee,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{eventId:function(e,t,n){return t.live?[t.roviId,"C3"].join("|"):[t.custom$cl_scrid||"N/A",t.custom$cl_episode_type||t.custom$cl_ad_policy||"D4"].join("|")},contentTitle:function(e,t,n){return t.live?[t.showTitle,t.custom$rovi_episode_title].join("|"):[t.custom$cl_show_name,t.custom$cl_episode].join("|")},streamType:function(e,t,n){return t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD},chapterTitle:function(e,t,n){var r=t.chapterIndex?t.chapterIndex+1:1;return t.live?[t.episodeTitle,r].join("|"):[t.custom$cl_episode,r].join("|")},adId:function(e,t,n){return e||"N/A"},adTitle:function(e,t,n){return e||"N/A"},adPodFriendlyName:function(e,t,n){return 0==t.lastContentTimeIndex?"preroll":t.lastContentTimeIndex>=t.duration?"postroll":"midroll"}}},cbs:{metadata:{contentTitle:{adaptor:function(e,t,n,r){return t.live?e||"NA":t.program_name||"NA"},vars:["videoShowName"]},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},season:{adaptor:function(e,t,n,r){return e||"NA"},vars:["videoSeason"]},group:{},autoManual:{vars:["startType"]},clipLong:{},videoSegments:{},primaryCategory:{},categories:{vars:["videoCategory"],types:{videoCategory:"list3"}},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],METADATA_LOADED:[]},trackChapters:ee,trackAds:!0,appMeasurementCustomTracking:!0,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{channel:X.host},adaptors:{playerName:function(e,t,r){return e+(n.pInstance?"-"+n.pInstance:"")},streamType:function(e,t,n){return t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD}}},cox:{metadata:{contentTitle:{},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},season:{},group:{},autoManual:{},clipLong:{},videoSegments:{},primaryCategory:{},categories:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],METADATA_LOADED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackChapters:ee,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{playerName:function(e,t,r){return e+(n.pInstance?"-"+n.pInstance:"")},streamType:function(e,t,n){var r={0:"VOD Episode",1:"VOD Clip",2:ne.ASSET_TYPE_LIVE};return t&&"video_type"in t&&t.video_type in r?r[t.video_type]:t.live?ne.ASSET_TYPE_LIVE:ne.ASSET_TYPE_VOD}}}};if(Me.cbslocal=Me.cbs,ke&&!Me[ke]&&(ke="default"),O("config.account:",n.account),"object"!=typeof n.account?a():i.postWithWsse(n.account,a,a),ke in Me){for(var Ne in Me[ke].events)Me[ke].events.hasOwnProperty(Ne)&&(De=De.concat(Me[ke].events[Ne]));for(var Pe in Me[ke].vars)Me[ke].vars.hasOwnProperty(Pe)&&(Re=Re.concat(Me[ke].vars[Pe]));De=["events"].concat(De).join(","),Re=Re.join(","),O("trackEvents:",De),O("trackVars:",Re)}return{sendBeacon:w,initPlugin:a,setMacros:A,setPostrollExpected:T}}return t}),anv.define("pluginHeartbeatShared",["util"],function(e){function t(t,n,r,i){function a(t){U("@initPlugin (deferred)",t),ae=new Visitor(n.marketingCloudId,ne),ae.trackingServer=n.customTrackingServer,U("namespace",ne),oe=new AppMeasurement,oe.visitor=ae,oe.visitorNamespace=ne,oe.trackingServer=n.customTrackingServer,oe.account=n.account,oe.pageName=n.parentTitle,oe.charSet="UTF-8",se=ADB.va.plugins.aa.AdobeAnalyticsPlugin,le=ADB.va.plugins.aa.AdobeAnalyticsPluginConfig,de=ADB.va.plugins.aa.AdobeAnalyticsPluginDelegate,pe(o,de);var r={400:1,404:1};if(t){if(t in r)return void i.dispatchError("HRTBT001");oe.account=t}he=new d,Te=new l(he),me=new Ce(Te),Ee=new Be,Ee.debugLogging=fe,me.configure(Ee),ue=new se(oe,new o),ce=new le,ce.channel=n.channel||(He[xe].keyValues&&He[xe].keyValues.channel?He[xe].keyValues.channel:"web"),ce.debugLogging=fe,ue.configure(ce),ke=new De(new u),Qe=new Re(n.trackingServer,n.marketingCloudId||n.publisherId),Qe.ovp=n.ovp||"",Qe.ssl=e.isSecureSocket(),Qe.sdk=e.getDeviceInfo.firetv?"firetv":n.sdk||ee,Qe.debugLogging=fe,ke.configure(Qe),ie=[me,ue,ke],n&&n.nielsen&&!n.nielsen.optOutOverride&&(Ae=ADB.va.plugins.nielsen.NielsenPluginDelegate,pe(s.prototype,Ae),ve=ADB.va.plugins.nielsen.NielsenPlugin,Ie=ADB.va.plugins.nielsen.NielsenPluginConfig,ye=new ve(new s(he)),be=new Ie,be.debugLogging=fe,be.appInfo={apid:n.nielsen.apid||n.nielsen.appID,appversion:n.nielsen.version||n.nielsen.appVersion,appname:n.nielsen.apn||n.nielsen.appName,apn:n.nielsen.apn||n.nielsen.appName,sfcode:n.nielsen.sfcode||n.nielsen.sfCode,nol_sdkDebug:fe?"DEBUG":void 0},be.configKey=n.nielsen.configKey,ye.configure(be),ie.push(ye)),Me=new Pe(new c,ie),Ne=new Oe,Ne.debugLogging=fe,Me.configure(Ne),D=i.getConfigValue(P.HEARTBEAT.CONFIG.CHAPTER,"enabled",!0),D=null==D?re:D,w()}function o(){}function s(e){this.proxyPlayer=e}function l(e){l.__super__.constructor.call(this),this._player=e}function u(){}function c(){}function d(){function e(e){C.metadata=e}function t(e){C.adMetadata=e}function n(e){C.channelInfo=e}function r(){return y(O.NIELSEN),C}function i(){p=null}function a(e,t,n,r,i,a){h=null,m=null,p=new E,p.playerName=a||ee,p.id=String(e),p.name=t,p.length=n,p.playhead=isNaN(r)?0:r,p.streamType=i}function o(){return y(O.VIDEO),p}function s(e,t,n,r){n=parseInt(n),r=parseInt(r),h=null,m=null,f=new v,f.name=String(e),f.position=t,f.startTime=isNaN(n)?0:n,f.length=isNaN(r)?0:r,U("@setChapterInfo videoInfo",[f.name,f.position,f.startTime,f.length].join("|"))}function l(){return y(O.CHAPTER),f}function u(){f=null}function c(e,t,n,r,i){W?(h=new I,h.id=String(e),h.name=String(t),h.length=parseInt(n),h.position=r,h.cpm=i):h=null}function d(){return y(O.AD),h}function A(e,t,n,r){W?(m=new b,m.name=e,m.position=void 0!==t?t:1,m.playerName=r||ee,m.startTime=n):m=null}function g(){return y(O.AD_BREAK),m}var p=null,f=null,h=null,m=null,E=ADB.va.plugins.videoplayer.VideoInfo,v=ADB.va.plugins.videoplayer.ChapterInfo,I=ADB.va.plugins.videoplayer.AdInfo,b=ADB.va.plugins.videoplayer.AdBreakInfo,C={};return{setVideoInfo:a,resetVideoInfo:i,setAdInfo:c,setAdBreakInfo:A,getVideoInfo:o,getChapterInfo:l,setChapterInfo:s,resetChapterInfo:u,getAdInfo:d,getAdBreakInfo:g,setNielsenMetadata:e,setNielsenAdMetadata:t,
setNielsenChannelInfo:n,getNielsenInfo:r}}function A(e,t,n){var r,i;for(i=e.exec(t);i&&i[1]in N;)r=t.replace(new RegExp(i[0]),N[i[1]]),t=n?encodeURIComponent(r):r,i=e.exec(t);return t}function g(e){var t=/\{\{(\w+)\}\}/,n={};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=g(e[r]));return n}return t.test(e)?A(t,e):e}function p(t,r,a){var o={chapter:{},video:{}};if(n.useDerivedMetadata)(a=X.HEARTBEAT)?(i.getConfigValue(P.HEARTBEAT.CONFIG.VIDEO,"enabled",!0)&&(o.video=g(i.getDerivedMetadata(P.HEARTBEAT.METADATA.VIDEO,""))),D&&(o.chapter=g(i.getDerivedMetadata(P.HEARTBEAT.METADATA.CHAPTER,""))),i.getConfigValue(P.HEARTBEAT.CONFIG.AD,"enabled",!0)&&(o.ad=g(i.getDerivedMetadata(P.HEARTBEAT.METADATA.AD,""))),i.getConfigValue(P.HEARTBEAT.CONFIG.AD_BREAK,"enabled",!0)&&(o.adBreak=g(i.getDerivedMetadata(P.HEARTBEAT.METADATA.AD_BREAK,"")))):(a=X.APP_MEASUREMENT)&&U("derivedMetadata is not supported with aap measurement");else if(xe in He){var s,l,u,c,d=He[xe].metadata,A=[];for(var p in d)if(d.hasOwnProperty(p)&&("trackOn"in d[p]&&t in d[p].trackOn||!("trackOn"in d[p]))&&"vars"in d[p]&&d[p].vars.length){s=d[p].vars,l=d[p].types,a==X.APP_MEASUREMENT&&(oe.contextData["a.media.name"]=He[xe].trackChapters&&r.live?E("videoId",r,t):E("eventId",r,t),oe.contextData["a.media.friendlyName"]=He[xe].trackChapters&&r.live?E("videoId",r,t):E("contentTitle",r,t),oe.contextData["a.media.playerName"]=E("playerName",r),oe.contextData["a.media.channel"]=e.getDeviceInfo.firetv?"firetv":He[xe].keyValues&&He[xe].keyValues.channel?He[xe].keyValues.channel:"web",oe.contextData["a.contentType"]=E("streamType",r,t));for(var f=0,h=s.length;f<h;f++)if(a==X.APP_MEASUREMENT)-1==s[f].indexOf("eVar")&&-1==s[f].indexOf("prop")?(oe.contextData[s[f]]=d[p].adaptor?d[p].adaptor(r[p],r,t,s[f]):r[p],u="contextData.",l&&s[f]in l&&(U("@setCustomMetadata detected type for",s[f]),oe[l[s[f]]]=s[f],A.push(l[s[f]]))):(oe[s[f]]=d[p].adaptor?d[p].adaptor(r[p],r,t,s[f]):r[p],u=""),A.push(u+s[f]);else if(a==X.HEARTBEAT){if(c="",!d[p].trackWith||d[p].trackWith&&$.CHAPTER in d[p].trackWith){if(o.chapter[s[f]]=d[p].adaptor?d[p].adaptor(r[p],r,t,s[f]):r[p],t&&t in{USER_PLAY:1})break;c=g(i.getDerivedMetadata(P.HEARTBEAT.METADATA.CHAPTER,s[f],"")),U("derivedValue for:",s[f],c),c!=String(o.chapter[s[f]])?U("MISMATCH for",s[f],c,"vs",o.chapter[s[f]]):U("MATCH for",s[f],c)}if(!d[p].trackWith||d[p].trackWith&&$.VIDEO in d[p].trackWith){if(o.video[s[f]]=d[p].adaptor?d[p].adaptor(r[p],r,t,s[f]):r[p],t&&t in{USER_PLAY:1})break;c=g(i.getDerivedMetadata(P.HEARTBEAT.METADATA.VIDEO,s[f],"")),c!=String(o.chapter[s[f]])?U("MISMATCH:",c,o.chapter[s[f]]):U("MATCH:",c)}}}}return{linkTrackVars:A,heartbeatCustomMetadata:o}}function f(t,r,i,a){var o,s=[],l={},u={},c={},d={};a==X.APP_MEASUREMENT?n.useDerivedMetadata?U("derivedMetadata is not supported with aap measurement"):oe&&He[xe]&&He[xe].events&&t in He[xe].events&&(He[xe].events[t].length||i.linkTrackVars.length)&&(U("Custom event ",t,"found in profile"),o=He[xe].events[t].length,o&&(oe.events=He[xe].events[t].join(","),oe.linkTrackEvents=He[xe].events[t].join(","),s=s.concat(["events"]),U("@trackCustomEvent appMeasurement.events:",oe.events)),s=s.concat(["contextData.a.media.name","contextData.a.media.friendlyName","contextData.a.media.playerName","contextData.a.media.channel","contextData.a.contentType"]),oe.linkTrackVars=s.concat(i.linkTrackVars).join(","),U("@trackCustomEvent tracking appMeasurement.linkTrackVars",oe.linkTrackVars),U("@trackCustomEvent tracking appMeasurement.linkTrackEvents",oe.linkTrackEvents),oe.tl(!0,"o",r.contentTitle),oe.events="",oe.linkTrackEvents="None",oe.linkTrackVars="None"):a==X.HEARTBEAT&&(l=i.heartbeatCustomMetadata.video,u=i.heartbeatCustomMetadata.chapter,c=i.heartbeatCustomMetadata.ad,d=i.heartbeatCustomMetadata.adBreak,n.customMetadata&&("video"in n.customMetadata&&"object"==typeof n.customMetadata.video&&(l=e.merge(l,n.customMetadata.video)),"chapter"in n.customMetadata&&"object"==typeof n.customMetadata.chapter&&(u=e.merge(u,n.customMetadata.chapter)),"ad"in n.customMetadata&&"object"==typeof n.customMetadata.ad&&(c=e.merge(c,n.customMetadata.ad)),"adBreak"in n.customMetadata&&"object"==typeof n.customMetadata.adBreak&&(d=e.merge(d,n.customMetadata.adBreak))),(n.useDerivedMetadata&&D||!n.useDerivedMetadata&&He[xe].trackChapters)&&ue.setChapterMetadata(u),ue.setVideoMetadata(l))}function h(e){var t={Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thr:"Thursday",Fri:"Friday",Sat:"Saturday"},r=parseInt((new Date).getTime()/1e3);r=n.playheadTrackingWithUTC&&r%86400||r,N.TIME_HOUR=e.hours,N.TIME_MINUTE=e.minutes,N.DATE=e.date,N.DAY=e.day,N.DATE_DAY=t[e.dayOfWeek],N.MVPD=e.mvpd,N.MVPD_DISPLAY_NAME=e.mvpdDisplayName,N.PLAYER_NAME=e.playerName,N.PLAYER_VERSION=e.version,N.CURRENT_TIME=e.live?r:parseFloat(e.timeIndex),N.TALENT_NAME=e.live?e.talentName||"N/A":e.custom$rovi_credits||"N/A",N.CHAPTER_INDEX=e.chapterIndex?e.chapterIndex+1:1,N.CHAPTER_START_TIME=e.live?e.startTime:e.chapterStartTime,N.CHAPTER_LENGTH=e.live?e.endTime-e.startTime:e.chapterEndTime-e.chapterStartTime,N.AD_BREAK_INDEX=e.adBreakIndex,N.AD_INDEX=e.adIndex,N.AD_DURATION=e.adDuration,N.LAST_CONTENT_TIME_INDEX=e.lastContentTimeIndex,0==Math.floor(e.lastContentTimeIndex)?N.AD_POD_TYPE="Preroll":Math.ceil(e.lastContentTimeIndex)>=e.duration?N.AD_POD_TYPE="Postroll":N.AD_POD_TYPE="Midroll",N.AD_POD_INDEX=e.adBreakIndex+1,"string"==typeof e.daiRules&&e.daiRules.indexOf("no_local_dai")>-1&&e.daiRules.indexOf("no_network_dai")>-1?N.NIELSEN_AD_LOAD_TYPE=1:N.NIELSEN_AD_LOAD_TYPE=2,N.AD_LOAD_TYPE=N.NIELSEN_AD_LOAD_TYPE,N.AD_MODEL=N.NIELSEN_AD_LOAD_TYPE,N.NIELSEN_AD_MODEL=N.NIELSEN_AD_LOAD_TYPE,N.VIDEO_SCREEN_TYPE=e.fullscreen?"fullscreen":"normal",N.VIDEO_SCREEN=N.VIDEO_SCREEN_TYPE,N.VIDEO_PLAY_TYPE=e.autoManual,N.videoTitle=e.contentTitle,N.CHAPTER_TITLE=[e.live?e.episodeTitle:e.custom$cl_episode,e.chapterIndex?e.chapterIndex+1:1].join("|"),N.CHAPTER_TITLE2=e.chapterTitle,N.TITLE_OR_PROGRAM_NAME=e.live?e.initialTitle:e.program_name,N.ID1=D&&e.live?e.videoId:[e.custom$cl_scrid||"N/A",e.custom$cl_episode_type||e.custom$cl_ad_policy||"D4"].join("|"),N.ID2=D&&e.live?e.videoId:[e.custom$cl_show_name,e.custom$cl_episode].join("|"),N.DURATION2=e.live?-1:parseInt(e.duration),N.PLAYER_INSTANCE=n.pInstance,N.STREAM_TYPE=e.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD,N.START_TYPE=e.autoManual,N.CATEGORY=e.categories,N.STATUS=e.status,N.CALLSIGN=e.callsign,N.PLATFORM=e.platform,N.EPISODE_NUMBER=e.episodeNumber,N.EVENT_ID=e.eventId,N.AIR_DATE=e.ts_airdate,N.SEASON=e.season,N.DAY2=e["custom$[54]daypart"],N.ID=e.live?e.videoId:e.eventId,N.ID_TITLE=e.live?e.videoId:e.contentTitle,N.SITE_URL=e.siteURL;var i={0:"VOD Episode",1:"VOD Clip",2:ge.ASSET_TYPE_LIVE};N.STREAM_TYPE2="video_type"in e&&e.video_type in i?i[e.video_type]:N.STREAM_TYPE}function m(e,t,n){var r;r=p(e,t,n)||[],f(e,t,r,n)}function E(e,t,n){return U("@applyMainAdaptor",e),He[xe]&&He[xe].adaptors&&e in He[xe].adaptors?(U("@applyMainAdaptor returning",He[xe].adaptors[e](t[e],t,n)),He[xe].adaptors[e](t[e],t,n)):(U("@applyMainAdaptor returning",t[e]),t[e])}function v(e,t,r,a){for(var o=0;o<t.length;o++){var s,l=t[o],u=g(i.getDerivedMetadata(e,l,""));e==P.HEARTBEAT.CONFIG.VIDEO&&("duration"==l&&(u=R.live?-1:parseInt(R.duration)),"currentTime"==l&&(s=parseInt((new Date).getTime()/1e3),s=n.playheadTrackingWithUTC&&s%86400||s,u=R.live?s:parseFloat(R.timeIndex))),e==P.HEARTBEAT.CONFIG.AD_BREAK&&("lastContentTimeIndex"==l&&(u=R.lastContentTimeIndex),"id"==l&&(u=R.adBreakIndex+1)),e==P.HEARTBEAT.CONFIG.AD&&("adId"==l&&(u=R.adId||["ad",R.adBreakIndex,R.adIndex].join("_")),"name"==l&&(u=R.adId||["ad",R.adBreakIndex,R.adIndex].join("_")),"id"==l&&(u=R.adIndex+1),"duration"==l&&(u=R.adDuration)),U("derivedValue for:",l,u),u!=String(r[o])?U("MISMATCH for",l,u,"vs",r[o]):U("MATCH for",l,u)}}function y(e){var t,r,a,o,s,l;n.useDerivedMetadata&&m(null,R,X.HEARTBEAT),e==O.VIDEO?(l=parseInt((new Date).getTime()/1e3),l=n.playheadTrackingWithUTC&&l%86400||l,n.useDerivedMetadata?(r=g(i.getDerivedMetadata(P.HEARTBEAT.CONFIG.VIDEO,"")),t=[r.id,r.name,r.duration||R.live?-1:parseInt(R.duration),R.live?l:parseFloat(R.timeIndex),r.streamType,r.playerName]):(t=[He[xe].trackChapters&&R.live?E("videoId",R,event):E("eventId",R,event),He[xe].trackChapters&&R.live?E("videoId",R,event):E("contentTitle",R,event),R.live?-1:parseInt(R.duration),R.live?l:parseFloat(R.timeIndex),E("streamType",R,event),E("playerName",R,event)],o=["id","name","duration","currentTime","streamType","playerName"],v(P.HEARTBEAT.CONFIG.VIDEO,o,t,R)),he.setVideoInfo.apply(null,t)):e==O.AD_BREAK?(void 0===R.adBreakIndex&&(R.adBreakIndex=-1),(n.useDerivedMetadata&&i.getConfigValue(P.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&He[xe].trackAds)&&(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(P.HEARTBEAT.CONFIG.AD_BREAK,"")),t=[r.name,r.id||R.adBreakIndex+1,r.lastContentTimeIndex||R.lastContentTimeIndex,r.playerName]):(t=[["ad_break",R.adBreakIndex].join("_"),R.adBreakIndex+1,R.lastContentTimeIndex],o=["name","id","lastContentTimeIndex"],v(P.HEARTBEAT.CONFIG.AD_BREAK,o,t,R)),he.setAdBreakInfo.apply(null,t))):e==O.AD?(void 0===R.adIndex&&(R.adIndex=-1),void 0===R.duration&&(R.duration=0),n.useDerivedMetadata?(r=g(i.getDerivedMetadata(P.HEARTBEAT.CONFIG.AD,"")),t=[R.adId||["ad",R.adBreakIndex,R.adIndex].join("_"),R.adTitle||["ad",R.adBreakIndex,R.adIndex].join("_"),R.adDuration,R.adIndex+1,r.cpm||null]):(t=[R.adId||["ad",R.adBreakIndex,R.adIndex].join("_"),R.adTitle||["ad",R.adBreakIndex,R.adIndex].join("_"),R.adDuration,R.adIndex+1,null],o=["adId","name","duration","id","cpm"],v(P.HEARTBEAT.CONFIG.AD,o,t,R)),he.setAdInfo.apply(null,t)):e==O.CHAPTER?(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(P.HEARTBEAT.CONFIG.CHAPTER,"")),t=[r.name,R.live?q:R.chapterIndex?R.chapterIndex+1:1,R.live?R.startTime:R.chapterStartTime,R.live?R.endTime-R.startTime:R.chapterEndTime-R.chapterStartTime,r.streamType]):(t=[E("chapterTitle",R,event),R.live?q:R.chapterIndex?R.chapterIndex+1:1,R.live?R.startTime:R.chapterStartTime,R.live?R.endTime-R.startTime:R.chapterEndTime-R.chapterStartTime,E("streamType",R,event)],o=["name","chapterIndex","chapterStartTime","chapterLength","streamType"],v(P.HEARTBEAT.CONFIG.CHAPTER,o,t,R)),he.setChapterInfo.apply(null,t)):e==O.NIELSEN&&(n.useDerivedMetadata?(r=g(i.getDerivedMetadata(P.HEARTBEAT.CONFIG.NIELSEN,"")),t=[{assetid:r.assetID,program:r.program,title:r.title,length:r.length,isfullepisode:r.isFullEpisode,adloadtype:r.adLoadType,airdate:r.airDate,segB:r.segB,segC:r.segC,crossId1:r.crossId1,crossId2:r.crossId2,clientid:r.clientID,vcid:r.vcID}],a=g(i.getDerivedMetadata(P.HEARTBEAT.CONFIG.AD_BREAK,"")),g(i.getDerivedMetadata(P.HEARTBEAT.CONFIG.AD,""))):(t=[],o=["assetID","program","title","length","isFullEpisode","adModel","airDate","crossId1"],v(P.HEARTBEAT.CONFIG.NIELSEN,o,t,R)),ye&&(s=i.getDerivedMetadata(P.HEARTBEAT.CONFIG.NIELSEN,"isTVRenabled"),s&&t.length&&(t[0].tv=!0,t[0].datasource="id3",t[0].admodel=t[0].adloadtype),he.setNielsenMetadata.apply(null,t),he.setNielsenChannelInfo({channelName:i.getDerivedMetadata(P.HEARTBEAT.CONFIG,"channel")}),R.type.video?he.setNielsenAdMetadata({}):he.setNielsenAdMetadata({type:a.name,length:R.adDuration,assetid:R.adId||["ad",R.adBreakIndex,R.adIndex].join("_")})))}function I(e,t){U("@track->",e),e in F&&("METADATA_LOADED"==e&&(x=[]),x.push(arguments)),U("@track event:",e);var r,a,o,s,l,u;if(h(t),R=t,"profile"in He&&He[xe].dynamicChaptersTracking&&(He[xe].trackChapters=t.live?He[xe].dynamicChaptersTracking.live:He[xe].dynamicChaptersTracking.vod),me&&he){switch(!n.useDerivedMetadata&&He&&e in He[xe].events&&m(e,t,X.HEARTBEAT),l=t.live?"live":"vod",u=He[xe].chapterLimits[l],Y&&(n.useDerivedMetadata&&D||!n.useDerivedMetadata&&He[xe].trackChapters)&&e in u.complete&&(o=he.getChapterInfo(),"AD_STARTED"==e&&G||(o&&U("@track->chapterComplete",[o.name,o.position,o.startTime,o.length,e].join("|")),me.trackChapterComplete(),n.useDerivedMetadata&&e in Ge&&(q=0,U("@track->complete"),me.trackComplete(),U("@track->unload"),me.trackVideoUnload(),U("@track->load"),me.trackVideoLoad(),r=he.getVideoInfo(),U("@track->play",[r.id,r.name,r.playhead,r.length,e].join("|")),me.trackPlay()),Y=!1)),e){case"METADATA_LOADED":r=he.getVideoInfo(),V&&(U("@track->unload"),me.trackVideoUnload(),V=!1),U("@track->load",[r.id,r.name,r.playhead,r.length].join("|")),me.trackVideoLoad(),V=!0,j=!1,Y=!1,G=!1,H=!1,K=!1,J=!1,Z=!1,z=!1,Y=!1,q=0;break;case"PLAYING_START":V||(me.trackVideoLoad(),V=!0);break;case"PROGRAM_CHANGED":n.useDerivedMetadata&&D||!n.useDerivedMetadata&&He[xe].trackChapters||(J?(U("@track->complete"),me.trackComplete(),U("@track->unload"),me.trackVideoUnload(),U("@track->load"),me.trackVideoLoad(),r=he.getVideoInfo(),U("@track->play",[r.id,r.name,r.playhead,r.length,e].join("|")),me.trackPlay()):J=!0);break;case"VIDEO_STARTED":K||(K=!0,me.trackPlay(),r=he.getVideoInfo(),U("@track->play",[r.id,r.name,r.playhead,r.length].join("|"))),j=!0,!Y&&Z&&(q++,o=he.getChapterInfo(),o&&U("@track->chapterStart",[o.name,o.position,o.startTime,o.length,e].join("|")),me.trackChapterStart(),Z=!1,Y=!0);break;case"USER_RESUME":U("@track->play (resume)"),me.trackPlay();case"USER_PLAY":break;case"USER_PAUSE":U("@track->pause"),me.trackPause();break;case"VIDEO_COMPLETED":z||(U("@track->complete"),me.trackComplete()),G=!0;break;case"AD_STARTED":(n.useDerivedMetadata&&i.getConfigValue(P.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&He[xe].trackAds)&&(a=he.getAdInfo(),s=he.getAdBreakInfo(),s&&U("@track->adStart ad break info:",[s.playerName,s.name,s.position,s.startTime].join("|")),a&&U("@track->adStart",[a.id,a.length,a.position,a.name].join("|")),W=!0,me.trackAdStart(),K||(K=!0,me.trackPlay(),r=he.getVideoInfo(),U("@track->play",[r.id,r.name,r.playhead,r.length].join("|"))));break;case"AD_COMPLETED":(n.useDerivedMetadata&&i.getConfigValue(P.HEARTBEAT.CONFIG.AD,"enabled",!0)||!n.useDerivedMetadata&&He[xe].trackAds)&&(U("@track->adComplete"),me.trackAdComplete(),W=!1),G&&(U("@track->complete"),me.trackComplete());break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":H||(U("@track->seekStart"),me.trackSeekStart(),H=!0,setTimeout(function(){U("@track->seekCompleted"),me.trackSeekComplete(),H=!1},500));break;case"CRITICAL_OFFLINE_BUFFER":t.lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&me.trackPause();break;case"BROWSER_ONLINE":t.lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&me.trackPlay();break;case"ID3":"nielsen"==t.id3TagPublisher&&i.getDerivedMetadata(P.HEARTBEAT.CONFIG.NIELSEN,"isTVRenabled")&&me.trackTimedMetadata(t.id3Tags.nielsen)}e in He[xe].events&&j&&He[xe].appMeasurementCustomTracking&&m(e,t,X.APP_MEASUREMENT),(n.useDerivedMetadata&&D||!n.useDerivedMetadata&&He[xe].trackChapters)&&e in u.start&&He[xe].trackChapters&&(j?Y||(q++,o=he.getChapterInfo(),U("@track->chapterStart",[o.name,o.position,o.startTime,o.length].join("|"),e),me.trackChapterStart(),Y=!0):(U("deferring track->chapterStart",e),Z=!0))}}function b(e,t){var r=!1;if("number"==typeof n.metadataLookupTimeout?n.metadataLookupTimeout&&(r=n.metadataLookupTimeout):r=45e3,"METADATA_LOADED"==e||_){if(t.live){if("PROGRAM_CHANGED"==e){for(var i=0,a=L.length;i<a;i++)L[i][1]=t;return!1}return!M.waitForProgramChange&&r&&(M.waitForProgramChange=setTimeout(C,r)),!0}return!1}return!1}function C(){_=!1,delete M.waitForProgramChange,w()}function B(){_=b.apply(null,Array.prototype.slice.call(arguments)),(He[xe]||n.useDerivedMetadata)&&(me&&he&&!_?(L.length&&w(),I.apply(null,Array.prototype.slice.call(arguments))):L.push(arguments))}function w(e){U("releasing the queue",n?n.length:0);for(var t,n=e||L;n.length;)t=n.shift(),I.apply(null,Array.prototype.slice.call(t))}function S(e){z=e,U("@setPostrollExpected",e)}function T(){U("@replayEvents"),w(x)}function k(){U("@reset"),me.trackVideoUnload(),ie=null,ae=null,oe=null,se=null,ue=null,Qe=null,de=null,Ae=null,a()}function Q(e){n&&n.nielsen&&n.nielsen.optOutOverride!=!e&&(n.nielsen.optOutOverride=!e,k(),T())}var D,R,_=!1,M={},N={},P={HEARTBEAT:{CONFIG:{VIDEO:"plugins:heartbeatBeta:mapping:video:",CHAPTER:"plugins:heartbeatBeta:mapping:chapter:",AD:"plugins:heartbeatBeta:mapping:ad:",AD_BREAK:"plugins:heartbeatBeta:mapping:adBreak:",NIELSEN:"plugins:heartbeatBeta:nielsen:"},METADATA:{VIDEO:"plugins:heartbeatBeta:mapping:video:context:",CHAPTER:"plugins:heartbeatBeta:mapping:chapter:context:",AD:"plugins:heartbeatBeta:mapping:ad:context:",AD_BREAK:"plugins:heartbeatBeta:mapping:adBreak:context:"}}},O={VIDEO:"video",AD:"ad",AD_BREAK:"ad_break",CHAPTER:"chapter",NIELSEN:"nielsen"},L=[],x=[],F={METADATA_LOADED:1,PROGRAM_CHANGED:1,PLAYING_START:1,VIDEO_STARTED:1},U=r?r.getLogFn("Heartbeat"):function(){console.log.apply(console,["[!Heartbeat!]\t"].concat(Array.prototype.slice.call(arguments)))},V=!1,G=!1,H=!1,j=!1,Y=!1,K=!1,q=0,J=!1,z=!1,W=!1,Z=!1,X={APP_MEASUREMENT:"appMeasurement",HEARTBEAT:"heartbeat"},$={VIDEO:"video",CHAPTER:"chapter"};U("init (Joint Heartbeat & Nielsen) config:",JSON.stringify(n,null,3));var ee="Anvato Universal Player";U("config.parentPageURL",n.parentPageURL);var te=n.parentPageURL?e.getUrlParts(n.parentPageURL):{},ne=(te.host?te.host:"AnvatoUniversalPlayer")+(n.pInstance?"-"+n.pInstance:""),re=!("chapterTracking"in n)||n.chapterTracking;U("trackChapters:",re),n.trackingServer=n.trackingServer||"heartbeats.omtrdc.net",n.customTrackingServer=n.customTrackingServer||n.trackingServer;var ie,ae,oe,se,le,ue,ce,de,Ae,ge=ADB.va.plugins.videoplayer.AssetType,pe=ADB.core.extend,fe=n.debugMode||n.debug&&(1==n.debug||"object"==typeof n.debug&&"length"in n.debug&&function(){for(var e=0,t=n.debug.length;e<t;e++)if("Heartbeat"==n.debug[e])return!0;return!1}());o.prototype.onError=function(e){console.log("AdobeAnalyticsPlugin error: "+e.getMessage()+" | "+e.getDetails())},s.prototype.onError=function(e){console.log("NielsenPlugin error: "+e.getMessage()+" | "+e.getDetails())},s.prototype.getMetadataInfo=function(){return U("@getMetadataInfo",this.proxyPlayer.getNielsenInfo().metadata),this.proxyPlayer.getNielsenInfo().metadata},s.prototype.getAdMetadataInfo=function(){return U("@getAdMetadataInfo"),this.proxyPlayer.getNielsenInfo().adMetadata},s.prototype.getChannelInfo=function(){return U("@getChannelInfo"),this.proxyPlayer.getNielsenInfo().channelInfo};var he,me,Ee,ve,ye,Ie,be,Ce=ADB.va.plugins.videoplayer.VideoPlayerPlugin,Be=ADB.va.plugins.videoplayer.VideoPlayerPluginConfig,we=ADB.va.plugins.videoplayer.VideoPlayerPluginDelegate,Se=!1;pe(l,we),l.prototype.getVideoInfo=function(){return this._player.getVideoInfo()},l.prototype.getAdBreakInfo=function(){return this._player.getAdBreakInfo()},l.prototype.getAdInfo=function(){return this._player.getAdInfo()},l.prototype.getChapterInfo=function(){return this._player.getChapterInfo()},l.prototype.getQoSInfo=function(){return null},l.prototype.onError=function(e){U("VideoAnalytics error. Message: "+e.message+". Details: "+e.details+".")},l.prototype.onVideoUnloaded=function(){U("video unloaded")};var Te,ke,Qe,De=ADB.va.plugins.ah.AdobeHeartbeatPlugin,Re=ADB.va.plugins.ah.AdobeHeartbeatPluginConfig,_e=ADB.va.plugins.ah.AdobeHeartbeatPluginDelegate;pe(u,_e),u.prototype.onError=function(e){console.log("AdobeHeartbeatPlugin error: "+e.getMessage()+" | "+e.getDetails())};var Me,Ne,Pe=ADB.va.Heartbeat,Oe=ADB.va.HeartbeatConfig,Le=ADB.va.HeartbeatDelegate;pe(c,Le),c.prototype.onError=function(e){console.log("Heartbeat error: "+e.getMessage()+" | "+e.getDetails())};var xe=n.profile;xe=xe?xe.toLowerCase():"default",U("profile:",xe),void 0===n.useDerivedMetadata&&(n.useDerivedMetadata=!0,U("set useDerivedMetadata to true (default for joint hb nielsen)"));var Fe={duration:null,timeIndex:null,contentId:null,contentTitle:null,contentDefinition:null,type:{video:!0}},Ue=[],Ve=[],Ge={PROGRAM_CHANGED:1},He={default:{metadata:{},events:{},trackChapters:re,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{streamType:function(e,t,n){return t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD}}},nbc:{metadata:{program_name:{adaptor:function(e,t,n,r){return t.live?t.initialTitle:e},vars:["videoprogram"]},derivedMetadata$videodaypart:{vars:["videodaypart"]},minutes:{adaptor:function(e,t,n,r){return[t.hours,e].join(":")},vars:["videominute"]},hours:{vars:["videohour"]},dayOfWeek:{adaptor:function(e,t,n,r){return{Sun:"Sunday",Mon:"Monday",Tue:"Tuesday",Wed:"Wednesday",Thr:"Thursday",Fri:"Friday",Sat:"Saturday"}[e]},vars:["videoday"]},date:{vars:["videodate"]},playerName:{vars:["videoplayertech","videoplatform"]},mcp_id:{adaptor:function(e,t,n,r){return"NBC"},vars:["videonetwork","videoapp"]},mvpd:{vars:["videomvpd"]},autoManual:{vars:["videoinitiate"]},screen:{adaptor:function(){return"Full"},vars:["videoscreen"]},status:{vars:["videostatus"]},callsign:{vars:["videocallsign"]},episodeNumber:{vars:["videoepnumber"]},eventId:{vars:["videoguid"]},ts_airdate:{adaptor:function(t,n,r,i){var a=e.prettifyDate(1e3*t);return[a.month,a.day,a.year].join("/")},vars:["videoairdate"]},season:{vars:["videoseason"]},stationId:{vars:[]},videoDuration:{vars:[]},playerType:{vars:[]},adTitle:{vars:[]},adDuration:{vars:[]},clipLong:{},videoSegments:{},primaryCategory:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackAds:!0,trackChapters:!0,dynamicChaptersTracking:{live:!1,vod:!0},appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},adaptors:{streamType:function(e,t,n){var r={0:"VOD Episode",1:"VOD Clip",2:ge.ASSET_TYPE_LIVE};return t&&"video_type"in t&&t.video_type in r?r[t.video_type]:t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD}}},sni:{metadata:{live:{adaptor:function(e,t,n){return e?"C3":t.custom$cl_episode_type||t.custom$cl_ad_policy||"D4"},vars:["videoWindowing"]},custom$cl_scrid:{adaptor:function(e,t,n,r){return"name"==r?t.live?E("videoId",t,n):E("eventId",t,n):e||"N/A"},vars:["videoSCRID","name"]},custom$cl_non_linear_id:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoNLVID"]},custom$cl_sni_guid:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoGUID"]},autoManual:{adaptor:function(e,t,n,r){return"auto"==e?"autoplay":"manual"},vars:["videoPlayType"]},custom$sni_author:{adaptor:function(e,t,n,r){return e||"N/A"},vars:["videoPublisherID"]},custom$cl_authenticated:{adaptor:function(e,t,n,r){return t.live||(Se="Y"==e),Se+""},vars:["requiresAuth"]},custom$authenticated:{adaptor:function(e,t,n,r){return t.live&&(Se="yes"==e),Se+""},vars:["requiresAuth"]},mvpd:{vars:["videoMVPD"]},playerType:{adaptor:function(e,t,n,r){return"videoPlayerName"==r?e+" v"+t.version:e},vars:["videoChannelName","videoPlayerName","videoPlayerType"]},initialTitle:{adaptor:function(e,t,n,r){return t.live?t.showTitle:t.custom$cl_show_name},vars:["videoShowTitle"]},custom$cl_episode:{adaptor:function(e,t,n,r){return e||t.contentTitle},vars:["videoTitle"]},contentTitle:{vars:["videoTitle"]},duration:{vars:["videoRuntime"]},fullscreen:{adaptor:function(e,t,n,r){return e?"fullscreen":"normal"},vars:["videoScreenType"]},talentName:{adaptor:function(e,t,n,r){return t.live?e||"N/A":Fe.custom$rovi_credits||"N/A"},vars:["talentName"]},friendlyName:{adaptor:function(e,t,n,r){return t.showTitle+"|"+t.contentTitle},vars:["friendlyName"]}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],METADATA_LOADED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackChapters:re,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{eventId:function(e,t,n){return t.live?[t.roviId,"C3"].join("|"):[t.custom$cl_scrid||"N/A",t.custom$cl_episode_type||t.custom$cl_ad_policy||"D4"].join("|")},contentTitle:function(e,t,n){return t.live?[t.showTitle,t.custom$rovi_episode_title].join("|"):[t.custom$cl_show_name,t.custom$cl_episode].join("|")},streamType:function(e,t,n){return t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD},chapterTitle:function(e,t,n){var r=t.chapterIndex?t.chapterIndex+1:1;return t.live?[t.episodeTitle,r].join("|"):[t.custom$cl_episode,r].join("|")},adId:function(e,t,n){return e||"N/A"},adTitle:function(e,t,n){return e||"N/A"},adPodFriendlyName:function(e,t,n){return 0==t.lastContentTimeIndex?"preroll":t.lastContentTimeIndex>=t.duration?"postroll":"midroll"}}},cbs:{metadata:{contentTitle:{adaptor:function(e,t,n,r){return t.live?e||"NA":t.program_name||"NA"},vars:["videoShowName"]},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},season:{adaptor:function(e,t,n,r){return e||"NA"},vars:["videoSeason"]},group:{},autoManual:{vars:["startType"]},clipLong:{},videoSegments:{},primaryCategory:{},categories:{vars:["videoCategory"],types:{videoCategory:"list3"}},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],METADATA_LOADED:[]},trackChapters:re,trackAds:!0,appMeasurementCustomTracking:!0,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{channel:te.host},adaptors:{playerName:function(e,t,r){return e+(n.pInstance?"-"+n.pInstance:"")},streamType:function(e,t,n){return t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD}}},cox:{metadata:{contentTitle:{},stationId:{},videoDuration:{},playerType:{},playerName:{},mvpd:{},adTitle:{},season:{},group:{},autoManual:{},clipLong:{},videoSegments:{},primaryCategory:{},categories:{},tsPublished:{},segment:{},adId:{},pageURL:{},pod:{},podPosition:{},CPM:{},adSegment:{}},events:{VIDEO_STARTED:[],PROGRAM_CHANGED:[],METADATA_LOADED:[],VIDEO_FIRST_QUARTILE:[],VIDEO_MID_POINT:[],VIDEO_THIRD_QUARTILE:[],VIDEO_COMPLETED:[],USER_PLAY:[],USER_RESUME:[],USER_PAUSE:[],USER_GOLIVE:[],AD_STARTED:[],AD_FIRST_QUARTILE:[],AD_MID_POINT:[],AD_THIRD_QUARTILE:[],AD_COMPLETED:[],AD_CLICKED:[],USER_SHARE:[],USER_FORWARD_SEEK:[],USER_BACKWARD_SEEK:[],USER_FULLSCREEN:[],USER_CANCEL_FULLSCREEN:[]},trackChapters:re,trackAds:!0,appMeasurementCustomTracking:!1,chapterLimits:{live:{start:{PROGRAM_CHANGED:1,AD_BREAK_COMPLETED:1},complete:{PROGRAM_CHANGED:1,AD_BREAK_STARTED:1}},vod:{start:{VIDEO_STARTED:1},complete:{AD_BREAK_STARTED:1,VIDEO_COMPLETED:1}}},keyValues:{},adaptors:{playerName:function(e,t,r){return e+(n.pInstance?"-"+n.pInstance:"")},streamType:function(e,t,n){var r={0:"VOD Episode",1:"VOD Clip",2:ge.ASSET_TYPE_LIVE};return t&&"video_type"in t&&t.video_type in r?r[t.video_type]:t.live?ge.ASSET_TYPE_LIVE:ge.ASSET_TYPE_VOD}}}};if(He.cbslocal=He.cbs,xe&&!He[xe]&&(xe="default"),U("config.account:",n.account),"object"!=typeof n.account?a():i.postWithWsse(n.account,a,a),xe in He){for(var je in He[xe].events)He[xe].events.hasOwnProperty(je)&&(Ue=Ue.concat(He[xe].events[je]));for(var Ye in He[xe].vars)He[xe].vars.hasOwnProperty(Ye)&&(Ve=Ve.concat(He[xe].vars[Ye]));Ue=["events"].concat(Ue).join(","),Ve=Ve.join(","),U("trackEvents:",Ue),U("trackVars:",Ve)}return{replayEvents:T,resetHeartbeat:k,optInNielsen:Q.bind(null,!0),optOutNielsen:Q.bind(null,!1),sendBeacon:B,initPlugin:a,setPostrollExpected:S}}return t}),anv.define("pluginComScore",["util"],function(e){function t(t,n,r,i){function a(e,t){switch(e){case"bufferingVideoContent":case"ready2PlayVideoContent":t.type.video&&(u=o(g,t),p("template populated with",e));break;case"VIDEO_STARTED":"AD_STARTED"==s&&l.stop(),d=!0,p("tracking",e),u=o(g,t),l.playVideoContentPart(u),s=e,p("lastTrackedEvent:",s,"metadata:",JSON.stringify(u,null,3));break;case"AD_STARTED":d=!0,"VIDEO_STARTED"==s&&l.stop(),p("tracking",e),t.live?l.playVideoAdvertisement(null):(u=u||o(g,t),u.ns_st_cl=1e3*t.adDuration,l.playVideoAdvertisement(u)),s=e,p("lastTrackedEvent:",s,"metadata:",JSON.stringify(u,null,3));break;case"USER_PAUSE":case"pausedVideoContent":!c&&d&&(p("tracking",e),l.stop(),c=!0);break;case"USER_PLAY":case"USER_RESUME":case"playingVideoContent":c&&(t.type.video?l.playVideoContentPart(u):l.playVideoAdvertisement(u),p("tracking",e,"for",t.type.video?"content":"ad"),c=!1);break;case"PROGRAM_CHANGED":A?A=!1:c?u=o(g,t):(l.stop(),u=o(g,t),l.playVideoContentPart(u));break;case"VIDEO_COMPLETED":d=!1,l.stop(),l=null,l=new ns_.StreamingTag({customerC2:g.c2})}}function o(t,r){r.live||(t.ns_st_cl=1e3*r.duration),p("@populateTemplate",JSON.stringify(r,null,3)),p("@populateTemplate",JSON.stringify(n,null,3));var a,o={COMSCORE:"plugins:comscore:mapping:"},s={VIDEO_ID:r.contentId,TITLE:r.contentTitle||r.chapterTitle||r.titleWithEpisode||"*null",DESCRIPTION:r.contentDefinition,HOST:r.host,CATEGORIES:r.categories,MVPD:r.mvpd||"*null",EPISODE:r.titleWithEpisode||r.episodeNumber||"*null"},l={},u={},c=/(.*)\[\[(.*)\]\](.*)/;for(var d in t)t.hasOwnProperty(d)&&(a=c.exec(t[d]),a&&a.length>3&&a[2]in s?l[d]=a[1]+s[a[2]]+a[3]:l[d]=t[d]);if("mapping"in n)for(var A in n.mapping)n.mapping.hasOwnProperty(A)&&(p("need to use derived metadata for",A),i&&i.getDerivedMetadata&&(u[A]=i.getDerivedMetadata(o.COMSCORE,A,"N/A")));return p("@populateTemplate parts",JSON.stringify(l,null,3)),p("@populateTemplate derivedMetadata",JSON.stringify(u,null,3)),l=e.merge(u,l)}var s,l,u=null,c=!1,d=!1,A=!0,g={},p=r?r.getLogFn("ComScore"):function(){console.log.apply(console,["[!ComScore!]\t"].concat(Array.prototype.slice.call(arguments)))};return g.c2=n&&n.clientId?n.clientId.toString():null,g.c3=n.c3||"*null",g.c4=n.c4||"*null",g.c6=n.c6||"*null",g.ns_st_ci=n.ns_st_ci||"[[VIDEO_ID]]",g.ns_st_pu="[[MVPD]]",g.ns_st_pr="[[TITLE]]",g.ns_st_ep="[[EPISODE]]",g.ns_st_sn="*null",g.ns_st_en="*null",g.ns_st_ge="*null",g.ns_st_ti="*null",g.ns_st_ia="*null",g.ns_st_ddt="*null",g.ns_st_tdt="*null",g.ns_st_st="*null",g.ns_st_ce="*null",l=new ns_.StreamingTag({customerC2:g.c2}),!g.c2&&"dispatchError"in i?void i.dispatchError("SCOR001"):{sendBeacon:a}}return t}),anv.define("pluginComScoreWithDerivedMetadata",["util"],function(e){function t(t,n,r,i){function a(){b=o.apply(null,Array.prototype.slice.call(arguments)),b?C.push(arguments):(C.length&&l(),u.apply(null,Array.prototype.slice.call(arguments)))}function o(e,t){if("METADATA_LOADED"==e||b){if(t.live){if("PROGRAM_CHANGED"==e){for(var r=0,i=C.length;r<i;r++)C[r][1]=t;return!1}if(!B.waitForProgramChange){var a=y;"number"==typeof n.metadataLookupTimeout&&n.metadataLookupTimeout&&(a=n.metadataLookupTimeout),B.waitForProgramChange=setTimeout(s,a)}return!0}return!1}return!1}function s(){b=!1,delete B.waitForProgramChange,l()}function l(){Q("flushing the event queue",C?C.length:0);for(var e;C.length;)e=C.shift(),u.apply(null,Array.prototype.slice.call(e))}function u(t,n){switch(d(t,n),Q("@processEvent event:",t),t){case"bufferingVideoContent":case"ready2PlayVideoContent":n.type.video&&(I=c(n),Q("initial metadata generated with",t));break;case"VIDEO_STARTED":"AD_STARTED"==v&&m(),T=!0,I=c(n),f(I),v=t
;break;case"AD_STARTED":T=!0,"VIDEO_STARTED"==v&&m(),I=c(n),h(I),v=t;break;case"USER_PAUSE":case"pausedVideoContent":!S&&T&&(n.type.video&&m(),S=!0);break;case"IMPLICIT_PAUSE":n.type.video||setTimeout(function(){e.isDocumentHidden()&&m()},500);break;case"USER_PLAY":case"USER_RESUME":case"playingVideoContent":S&&(n.type.video&&f(I),S=!1);break;case"PROGRAM_CHANGED":k?k=!1:S?I=c(n):(m(),I=c(n),f(I));break;case"VIDEO_COMPLETED":T=!1,m(),p()}}function c(e){Q("@generateContentMetadata",JSON.stringify(e,null,3)),Q("@generateContentMetadata",JSON.stringify(n,null,3));var t={COMSCORE:"plugins:comscore:mapping:"},r={};return i&&i.getDerivedMetadata&&(r=i.getDerivedMetadata(t.COMSCORE,"")),Q("@generateContentMetadata derivedMetadata",JSON.stringify(r,null,3)),A(r)}function d(e,t){w.VIDEO_ID=t.contentId,w.TITLE=t.contentTitle||t.chapterTitle||t.titleWithEpisode||"*null",w.DESCRIPTION=t.contentDefinition,w.HOST=t.host,w.CATEGORIES=t.categories,w.MVPD=t.mvpd||"*null",w.EPISODE=t.titleWithEpisode||t.episodeNumber||"*null",t.type.video?w.COMSCORE_CLIP_LENGTH=t.live?0:1e3*parseInt(t.duration):w.COMSCORE_CLIP_LENGTH=1e3*t.adDuration}function A(e){var t=/\{\{(\w+)\}\}/,n={};if("object"==typeof e){for(var r in e)e.hasOwnProperty(r)&&(n[r]=A(e[r]));return n}return t.test(e)?g(t,e):e}function g(e,t,n){var r,i;for(i=e.exec(t);i&&i[1]in w;)r=t.replace(new RegExp(i[0]),w[i[1]]),t=n?encodeURIComponent(r):r,i=e.exec(t);return t}function p(){Q("@ns_.StreamingTag {customerC2: "+D+"}"),E=null,E=new ns_.StreamingTag({customerC2:D})}function f(e){E&&(Q("@ns_.playVideoContentPart:",e?JSON.stringify(e,null,3):"null"),E.playVideoContentPart(e))}function h(e){E&&(Q("@ns_.playVideoAdvertisement:",e?JSON.stringify(e,null,3):"null"),E.playVideoAdvertisement(e))}function m(){E&&(Q("@ns_.stop"),E.stop())}var E,v,y=45e3,I={},b=!1,C=[],B={},w={},S=!1,T=!1,k=!0,Q=r?r.getLogFn("ComScore"):function(){console.log.apply(console,["[!ComScore!]\t"].concat(Array.prototype.slice.call(arguments)))},D=n&&n.clientId?n.clientId.toString():null;return!(D=D||(n&&n.c2?n.c2.toString():null))&&"dispatchError"in i?void i.dispatchError("SCOR001"):(p(),{sendBeacon:a})}return t}),anv.define("Analytic",["util"],function(e){function t(t,n,r){function i(e,t,n,r){return["pbd="+e,"syd="+t,"vid=0","exid="+r].join("&")}function a(e,t,n,r,i){return["viu="+e,"stu="+t,"usd="+n,"ssd="+g,"plu="+r,"xsi="+i,"upi="+p].join("&")}function o(e,t,n,r,i,a){return["aid="+e,"aur="+t,"stu="+n,"usd="+r,"ssd="+g,"plu="+i,"xsi="+a,"upi="+p].join("&")}function s(e,t){E("@generateEvent");return e+"#$#"+t+"!$!"}function l(e,t,n){E("@generatePlayerData");var r=[],i=t.contentTitle?encodeURIComponent(t.contentTitle.replace(":","^$^")):"";t.playerId;return i&&i.length&&r.push(i),r=r.concat([encodeURIComponent(t.videoURL),encodeURIComponent(t.siteReferrer),t.videoId,i+("AD_LOADED"==e?n[0]:""),null,"latest"]),r.join(":")}function u(e,t,n){if(E("@generateVideoData"),"vqt"==y[e]){return{VIDEO_FIRST_QUARTILE:25,VIDEO_MID_POINT:50,VIDEO_THIRD_QUARTILE:75}[e]}return"vvp"==y[e]?"":"vvs"==y[e]?[t.duration,t.timeIndex,0,1,0,t.timeIndex].join(":"):"vmd"==y[e]?t.duration+":0":"0:"+(new Date).getTime()}function c(e,t,n){E("@generateAdData");var r=""|n[0];if("apc"==I[e]){return r+":"+{AD_FIRST_QUARTILE:25,AD_MID_POINT:50,AD_THIRD_QUARTILE:75}[e]}return[r,r,r,"","","",""].join(":")}function d(t,n,r){E("@sendBeacon"),E("received beacon request for event:",t,r);var d;if("ready2PlayVideoContent"==t&&!b||"ready2PlayVideoContent"!=t){var g,p="";t in v?(g=v[t],p=l(t,n,r)):t in y?(g=y[t],p=u(t,n,r)):t in I&&(g=I[t],p=c(t,n,r)),d=n.videoId;var m=i(f,0,n.videoId,d),C=e.base64Encode(m),B="key="+C,w=encodeURIComponent(n.appURL),S=encodeURIComponent(n.videoURL),T=t in I||"AD_LOADED"==t?o(r[0],"adserver.com",w,A,"",""):a(S,w,A,"","");if(g){var k="l="+s(g,p),Q="ts="+(new Date).getTime(),D=[B,T,k,Q].join("&"),R=e.base64Encode(D),_=h+"?t="+R;E("key string:",B),E("header string:",T),E("event string:",k),E("time string:",Q),E("url:",_),e.touchURL(_)}"ready2PlayVideoContent"==t&&(b=!0)}}var A,g=e.createUUID(),p=e.createUUID(),f=n.pdb,h=n.serverURL,m={anvTrackerUSD:null},E=r?r.getLogFn("Analytics"):function(){console.log.apply(console,["[!Analytics!]\t"].concat(Array.prototype.slice.call(arguments)))},v={ready2PlayVideoContent:"vpd"},y={VIDEO_STARTED:"vst",VIDEO_VIEWED:"vvp",VIDEO_METADATA:"vmd",VIDEO_VIEW_SEGMENT:"vvs",VIDEO_FIRST_QUARTILE:"vqt",VIDEO_MID_POINT:"vqt",VIDEO_THIRD_QUARTILE:"vqt",VIDEO_COMPLETED:"vvs",pausedVideoContent:"vpa"},I={AD_STARTED:"abg",AD_FIRST_QUARTILE:"apc",AD_MID_POINT:"apc",AD_THIRD_QUARTILE:"apc",AD_COMPLETED:"aed",AD_CLICKED:"ack"},b=!1;return m=e.getCookies(m),m.anvTrackerUSD?(A=m.anvTrackerUSD,E("Using cookie value for usd:",A)):(A=e.createUUID(),m.anvTrackerUSD=A,e.setCookies(m),E("Setting cookie value for usd:",A)),E("Anvato Analytics initialized with pbd:",f),{getUUID:function(){return e.createUUID()},sendBeacon:d,generateKey:i,generateHeader:a,generateEvent:s}}return t}),anv.define("pluginRTAnalytics",["util"],function(e){function t(t,n,r){function i(){U("@getUserFieldPayload");var e={},t=["uf1","uf2","uf3"];if("object"==typeof n){for(var r=0,i=t.length;r<i;r++)t[r]in n&&(e[t[r]]=n[t[r]]);e=p(e)}return e}function a(){for(var t="",n=0;n<13;n++){var r=N[n].toString(2);r="00000000"+r,r=r.substr(r.length-8),t+=r+" "}U(t+" : "+e.uint8ArrayToBase64(N))}function o(e){var t;t=null!=O?O:e,O=Math.round(e/v*99);for(var n=t;n<=O;n++){var r=Math.floor(n/8),i=7-n%8,o=N[r]>>i&1;N[r]=N[r]|1<<i,o||(P[r]=P[r]|1<<i)}a()}function s(t,r,a,s){U("@sendBeacon",t);var l,p;switch(m=r,k.src=m.host,t){case"METADATA_LOADED":E=i(),v=m.duration,I=m.live,F.startOkExpected=!0,N=new Uint8Array(new ArrayBuffer(13)),P=new Uint8Array(new ArrayBuffer(13));break;case"USER_PLAY":p=n.video||m.videoId,p!=h&&F.startOkExpected&&(h=p,Q=e.timeString2Millisecond(s),d("start-try"));break;case"PLAYING_START":F.startOkExpected&&(l=e.timeString2Millisecond(s)-Q,d("start-ok:"+l),A(),F.startOkExpected=!1);break;case"AD_STARTED":case"AD_BREAK_STARTED":F.isOnAd||(F.isOnAd=!0,d("ad:~"+(a[0]||"")));break;case"AD_BREAK_COMPLETED":case"AD_COMPLETED":F.isOnAd=!1;break;case"BUFFER_START":d("rebuffer");break;case"VIDEO_COMPLETED":c("heartBeat");break;case"USER_PAUSE":U("heartbeats will stop after",b/1e3,"seconds!"),R.PAUSE_HEARTBEAT_TIMEOUT=setTimeout(function(){U("executing PAUSE_HEARTBEAT_TIMEOUT..."),c("heartBeat")},b);break;case"USER_RESUME":U("cancelling PAUSE_HEARTBEAT_TIMEOUT"),c("PAUSE_HEARTBEAT_TIMEOUT");break;case"PRESENTATION_UPDATED":v=a[1],"content"!=a[2]||I||o(a[0]);break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":O=null;break;case"MEDIA_SOURCE_SET":D=e.timeString2Millisecond(s);break;case"FIRST_FRAME_READY":l=e.timeString2Millisecond(s)-D,d("video-loaded:"+l);break;case"PROGRAM_CHANGED":I&&d("program-changed:"+(a[1]?"upid":"mcpid")+"~"+a[0]);break;case"BITRATE_CHANGED":y=a[0];break;case"PLAYER_ERROR":a&&a.length>2&&a[2]&&(c("heartBeat"),F.startOkExpected?(d("start-fail:"+u(a[0])),F.startOkExpected=!1):F.playing&&d("play-fail:"+u(a[0])),F.playing=!1,g(!0));break;case"PLAYER_EXIT":c("heartBeat"),g(!0)}}function l(e,t){v=t,I||o(e);var n=e-x;0<n&&n<1&&(L+=n),x=e}function u(e){var t="";switch(e){case"PLAY450":case"PLAY460":t="c";break;case"PLAY470":t="g";break;case"PLAY455":t="f";break;case"PLAY500":case"PLAY510":case"PLAY010":t="h";break;case"ACTRL001":case"ACTRL002":t="a",d("meta-fail:a");break;case"ACTRL030":case"ACTRL051":t="d";break;case"ACTRL031":case"ACTRL052":t="e";break;case"ACTRL070":case"ACTRL071":case"ACTRL072":t="b"}return t}function c(e){e&&R[e]&&(clearTimeout(R[e]),delete R[e])}function d(e){U("@registerAction",e,_&&_.length),e&&_.push(e)}function A(){U("@startHeartbeat"),F.playing=!0,c("heartBeat"),clearTimeout(R.heartBeat),R.heartBeat=setTimeout(A,C),g()}function g(t){if(U("@ping"),!t||0!=_.length){k["a:stream_type"]=I?"linear":"vod",k["a:meta:main_name"]=m.contentTitle||"",k["a:type"]=F.isOnAd?"ad":"main";var r=_||[];if(F.playing){r=r.concat("playing:"+y),I||(r=r.concat("hs:"+e.uint8ArrayToBase64(N)+"~"+v),k["w:hs"]=e.uint8ArrayToBase64(P)+"~"+v,P=new Uint8Array(new ArrayBuffer(13)));var a=Math.floor(L);k["w:sec"]=a,L-=a}else k["w:hs"]="",k["w:sec"]="";I&&(k["l:event_id"]=m.eventId||"",k["l:event_title"]=m.program_name||m.showTitle||m.contentTitle||"",k["l:episode"]=m.episodeTitle||"",delete k["w:hs"]),F.isOnAd?(k["ad:ad_name"]=m.adTitle||"",k["ad:pod_name"]=B[m.type.adType],k["ad:pod_pos"]=m.adIndex):(delete k["ad:ad_name"],delete k["ad:pod_name"],delete k["ad:pod_pos"]),k.act=r.join(","),k.aid=[n.mcp||m.mcp_id,n.owner||m.owner_id,n.video||m.videoId].join("~"),E=E||i(),k=e.merge(k,E);var o=e.encodeURLParams(k);U("@ping payload:",JSON.stringify(k,null,3)),e.touchURL(w+"?"+o),_=[]}}function p(e){var t,n=/(.*)\[\[(.*)\]\](.*)/;for(var r in e)e.hasOwnProperty(r)&&(t=n.exec(e[r]),U("parts",JSON.stringify(t)),t&&t.length>3&&t[2]in M&&(e[r]=t[1]+(M[t[2]]||null)+t[3]));return e}function f(e){M=e||{}}var h,m,E,v,y,I,b=864e5,C=1e4,B={"09":"pre_roll",10:"mid_roll",11:"post_roll"},w=n.service_url||"//rt.analytics.anvato.net/",S=e.getDeviceInfo,T="tablet"==S.deviceType,k={act:void 0,dma:0,dev:S.isMobileBrowser?T?"tablet":"mobile":"desktop",aid:void 0,sid:e.createUUID(),tech:"browser",plyr:"html5",pln:"Anvato Web Player v3",src:void 0,"a:stream_type":"","a:type":"","a:meta:main_name":"","l:event_id":"","l:event_title":"","l:episode":"","ad:ad_name":"","ad:pod_name":"","ad:pod_pos":"","w:sec":"","w:hs":""},Q=0,D=0,R={},_=[],M={},N=new Uint8Array(new ArrayBuffer(13)),P=new Uint8Array(new ArrayBuffer(13)),O=null,L=0,x=0,F={startOkExpected:!0,playing:!1,isOnAd:!1},U=r?r.getLogFn("RTAnalytics"):function(){console.log.apply(console,["[!RTAnalytics!]\t"].concat(Array.prototype.slice.call(arguments)))};return S.firetv&&(k.dev="firetv"),n=n||{},U("Ready"),{sendBeacon:s,setMacros:f,updateTime:l}}return t}),anv.define("pluginGoogleCloudVideoAnalytics",["util"],function(e){function t(t,n,r){function i(e,t){C.updatePlayerTime(e)}function a(e){var t="";switch(e){case"PLAY450":case"PLAY460":t=CloudVideoAnalytics.ErrorCode.VIDEO_URL_FAILED;break;case"PLAY470":t=CloudVideoAnalytics.ErrorCode.VIDEO_TS_FAILED;break;case"PLAY455":t=CloudVideoAnalytics.ErrorCode.VIDEO_PROG_URL_FAILED;break;case"PLAY500":case"PLAY510":case"PLAY010":t=CloudVideoAnalytics.ErrorCode.VIDEO_PLAYBACK_ERROR;break;case"ACTRL001":case"ACTRL002":t=CloudVideoAnalytics.ErrorCode.VIDEO_METADATA_LOAD_FAILED;break;case"ACTRL030":case"ACTRL051":t=CloudVideoAnalytics.ErrorCode.AUTH_FAILED;break;case"ACTRL031":case"ACTRL052":t=CloudVideoAnalytics.ErrorCode.AUTHZ_FAILED;break;case"ACTRL070":case"ACTRL071":case"ACTRL072":t=CloudVideoAnalytics.ErrorCode.VIDEO_URL_MISSING}return t}function o(e,t){var n;switch(typeof e){case"object":return null;case"number":case"string":return n=t?parseInt(e):parseFloat(e),isNaN(n)?null:n;default:return null}}function s(e){switch(typeof e){case"object":return null;case"number":return isNaN(e)?null:e.toString();case"string":return e;default:return null}}function l(e,t){switch(typeof e){case"object":return null;case"number":case"string":return isNaN(e)?null:(e=t?1e3*parseInt(e):parseInt(e),new Date(e).toISOString());default:return null}}function u(e,t,r,i){b("@sendBeacon",e);var u,A,p,f,m,v=null;switch(content=t,e){case"METADATA_LOADED":E.isVideoCompletedExpected&&C.interactionVideoStop(),E.isVideoCompletedExpected=!0,E.isLive=content.live,E.isStartOkExpected=!0,E.isRebufferDisabled=!0,p={},p.assetId=s(content.videoId||n.video),p.streamType=s(E.isLive?"linear":"vod"),p.channelId=s(content.channel),p.title=s(content.showTitle),p.description=s(content.contentDefinition),p.programName=s(content.program_name),p.thumbnail=s(content.thumbnail),p.duration=o(void 0!==content.duration?content.duration:-1),p.seasonNumber=o(content.season,!0),p.episodeNumber=o(content.episodeNumber,!0),p.publishedTime=l(content.tsPublished,!0),C.setVideoContentMetadata(p);break;case"USER_PLAY":A=content.videoId||n.video,A&&A==g||!E.isStartOkExpected?C.interactionVideoPlay():(C.videoStartTry(),g=A,"manual"==content.autoManual&&C.interactionVideoPlay());break;case"PLAYING_START":d();break;case"VIDEO_STARTED":C.contentStart();break;case"AD_BREAK_STARTED":d();break;case"AD_STARTED":u={},C.videoPause(),E.isOnAd=!0,r.length>=3&&"Anvato Ad Stitcher"==r[2]?u=s(r[0]):r.length>=1&&(u.adId=s(r[0])),u.adName=s(content.adTitle),u.adPodName=s(y[content.type.adType]),u.adPodPosition=o(content.adIndex),C.adStart(u);break;case"AD_FIRST_QUARTILE":C.adFirstQuarter();break;case"AD_MID_POINT":C.adSecondQuarter();break;case"AD_THIRD_QUARTILE":C.adThirdQuarter();break;case"AD_COMPLETED":C.adComplete(),c();case"AD_BREAK_COMPLETED":E.isOnAd=!1;break;case"AD_SKIPPED":c(),C.adSkip();break;case"BUFFER_START":E.isRebufferDisabled||C.rebuffer();break;case"VIDEO_COMPLETED":C.videoComplete(),E.isVideoCompletedExpected=!1,E.isRebufferDisabled=!0;break;case"USER_PAUSE":C.interactionVideoPause();break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":c(),C.interactionVideoSeek();break;case"USER_GOLIVE":c();break;case"PROGRAM_CHANGED":E.isLive&&(m=r[0],m!=h&&C.contentStart(),h=m,f={},eventStart=r[3]?o(r[3].ts_broadcast_start,!0):null,eventEnd=r[3]?o(r[3].ts_broadcast_end,!0):null,null!==eventStart&&null!==eventEnd&&(v=eventEnd-eventStart),f.eventType=s(r[1]?"upid":"beacon"),f.eventId=s(m),f.channelId=s(content.channel),f.title=s(r[2]?r[2].title||content.showTitle:content.showTitle),f.description=s(r[2]?r[2].description||content.contentDefinition:content.contentDefinition),f.programName=s(content.program_name),f.thumbnail=s(r[3]?r[3].src_image_url||content.thumbnail:content.thumbnail),f.seasonNumber=o(content.season,!0),f.episodeNumber=o(content.episodeNumber,!0),f.duration=o(v),f.eventStartTime=l(eventStart,!0),f.eventEndTime=l(eventEnd,!0),f.publishedTime=l(r[3]?r[3].ts_updated||r[3].ts_added:null,!0),C.programChanged(f));break;case"BITRATE_CHANGED":C.updateBitrate(r[0]);break;case"PLAYER_ERROR":r&&r.length>2&&r[2]&&(E.isStartOkExpected?(C.videoStartFail({errorCode:a(r[0])}),E.isStartOkExpected=!1):E.isPlaying&&C.playFail({errorCode:a(r[0])}),E.isPlaying=!1)}}function c(){A("disableRebuffer"),E.isRebufferDisabled=!0,v.disableRebuffer=setTimeout(function(){E.isRebufferDisabled=!1},m)}function d(){E.isStartOkExpected&&(C.videoStart(),E.isStartOkExpected=!1,c())}function A(e){v&&v[e]&&(clearTimeout(v[e]),v[e]=null)}var g,p,f,h,m=1e3,E={isOnAd:!1,isLive:!1,isPlaying:!1,isRebufferDisabled:!1,isStartOkExpected:!1,isVideoCompletedExpected:!1},v={disableRebuffer:null},y={"09":"pre_roll",10:"mid_roll",11:"post_roll"},I=e.getDeviceInfo;p=I.firetv?"fire_tv":"tablet"==I.deviceType?"tablet":I.isMobileBrowser?"mobile":"desktop",f=I.firetv?"fire_tv":"web";var b=r?r.getLogFn("GoogleCloudVideoAnalytics"):function(){console.log.apply(console,["[!GoogleCloudVideoAnalytics!]\t"].concat(Array.prototype.slice.call(arguments)))},C=CloudVideoAnalytics.create(n.trackerId,{userId:e.getCookie("DEVICE_ID"),sessionId:e.createUUID(),playerVersion:n.playerVersion,deviceType:p,playerType:f});if(null===C)throw new Error("Failed to initialize GoogleCloudVideoAnalytics plugin");return C.playerLoaded(),{sendBeacon:u,updateTime:i}}return t}),anv.define("pluginGoogleAnalytics",["util"],function(e){function t(t,n,r,i){function a(t,n){var r=u(n),i=e.merge(c,r),a={hitType:"event",eventCategory:"Videos",eventAction:t,eventLabel:"[[TITLE]]"},s=!1;if(f&&(a=e.merge(a,f)),0!=Object.keys(p).length)t in p&&("string"==typeof p[t]?a.eventAction=p[t]:"object"==typeof p[t]&&(a.eventAction=p[t].alias||a.eventAction,a.eventCategory=p[t].category||a.eventCategory,a.eventLabel=p[t].label||a.eventLabel,p[t].metric&&(a[p[t].metric]=1)),a=o(a,i),A("send",a),s=!0);else{if(t in{PRESENTATION_UPDATED:1,VIDEO_VIEW_SEGMENT:1,TIME_UPDATED:1,VIEWABILITY_CHANGED:1,SEGMENT_BEACON:1,ID3:1})return;a.eventAction=t,a=o(a,i),A("send",a),s=!0}s&&g("sendBeacon:",t,":",JSON.stringify(a,null,3))}function o(e,t){var n,r={},i=/(.*)\[\[(.*)\]\](.*)/;for(var a in e)e.hasOwnProperty(a)&&(n=i.exec(e[a]),n&&n.length>3&&n[2]in t?r[a]=n[1]+t[n[2]]+n[3]:r[a]=e[a]);return r}function s(e){c=e||{}}function l(e,t){g("trackCustomEvent: ",e),a(e,t)}function u(e){var t={};return t.TITLE=e.contentTitle||c.TITLE||"n/a",t.VIDEO_ID=e.videoId||c.VIDEO_ID||"n/a",t.P_NAME="anvato",t.VIDEO_TYPE=e.video_type?2==e.video_type?"live":"vod":"n/a",t.CURRENT_TIME_INDEX=e.timeIndex||"n/a",t.DURATION=e.duration||c.DURATION||"n/a",t.TAGS=e.tags||"n/a",t.IS_AUTOPLAY="auto"==e.autoManual,t.VIDEO_SECONDS_VIEWED=e.timeViewed||0,t}var c={},d=t,A=window.ga||window.ga_debug,g=r?r.getLogFn("GoogleAnalytics"):function(){console.log.apply(console,["[!GoogleAnalytics!]\t"].concat(Array.prototype.slice.call(arguments)))},p=(t.category,{}),f={};return t&&t.trackingId?A?(A("create",t.trackingId,"auto"),p=d.events||{},f=d.dimensions||{},{sendBeacon:a,setMacros:s,trackCustomEvent:l}):("dispatchError"in i&&i.dispatchError("GANA002"),null):("dispatchError"in i&&i.dispatchError("GANA001"),null)}return t}),anv.define("pluginMOAT",["util"],function(e){function t(e,t,n){function r(e,n,r){if(!(e&&n&&r&&i))return void t.dispatchError("MOAT001");var a={partnerCode:i,viewMode:r};initMoatTracking(e,a,n)}var i=(n&&n.getLogFn("pluginMOAT"),e.partnerCode);return{initMoat:r}}return t}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!pluginIas",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){return e&&e.__esModule?e:{default:e}}(t);var a=function(){function e(t,r,i){n(this,e),this.log_=i?i.getLogFn("IAS"):function(){console.log.apply(console,["[!IAS!]\t"].concat(Array.prototype.slice.call(arguments)))},this.config_=t,this.services_=r}return i(e,[{key:"setMacros",value:function(e){this.macros_=e}},{key:"init",value:function(e,n,r,i){if(!e||!n||!r||void 0===window.googleImaVansAdapter)return void this.services_.dispatchError("IAS001");var a=t.default.decodeURLParams(i),o=t.default.deepCopy(this.config_);o.campId=this.config_.campId||a.sz,o.chanId=this.config_.chanId||a.iu,this.macros_&&(o=t.default.populateMacros(o,this.macros_,!1)),window.googleImaVansAdapter.init(e,n,r,o)}}]),e}();e.default=a}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!ProxyPal",["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.unknown=n.exports}}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function e(n,r,i,a,o){t(this,e),this.log_=o?o.getLogFn("ProxyPal"):function(){console.log.apply(console,["[!ProxyPal!]\t"].concat(Array.prototype.slice.call(arguments)))},n.send(r,"remoteAgent","pal",{fn:"instantiate",args:[i]}),this.localAgent_=n,this.pInstance_=r,this.config_=i,this.timers_={},this.intervals_={},this.sessionAutoplayStatus={},this.muted_=!1;this.noncePeriod_="number"==typeof i.noncePeriod?1e3*i.noncePeriod:24e4,this.nonceTimeout_="number"==typeof i.nonceTimeout?1e3*i.nonceTimeout:5e3}return r(e,[{key:"init",value:function(){this.localAgent_.send(this.pInstance_,"remoteAgent","pal",{fn:"init",args:[]})}},{key:"generateNonce",value:function(e,t,n){this.localAgent_.send(this.pInstance_,"remoteAgent","pal",{fn:"generateNonce",args:[e]}),this.onNonceSuccess_=t||this.onNonceSuccess_,this.onNonceError_=n||this.onNonceError_,this.timers_.generateNonceResponse=this.timers_.generateNonceResponse||setTimeout(this.onPalTimeout_.bind(this),this.nonceTimeout_)}},{key:"onNonceSuccess",value:function(e){clearTimeout(this.timers_.generateNonceResponse),delete this.timers_.generateNonceResponse,"function"==typeof this.onNonceSuccess_&&this.onNonceSuccess_(e)}},{key:"onNonceError",value:function(e){clearTimeout(this.timers_.generateNonceResponse),delete this.timers_.generateNonceResponse,"function"==typeof this.onNonceError_&&this.onNonceError_(e)}},{key:"onPalTimeout_",value:function(){this.onNonceError({message:"SDK enforced timeout for PAL nonce generation"}),this.onNonceSuccess_=null,this.onNonceError_=null}},{key:"getMetadata_",value:function(e){return{adWillAutoPlay:!0,adWillPlayMuted:this.muted_,descriptionUrl:e.siteURL,omidVersion:"1.0.0",playerType:e.playerType,playerVersion:e.version,videoWidth:null,videoHeight:null}}},{key:"sendBeacon",value:function(e,t,n){switch(e){case"STREAM_TYPE_SET":if(t.live){this.muted_=0==t.volume;var r=this;this.intervals_.generateNonceInterval=setInterval(function(){var e=r.getMetadata_(t);r.generateNonce(e)},this.noncePeriod_)}else clearInterval(this.intervals_.generateNonceInterval),delete this.intervals_.generateNonceInterval;break;case"USER_MUTE":this.muted_=!0;break;case"USER_UNMUTE":this.muted_=!1;break;case"AUTOPLAY_SUPPORT_INFO_UPDATED":this.sessionAutoplayStatus=n[0]}}},{key:"destroy",value:function(){for(var e in this.timers_)this.timers_.hasOwnProperty(e)&&(clearTimeout(this.timers_[e]),delete this.timers_[e]);for(var t in this.intervals_)this.intervals_.hasOwnProperty(t)&&(clearInterval(this.intervals_[t]),delete this.intervals_[t]);this.onNonceSuccess_=null,this.onNonceError_=null}}]),e}();e.default=i}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!pluginHealthAnalytics",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){return e&&e.__esModule?e:{default:e}}(t);var a=function(){function e(t,r){n(this,e),this.log_=r?r.getLogFn("HealthAnalytics"):function(){console.log.apply(console,["[!HealthAnalytics!]\t"].concat(Array.prototype.slice.call(arguments)))},this.config_=t||{},this.serverUrl_=this.getServerUrl_(t.environment),this.deviceType_=this.getDeviceType_(),this.videoStartedFired_=!1,this.payload_=this.getStaticPayload_(),this.ping_({event:"load"}),this.isWaitingForPlayerRecovery_=!1}return i(e,[{key:"getServerUrl_",value:function(e){switch(e){case"stage":return"https://player-health-stage.apis.anvato.net/pixel.png";case"dev":return"https://player-health-dev.apis.anvato.net/pixel.png";default:return"https://player-health.apis.anvato.net/pixel.png"}}},{key:"getDeviceType_",value:function(){var e=t.default.getDeviceInfo;return e.isMobileBrowser&&"tablet"==e.deviceType?"tablet":e.isMobileBrowser?"mobile":"desktop"}},{key:"getStaticPayload_",value:function(){return{player_type:"web",device_type:this.deviceType_,player_version:this.config_.playerVersion,anvack:this.config_.accessKey||""}}},{key:"ping_",value:function(e){if("start"==e.event)this.isWaitingForPlayerRecovery_=!1;else if(this.isWaitingForPlayerRecovery_)return;this.payload_=t.default.merge(this.getStaticPayload_(),e);var n=t.default.encodeURLParams(this.payload_);this.log_("@ping_ Sending ping with parameters:",n),t.default.touchURL("".concat(this.serverUrl_,"?").concat(n)),"error"==e.event&&(this.isWaitingForPlayerRecovery_=!0)}},{key:"sendBeacon",value:function(e,t,n,r){switch(e){case"VIDEO_STARTED":this.videoStartedFired_||(this.videoStartedFired_=!0,this.ping_({event:"start"}));break;case"PLAYER_ERROR":n&&n.length>2&&this.ping_({event:n[2]?"error":"warn",error_code:n[0]})}}}]),e}();e.default=a}),anv.define("pluginMoatServerSide",["util"],function(e){function t(e,t,n,r,i){function a(e,n,r,i,a){l("@initMoatTracking");var o=window.location.protocol,s="https:"===o?"z":"js",u=document.createElement("script"),c=[],d={adData:{ids:n,duration:r,url:a},dispatchEvent:function(e){this.sendEvent?(c&&(c.push(e),e=c,c=!1),this.sendEvent(e)):(c.push(e),l("added event info to the queue",JSON.stringify(e,null,2)))}},A="_moatApi"+Math.floor(1e8*Math.random());return window[A]=d,l("@initMoatTracking",JSON.stringify(d.adData,null,2)),u.type="text/javascript",e&&e.insertBefore(u,e.childNodes[0]),u.src=o+"//"+s+".moatads.com/"+t.partnerCode+"/moatvideo.js#"+A,d}function o(e){l("@parseMoatParameters",e);for(var n,r={},i={level1:1,level2:2,level3:3,level4:4,slicer1:7,slicer2:8,zMoatSeries:5},a=t.mapping&&t.mapping.adIds||i,o=0,s=e.length;o<s;o++)if("moat"==e[o].name&&(n=e[o].value.split(";"),n.length>8))for(var u in a)a.hasOwnProperty(u)&&(r[u]=n[a[u]]);return r}function s(e,r,i){l("@sendBeacon",e);var s;switch(e){case"AD_BREAK_STARTED":break;case"AD_STARTED":case"AD_FIRST_QUARTILE":case"AD_MID_POINT":case"AD_THIRD_QUARTILE":case"AD_COMPLETED":case"USER_PAUSE":case"USER_RESUME":"AD_STARTED"==e&&i.length>3&&i[3].pars&&(s=o(i[3].pars),u=a(n,s,r.adDuration,t.partnerCode,r.videoURL)),e in c&&u&&u.dispatchEvent&&(l("@track->"+c[e]),u.dispatchEvent({type:c[e],adVolume:r.volume})),"AD_COMPLETED"==e&&(u=null)}}var l=r?r.getLogFn("MoatServerSide"):function(){console.log.apply(console,["[!MoatServerSide!]\t"].concat(Array.prototype.slice.call(arguments)))},u=null,c={AD_STARTED:"AdVideoStart",AD_FIRST_QUARTILE:"AdVideoFirstQuartile",AD_MID_POINT:"AdVideoMidpoint",AD_THIRD_QUARTILE:"AdVideoThirdQuartile",AD_COMPLETED:"AdVideoComplete",USER_PAUSE:"AdPaused",USER_RESUME:"AdPlaying"};return{sendBeacon:s}}return t}),anv.define("pluginCustomPlugins",["util"],function(e){function t(t,n,r,i,a,o,s){function l(){for(var e,t=0;t<U.length;t++)if((e=U[t])&&e.state<L.LOADED&&!p(e))return;x<L.LOADED&&(x=L.LOADED,M("@allScriptsLoaded"),u())}function u(){M("@initializeCustomPlugins");for(var e,t=0;t<U.length;t++)plugin=U[t],plugin&&plugin.instance&&(e=plugin.instance,p(plugin)||plugin.state>=L.INITIALIZED?c():plugin.state<L.INITIALIZED&&(plugin.state=L.INITIALIZED,e.init(function(e){return function(){e.state=L.READY,c()}}(plugin),plugin.config,s)))}function c(){for(var e,t=0;t<U.length;t++)if((e=U[t])&&e.state<L.READY&&!p(e))return;d(!1)}function d(e){var t;F=0;for(var n=0;n<U.length;n++)t=U[n],t.state<L.READY&&!p(t)&&f(t,e?"Plugin was not initialized before timeout (make sure completeCallback is called).":"Unknown error."),F+=t.state>=L.READY?1:0;x<L.READY&&(x=L.READY,M("@allPluginsReady. Count:",F))}function A(t){var n,r;t<=U.length-1&&(n=U[t],r=n.script,n.state>=L.LOADED&&(A(t+1),l()),"string"==typeof r.url?e.loadExternalJS(r.url,"head",function(){n.state=L.LOADED,A(t+1),l()},function(){f(n,"The script failed to load. Script URL: "+r.url),A(t+1),l()}):f(n,"Missing script url. Script URL: "+r.url))}function g(e){for(var t=0;t<U.length;t++){var n=U[t];n.state==L.READY&&(pluginInstance=n.instance,e(n,pluginInstance))}}function p(e){return e.state==L.ERROR}function f(e,t){M("@onPluginError. Error: ",t," Plugin name:",e.name),e.state=L.ERROR;var n=e.instance;n&&n.onError(t)}function h(e){for(var t,n=0;n<U.length;n++)if(t=U[n],t.name==e)return t;return null}function m(e){return 0==Math.floor(e.lastContentTimeIndex)?"preroll":Math.ceil(e.lastContentTimeIndex)>=e.duration?"postroll":"midroll"}function E(){return x>=L.READY}function v(e){O=e||{},M("@setMacros",JSON.stringify(e,null,3))}function y(e){V.isPostrollExpected=e}function I(e,t,n,r,i){switch(M("@sendBeacon",e,"args[0]:",n&&n.length>0?n[0]:"undefined"),e){case"CLIENT_BANDWIDTH":V.estimatedClientBandwidth=n&&n.length>0?n[0]:void 0;break;case"METADATA_LOADED":V.isLive=t.live;break;case"PLAYLIST_ITEM_CHANGED":break;case"USER_PLAY":case"USER_RESUME":break;case"PLAYING_START":V.isVideoPaused=!1,V.isVideoPlaying=!0,V.playingOrigin=n[0];break;case"VIDEO_STARTED":V.videoStarted=!0;break;case"AD_LOADED":case"AD_STARTED":V.adPodType=m(t),V.isOnAd=!0,V.adProgress=0,n&&n.length>1&&(V.adId=n[0],V.adTitle=n[1]);break;case"AD_FIRST_QUARTILE":V.adProgress=.25;break;case"AD_MID_POINT":V.adProgress=.5;break;case"AD_THIRD_QUARTILE":V.adProgress=.75;break;case"AD_COMPLETED":V.adProgress=1;break;case"AD_BREAK_STARTED":V.isOnAd=!0,V.adPodType=m(t),V.adPodIndex=void 0!==n[0]?n[0]:0;break;case"AD_BREAK_COMPLETED":V.isOnAd=!1;break;case"BUFFER_START":V.isVideoBuffering=!0;break;case"BUFFER_END":V.isVideoBuffering=!1;break;case"VIDEO_COMPLETED":V.isVideoPlaying=!1,V.isVideoCompleted=!0;break;case"USER_PAUSE":V.isVideoPlaying=!1,V.isVideoPaused=!0;break;case"USER_FORWARD_SEEK":case"USER_BACKWARD_SEEK":V.isVideoSeeking=!0,n&&n.length>2&&(V.seekingTo=n[1]);break;case"PROGRAM_CHANGED":V.eventId=n[0];break;case"BITRATE_CHANGED":V.currentBitrate=n[0];break;case"PLAYER_ERROR":n&&n.length>1&&(V.errorCode=n[0]||"",V.errorDescription=n[1]||"",n.length>2&&n[2]?(V.isFatalError=!0,V.isVideoPlaying=!1):V.isFatalError=!1);break;case"STATE_CHANGE":if(n&&n.length>0&&n[0])switch(V.playerState=n[0],V.playerState){case"playingVideoContent":V.isVideoPlaying=!0,V.isVideoPaused=!1,V.isVideoSeeking=!1,V.isVideoBuffering=!1;break;case"pausedVideoContent":V.isVideoPlaying=!1,V.isVideoPaused=!0}}i&&(V.failoverInProgress=i.failoverInProgress),B(t),V.contentInfo=t,g(function(t,i){i.sendBeacon(e,V,n,r)})}function b(e,t){V.videoDuration=t,V.previousVideoPlayhead=V.videoPlayhead,V.videoPlayhead=e,g(function(n,r){r.updateTime(e,t,V)})}function C(){x=L.DESTROYED,D(P),g(function(e,t){e.state!=L.DESTROYED&&(e.state=L.DESTROYED,t.destroy())})}function B(e){O.TIME_HOUR=e.hours,O.TIME_MINUTE=e.minutes,O.DATE=e.date,O.DAY=e.day,O.DATE_DAY=e.dayOfWeek,O.MVPD=e.mvpd,O.MVPD_DISPLAY_NAME=e.mvpdDisplayName,O.PLAYER_NAME=e.playerName,O.PLAYER_VERSION=e.version,O.CURRENT_TIME=parseFloat(e.timeIndex),O.AD_BREAK_INDEX=e.adBreakIndex,O.AD_INDEX=e.adIndex,O.AD_DURATION=e.adDuration,O.LAST_CONTENT_TIME_INDEX=e.lastContentTimeIndex,O.AD_POD_TYPE=m(e),O.AD_POD_INDEX=e.adBreakIndex+1,O.VIDEO_SCREEN_TYPE=e.fullscreen?"fullscreen":"normal",O.VIDEO_SCREEN=O.VIDEO_SCREEN_TYPE,O.VIDEO_PLAY_TYPE=e.autoManual,O.VIDEO_TITLE=e.contentTitle,O.VIDEO_DURATION=e.duration,O.PLAYER_INSTANCE=n.pInstance,O.STREAM_TYPE=e.live?"live":"vod",O.START_TYPE=e.autoManual,O.CATEGORY=e.categories,O.STATUS=e.status,O.CALLSIGN=e.callsign,O.PLATFORM=e.platform,O.EPISODE_NUMBER=e.episodeNumber,O.EVENT_ID=e.eventId,O.AIR_DATE=e.ts_airdate,O.SEASON=e.season,O.VIDEO_ID=e.live?e.videoId:e.eventId,O.ID=e.live?e.videoId:e.eventId,O.ID_TITLE=e.live?e.videoId:e.contentTitle}function w(e,t){var n=/\{\{(\w+)\}\}/,r={};if("object"==typeof e){for(var i in e)e.hasOwnProperty(i)&&(r[i]=w(e[i],t));return r}return n.test(e)?S(n,e,t):e}function S(t,n,r,i){var a,o,s;for(s=e.merge(O,r),o=t.exec(n);o&&o[1]in s;)a=n.replace(new RegExp(o[0]),s[o[1]]),n=i?encodeURIComponent(a):a,o=t.exec(n);return n}function T(e){var t,n;if(/^https?:\/\//i.test(e))t=e,n="";else{var r=document.createElement("a");r.href=e,t=r.href,n=t.replace(/[^\/]+$/i,"")}return{url:t,componentRoot:n}}function k(){var e="unknown";return"undefined"!=typeof navigator&&void 0!==navigator.connection&&(e=navigator.connection),e}function Q(e,t,n,r){M("startTimeout: "+t),e[t]=setTimeout(r,n)}function D(e){M("cancelAllTimeouts");for(var t in e)clearTimeout(t);e={}}function R(e,t){e&&e[t]&&(M("cancelTimeout: "+t),clearTimeout(e[t]),delete e[t])}function _(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,enumerable:!0,configurable:!1})}
var M=r?r.getLogFn("CustomPlugins"):function(){console.log.apply(console,["[!CustomPlugins!]\t"].concat(Array.prototype.slice.call(arguments)))},N="number"==typeof n.pluginsLoadingTimeout?1e3*n.pluginsLoadingTimeout:5e3,P={},O={},L={DESTROYED:-2,ERROR:-1,CREATED:0,LOADED:1,INITIALIZED:2,READY:3},x=L.CREATED,F=0,U=[],V={},G=null,H=null,j=null;return function(){if(void 0===window.anvp.AnvatoCustomPluginInterface){for(var n,r=function(e){this.name=e},a=[{name:"init",required:!0},{name:"onError",required:!1},{name:"sendBeacon",required:!1},{name:"updateTime",required:!1},{name:"destroy",required:!1}],s=0;s<a.length;s++)n=a[s],r.prototype[n.name]=function(e){return function(){e.required&&(this.error=!0,console.warn(e.name+" is not implemented from AnvatoCustomPluginInterface"))}}(n);_(r,"registerCustomPlugin",function(e){var t=h(e.name);t?(M("@registerCustomPlugin - plugin successfully registered: ",e.name),t.instance=e):M("@registerCustomPlugin - No plugin with name ",e.name," was registered.")}),G=new Mediator,G.subscribe("",function(){t.publish.apply(t,arguments)}),_(r,"mediator",G),j={getDerivedMetadata:i.getDerivedMetadata,injectMacros:w},_(r,"services",j),H=function(){var t={};return{getURL:T,loadJS:e.loadExternalJS,getDeviceInfo:e.getDeviceInfo,getConnectionType:k,startTimeout:function(e,n,r){Q(t,e,n,r)},timeoutExists:function(e){return void 0!==t[e]},cancelTimeout:function(e){R(t,e)},cancelAllTimeouts:function(){R(t)},deepCopy:e.deepCopy}}(),_(r,"util",H),_(r,"nodeInfo",o),_(window.anvp,"AnvatoCustomPluginInterface",r)}}(),function(){M("@startLoadingCustomPluginsScripts",JSON.stringify(n,null,3));var e,t,r,i,a=n;x=L.CREATED;for(var o in a)if(a.hasOwnProperty(o)&&a[o]&&a[o].script){if(h(o))continue;r=T(a[o].script),e=r.url,t=r.componentRoot,i={name:o,config:a[o],instance:null,state:L.CREATED},i.script={url:e,componentRoot:t},U.push(i)}U.length>0?A(0):l(),Q(P,"pluginsLoadingTimeout",N,function(){d(!0)})}(),{isReady:E,sendBeacon:I,updateTime:b,setMacros:v,setPostrollExpected:y,destroy:C,PluginState_:L,getReadyPluginsCount_:function(){return F},getAllPluginsState_:function(){return x}}}return t}),anv.define("PluginLoader",["util","pluginDFP","pluginFreeWheel","pluginOmniture","pluginHeartbeat","pluginHeartbeatBeta","pluginHeartbeatShared","pluginComScore","pluginComScoreWithDerivedMetadata","Analytic","pluginRTAnalytics","pluginGoogleCloudVideoAnalytics","pluginGoogleAnalytics","pluginMOAT","es6!pluginIas","es6!ProxyPal","es6!pluginHealthAnalytics","pluginMoatServerSide","pluginCustomPlugins"],function(e,t,n,r,i,a,o,s,l,u,c,d,A,g,p,f,h,m,E){function v(v,y,I,b,C,B,w){function S(){return{dfp:{getSource:function(e){return"//imasdk.googleapis.com/js/sdkloader/ima3.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==t},freewheel:{getSource:function(e){var t="//mssl.fwmrm.net/p/vitest-js/AdManager.js";if(e.freewheel&&e.freewheel.clientSide){t=k(e.freewheel.clientSide.html5||e.freewheel.clientSide,t)}return t},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==n},omniture:{getSource:function(e){return C.baseURL+"lib/omnituresdk.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==r},heartbeat:{getSource:function(e){return C.baseURL+"lib/heartbeat.min.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==i},heartbeatBeta:{getSource:T,appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==a},heartbeatShared:{getSource:T,appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==o},comscore:{getSource:function(t){var n,r={"4.1412.05":"lib/streamsense.4.1412.05.min.js","5.2.0":"lib/streamsense.5.2.0.160629.min.js"};return t.comscore&&(n=e.getClosestVersion(t.comscore.version,r,"4.1412.05")),C.baseURL+n},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==s},analytics:{getSource:function(e){return null},appended:!0,ready:!0,init:!1,instance:null,moduleAvailable:void 0!==u},realTimeAnalytics:{getSource:function(e){return null},appended:!0,ready:!0,init:!1,instance:null,moduleAvailable:void 0!==c},cloudVideoAnalytics:{getSource:function(e){return C.baseURL+"lib/CloudVideoAnalytics.min.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==d},googleAnalytics:{getSource:function(e){return"//www.google-analytics.com/analytics.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==A},moat:{getSource:function(e){return e&&e.moat&&e.moat.serverSide?null:C.baseURL+"lib/moatsdk.min.js"},appended:!!(y&&y.moat&&y.moat.serverSide),ready:!!(y&&y.moat&&y.moat.serverSide),init:!1,instance:null,moduleAvailable:void 0!==m},ias:{getSource:function(e){return"https://static.adsafeprotected.com/vans-adapter-google-ima.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==$},pal:{getSource:function(e){return null},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==ee},healthAnalytics:{getSource:function(e){return null},appended:!0,ready:!0,init:!1,instance:null,moduleAvailable:void 0!==te},customPlugins:{getSource:function(e){return null},appended:!0,ready:!0,init:!1,instance:null,moduleAvailable:void 0!==E}}}function T(e){var t,n={"1.5.6":"lib/VideoHeartbeat.1.5.6.min.js",DEFAULT:"lib/VideoHeartbeat.min.js",JOINT_DEFAULT:"lib/videoheartbeat.nielsen.1.6.9.min.js"};return e.heartbeatBeta&&(t=e.heartbeatBeta.version&&e.heartbeatBeta.version in n?n[e.heartbeatBeta.version]:"nielsen"in e.heartbeatBeta?n.JOINT_DEFAULT:n.DEFAULT),C.baseURL+t}function k(e,t){var n=t||null;return e&&"string"==typeof e.source&&(n=e.source.trim(),0!==n.indexOf("http://")&&0!==n.indexOf("https://")||(n=n.slice(n.indexOf(":")+1))),n}function Q(e){z("@loadPlugin",e);var t=document.getElementsByTagName("head")[0],n=document.createElement("script"),r=re[e].getSource(y);z("@loadPlugin",e),t.appendChild(n),re[e].appended=!0,n.onload=j.bind(n,e,r),n.onerror=K.bind(n,e,r),n.src=r,H(e,r)}function D(e){z("@polling trial #",++ae),clearTimeout(Z.poll);var t,n=!1,r={};ne=e;for(t in y)y[t]&&y[t].hasOwnProperty("script")&&!r.customPlugins?(r.customPlugins={},oe=!0):r[t]=y[t];for(t in r)r.hasOwnProperty(t)&&r[t]&&t in re&&re[t].moduleAvailable&&R(t)&&(z("@poll checking",t),re[t].getSource(r)&&!re[t].appended&&(y[t].libraryRequested?(re[t].appended=!0,z("skipped already requested plugin library for:",t)):(Q(t),n=!0)),re[t].appended&&!re[t].ready&&(_(t),n=!0),!re[t].ready||re[t].init||re[t].initFailed||(O(t,e),n=!0),re[t]&&re[t].init&&!re[t].initialized&&(M(t),n=!0));X=n,n?Z.poll=setTimeout(D.bind(null,e),10*ae*ae):(z("loadedPluginSDKs"),ae=0,N()||(z("publishing loadedPluginSDKs"),v.publish("loadedPluginSDKs")))}function R(e){return!(e in{dfp:1,freewheel:1})||!(!y[e]||(y[e].clientSide||y[e].serverSide)&&!y[e].clientSide)}function _(e){z("@checkPlugin",e);var t=!1;switch(e){case"freewheel":t="undefined"!=typeof tv&&void 0!==tv.freewheel;break;case"dfp":t="undefined"!=typeof google&&void 0!==google.ima&&(!y.moat||re.moat.ready&&re.moat.init)&&(!y.ias||re.ias.ready&&re.ias.init);break;case"omniture":t="undefined"!=typeof AppMeasurement;break;case"heartbeat":case"heartbeatBeta":case"heartbeatShared":t="undefined"!=typeof ADB;break;case"comscore":t="undefined"!=typeof ns_;break;case"googleAnalytics":t="undefined"!=typeof ga;break;case"moat":t="undefined"!=typeof initMoatTracking;break;case"ias":t="undefined"!=typeof googleImaVansAdapter;break;case"pal":t=void 0!==ee;break;case"cloudVideoAnalytics":t="undefined"!=typeof CloudVideoAnalytics;break;case"customPlugins":var n=re.customPlugins?re.customPlugins.instance:null;t=n&&n.isReady()}re[e].ready=t,z("@checkPlugin",e,"ready?:",t)}function M(e){z("@checkPluginInitialized",e);var t=!0;switch(e){case"customPlugins":var n=re.customPlugins?re.customPlugins.instance:null;t=n&&n.isReady()}re[e].initialized=t,z("@checkPluginInitialized",e,"initialized?:",t)}function N(){return z("@releaseUpdatePluginQueue"),!!J.length&&(P.apply(null,J.shift()),!0)}function P(t,n,r){z("@updatePlugin",b.stringify(n,null,3),r);var i,a=arguments.length,o={dfp:!0,freewheel:!0},s=[];if(n.clientSide&&X){for(z("polling in progress, can not update plugin, added to the queue");a--;)s[a]=arguments[a];return void J.push(s)}if(re[t]||(re[t]=S()[t]),!re[t]||!re[t].moduleAvailable)return void v.publish("pluginUpdated",t);y[t]=e.merge(y[t]||{},n),re[t]=re[t]||{},re[t].ready=!1,re[t].init=!1,v.publish("pluginUpdated",t),i=re[t].instance,t in o&&i&&"destroy"in i&&(z("@updatePlugin destroying",t,"for re-init"),i.destroy()),re[t].instance=null,n.clientSide?D(r):("dfp"in y&&console.warn("Disabled client-side ad due to the disable flag set from backend or onBeforeVideoLoad callback"),delete y.dfp)}function O(p,f){z("@initPlugin",p,y&&y[p]&&JSON.stringify(y[p],null,3)),z("@initPlugin",p," with contentInfo for",f.id||f.upload_id);var h=!0;switch(p){case"freewheel":if(y.freewheel&&y.freewheel.clientSide){var S=y.freewheel.clientSide.html5||y.freewheel.clientSide;if("networkId"in S){z("freewheel requested");try{S.displayBaseId=I.videoContainerNode.id,S.videoNodeId=I.videoNode.id,S.clickTrackerId=I.clickTracker.id,S.timerNodeId=I.adTimer.id,re.freewheel.instance=new n(S,v,C,b,w),re.freewheel.instance.init(f)}catch(e){re[p].initFailed=!0,B.dispatchError("PLGNL001",e.message||e)}}else re[p].initFailed=!0,B.dispatchError("PLGNL001","Failed to instantiate Freewheel plugin; networkId is not provided")}break;case"dfp":if("adTagUrl"in y.dfp||y.dfp.clientSide&&"adTagUrl"in y.dfp.clientSide){z("dfp requested");var T=y.dfp.clientSide&&"adTagUrl"in y.dfp.clientSide?y.dfp.clientSide.adTagUrl:y.dfp.adTagUrl;re.dfp.instance=null,e.safeSetInnerHtml(I.adNode,"");try{var k=e.merge(y.dfp.clientSide,{adTagUrl:T});k.skipInfo={layout:C.skip,adSkipTime:C.adSkipTime},k.overlayInfo=C.overlay,k.shared=C.shared,k.playerVersion=k.playerVersion||C.version,k.playerName=k.playerName||"Anvato Web Player",re.dfp.instance=new t(v,k,b,B,w,I,re.moat.instance,re.ias.instance)}catch(e){re[p].initFailed=!0,B.dispatchError("PLGNL001",e.message||e)}}else re[p].initFailed=!0,B.dispatchError("PLGNL001","Failed to instantiate DFP plugin; adTagUrl is not provided");break;case"omniture":y.omniture.parentPageURL=C.parentPageURL,y.omniture.pInstance=C.pInstance,y.omniture.profile=C.profile||C.mcp;try{re.omniture.instance=new r(v,y.omniture,b)}catch(e){re[p].initFailed=!0,B.dispatchError("PLGNL001",e.message||e)}break;case"heartbeat":y.heartbeat.parentPageURL=C.parentPageURL,y.heartbeat.pInstance=C.pInstance,y.heartbeat.profile=C.profile||C.mcp;try{re.heartbeat.instance=new i(v,y.heartbeat,b,B)}catch(e){re[p].initFailed=!0,B.dispatchError("PLGNL001",e.message||e)}break;case"heartbeatBeta":y.heartbeatBeta.parentPageURL=C.parentPageURL,y.heartbeatBeta.parentTitle=C.parentTitle,y.heartbeatBeta.pInstance=C.pInstance,y.heartbeatBeta.debug=C.debug,y.heartbeatBeta.profile=C.profile||C.mcp;try{"nielsen"in y.heartbeatBeta?re.heartbeatBeta.instance=new o(v,y.heartbeatBeta,b,B):re.heartbeatBeta.instance=new a(v,y.heartbeatBeta,b,B)}catch(e){re[p].initFailed=!0,B.dispatchError("PLGNL001",e.message||e)}break;case"comscore":try{y.comscore.useDerivedMetadata?re.comscore.instance=new l(v,y.comscore,b,B):re.comscore.instance=new s(v,y.comscore,b,B)}catch(e){re[p].initFailed=!0,B.dispatchError("PLGNL001",e.message||e)}break;case"analytics":update={duration:100,timeIndex:0,contentTitle:"Sample video",contentDefinition:"desc",videoURL:"http://anvato-ads.s3.amazonaws.com/ua/13/09/30/130930_382/2552732_B52BE5CB3666494F8535E9A2F82DDB1C_130930_2552732_Days_of_our_Lives_1200.m3u8",videoId:"2552845",appURL:"http://selcuk-vpd.anv.bz/v31/anvload.html?mcpId=QA&playerId=default&playlistId=53",type:{video:!0}},re.analytics.instance=new u(v,y.analytics,b);break;case"realTimeAnalytics":re.realTimeAnalytics.instance=new c(v,y.realTimeAnalytics,b);break;case"cloudVideoAnalytics":y.cloudVideoAnalytics.playerVersion=C.version;try{re.cloudVideoAnalytics.instance=new d(v,y.cloudVideoAnalytics,b)}catch(e){re[p].initFailed=!0,B.dispatchError("PLGNL001",e.message||e)}break;case"googleAnalytics":re.googleAnalytics.instance=new A(y.googleAnalytics,v,b,B),null==re.googleAnalytics.instance&&(re.googleAnalytics.initFailed=!0);break;case"moat":if(y&&y.moat&&y.moat.serverSide)re.moat.instance=new m(v,y.moat.serverSide,I.videoContainerNode,b,B);else if(y&&y.moat){var Q=y.moat.clientSide||y.moat;re.moat.instance=new g(Q,B,b)}break;case"ias":y&&y.ias&&(re.ias.instance=new $(y.ias,B,b));break;case"pal":y&&y.pal&&(re.pal.instance=new ee(y.pal,B,b));break;case"healthAnalytics":"healthAnalytics"in y&&!y.healthAnalytics||(y.healthAnalytics=y.healthAnalytics||{},y.healthAnalytics.accessKey=C.accessKey,y.healthAnalytics.playerVersion=C.version,re.healthAnalytics.instance=new te(y.healthAnalytics,b));break;case"customPlugins":var D=x();y&&Object.keys(D).length>0?(re.customPlugins.instance=new E(v,D,b,B,w,I,C.version),h=!1):re.customPlugins.initFailed=!0}re[p].initFailed?delete re[p]:(re[p].init=!0,re[p].initialized=h,v.publish("pluginInitialized",p))}function L(e){return e in{customPlugins:1}?oe:!!y[e]}function x(){var e={};for(var t in y)F(t)&&(oe=!0,e[t]=y[t]);return e}function F(e){return y[e]&&y[e].script}function U(e,t,n){z("@distributeCall ",e," : ",t&&t.length>0&&t[0]);var r,i={},a=t.length,o=[];for(n?"string"==typeof n?r=[n]:"object"==typeof pluginNames&&(r=n):r=Object.keys(re);a--;)o[a]=t[a];for(a=0;a<r.length;a++){var s=r[a];if(re.hasOwnProperty(s)&&!F(s)&&L(s)&&R(s)&&!re[s].initFailed)if(re[s].init&&re[s].initialized){if(q[s]&&q[s].length&&V(s),e in re[s].instance){z("Invoking ",e,"on plugin:",s);try{i[s]=re[s].instance[e].apply(re[s].instance,o)}catch(t){z("Error while distributing call to plugin",e,s,t.message)}}}else z("plugin not ready adding beacon to the queue for",s,e),q[s]=q[s]||[],q[s].push([e,o])}return i}function V(e){var t,n,r;if(z("@emptyBeaconQueue for ",e,"total items",q[e].length),!re[e].initFailed)for(;q[e].length;)n=q[e].shift(),t=n[0],r=n[1],z("@emptyBeaconQueue queue item",e),t in re[e].instance&&re[e].instance[t].apply(re[e].instance,r)}function G(e,t,n){z("@trackCustomEvent",b.stringify(e,null,3)),U("trackCustomEvent",[e,t],n)}function H(e,t){v.publish("pluginLibraryRequested",e,null)}function j(e,t){z("just loaded the script with source:",t,e),_(e),re[e].ready&&(re[e].init=!0,O(e,ne)),clearTimeout(Z.poll),D(ne),v.publish("pluginLibraryLoaded",e,null)}function Y(e,t){re[e].appended=!0,re[e].ready=!0,re[e].init=!0,re[e].instance=t,clearTimeout(Z.poll),D(ne)}function K(e,t){v.publish("pluginLibraryLoadFailed",e),B.dispatchError("PLGNL002","Failed to load the library for the plugin: "+e),delete re[e]}var q={},J=[],z=b?b.getLogFn("PluginLoader"):function(){console.log.apply(console,["[!PluginLoader!]\t"].concat(Array.prototype.slice.call(arguments)))},W={},Z={},X=!1,$=p.default,ee=f.default,te=h.default,ne={},re=S(),ie=["sendBeacon","resume","pause","getVolume","setVolume","requestAds","isCustomPlaybackUsed","isCustomClickTrackingUsed","initContainer","notifyVideoBegin","notifyVideoEnd","hasActiveAd","isActiveAdLinear","hasPreroll","hasPostroll","setPostrollExpected","hasAllAdsCompleted","setMacros","resize","getDuration","getAdDuration","getAdInformation","preloadAd","startAd","skipAd","replayEvents","resetHeartbeat","optOutNielsen","optInNielsen","updateTime","getCurrentTime","getContentPauseRequestTimeout"];y.analytics&&!y.analytics.serverURL&&(y.analytics.serverURL="http://analytics-v2.anvato.com/VideoAnalytics/src/video_log.php");var ae=0,oe=!1;return x(),z("Initialized"),function(){for(var e,t=0,n=ie.length;t<n;t++)e=ie[t],W[e]=function(e){return function(){for(var t=arguments.length,n=[];t--;)n[t]=arguments[t];return U(e,n)}}(e)}(),W.poll=D,W.isActive=function(e){return!!(e in re&&re[e].moduleAvailable)&&re[e].init},W.isAvailable=function(e){return!!(e in re&&re[e].moduleAvailable)&&re[e].init},W.isReady=function(e){return!!(e in re&&re[e].moduleAvailable)&&re[e].ready},W.isRequested=function(e){return e in re&&re[e].moduleAvailable&&e in y&&R(e)},W.updatePlugin=P,W.trackCustomEvent=G,W.onPluginLibraryRequested=H,W.onPluginLibraryLoaded=j,W.onPluginLibraryLoadError=K,W.onPluginInit=Y,W}return v}),anv.define("Logo",["util"],function(e){function t(t,n,r,i){function a(t){l(JSON.stringify(t,null,3)),t.url&&(s=!0,o=t,n.src=t.url,n.style.cursor="pointer",t.targetURL?n.onclick=function(){e.openURIInNewWindow(t.targetURL)}:n.style.pointerEvents="none",t.location=t.location.toLowerCase(),n.style[t.location.indexOf("l")>-1?"left":"right"]="0",n.style[t.location.indexOf("b")>-1?"bottom":"top"]="0",n.style[t.location.indexOf("r")>-1?"left":"right"]="",n.style[t.location.indexOf("t")>-1?"bottom":"top"]="",t.margin?n.style.margin=t.margin:(t.marginTop&&(n.style.marginTop=t.marginTop),t.marginRight&&(n.style.marginRight=t.marginRight),t.marginBottom&&(n.style.marginBottom=t.marginBottom),t.marginLeft&&(n.style.marginLeft=t.marginLeft)))}var o,s=!1,l=r?r.getLogFn("Logo"):function(){console.log.apply(console,["[!Logo!]\t"].concat(Array.prototype.slice.call(arguments)))};return n.style.position="absolute",n.style.display="none",n.style.zIndex="2147483648",i?(l("Setting logo from config"),a(i)):n.style.display="none",l("init",JSON.stringify(i)),{init:function(e){var t=o&&o.sizeFactor&&"number"==typeof o.sizeFactor?o.sizeFactor:1;"number"==typeof(e=parseFloat(e))&&(n.style.height=t*e/6+"px")},show:function(){s&&(n.style.display="block")},hide:function(){n.style.display="none"},setLogo:a,resize:function(e){e=parseFloat(e),o&&"number"==typeof e&&(n.style.height=o.sizeFactor*e/6+"px")}}}return t}),anv.define("Rating",["util"],function(e){function t(e,t,n,r){function i(e){l=!0,o=e,e.location=e.location.toLowerCase(),t.style[e.location.indexOf("l")>-1?"left":"right"]="0",t.style[e.location.indexOf("b")>-1?"bottom":"top"]="0",t.style.height=e.sizeFactor*t.parentNode.offsetHeight/6+"px",e.margin?t.style.margin=e.margin:(e.marginTop&&(t.style.marginTop=e.marginTop),e.marginRight&&(t.style.marginRight=e.marginRight),e.marginBottom&&(t.style.marginBottom=e.marginBottom),e.marginLeft&&(t.style.marginLeft=e.marginLeft)),e.duration&&(o.duration=parseFloat(e.duration))}function a(e,t){var n,r,i,a="",s={1:"y",2:"y7",3:"g",4:"pg",5:"14",6:"ma"},l={1:{},2:{fv:1,v:1},3:{d:1,dl:1,dls:1,ds:1,l:1,ls:1,s:1},4:{d:1,dl:1,dls:1,dlsv:1,dlv:1,ds:1,dsv:1,dv:1,l:1,ls:1,lsv:1,lv:1,s:1,sv:1,v:1},5:{d:1,dl:1,dls:1,dlsv:1,dlv:1,ds:1,dsv:1,dv:1,l:1,ls:1,lsv:1,lv:1,s:1,sv:1,v:1},6:{d:1,dl:1,dls:1,dlsv:1,dlv:1,ds:1,dsv:1,dv:1,l:1,ls:1,lsv:1,lv:1,s:1,sv:1,v:1}};return t=t||"",t=t.replace(/\s+/g,"").toLocaleLowerCase(),t=t.split(","),t=t.sort(),t=t.join(""),t=t.trim(),e in s?(n=s[e],e in s&&t&&l[e][t]&&(a=t),c(u+n+".png"),r=o&&"logoBaseUrl"in o?o.logoBaseUrl:u,i=o&&"format"in o?o.format:"tv_{{r}}_{{s}}.png",a.length||(i=i.replace(/(^.+\}\}).*(\{\{.*)/,"$1$2")),result=i.replace(/\{\{R\}\}/,n.toUpperCase()),result=result.replace(/\{\{r\}\}/,n),result=result.replace(/\{\{S\}\}/,a.toUpperCase()),result=result.replace(/\{\{s\}\}/,a),r+result):null}var o,s,l=!1,u="http://v9.anv.bz/assets/ratings/",c=n?n.getLogFn("Rating"):function(){console.log.apply(console,["[!Rating!]\t"].concat(Array.prototype.slice.call(arguments)))},d={};return t.style.position="absolute",t.style.display="block",r?(c("Setting rating from config"),i(r)):t.style.display="none",c("init",JSON.stringify(r)),{show:function(){l&&d.rating&&(t.style.display="block")},update:function(e,n){c("@update");var i=a(e,n);t.onload=function(){t.style.display="block"},l&&i&&(c("ratingSet",!0),t.src=i,(t.loaded||s==i)&&(t.style.display="block")),d.rating=setTimeout(function(){c("hiding rating..."),t.style.display="none",clearTimeout(d.rating)},1e3*(r&&r.duration?r.duration:10)),s=i},hide:function(){t.style.display="none"},setRating:i,resize:function(e){c("Ratio",e),o&&(t.style.height=e*o.sizeFactor*t.parentNode.offsetHeight/6+"px")}}}return t}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!Slate",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function a(e,n,r,i){return r=r||n,t.default.generateChild(e,"div",n,r,i)}function o(e){var t=a(e,"slate-frame"),n=a(t,"slate-animation");a(n,"slate-frame","slate-outer"),a(n,"slate-frame","slate-inner");return a(a(t,"slate-message-frame"),"slate-message","slate-message","Your video will be available shortly.")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=function(e){return e&&e.__esModule?e:{default:e}}(t);var s=function(){function e(t){n(this,e),this.baseElement_=t,this.message_=o(t)}return i(e,[{key:"show",value:function(e){e&&t.default.safeSetInnerHtml(this.message_,e),this.baseElement_.style.display="block"}},{key:"hide",value:function(){this.baseElement_.style.display="none"}},{key:"isDisplayed",value:function(){return"block"==this.baseElement_.style.display}}]),e}();e.default=s}),anv.define("StitchedAdTracker",["util"],function(e){function t(t,n,r,i){function a(e,t){return"start"==e.offset&&(e.offset=0),"start"==t.offset&&(t.offset=0),parseFloat(e.offset)-parseFloat(t.offset)}function o(e,t){var n,r,i,o,s;if(e.sort(a),m.linear=[],m.nonlinear=[],y=[],t&&t.tracking)for(var l=0,u=t.tracking.length;l<u;l++)E[t.tracking[l].type]=t.tracking[l].url;for(var c=0,d=e.length;c<d;c++){if(n=e[c],r=n.ads,s=n.tracking,o={},y.push({startTime:"start"==n.offset?0:parseFloat(n.offset),totalAds:r&&r.length||0}),s)for(var A=0;A<s.length;A++)o[s[A].type]=s[A].url;n.tracking=o;for(var g=0,p=r.length;g<p;g++)if(o={},r[g]&&r[g].tracking){for(var A=0,f=r[g].tracking.length;A<f;A++)i=r[g].tracking[A],o[i.type]=o[i.type]||[],o[i.type].push(i.url);r[g].tracking=o}"linear"==e[c].type?m.linear.push(e[c]):"nonlinear"==e[c].type&&m.nonlinear.push(e[c])}h("@setAdTrackerInfo Total linear ad breaks",m.linear.length),h("@setAdTrackerInfo Total nonlinear ad breaks",m.nonlinear.length)}function s(){return y}function l(n,a,o,s){var l,u,c,A,p,E;switch(h("@notifyAdEvent, event:",n,"adBreakIndex",a,"adIndex",o,"adSequenceIndex",s),void 0===s?m.linear[a]?(f=m.linear[a].ads[o],h("@notifyAdEvent, event:",n," adBreakId:",m.linear[a].id,"\tadId:",f&&f.ad_id,"\tadSequenceIndex:",s)):f=null:s>=1?(h("@notifyAdEvent using adSequenceIndex for matching tracker info"),m.linear[a]?(f=m.linear[a].ads[s-1],h("@notifyAdEvent, event:",n," adBreakId:",m.linear[a].id,"\tadId:",f&&f.ad_id,"\tadSequenceIndex:",s)):f=null):console.error("Encountered invalid adSequenceIndex"),l={USER_PAUSE:["pause"],USER_RESUME:["resume"],USER_MUTE:["mute"],USER_UNMUTE:["unmute"],USER_FULLSCREEN:["fullscreen","expand"],USER_CANCEL_FULLSCREEN:["exitFullscreen","collapse","minimize"],AD_CLICKED:["ClickTracking","defaultClick"]},c={AD_STARTED:["impression","start","defaultImpression"],AD_FIRST_QUARTILE:["firstQuartile"],AD_MID_POINT:["midpoint"],AD_THIRD_QUARTILE:["thirdQuartile"],AD_COMPLETED:["complete"]},l=e.merge(l,c),n){case"AD_STARTED":if(f&&f.tracking.ClickThrough&&f.tracking.ClickThrough.length?(h("adding event listener for url",f,f.tracking.ClickThrough[0]),E=g.bind(null,a,o,s),e.addEventListener(i,"click",E),v.push(E)):r.dispatchError("ADTR001"),f&&f.companions&&f.companions.length)for(A=f.companions.length;A--;)p=f.companions[A],t.publish("companionContent",p.width,p.height,null,p);break;case"AD_COMPLETED":for(;v&&v.length;)e.removeEventListener(i,"click",v.shift())}if(l[n]&&f)for(var y=0,I=l[n].length;y<I;y++)u=l[n][y],h("@notifyAdEvent pinging for ",u,f.tracking[u]&&f.tracking[u].length),d(f.tracking[u],a,o,u),n in c&&delete m.linear[a].ads[o].tracking[u],h("@notifyAdEvent remaining:",JSON.stringify(f.tracking,null,3))}function u(e,t){var n,r,i={AD_SLOT_STARTED:["breakStart","slotImpression"],AD_SLOT_COMPLETED:["breakEnd","slotEnd"]};if(e in i&&m&&m.linear&&m.linear[t])for(n=m.linear[t];i[e].length;){var a=i[e].shift();n.tracking&&n.tracking[a]&&(r=n.tracking[a],r=r.constructor==Array?r:[r],d(r,t,0,a))}}function c(t,n){var r;if("VAST_VIDEO_VIEW"==t){m.linear&&m.linear.length&&m.linear[0]?r=m.linear[0].tracking:m.nonlinear&&m.nonlinear.length&&m.nonlinear[0]&&(r=m.nonlinear[0].tracking),r=r||{},E&&(r=e.merge(r||{},E));var i=r.videoView;if(!i)return;i+=(i.indexOf("?")>=0?"&":"?")+"init="+(0==n?1:0),i+="&ct="+n,d([i],0,"non-ad","videoView")}}function d(t,n,r,i){var a;if(t)for(a=t.length;a--;)h("@pingUrls",a,t[a],i),e.touchURL(t[a],A.bind(null,"success",t[a],n,r,i),A.bind(null,"error",t[a],n,r,i))}function A(e,t,n,r,i,a){h("@tallyPingResults",e,t,n,r,i),I[n]=I[n]||{},I[n][r]=I[n][r]||{},I[n][r][i]=I[n][r][i]||{},I[n][r][i][e]=I[n][r][i][e]||0,I[n][r][i][e]++,a&&h("@tallyPingResults",a),h("@tallyPingResults",JSON.stringify(I,null,3))}function g(t,n,i){f&&f.tracking&&f.tracking.ClickThrough&&f.tracking.ClickThrough.length?(h("@onAdClick",f.tracking.ClickThrough[0]),r.dispatchEvent("AD_CLICKED"),e.openURIInNewWindow(f.tracking.ClickThrough[0]),l("AD_CLICKED",t,n,i)):h("@onAdClick no clickthrough URL found!")}function p(e,t,n){if(h("@getAd",e,t,n),m&&m.linear)return void 0===n?m.linear[e]?m.linear[e].ads[t]:null:n>=1?m.linear[e]?(h("@notifyAdEvent using adSequenceIndex for matching tracker info"),m.linear[e].ads[n-1]):null:(console.error("Encountered invalid adSequenceIndex"),null)}var f,h=n?n.getLogFn("StitchedAdTracker"):function(){console.log.apply(console,["[!StitchedAdTracker!]\t"].concat(Array.prototype.slice.call(arguments)))},m={linear:[],nonlinear:[]},E={},v=[],y=[],I={};return{setAdTrackerInfo:o,notifyAdEvent:l,notifyAdSlotEvent:u,notifyNonAdEvent:c,getAd:p,getAdSlots:s}}return t}),anv.define("StitchedAdManager",["util","StitchedAdTracker"],function(e,t){function n(n,r,i,a,o){function s(e){M=e}function l(t,n,r,i){x("@getAdBreaks"),M=t||M,U.adBreakSuccess=r,U.adBreakError=i,e.download(M,null,c.bind(null,n),d)}function u(e,t,r){x("@resetAdBreaks",e);var a=[];A(a,e),i&&i.dispatchEvent&&i.dispatchEvent("AD_BREAKS",a),n.publish("adBreaks",a,e),x("@resetAdBreaks",a),t&&t(a)}function c(t,n){x("@onAdBreaks",n,t);var r,i,a=[];try{n=e.str2XML(n)}catch(e){}x("@onAdBreaks",n),n=n.getElementsByTagName("interstitial");for(var o=0,s=n.length;o<s;o++)r=n[o].getElementsByTagName("start")[0],i=n[o].getElementsByTagName("end")[0],r=r.childNodes&&r.childNodes.length?r.childNodes[0].nodeValue:null,i=i.childNodes&&i.childNodes.length?i.childNodes[0].nodeValue:null,a.push({start:parseFloat(r),end:parseFloat(i)});A(a,t),x("@onAdBreaks",a),U.adBreakSuccess&&U.adBreakSuccess(a,t)}function d(e){i&&i.dispatchError&&i.dispatchError("ADST001",e),U.adBreakError&&U.adBreakError(e)}function A(e,t){x("@populateZones",e,t);var n,i=0,a=0,o=0,s=!1;t=parseFloat(t),N=N||{},N.totalAdDuration=0,N.zones=[],s=e&&e.length>0&&"break_idx"in e[0];for(var l=0,u=e.length;l<u;l++){if(i!=e[l].start&&N.zones.push({start:i,end:e[l].start,type:"content",adOffset:N.totalAdDuration,chapterIndex:a++}),e[l].ads&&e[l].ads.length){n=0;for(var c=0,d=e[l].ads.length;c<d;c++)e[l].ads[c].offset=n,n+=e[l].ads[c].duration}N.zones.push({start:e[l].start,end:e[l].end,type:"ad",ads:e[l].ads,adOffset:N.totalAdDuration,duration:e[l].end-e[l].start,adBreakIndex:s?e[l].break_idx:o++,declaredTotalAds:e[l].ad_count}),N.totalAdDuration+=e[l].end-e[l].start,i=e[l].end}i!=t&&N.zones.push({start:i,end:t+N.totalAdDuration,type:"content",adOffset:N.totalAdDuration,chapterIndex:a++}),x("zones:",r.stringify(N.zones,null,3)),x("totalAdDuration",N.totalAdDuration)}function g(e,t){return x("isIn",e,t),x("isIn",e,N.zones[t].start,N.zones[t].end),e<N.zones[t].end&&e>=N.zones[t].start}function p(e){x("@translateToAbsoluteTime",e,N&&N.zones);var t,n,r;if(!N||!N.zones)return e||0;for(var i=0,a=N.zones.length;i<a;i++)if("ad"==N.zones[i].type?r=e+N.zones[i].adOffset+N.zones[i].duration:(t=N.zones[i].start-N.zones[i].adOffset,n=N.zones[i].end-N.zones[i].adOffset,x("@translateToAbsoluteTime checking zone: #",i,t,n),r=e+N.zones[i].adOffset),g(r,i))return x("@translateToAbsoluteTime translated",r),r}function f(e,t){var n,r;if(void 0===N.currentZoneIndex||N.currentZoneIndex>=N.zones.length||void 0!==N.currentZoneIndex&&!g(e,N.currentZoneIndex)){x("updating currentZoneIndex...");for(var i=0,a=N.zones.length;i<a;i++)if(g(e,i)){N.currentZoneIndex=i;break}x("zone index:",N.currentZoneIndex,JSON.stringify(N.zones[N.currentZoneIndex],null,3))}if(n=N.zones[N.currentZoneIndex],"ad"==n.type){if(r={currentTime:e-n.start,totalTime:n.duration,contentType:"ad",adBreakIndex:n.adBreakIndex,absoluteOffset:n.start,contentOffset:n.start-n.adOffset},n.ads&&n.ads.length){if(void 0===N.currentAdIndex||N.currentAdIndex>=n.ads.length||void 0!==N.currentAdIndex&&(r.currentTime>=n.ads[N.currentAdIndex].offset+n.ads[N.currentAdIndex].duration||r.currentTime<n.ads[N.currentAdIndex].offset)){x("updating currentAdIndex...");for(var o=0,s=n.ads.length;o<s;o++)if(x("checking currentAdIndex... j="+o,r.currentTime,n.ads[o].offset+n.ads[o].duration,"|",r.currentTime,n.ads[o].offset),r.currentTime<n.ads[o].offset+n.ads[o].duration&&r.currentTime>=n.ads[o].offset){N.currentAdIndex=o;break}x("current ad index:",N.currentAdIndex,JSON.stringify(n.ads[N.currentAdIndex],null,3))}r.currentAdTime=r.currentTime-n.ads[N.currentAdIndex].offset,r.currentAdDuration=n.ads[N.currentAdIndex].duration,r.currentAdSequenceIndex=n.ads[N.currentAdIndex].sequence,r.adIndex=N.currentAdIndex,r.totalAds=n.declaredTotalAds?n.declaredTotalAds-r.currentAdSequenceIndex+N.currentAdIndex+1:n.ads.length,r.ads=n.ads}return r}for(var l={currentTime:e-n.adOffset,totalTime:t?parseFloat(t)-N.totalAdDuration:void 0,startTime:n.start-n.adOffset,endTime:n.end-n.adOffset,contentType:"content",chapterIndex:n.chapterIndex},u=0,c=F.length;u<c;u++)if(!F[u].totalAds&&e-n.adOffset<F[u].startTime+.5&&e-n.adOffset>F[u].startTime-.5){l.unservedSlotIndex=u;break}return l}function h(e,t){i[e]=t}function m(){return N&&N.zones||[]}function E(e){J=e}function v(e,t){P&&e&&(P.setAdTrackerInfo(e,t),F=P.getAdSlots(),q=null)}function y(e){x("@updateState",r.stringify(e,null,3));var t=null;if("ad"!=V.contentType&&"ad"==e.contentType&&(J.isLive||(t=e.totalTime?e.totalTime:null),C("AD_SLOT_STARTED",e.adBreakIndex),C("AD_BREAK_STARTED",e.adBreakIndex,t),void 0===e.adIndex&&b("AD_STARTED",e.adBreakIndex)),"content"!=V.contentType&&"content"==e.contentType&&"ad"==V.contentType&&(J.isLive||(t=V.totalTime?V.totalTime:null),b("AD_COMPLETED",V.adBreakIndex,V.adIndex,V.currentAdSequenceIndex),C("AD_BREAK_COMPLETED",V.adBreakIndex,t),C("AD_SLOT_COMPLETED",V.adBreakIndex)),"ad"==e.contentType)V.adQuartiles=V.adQuartiles||{},e.adQuartiles=V.adQuartiles,V.adIndex!=e.adIndex&&(V.adIndex<e.adIndex&&b("AD_COMPLETED",e.adBreakIndex,V.adIndex,V.currentAdSequenceIndex),b("AD_STARTED",e.adBreakIndex,e.adIndex,e.currentAdSequenceIndex),e.adQuartiles={},V.adQuartiles={}),!e.adQuartiles.AD_FIRST_QUARTILE&&e.currentAdTime>e.currentAdDuration/4&&(b("AD_FIRST_QUARTILE",e.adBreakIndex,e.adIndex,e.currentAdSequenceIndex),e.adQuartiles.AD_FIRST_QUARTILE=1),!e.adQuartiles.AD_MID_POINT&&e.currentAdTime>e.currentAdDuration/2&&(b("AD_MID_POINT",e.adBreakIndex,e.adIndex,e.currentAdSequenceIndex),e.adQuartiles.AD_MID_POINT=1),!e.adQuartiles.AD_THIRD_QUARTILE&&e.currentAdTime>3*e.currentAdDuration/4&&(b("AD_THIRD_QUARTILE",e.adBreakIndex,e.adIndex,e.currentAdSequenceIndex),e.adQuartiles.AD_THIRD_QUARTILE=1);else{L=L||e.currentTime,O=O||0;var n=e.currentTime-L;if(n<.5){O+=n;var i=O-K;if(i>=0){O=i,I("VAST_VIDEO_VIEW",K),Y++;var a=j.length-1;K=Y>a?j[a]:j[Y]}var o=Math.abs(q-e.currentTime)>2;"number"==typeof e.unservedSlotIndex&&(null==q||o)&&(q=e.currentTime,C("AD_SLOT_STARTED",e.unservedSlotIndex),C("AD_SLOT_COMPLETED",e.unservedSlotIndex))}L=e.currentTime}V=e}function I(e,t){x("@dispatchNonAdEvent",e,t),w(e,t)}
function b(e,t,n,r){var a,s,l,u,c;N&&N.zones&&(c=N.zones[N.currentZoneIndex],u=c&&c.ads?c.ads.length:null,s=c&&c.ads&&c.ads[n]?c.ads[n].duration:null),x("@dispatchAdEvent",e,t,n,r),P?(a=P.getAd(t,n,r),l=["ad",t,n].join("_")):l=["ad",t].join("_");var d={clickThrough:"ClickThrough",clickTracking:"ClickTracking",defaultClick:"defaultClick",fullscreen:"fullscreen",expand:"expand",minimize:"minimize",collapse:"collapse",exitFullscreen:"exitFullscreen"},A={};if(o.chromeless&&a&&a.tracking)for(var g in d)d.hasOwnProperty(g)&&(A[g]=a.tracking[d[g]]||null);else x("skipping populating revealedTrackingUrls due to no chromeless flag or currentAd not set");i.dispatchEvent(e,a?a.ad_id:l,a?a.ad_title:l,"Anvato Ad Stitcher",a?{pars:a.pars,media:a.media,tracking:A,adIndex:n,totalAds:"number"==typeof u?u:null,duration:s}:{}),S(e,t,n,r)}function C(e,t,n){x("@dispatchAdBreakEvent",e,t,n),i.dispatchEvent(e,t,n),B(e,t,n)}function B(e,t,n){P&&P.notifyAdSlotEvent(e,t)}function w(e,t){P&&P.notifyNonAdEvent(e,t)}function S(e,t,n,r){P&&void 0!==n&&P.notifyAdEvent(e,t,n,r)}function T(e){"ad"==V.contentType&&S(e,V.adBreakIndex,V.adIndex,V.currentAdSequenceIndex)}function k(){var e=null;J.isLive||(e=V.totalTime?V.totalTime:null),b("AD_COMPLETED",V.adBreakIndex,V.adIndex,V.currentAdSequenceIndex),C("AD_BREAK_COMPLETED",V.adBreakIndex,e)}function Q(e){if(!N||!N.zones)return null;for(var t=0;t<N.zones.length;t++)if(N.zones[t].adBreakIndex==e)return N.zones[t];return null}function D(e){var t,n=-1,r=-1;if(!N||!N.zones)return null;for(var i=0;i<N.zones.length;i++)zone=N.zones[i],t=Math.abs(e-zone.start),"ad"==zone.type&&(n<0||t<n)&&(n=t,r=i);return N.zones[r]}function R(e){var t;if(!N)return null;if(z&&z.start<=e&&e<z.end)return z;for(var n=0;n<N.zones.length;n++)if(t=N.zones[n],t.start<=e&&e<t.end){z=t;break}return z}function _(e,t,n){var r,i,a=N&&N.zones,o=R(e);return!(!a||a.length<2||!o)&&((!n||"content"!=o.type||o.start!=a[a.length-1].start)&&(!(!n&&"content"==o.type&&o.start==a[0].start)&&(r=n?o.start:o.end,i=n?o.end:o.start,"ad"==o.type?Math.abs(e-r)<t:Math.abs(e-i)<t)))}var M,N,P,O,L,x=r?r.getLogFn("StitchedAdManager"):function(){console.log.apply(console,["[!StitchedAdManager!]\t"].concat(Array.prototype.slice.call(arguments)))},F=[],U={},V={},G="adBreakDetail"in o&&o.adBreakDetail||!("adBreakDetail"in o)?"fp":"plan",H=!("clientSideAdTracking"in o)||!!o.clientSideAdTracking,j=[0,5,10,15,30,60,120,180,300],Y=0,K=j[0],q=null,J={isLive:void 0},z=null;return"fp"==G&&H&&(x("instantiating StitchedAdTracker since adBreakMode:",G,"trackAds:",H),P=new t(n,r,i,a)),{notifyPostrollEnd:k,setAdBreakUrl:s,getAdBreaks:l,resetAdBreaks:u,translateToAbsoluteTime:p,translateToPresentation:f,setService:h,setVideoInfo:E,getZones:m,populateZones:A,setAdTrackerInfo:v,updateState:y,onUserInteraction:T,getAdBreakByIndex:Q,getAdBreakByTime:D,isNearAdBreakBoundary:_}}return n}),anv.define("SphericalRenderer",["util"],function(e){function t(e,t){var n,r,i=(t&&t.getLogFn("VRRenderer"),{minFilter:THREE.LinearFilter,magFilter:THREE.NearestFilter,format:THREE.RGBAFormat}),a=e,o=new THREE.OrthographicCamera(-1,1,1,-1,0,1),s=new THREE.Scene,l=new THREE.StereoCamera,u=new THREE.WebGLRenderTarget(512,512,i),c=new THREE.Vector2(.441,.156),d=new THREE.PlaneBufferGeometry(1,1,10,20).removeAttribute("normal").toNonIndexed(),A=d.attributes.position.array,g=d.attributes.uv.array,p=new Float32Array(2*A.length),f=new Float32Array(2*g.length),h=new THREE.Vector2,m=A.length/3;u.scissorTest=!0,l.aspect=.5,p.set(A),p.set(A,A.length),f.set(g),f.set(g,g.length);for(var E=0,v=p.length/3;E<v;E++){h.x=p[3*E],h.y=p[3*E+1];var y=h.dot(h),I=1.5+(c.x+c.y*y)*y,b=E<m?0:1;p[3*E]=h.x/I*1.5-.5+b,p[3*E+1]=h.y/I*3,f[2*E]=.5*(f[2*E]+b)}return d.attributes.position.array=p,d.attributes.uv.array=f,n=new THREE.MeshBasicMaterial({map:u}),r=new THREE.Mesh(d,n),s.add(r),{setSize:function(e,t){var n;a.setSize(e,t),n=a.getPixelRatio(),u.setSize(e*n,t*n)},render:function(e,t){var n,r;e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),l.update(t),n=u.width/2,r=u.height,u.scissor.set(0,0,n,r),u.viewport.set(0,0,n,r),a.render(e,l.cameraL,u),u.scissor.set(n,0,n,r),u.viewport.set(n,0,n,r),a.render(e,l.cameraR,u),a.render(s,o)},destroy:function(){d.dispose(),n.dispose(),d=null,n=null}}}function n(t,n,r){function i(e){_.theta-=e}function a(e){_.phi-=e}function o(e){M.set(e.clientX,e.clientY)}function s(e){N.set(e.clientX,e.clientY),P.subVectors(N,M);var t=n===document?n.body:n;i(-2*Math.PI*P.x/t.clientWidth*D),a(-2*Math.PI*P.y/t.clientHeight*D),M.copy(N),I()}function l(e){M.set(e.touches[0].pageX,e.touches[0].pageY)}function u(e){N.set(e.touches[0].pageX,e.touches[0].pageY),P.subVectors(N,M);var t=n===document?n.body:n;i(-2*Math.PI*P.x/t.clientWidth*D),a(-2*Math.PI*P.y/t.clientHeight*D),M.copy(N),I()}function c(t){t.preventDefault(),o(t),e.addEventListener(document,"mousemove",d),e.addEventListener(document,"mouseup",A),V=!0}function d(e){e.preventDefault(),s(e)}function A(t){e.removeEventListener(document,"mousemove",d),e.removeEventListener(document,"mouseup",A),V=!1}function g(e){l(e)}function p(e){e.preventDefault(),e.stopPropagation(),u(e)}function f(e){e.preventDefault()}function h(e){B=e,I()}function m(e){O=window.orientation||0,I()}function E(e,t,n,r,i){x.set(n,t,-r,"YXZ"),e.setFromEuler(x),e.multiply(U),e.multiply(F.setFromAxisAngle(L,-i))}function v(e,t,n,r){var i,a,o,s=e*t+n*r;if(s>.499){o=2*Math.atan2(e,r),i=Math.PI/2,a=0;var l=new THREE.Vector3(i,a,o);return l}if(s<-.499){o=-2*Math.atan2(e,r),i=-Math.PI/2,a=0;var l=new THREE.Vector3(i,a,o);return l}var u=e*e,c=t*t,d=n*n;o=Math.atan2(2*t*r-2*e*n,1-2*c-2*d),i=Math.asin(2*s),a=Math.atan2(2*e*r-2*t*n,1-2*u-2*d);var l=new THREE.Vector3(i,a,o);return l}function y(){e.removeEventListener(window,"orientationchange",m),e.removeEventListener(window,"deviceorientation",h),e.removeEventListener(n,"contextmenu",f),e.removeEventListener(n,"mousedown",c),e.removeEventListener(n,"touchstart",g),e.removeEventListener(n,"touchmove",p),V&&(e.removeEventListener(document,"mousemove",d),e.removeEventListener(document,"mouseup",A),V=!1)}function I(){var e=t.position;if(R.setFromVector3(G),R.theta+=_.theta,R.phi+=_.phi,R.theta=Math.max(k,Math.min(Q,R.theta)),R.phi=Math.max(S,Math.min(T,R.phi)),R.makeSafe(),R.radius=r,G.setFromSpherical(R),e.copy(w).add(G),t.lookAt(w),_.set(0,0,0),B){var n=B.alpha?THREE.Math.degToRad(B.alpha):0,o=B.beta?THREE.Math.degToRad(B.beta):0,s=B.gamma?THREE.Math.degToRad(B.gamma):0,l=O?THREE.Math.degToRad(O):0,u=(new THREE.Quaternion).copy(t.quaternion);E(u,n,o,s,l);var c=v(u.x,u.y,u.z,u.w);b&&i(b-c.z),b=c.z,C&&a(C-c.y),C=c.y}}var b,C,B,n=void 0!==n?n:document,w=new THREE.Vector3,S=0,T=Math.PI,k=-1/0,Q=1/0,D=1,R=new THREE.Spherical,_=new THREE.Spherical,M=new THREE.Vector2,N=new THREE.Vector2,P=new THREE.Vector2,O=window.orientation||0,L=new THREE.Vector3(0,0,1),x=new THREE.Euler,F=new THREE.Quaternion,U=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),V=!1,G=new THREE.Vector3,H=new THREE.Spherical;return H.radius=.1,H.theta=Math.PI/2,H.phi=Math.PI/2,G.setFromSpherical(H),e.addEventListener(window,"orientationchange",m),e.addEventListener(window,"deviceorientation",h),e.addEventListener(n,"contextmenu",f),e.addEventListener(n,"mousedown",c),e.addEventListener(n,"touchstart",g),e.addEventListener(n,"touchmove",p),I(),{update:I,destroy:y}}function r(e,r,i,a,o){function s(){var e;if(p.readyState===p.HAVE_ENOUGH_DATA){var t=(new Date).getTime();t-h>=30&&(b.needsUpdate=!0,h=t)}(e=l())&&(f.animation=requestAnimationFrame(s))}function l(){try{i?y.render(m,E):v.render(m,E)}catch(e){return console.error("Encountered an error while WebGL rendering",e.name,e.message),o.publish("detectedSphericalRendererError",e.name),!1}return!0}function u(e,t){width=e,height=t,E.aspect=e/t,E.updateProjectionMatrix(),v.setSize(e,t),y.setSize(e,t)}function c(){r.style.display="block"}function d(){r.style.display="none"}function A(){"cancelAnimationFrame"in window&&f.animation&&(g("@destroy calling cancelAnimationFrame"),window.cancelAnimationFrame(f.animation)),m.remove(C),m=null,b.dispose(),y&&(y.destroy(),y=null),v=null,E=null,I.destroy()}var g=a?a.getLogFn("SphericalRenderer"):function(){console.log.apply(console,["[!SphericalRenderer!]\t"].concat(Array.prototype.slice.call(arguments)))},p=e,f={},h=(new Date).getTime(),m=new THREE.Scene,E=new THREE.PerspectiveCamera(135,2,.1,1e3);p.crossOrigin="anonymous",E.fov=i?135:90;var v=new THREE.WebGLRenderer({canvas:r});v.setSize(r.width,r.height);var y=new t(v,a);v.setClearColor(0,1),v.domElement.style.cursor="move",u(r.width,r.height);var I=n(E,document,.1),b=new THREE.Texture(p);b.generateMipmaps=!1,b.minFilter=THREE.LinearFilter,b.magFilter=THREE.LinearFilter,b.wrapS=THREE.ClampToEdgeWrapping,b.format=THREE.RGBFormat;var C=new THREE.Mesh(new THREE.SphereGeometry(.5,32,32),new THREE.MeshBasicMaterial({map:b}));return C.scale.x=-1,m.add(C),s(),{render:l,resize:u,show:c,hide:d,showMono:function(){i=!1},showStereo:function(){i=!0},destroy:A}}return r}),anv.define("ControllerInterface",["util","Control"],function(e,t){function n(t,n,r){function i(){var t,n={};for(var r in f)if(f.hasOwnProperty(r)){n[r]=function(){this.notImplementedWarning_=!1},t=f[r].methods;for(var i=0,a=t.length;i<a;i++)n[r].prototype[t[i]]=function(t,n){return function(){this.notImplementedWarning_&&console.warn(t+" is not implemented from "+e.capitalize(n)+"Interface")}}(t[i],r);Object.defineProperty(window.anvp,e.capitalize(r)+"Interface",{value:n[r],writable:!1,enumerable:!0,configurable:!1})}}function a(n,r,a){function o(e){if(/^https?:\/\//i.test(e))C=e,B="";else{var t=document.createElement("a");t.href=e,C=t.href,B=C.replace(/[^\/]+$/i,"")}return{url:C,componentRoot:B}}function m(){++D==_&&v()}function E(e){T.innerHTML=e;for(var t=T.childNodes,n=0;n<t.length;n++)t[n].tagName&&"STYLE"==t[n].tagName&&document.head.appendChild(t[n].cloneNode(!0));m()}function v(){function t(){++Q==M.length&&b()}function n(t,n){var r=document.createElement("script");r.type="text/javascript",r.async=!1,r.onload=n,e.isSecureSocket()&&(t=t.replace(/^https*:\/\//,"https://")),r.src=t,document.head.appendChild(r)}function r(e){(e=void 0===e?0:e)<=i.length-1&&n(i[e],function(){r(e+1),t()})}for(var i=[],a=0;a<M.length;a++)switch(S=o(M[a].url),C=S.url,M[a].type){case"script":i.push(C);break;case"stylesheet":!function(n){var r=document.createElement("link");r.rel="stylesheet",e.isSecureSocket()&&(n=n.replace(/^https*:\/\//,"https://")),r.href=n,document.head.appendChild(r),r.onload=function(){t()}}(C)}r()}function y(){w&&!c&&(r.appendChild(w),c=!0)}function I(e,t,n){var r;if(!e)throw n+" is missing.";"object"==typeof e?r=e:"function"==typeof e&&(r=new e);for(var i=0;i<t.length;i++)if("function"!=typeof r[t[i]])throw t[i]+" on "+n+" is not implemented.";return r.destroy&&r.destroy(),!0}function b(){y();var e={},t=I(s,["readyCallback"],"AnvatoCustomUIInterface");for(var r in f)if(!n.customUIController.showUIComponents||n.customUIController.showUIComponents&&r in n.customUIController.showUIComponents&&!n.customUIController.showUIComponents[r]){var i=r.charAt(0).toUpperCase()+r.slice(1);t=t&&I(s[r],f[r].methods,i),e[r]=function(e,t){return"object"==typeof e?function(){var n=e;if(t)for(var r in t)n[r]=t[r];return n}:"function"==typeof e?e:void 0}(s[r],f[r].hiddenMethods),p[r]=!0}t&&(s.readyCallback(),a(e),d=!0)}var C,B,w,S,T=document.createElement("root");if(i(),l=new Mediator,l.subscribe("",function(){var e=arguments[arguments.length-1];if(e.namespace in h){for(var n=h[e.namespace],r=arguments.length-1,i=[];r--;)i[r]=arguments[r];i=[n].concat(i),t.publish.apply(t,i)}}),n.customUIController.customControllerURL)S=o(n.customUIController.customControllerURL),C=S.url,B=S.componentRoot,u=document.createElement("link"),u.rel="import",u.href=C,document.head.appendChild(u),u.onload=function(){w=u.import.querySelector("anvato-controller"),b()};else if(n.customUIController.loadAssets){for(var k=n.customUIController.loadAssets,Q=0,D=0,R=!1,_=0,M=[],N=0;N<k.length;N++)switch(S=o(k[N].url),C=S.url,k[N].type){case"view":_++,R=!0,function(t){e.download(t,null,E)}(C);break;default:M.push(k[N])}R||v()}for(var P=function(){if(A)throw"Only one custom UI interface is allowed.";n.customUIController.customControllerURL?u.import&&(w=u.import.querySelector("anvato-controller")):n.customUIController.loadAssets&&(w=T.getElementsByTagName("anvato-controller")[0]),y(),s=this,A=!0},O={fullscreenSupport:g,captionProps:{fonts:["Arial","Courier","Georgia","Lucida Sans","Tahoma","Times New Roman","Verdana"],opacity:[0,25,50,75,100],colors:[[255,255,255],[7,247,247],[9,9,249],[4,246,5],[252,252,10],[248,9,248],[246,5,6],[0,0,0]],edges:["None","Drop Shadow","Raised","Depressed","Uniform"]}},L=["mediator","container","componentRoot","staticData"],x=[l,r,B,O],N=0;N<L.length;N++)!function(e,t){Object.defineProperty(P,e,{value:t,writable:!1,enumerable:!0,configurable:!1})}(L[N],x[N]);Object.defineProperty(window.anvp,"AnvatoCustomUIInterface",{value:P,writable:!1,enumerable:!0,configurable:!1})}function o(){return p}var s,l,u,c=!1,d=!1,A=!1,g="hasVideoFullscreenSupport"in r&&r.hasVideoFullscreenSupport||"hasContainerFullscreenSupport"in r&&r.hasContainerFullscreenSupport;n&&n.getLogFn("ControllerInterface");window.anvp=window.anvp||{};var p={},f={control:{methods:["init","rescale","updateDuration","updateLanguage","setDuration","setVisibilityMode","showTemporarily","setPaused","setFullscreen","setAvailableCaptionLanguages","setAvailableBitrates","setPlaylistReady","showRecallLabel","hideRecallLabel","setLive","setLiveCatch","setAdMode","setCastMode","setVolume","setDownload","toggleVolume","updateAdBreaks","setFullscreenButton","hide","onBitrateChanged","onBitrateChangeInProgress","toggleCaptionSettingButton","setPlayNextButton"],hiddenMethods:{getNode:function(){return document.createElement("div")},getLayout:function(){}}},splash:{methods:["init","getCurrentMode","getCurrentPoster","show","setInfo","setChromecastInfo","resetInfo","hide","buffering","rescale"]},captionSetting:{methods:["init","show","hide","setStyle","rescale","setCaptionType"]},preview:{methods:["reset","init","loadPreviewMatrices","show","hide","loadedAll","getFrameInfo","getWidthAndHeight"]},share:{methods:["init","updateLanguage","show","hide","setEmbedCode","setShareLink","setOpenGraphShareLink","setDescription","setTitle","setMediaURL","setTimeDelta"]},recommendation:{methods:["init","setRecommendations","show","hide","rescale"]}},h={playPauseClicked:"playPauseClicked",fullscreenClicked:"fullscreenClicked",volumeUpdate:"volumeUpdate",captionLanguageSelected:"captionLanguageSelected",toggleCaptionSet:"toggleCaptionSet",seekRequest:"seekRequest",bitrateSelected:"bitrateSelected",captionStyleUpdate:"captionStyleUpdate",playRequest:"playRequest",catchLive:"catchLive",dispatchEvent:"dispatchEvent",toggleSharePanel:"toggleSharePanel",splashModeUpdated:"splashModeUpdated",loadingRecommendations:"loadingRecommendations",recommendationsReady:"recommendationsReady",recommendationSelected:"recommendationSelected"};return{init:a,getUserCustomizedInterfaces:o}}return n}),anv.define("Feed",["util"],function(e){function t(t,n){function r(e,t,n,r){if(!e&&r)r(0,"Missing feed id");else{if(!e)throw new Error("Missing feed id");f=!1,c=e,g=[],p=0,d=t||h.RAW,o(n,r)}}function i(){return f}function a(e){for(var t=[],n=e.docs.length,r=0;r<n;r++){var i=e.docs[r],a=i,o=i.thumbnails&&i.thumbnails.length,s=i.info&&i.info.duration;if(!("c_is_playable_l"in i)||i.c_is_playable_l){switch(d){case h.PLAYLIST:a={id:i.obj_id,def_title:i.c_title_s,def_description:i.c_description_s,thumbnail:o?i.thumbnails[0].url:"",src_image_url:o?i.thumbnails[0].url:""};break;case h.RECOMMENDATIONS:a={id:i.obj_id,title:i.c_title_s,description:i.c_description_s,duration:s?i.info.duration:"",image:o?i.thumbnails[0].url:""}}t.push(a)}}return t}function o(t,r){var i={start:p};e.download((n.feedBaseUrl||"//api.anvato.net/v2/feed/")+c,i,function(e){e=JSON.parse(e),f||(A=e.numFound,f=!0);var n=a(e);p+=n.length,Array.prototype.push.apply(g,n),t&&t(n)},r,null,!1)}function s(){return c}function l(){return A}function u(){return g}var c,d,A=0,g=[],p=0,f=!1,h=(t&&t.getLogFn("Feed"),{RAW:"RAW",PLAYLIST:"PLAYLIST",RECOMMENDATIONS:"RECOMMENDATIONS"});return{outputTypes:h,init:r,isInitialized:i,fetchMoreVideos:o,getFeedId:s,getFeedLength:l,getFetchedVideos:u}}return t}),anv.define("ManualAdScheduler",["util"],function(e){function t(t,n){function r(n,r){var i,a=[],o=null;d=[],c=r,n=n.sort(function(e,t){return-1==e.timeIndex?1:-1==t.timeIndex?-1:e.timeIndex-t.timeIndex});for(var s=0,l=n.length;s<l;s++)if(n[s].adConfig){if(0==n[s].timeIndex){n[s].served||t.publish("updatePlugin","dfp",n[s].adConfig.dfp);continue}(-1==n[s].timeIndex||n[s].timeIndex>r||Math.abs(n[s].timeIndex-r)<3)&&(n[s].postroll=!0,n[s].timeIndex=r),a.push(n[s].timeIndex),i=e.deepCopy(n[s]),i.start=null==o?-1:o,i.end=n[s].timeIndex,d.push(i),o=i.end}t.publish("adBreaks",a,r)}function i(){for(var e=0,t=d.length;e<t;e++)if(d[e].postroll)return!0;return!1}function a(){d.length&&(d[d.length-1].served=!0,t.publish("startAd",!0))}function o(e){if(null==A||e<d[A].start||e>d[A].end+.6)for(var n=0,r=d.length;n<r;n++)if((!d[n].served||d[n].repeat)&&e>d[n].start&&e<d[n].end+.6){A=n;break}null!=A&&(Math.abs(e-d[A].timeIndex)<.6?d[A].postroll||d[A].served&&!d[A].repeat||!d[A].ready||(d[A].served=!0,A=null,t.publish("startAd",!1)):e>d[A].timeIndex-10&&(d[A].requested&&!d[A].repeat||(d[A].requested=!0,t.publish("updatePlugin","dfp",d[A].adConfig.dfp),t.publish("pollAds",!1))))}function s(){d.length&&"number"==typeof A&&(d[A].ready=!0)}function l(){return!(!d.length||"number"!=typeof A)&&!!d[A].ready}function u(e){for(var n=0,r=e.length;n<r;n++)if(e[n].adConfig&&0==e[n].timeIndex){t.publish("updatePlugin","dfp",e[n].adConfig.dfp),e[n].served=!0;break}}var c,d=(n&&n.getLogFn("ManualAdScheduler"),[]),A=null;return{hasPostroll:i,notifyVideoEnd:a,scheduleAdBreaks:r,evaluateManualAdSchedule:o,onAdBreakReadyToPlay:s,isNextAdBreakReady:l,checkPreroll:u}}return t}),anv.define("AdLearnMore",["util"],function(e){function t(t,n){function r(t){e.safeSetInnerHtml(n,"Learn More"),l=t,s(t)}function i(){n.style.display="block"}function a(){n.style.display="none"}function o(t){t&&("sizeFactor"in t&&(u=parseFloat(t.sizeFactor)),e.styleComponent(n,l,t))}function s(t){var r=u*e.getScaledFontSize(t);n.style.fontSize=r+"px",l=t}var l,u=1;return{init:r,show:i,hide:a,applyStyle:o,rescale:s}}return t}),anv.define("AdTimer",["util"],function(e){function t(t,n,r){function i(e){u(e)}function a(){A=!0,s()}function o(){A=!1,l()}function s(){r.style.display="none"}function l(){A||(r.style.display="block")}function u(t){r.style.fontSize=parseInt(e.getScaledFontSize(t))+"px"}function c(t,n,i){var a,o,s,l=d("advertisementCountDown"),u=d("advertisementCountDownNoRemainingDetail");t=parseInt(t),n=parseInt(n),i=parseInt(i),o=!isNaN(n)&&!isNaN(i)&&n>=0&&i>1&&n<i,s=!isNaN(t)&&t>=0,o||s?(a=e.replaceAll(l,"%",isNaN(n)?n:n+1,i,t),a+=1!==t?"s.":".",a=0!==t?a:"",o?s||(a=a.replace(/(^[^\.]*).*/,"$1.")):a=a.replace(/(^[^:]*): .*&nbsp;(.*)/,"$1. $2")):a=u,e.safeSetInnerHtml(r,a)}var d=n?n.tr:function(){return"--"},A=!1;return{init:i,disable:a,enable:o,hide:s,show:l,rescale:u,updateTime:c}}return t}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!RestartTv",["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.unknown=n.exports}}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){function e(){t(this,e),this.liveOffset_=0,this.mode_=e.Mode.NONE,this.rstvConfig_={},this.timeDelta_=0}return r(e,[{key:"setConfig",value:function(e){this.rstvConfig_=e,this.mode_=this.rstvConfig_.type}},{key:"setMode",value:function(e){this.mode_=e}},{key:"setTimeDelta",value:function(e){this.timeDelta_=e}},{key:"setLiveOffset",value:function(e,t){this.liveOffset_=t?(Date.now()+this.timeDelta_)/1e3:e}},{key:"getLiveOffset",value:function(){return this.liveOffset_}},{key:"getMode",value:function(){return this.mode_}},{key:"getBegin",value:function(){var e=this.rstvConfig_&&parseFloat(this.rstvConfig_.begin);return!e||isNaN(e)?null:e}},{key:"transformTimeInfo",value:function(t){var n=null,r=null,i=null;return this.mode_==e.Mode.VOD_EVENT?(n=t+this.liveOffset_,r=parseFloat(this.rstvConfig_.begin),i=parseFloat(this.rstvConfig_.end)-parseFloat(this.rstvConfig_.begin)):this.mode_==e.Mode.DVR?(n=t+this.liveOffset_,r=parseFloat((Date.now()+this.timeDelta_)/1e3-this.rstvConfig_.window),i=parseFloat(this.rstvConfig_.window)):this.mode_!=e.Mode.NONE&&(n=t+this.liveOffset_,r=parseFloat(this.rstvConfig_.begin),i=parseFloat((Date.now()+this.timeDelta_)/1e3)-parseFloat(this.rstvConfig_.begin)),{index:n,offset:r,duration:i}}},{key:"convertToRelativeTimeIndex",value:function(e,t){return"number"!=typeof t&&(t=(Date.now()+this.timeDelta_)/1e3),e-t}},{key:"reset",value:function(){this.liveOffset_=0,this.mode_=e.Mode.NONE,this.rstvConfig_={},this.timeDelta_=0}}]),e}();e.default=i,i.Mode={NONE:null,LIVE_CHANNEL:"live-channel",LIVE_EVENT:"live-event",VOD_EVENT:"vod-event",DVR:"dvr"}}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!playerHelper",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e,n,r,i){var a=t.default.generateChild(e,r,i,i);return a.id=n+"-"+i,a.className="anv-"+i,a.style.display="none",e.appendChild(a),"undefined"!=typeof ShadyCSS&&ShadyCSS.styleSubtree(a),a}function r(e,t){var n,r=document.getElementById(e);try{n=r.shadowRoot}catch(e){console.warn("could not access shadowRoot, using document.body as parent")}if(n=n||document.body,!r||r&&r.shadowRoot){var i=!!r;r=document.createElement("div"),r.id=e+"-wrapper",r.setAttribute("data-has-shadow-root-parent",i),n.appendChild(r)}return r.style.position="relative",r.style.background="#000",r.style.overflow="hidden",r}function i(e,i,a){a("decorating div:",e);var o=r(e,a),s=n(o,e,"div","video-container");s.style.display="block";var l=n(s,e,"video","video-content"),u=n(s,e,"audio","audio-content"),c=n(s,e,"div","audio-poster"),d=n(s,e,"div","ad-content");d.style.display="block",d.style.background="none",d.style.visibility="hidden",d.style.position="absolute",d.style.left=0,d.style.right=0,d.style.top=0,d.style.bottom=0,d.style.margin="auto";var A=n(s,e,"canvas","canvas-content"),g=n(s,e,"div","overlay"),p=n(s,e,"div","track");p.style.display="block",p.style.textAlign="center",p.style.verticalAlign="middle",p.style.font="bold 20px arial,serif";var f=t.default.generateChild(s,"div","flash-container","video-container-flash"),h=t.default.generateChild(s,"div","caption","video-container-caption"),m=n(s,e,"div","splash"),E=n(s,e,"div","caption-set"),v=n(s,e,"div","share"),y=n(s,e,"div","search"),I=n(s,e,"img","logo");I.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",I.style.display="none";var b=n(s,e,"img","rating");b.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",b.style.display="none";var C=n(s,e,"div","playlist"),B=n(s,e,"div","recommendation");B.style.visibility="hidden",B.style.display="";var w=n(s,e,"div","ad-timer-wrapper"),S=n(w,e,"div","learn-more"),T=n(w,e,"div","ad-timer");"info"in i&&!i.info||i.chromeless?T.style.display="none":(T.style.display="block",t.default.addClass(w,"ad-timer-wrapper-gradient",!0));var k=n(s,e,"div","player-type-label");t.default.safeSetInnerHtml(k,"HTML5"),k.style.display="block",k.style.position="absolute",k.style.right=0,k.style.top=0,k.style.padding="5px",k.style.pointerEvents="none",k.style.color="#fff",k.style.zIndex="9999999999999999999999",k.style.background="rgba(0, 0, 0, .9)",k.style.display=i.debug?"block":"none";var Q=n(s,e,"div","ad-tracker");Q.style.position="absolute",Q.style.top="0",Q.style.width="100%",Q.style.cursor="pointer";var D=n(s,e,"div","skip-ad-button"),R=n(s,e,"div","control"),_=n(R,e,"div","preview"),M=n(R,e,"div","slider-preview");return{userContainer:o,videoContainer:s,videoContent:l,audioContent:u,audioPosterElement:c,canvasContent:A,overlay:g,splash:m,adContent:d,slate:n(o,e,"div","slate"),track:p,flashContainer:f,caption608Node:h,captionSet:E,share:v,search:y,logo:I,rating:b,control:R,preview:_,sliderPreview:M,playlist:C,recom:B,adTracker:Q,adTimer:T,adLearnMore:S,skipAdButton:D,customControllerContainer:n(s,e,"div","custom-controller-container"),playerType:k,nextVideoContainer:n(s,e,"div","next-video-container")}}Object.defineProperty(e,"__esModule",{value:!0}),e.decorate=i,t=function(e){return e&&e.__esModule?e:{default:e}}(t)}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!PlayerEventManager",["exports"],t);else if("undefined"!=typeof exports)t(exports);else{var n={exports:{}};t(n.exports),e.unknown=n.exports}}(this,function(e){"use strict";function t(e){return i(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function i(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(){function e(t){a(this,e),this.generalListenerPendingEvents_=[],this.eventInfos_=e.createEventInfo_(),this.errorInfos_=e.createErrorInfo_(),this.eventListenersList_={},this.log_=t.getLogFn("PlayerEventManager"),this.generalListener_=null}return s(e,[{key:"getErrorInfo",value:function(e,t,n){var r=this.errorInfos_[e];if(!r)return null;var i="boolean"==typeof n?n:r.isCritical;return{code:e,definition:t||r.info,isCritical:i}}},{key:"dispatchEvent",value:function(e,n,r){var i={name:e,time:n,info:this.eventInfos_[e],args:r};this.generalListener_?this.generalListener_(i):this.generalListenerPendingEvents_.push(i),(this.eventListenersList_[e]||[]).forEach(function(e){e.apply(void 0,t(r))})}},{key:"fireGeneralListenerPendingEvents_",value:function(){var e=this;this.generalListenerPendingEvents_.forEach(function(t){e.generalListener_(t)}),this.generalListenerPendingEvents_.length=0}},{key:"addListener",value:function(e,t){this.eventListenersList_[e]||(this.eventListenersList_[e]=[]),this.eventListenersList_[e].push(t)}},{key:"setListener",value:function(e){this.log_("listener fn set"),this.generalListener_=e,this.fireGeneralListenerPendingEvents_()}}],[{key:"createEventInfo_",value:function(){return{STATE_CHANGE:"Player state has changed",CLIENT_BANDWIDTH:"Client bandwidth  estimated",FIRST_FRAME_READY:"First frame is ready",PLAYING_START:"Player started playing for the first time",VIDEO_STARTED:"Video has started playing",PLAYER_ERROR:"Player has thrown an error",USER_PLAY:"User has started the playback",USER_RESUME:"User has resumed the content",USER_GOLIVE:"User has selected golive",USER_PAUSE:"User has paused the playback",USER_MUTE:"User has muted the audio",USER_UNMUTE:"User has unmuted the audio",USER_SHARE:"User has shared a content",USER_FORWARD_SEEK:"User has seeked forwards",USER_BACKWARD_SEEK:"User has seeked backwards",USER_FULLSCREEN:"User has toggled on Fullscreen mode",USER_CANCEL_FULLSCREEN:"User has toggled off Fullscreen mode",PROGRAM_CHANGED:"Live program has changed",AD_BREAKS:"Ad breaks detected in the content",AD_IMMINENT:"An ad break is expected soon",SEGMENT_TYPE_CHANGED:"Segment type has changed",AD_SKIPPED:"Ad has been skipped",AD_STARTED:"Ad has started",NON_LINEAR_AD_DISPLAYED:"Non-linear ad (overlay) has been displayed",AD_COMPLETED:"Ad has completed",AD_BREAK_STARTED:"Ad break has started",AD_BREAK_COMPLETED:"Ad break has completed",BUFFER_LIMIT_UPDATED:"Buffer limit has been updated",PRESENTATION_UPDATED:"Current time: total time or content type has changed",METADATA_LOADED:"Program metadata loaded",BUFFER_START:"Buffering has started",BUFFER_END:"Buffering has completed",ID3:"ID3 tag detected",CAPTION_DETECTED:"Detected captions for the content",VIDEO_FIRST_QUARTILE:"Playhead passed the first quartile",VIDEO_MIDPOINT:"Playhead passed the mid point",VIDEO_THIRD_QUARTILE:"Playhead passed the third quartile",VIDEO_COMPLETED:"Video item is completed",POSTER_LOADED:"Poster image has been loaded",COMPONENTS_INITIALIZED:"Player UI components have been initialized",BITRATE_CHANGED:"Bitrate value has been updated",BITRATE_CHANGE_IN_PROGRESS:"There is a pending bitrate change",MEDIA_URLS_SET:"Published media URLs are available",PLAYER_EXIT:"Window is closed and player exited",MEDIA_SOURCE_SET:"setSource is called: waiting for data",KEY_VALUE_SET:"Player has sent a key-value pair",BEFORE_VIDEO_LOAD:"Player has notified the check point before video load",BITRATE_UPDATED:"The list of bitrates has been updated",PLAYLIST_ITEM_CHANGED:"Playlist item index has been updated",STITCHED_AD_TRACKING_TYPE_SET:"Stitched ad tracking type set (server-side/client-side)",BROWSER_ONLINE:"Browser network status has become online after an offline status",BROWSER_OFFLINE:"Browser network status has become offline",CRITICAL_OFFLINE_BUFFER:"Player has only critical amount of buffer left (internal pause expected)",AUTOPLAY_STATUS:"Player evaluated the browser autoplay policy",LOW_BANDWIDTH_DETECTED:"The user bandwidth is lower than the bitrate of the lowest quality video rendition (frequent buffering expected)",BANDWIDTH_IMPROVEMENT_DETECTED:"The user bandwidth has improved from being lower than the lowest bitrate of available video renditions",PLAYLIST_UPDATED:"Playlist has been updated (init, add, remove or clear)",VIEWABILITY_CHANGED:"The viewability rate of the player has changed significantly",PLUGIN_LIBRARY_REQUESTED:"The library script for the specified plugin has been requested",PLUGIN_LIBRARY_LOADED:"The library for the specified plugin has been loaded",VAST_REQUESTED:"The VAST for client side ad has been requested by the specified plugin",VAST_LOADED:"The VAST for client side ad has been loaded by the specified plugin",AD_MEDIA_REQUESTED:"Client-side ad media file has been requested by the specified plugin",AD_MEDIA_LOADED:"Client-side ad media file has been loaded by the specified plugin",FAILOVER_QUEUE:"SDK is performing failover and using the revealed failover queue",FAILOVER_IN_PROGRESS:"SDK is performing the revealed failover step for the specified stream",JWT_EXPIRED:"JWT token has expired. Application needs to refresh the token",JWT_ASSET_ID_MISMATCH:"JWT asset id does not match the requested asset",STREAM_TYPE_SET:"Stream type (live/vod) has been determined",AUTOPLAY_SUPPORT_INFO_UPDATED:"SDK has updated the autoplay support information for the session",RESTART_RIGHTS_DETECTED:"Restart TV rights with the specified mode has been detected",EVENT_ACCESS_STATUS:"Played segment has event access status revealing dvr/restart tv rigths"}}},{key:"createErrorInfo_",value:function(){
for(var e=[["PLGNL001","Failed to initialize the plugin",!1],["PLGNL002","Failed to load the library for the plugin",!1],["HRTBT001","Failed to get a valid account ID (RSID)",!1],["SCOR001","Failed to get a valid Comscore clientId (c2)",!1],["DFP010","DFP plugin encountered an error",!1],["PLAY010","Failed to load the stream",!0],["CCSND010","Failed to encrypt the payload",!1],["ADST001","Failed to get ad breaks",!1],["ADTR001","Failed to enable click through due to the missing tracking information",!1],["PLAY900","Schedule service returned an expired event",!1],["PLAY920","No next item in the playlist",!1],["PLAY921","No previous item in the playlist",!1],["PLAY309","Failed to load media on flash player (failover mode)",!1],["PLAY410","The content has expired",!1],["PLAY450","Failed to download master",!1],["PLAY455","The browser does not support the specified video codec",!1],["PLAY456","The browser does not support the specified audio codec",!1],["PLAY457","The browser encountered a media decode error",!1],["PLAY458","Media source is not supported",!1],["PLAY459","Manifest does not have any renditions",!1],["PLAY460","Failed to download all renditions",!1],["PLAY461","All renditions are empty",!1],["PLAY462","All renditions are stale (no new segments)",!1],["PLAY470","All segment download attempts within FAILED_SEQ_LIMIT failed",!1],["PLAY490","Media buffer dropped below threshold in waiting state longer than expected",!1],["PLAY499","Failed to load the media",!1],["PLAY360","The browser does not support WebGL (http://get.webgl.org/)",!1],["PLAY361","The browser does not support CORS needed for WebGL",!1],["PLAY500","The browser does not support the available formats in the media source",!0],["PLAY510","The browser does not support playback without a user gesture",!1],["PLAY511","The browser does not support autoplay",!1],["PLAY512","Autoplay blocked due to the lacking support in DFP Plugin",!1],["PLAY520","Failed to decrypt segments",!1],["PLAY600","Selected recommendation item is not available. SDK will display the recommendations view again.",!1],["PLAY601","None of the recommendation items are available. SDK will load the last content.",!1],["SSHR100","Encountered an error while sending an email to share content",!1],["DRM001","No DRM server config is available to decrypt the stream",!0],["DRM002","Failed to initialize media keys",!0],["DRM003","Media keys needed for DRM session are not initialized on video element",!0],["DRM004","The browser does not have DRM support",!0],["DRM005","The current media module does not have DRM support",!1],["DRM010","DRM is not allowed on a page without SSL",!0],["DRM011","Browser does not support DRM encryption type",!0],["DRM015","DRM license request failed",!0],["DRM020","DRM certificate is not accepted",!0],["DRM030","FairPlay DRM certificate is not provided. Used backup certificate which will be deprecated in the next releases",!1],["SHAK001","Shaka media module encountered an issue while loading the stream",!0],["SHAK002","Browser is not supported by Shaka media module to play the stream",!0],["VMNG010","No published urls in the provided source",!0],["VMNG020","The provided media formats are not supported",!0],["VMNG030","The provided media has expired",!0],["MOAT001","Fail to init moat due to insufficient information provided.",!1]],t={},n=0,r=e;n<r.length;n++){var i=r[n],a=i[0],o=i[1],s=i[2];t[a]={code:a,info:o,isCritical:s}}return t}}]),e}();e.default=l}),anv.define("NextVideo",["util"],function(e){function t(t,n,r,i){function a(t,r){A||(n.style.display="block",e.safeSetInnerHtml(s,t.title),e.safeSetInnerHtml(u,"Up next in "+r+" seconds:"),d=r,l.src=t.src_image_url,clearInterval(c),c=setInterval(function(){var t=d<=1?"":"s";e.safeSetInnerHtml(u,"Up next in "+--d+" second"+t+":"),d<=0&&(clearInterval(c),o())},1e3))}function o(){n.style.display="none"}var s,l,u,c,d,A=(r&&r.getLogFn("NextVideo"),"control"in i&&!i.control||i.chromeless);return{init:function(){u=e.generateChild(n,"div","next-video-title","next-video-title"),l=e.generateChild(n,"img","next-video-image","next-video-image"),s=e.generateChild(n,"div","next-video-info","next-video-info")},show:a,hide:o}}return t}),anv.define("Player",["Logger","VideoManager","Control","Preview","SliderPreview","CaptionManager","CaptionSetting","Share","Search","Playlist","Splash","es6!Recommendation","Language","mediator","util","PluginLoader","Logo","Rating","es6!Slate","StitchedAdManager","SphericalRenderer","ControllerInterface","Feed","ManualAdScheduler","AdLearnMore","AdTimer","es6!RestartTv","es6!playerHelper","es6!PlayerEventManager","NextVideo"],function(Logger,VideoManager,Control,Preview,SliderPreview,CaptionManager,CaptionSetting,Share,Search,Playlist,Splash,RecommendationWithDefault,Language,M,util,PluginLoader,Logo,Rating,Es6Slate,StitchedAdManager,SphericalRenderer,ControllerInterface,Feed,ManualAdScheduler,AdLearnMore,AdTimer,RestartTvWithDefault,playerHelper,Es6PlayerEventManager,NextVideo){function Player(loaderObj,loggerObj,playerConfig,externalMediaCallListener,trackingPluginLoader){function dispatchError(e,t,n){var r,i=eventManager.getErrorInfo(e,t,n);if(i){if(userParams.debug&&(r=[i.code,i.definition].join(", "),i.isCritical?console.error("CRITICAL PLAYER_ERROR: "+r):console.warn("Non-critical PLAYER_ERROR: "+r)),dispatchEvent("PLAYER_ERROR",i.code,i.definition,i.isCritical),recommendationSelected&&i.isCritical&&!(i.code in{PLAY600:1,PLAY601:1}))return void onRecommendationLoadError(currentItem.id);i.isCritical&&slateObj&&!slateObj.isDisplayed()&&showSlate(i.definition)}}function switchMode(e){var t=!("inlinePlayback"in userParams)||userParams.inlinePlayback;e in modes&&e!==mode&&(prevMode=mode,mode=e,log("MODE-> ",e),toggleCustomUI(mode==modes.VIDEO_ON_MAIN),mode!=modes.VIDEO_ON_MAIN?(deviceInfo.isMobileBrowser?autoPlay||t||!deviceInfo.iphone&&!deviceInfo.ipod?controlObj.setVisibilityMode("visible"):controlObj.setVisibilityMode("hidden"):controlObj.setVisibilityMode("responsive"),mode==modes.AD_ON_AD&&(componentNodes.adContent.style.display="block"),logoObj.hide()):(controlObj.setFullscreenButton(!0),deviceInfo.isMobileBrowser&&controlObj.setVisibilityMode("responsive"),ratingObj.update(currentItem.rating,currentItem.subratings),componentNodes.adContent.style.display="none",logoObj.show()),mode==modes.AD_ON_AD&&(splashObj.hide(),componentNodes.adContent.style.visibility="visible",componentNodes.adContent.style.zIndex="2147483648",toggleBufferSpinner(!1),pluginLoader.isAvailable("dfp")&&!pluginLoader.isCustomPlaybackUsed().dfp&&(deviceInfo.android&&!userParams.hasContainerFullscreenSupport||deviceInfo.ipod||deviceInfo.iphone)&&controlObj.setFullscreenButton(!1)),mode==modes.AD_ON_MAIN?(controlObj.setFullscreenButton(!0),ratingObj.hide(),"HTML5"==videoManagerObj.getType()||sAdManager||(prevPlayerType=videoManagerObj.getType(),videoManagerObj.setStyle("zIndex",-1),videoManagerObj.destroy(),videoManagerObj.setVideoInstanceType("HTML5"),videoManagerObj.init(componentNodes.videoContent,width,height),videoManagerObj.setStyle("zIndex",""),videoManagerObj.show()),videoManagerObj.setStyle("cursor","pointer")):ratingObj.update(currentItem.rating,currentItem.subratings),fullscreen||videoManagerObj.setStyle("zIndex",""),componentNodes.adTracker.style.display=mode!=modes.VIDEO_ON_MAIN?"block":"none"),prevMode!=modes.VIDEO_ON_CHROMECAST&&(controlObj.updateDuration(videoManagerObj.getCurrentTime()),controlObj.setAdMode(mode!=modes.VIDEO_ON_MAIN,!0)),mode==modes.VIDEO_ON_MAIN&&is360ConfigOn()?turnOn360View():turnOff360View()}function restoreMode(){log("@restoreMode"),switchMode(modes.VIDEO_ON_MAIN),!pluginLoader.isCustomPlaybackUsed().dfp&&controlObj&&controlObj.setPointerEvents&&controlObj.setPointerEvents(!0),prevPlayerType=null}function toggleBufferSpinner(e){log("@toggleBufferSpinner",e),!userParams.spinnerVisible&&"spinnerVisible"in userParams||userParams.chromeless||splashObj.buffering(e),e||bufferingCompleted?bufferingCompleted&&e&&(bufferingCompleted=!1,dispatchEvent("BUFFER_START",null)):(bufferingCompleted=!0,dispatchEvent("BUFFER_END",null))}function validTransition(e){return e in transitions[prevState]}function onPlaySucceeded(){log("@onPlaySucceeded")}function onPlayFailed(e){log("@onPlayFailed",e.name,e.message),"NotAllowedError"==e.name&&(dispatchError("PLAY510",e.message),log("Possibly problem related to the missing user gesture"),adTimerObj.hide(),currentItem.sourceLoaded=!1),updateState("ready2PlayVideoContent"),toggleBufferSpinner(!1),splashObj.show("loadScreen",mode,currentItem.src_image_url),(autoPlay||live)&&touchAvailable&&(videoManagerObj.toggleMobileAutoPlay(!1),controlObj.toggleVolume())}function updateState(e){e&&e!=state&&(prevState=state,state=e,dispatchEvent("STATE_CHANGE",state),log("STATE-> ",state),updateContentInfo(),pluginLoader.sendBeacon(state,contentInfo),state in{playingVideoContent:1,fetchingVideoContent:1}?videoManagerObj.startTimeNotification(state):(log("@updateState",state,mode),"playingAdContent"==state&&mode==modes.AD_ON_MAIN?videoManagerObj.startTimeNotification(state):videoManagerObj.cancelTimeNotification()))}function updateCustomContentInfo(e){var t=e.custom_metadata_map||e.custom_metadata;if(log("@updateCustomContentInfo",!!t,t&&JSON.stringify(!!t,null,3)),contentInfo&&e&&t)for(var n in t)t.hasOwnProperty(n)&&(contentInfo["custom$"+n]=t[n])}function getDerivedMetadata(e,t,n){return derivedMetadataManagerObj.get(contentInfo,userParams,e,t,n)}function getConfigValue(e,t,n){var r,i,a=e+t;if(e&&t){r=a.split(":");for(var o=0,s=r.length;o<s;o++){if(!(i=i||userParams))return n;if(!i)return n;i=i[r[o]]}return i}return n}function updateContentInfo(){var e,t;if(presentation&&"currentTime"in presentation?contentInfo.timeIndex=presentation.currentTime:videoManagerObj&&(contentInfo.timeIndex=videoManagerObj.getCurrentTime()),presentation&&"totalTime"in presentation&&"content"==presentation.contentType?contentInfo.duration=presentation.totalTime:currentItem&&(contentInfo.duration=currentItem.duration),mode==modes.VIDEO_ON_MAIN)currentItem&&(contentInfo.contentId=currentItem.upload_id,contentInfo.contentTitle=currentItem.episodeTitle||currentItem.def_title,contentInfo.episodeTitle=currentItem.episodeTitle,contentInfo.episodeNumber=currentItem.episode_no,contentInfo.showTitle=currentItem.def_title,contentInfo.tags=currentItem.tags,contentInfo.contentDefinition=currentItem.def_description,contentInfo.videoType=currentItem.duration>600?"Long Form":"Clip",contentInfo.video_type=currentItem.video_type,contentInfo.videoId=currentItem.upload_id||currentItem.id,contentInfo.categories=currentItem.categories instanceof Array?currentItem.categories.join(","):currentItem.categories,contentInfo.tsPublished=currentItem.ts_published,contentInfo.program_name=currentItem.program_name,contentInfo.primaryCategory=currentItem.primary_category,contentInfo.mcp_id=currentItem.mcp_id,contentInfo.owner_id=currentItem.owner_id,contentInfo.bitrate=currentBitrate||"",contentInfo.live=2==currentItem.video_type,contentInfo.channel=currentItem.channel,contentInfo.season=currentItem.season,contentInfo.group=currentItem.group,contentInfo.titleWithEpisode=currentItem.titleWithEpisode||currentItem.def_title,contentInfo.eventId=currentItem.eventId||contentInfo.contentId,contentInfo.timeViewed=currentItem.timeViewed||0,contentInfo.lastContentTimeIndex=(presentation&&"number"==typeof presentation.currentTime?presentation.currentTime:lastTimeIndex)||0,userStartTypeOverride&&userStartTypeOverride.startType?(log("### startType override detected"),contentInfo.autoManual=userStartTypeOverride.startType,userStartTypeOverride.applyAutoForNext&&(log("### applyAutoForNext detected"),userStartTypeOverride.autoForNextContentId?userStartTypeOverride.autoForNextContentId!=contentInfo.eventId&&userStartTypeOverride.autoForNextVideoType==contentInfo.video_type&&(log("### autoForNextContentId set previously, video_type("+contentInfo.video_type+") same, contentId("+contentInfo.eventId+") different assuming auto"),contentInfo.autoManual="auto"):!contentInfo.live||contentInfo.live&&contentInfo.videoId!=contentInfo.eventId?(log("### autoForNextContentId not set, setting (with "+contentInfo.eventId+") for the first time"),userStartTypeOverride.autoForNextContentId=contentInfo.eventId,userStartTypeOverride.autoForNextVideoType=contentInfo.video_type):log("### skipping setting autoForNextContentId since initialTitle is set and equal to eventId"))):contentInfo.autoManual=autoStartCheckResult?"auto":"manual",contentInfo.ts_airdate=currentItem.ts_airdate,contentInfo.startTime=currentItem.startTime,contentInfo.endTime=currentItem.endTime,contentInfo.talentName=currentItem.talentName,contentInfo.roviId=currentItem.roviId,contentInfo.initialTitle=currentItem.initialTitle,contentInfo.chapterTitle=currentItem.episodeTitle||currentItem.def_title,contentInfo.chapterIndex=presentation&&"chapterIndex"in presentation?presentation.chapterIndex:contentInfo.chapterIndex,contentInfo.chapterStartTime=presentation&&"startTime"in presentation?presentation.startTime:0,contentInfo.chapterEndTime=presentation&&"endTime"in presentation?presentation.endTime:currentItem.duration),videoManagerObj&&(contentInfo.timeIndex=videoManagerObj.getCurrentTime()),contentInfo.type.video=!0;else{if(contentInfo.type.video=!1,log("updateContentInfo check presentation.totalTime",JSON.stringify(presentation,null,3)),presentation&&"ad"==presentation.contentType)contentInfo.adBreakDuration=presentation.totalTime,contentInfo.adDuration=presentation.currentAdDuration,contentInfo.adIsClientSideInsertion=!1,log("presentation.totalTime",presentation.totalTime);else{var n,r=pluginLoader.getAdInformation();for(var i in r)if((n=r[i])&&n.isLinear){contentInfo.adDuration=n.adDuration,contentInfo.adId=n.adId,contentInfo.adMediaURL=n.adMediaURL,contentInfo.vastApiFramework=n.vastApiFramework,contentInfo.vastCreativeId=n.vastCreativeId,contentInfo.vastWrapperCreativeIds=n.wrapperCreativeIds,contentInfo.vastAdWrapperIds=n.adWrapperIds,contentInfo.vastAdSystem=n.adSystem,contentInfo.vastWrapperAdSystems=n.wrapperAdSystems,t=n.adTitle;break}mode==modes.AD_ON_MAIN&&(contentInfo.adDuration=videoManagerObj.getDuration()),contentInfo.adIsClientSideInsertion=!0}contentInfo.videoType="Ad",contentInfo.videoURL="Ad server",contentInfo.adIndex=presentation&&"adIndex"in presentation?presentation.adIndex:0,contentInfo.adBreakIndex=presentation&&"adBreakIndex"in presentation?presentation.adBreakIndex:0,contentInfo.contentDefinition=currentAd?currentAd.creativeId:void 0,contentInfo.adTitle=t||(currentAd?currentAd.creativeId:void 0)}currentItem&&(contentInfo.videoId=currentItem.upload_id||currentItem.id,contentInfo.mcp_id=currentItem.mcp_id,contentInfo.owner_id=currentItem.owner_id,contentInfo.thumbnail=currentItem.thumbnail),contentInfo.playerId=deviceInfo.firetv?"firetv":"Anvato Universal Player",contentInfo.playerType=deviceInfo.firetv?"firetv":"Anvato Universal Player",contentInfo.playerName=deviceInfo.firetv?"firetv":"Anvato Universal Player",contentInfo.appURL=userParams.baseURL+"anvload.html",contentInfo.siteURL=userParams.parentPageURL,contentInfo.siteTitle=document.title,contentInfo.siteReferrer=userParams.referrerURL,contentInfo.mvpdDisplayName=userParams.mvpdDisplayName,contentInfo.mvpd=userParams.mvpd||userParams.accessControl&&userParams.accessControl.mvpd,contentInfo.host=userParams.host,contentInfo.fullscreen=!!deviceInfo.ott||fullscreen,contentInfo.version=userParams.version,e=util.prettifyDate((new Date).getTime()),contentInfo.dayOfWeek=e.dayOfWeek,contentInfo.day=e.day,contentInfo.hours=e.hours,contentInfo.minutes=e.minutes,contentInfo.date=[e.month,e.day,e.year].join("/"),contentInfo.daiRules=currentItem&&currentItem.daiRules,contentInfo.videoURL=videoManagerObj.getSource()||"",contentInfo.volume=currentVolume,contentInfo.platform=deviceInfo.isMobileBrowser?"Mobile":"PC"}function getAdBreaks(e,t){var n=e.interstitials;currentAdBreaks=null,sAdManager=sAdManager||new StitchedAdManager(mediator,logger,{dispatchEvent:dispatchEvent,dispatchError:dispatchError},componentNodes.adTracker,userParams),sAdManager.setVideoInfo({isLive:live}),"string"==typeof n?sAdManager.getAdBreaks(n,t,onAdBreaks,onAdBreaksError):"object"==typeof n&&(n.cues=n.cues||[],!t&&n&&n.content&&n.content.output_duration&&(t=n.content.output_duration),sAdManager.populateZones(n.cues,t),sAdManager.setAdTrackerInfo(e.breaks,e.info),log("@getAdBreaks",t),onAdBreaks(n.cues,t))}function getFormattedAdBreaks(){var e,t;if(!currentAdBreaks)return null;e=util.deepCopy(currentAdBreaks);for(var n=0;n<e.length;n++)"break_idx"in(t=e[n])&&(t.adBreakIndex=t.break_idx,delete t.break_idx);return e}function resetAdBreaks(e){log("@resetAdBreaks",e),currentAdBreaks=null,adTimerObj.hide(),sAdManager&&(sAdManager.setVideoInfo({isLive:live}),sAdManager.resetAdBreaks(e,onAdBreaks))}function onAdBreaks(e,t){var n,r;if(sAdManager){n=[];for(var i=0,a=e.length;i<a;i++)r=sAdManager.translateToPresentation(e[i].end,t).currentTime,log("subs->adBreaks",r),n.push(r)}controlObj.updateAdBreaks(n||e,t),currentAdBreaks=e||[],log("@onAdBreaks",logger.stringify(e,null,3)),dispatchEvent("AD_BREAKS",e)}function onAdBreaksError(e){log("@onAdBreaksError",e)}function onBeforeBitrateMenuUpdatedReturned(e){onBeforeBitrateMenuUpdatedReturnedExpected&&("function"==typeof callbacks.onBeforeBitrateMenuUpdated&&(callbackArgs.onBeforeBitrateMenuUpdated&&callbackArgs.onBeforeBitrateMenuUpdated.length>3&&(callbackArgs.onBeforeBitrateMenuUpdated[2]=e),callbacks.onBeforeBitrateMenuUpdated.apply(null,callbackArgs.onBeforeBitrateMenuUpdated)),onBeforeBitrateMenuUpdatedReturnedExpected=!1)}function onBitrateUpdatedReturned(e){controlObj.setAvailableBitrates(defaultBitrateList,"auto",e,{})}function onVideoError(e,t,n,r){var i;log("@onVideoError",e,t,n,r),failoverInProgress||(i=eventManager.getErrorInfo(e)||eventManager.getErrorInfo("PLAY010"),dispatchError(i.code),showSlate(i.definition),toggleBufferSpinner(!1))}function setDuration(e){controlObj.setDuration(e),currentItem.duration=e,"function"==typeof callbacks.scheduleAdBreaks&&e&&callbackArgs.scheduleAdBreaks.length>1&&(callbackArgs.scheduleAdBreaks[1]=parseFloat(e),callbacks.scheduleAdBreaks.apply(manualAdScheduler,callbackArgs.scheduleAdBreaks),delete callbacks.scheduleAdBreaks,delete callbackArgs.scheduleAdBreaks)}function onBeforeAdBreakReturned(e){var t,n="object"==typeof e&&e.skipAdBreak;log("@onBeforeAdBreak",e),onBeforeAdBreakReturnedExpected&&sAdManager&&("function"==typeof callbacks.onBeforeSeekReturned?n?(callbacks.onBeforeSeekReturned.apply(null,callbackArgs.onBeforeSeekReturned),delete callbacks.onBeforeSeekReturned,delete callbackArgs.onBeforeSeekReturned):(t=sAdManager.getAdBreakByIndex(onBeforeAdBreakIndex))&&void 0!==t.start&&(onSeekRequested(t.start+SEEK_NUDGE,null,"beforeAdBreak"),onBeforeAdBreakIndex=null):n?(t=sAdManager.getAdBreakByTime(videoManagerObj.getCurrentTime()))&&void 0!==t.end&&onSeekRequested(t.end+SEEK_NUDGE,null,"beforeAdBreak"):"function"==typeof callbacks.onBeforeAdBreakReturned&&(callbacks.onBeforeAdBreakReturned.apply(null,callbackArgs.onBeforeAdBreakReturned),delete callbacks.onBeforeAdBreakReturned,delete callbackArgs.onBeforeAdBreakReturned),onBeforeAdBreakReturnedExpected=!1)}function onBeforeSeekReturned(e){var t;videoManagerObj.getCurrentTime();if(log("@onBeforeSeekReturned",e),updateState("bufferingVideoContent"),onBeforeSeekReturnedExpected){if(onBeforeSeekReturnedExpected=!1,e&&"object"==typeof e&&"number"==typeof e.watchAdBreakIndex&&(t=sAdManager.getAdBreakByIndex(e.watchAdBreakIndex))&&void 0!==t.start)return void(userParams.useBeforeAdBreakTriggers?(onBeforeAdBreakIndex=t.adBreakIndex,onBeforeAdBreakReturnedExpected=!0,dispatchEvent("BEFORE_AD_BREAK",{adBreaks:getFormattedAdBreaks(),adBreakIndex:t.adBreakIndex,currentTime:t.start})):onSeekRequested(t.start+SEEK_NUDGE,null,"beforeSeek"));"function"==typeof callbacks.onBeforeSeekReturned&&(callbacks.onBeforeSeekReturned.apply(null,callbackArgs.onBeforeSeekReturned),delete callbacks.onBeforeSeekReturned,delete callbackArgs.onBeforeSeekReturned)}}function onBeforeVideoLoadReturned(e){log("@onBeforeVideoLoadReturned",e);var t,n,r,i,a=["dfp","freewheel"];if(onBeforeVideoLoadReturnedExpected){if("object"==typeof e)for(userParams.plugins=userParams.plugins||{},t=e.plugins,r=0;r<a.length;r++)n=a[r],t&&t[n]&&(isUpdateAdPluginInProgress=!0,userParams.plugins[n]=t[n],pluginLoader.updatePlugin(n,t[n],currentItem));if(e.adSlots){for(var o=0,s=e.adSlots.length;o<s;o++)if(e.adSlots[o].adConfig){manualAdScheduler=manualAdScheduler||new ManualAdScheduler(mediator,logger);break}i=videoManagerObj.getDuration()||currentItem.duration,manualAdScheduler&&(i?manualAdScheduler.scheduleAdBreaks(e.adSlots,i):(manualAdScheduler.checkPreroll(e.adSlots),callbacks.scheduleAdBreaks=manualAdScheduler.scheduleAdBreaks,callbackArgs.scheduleAdBreaks=[e.adSlots,i]))}pluginPollStarted||(log("calling pluginLoader.poll"),trackingPluginLoaderObj.poll(currentItem),pluginLoader.poll(currentItem),pluginPollStarted=!0),setMacros(),onBeforeVideoLoadReturnedExpected=!1,callbacks.onBeforeVideoLoadReturned.apply(null,callbackArgs.onBeforeVideoLoadReturned.concat(!0))}}function notifyVideoInfoUpdate(e,t){var n,r=playlistObj.mergeToItemWithId(e,t);r&&playlistObj.updateVisualPlaylist(),log("@notifyVideoInfoUpdate isMerged:",r),currentItem&&e==currentItem.id&&(!currentItem.formats||failoverInProgress||recommendationFailoverInProgress)?(currentItem=playlistObj.getItemWithId(e),prevItem&&(prevItem.isReady2Play=!1,prevItem.initialPlaybackRequested=!1,n=prevItem.id!=currentItem.id,log(n?"content has changed":"same content")),currentItem.formats?(onStaticMetadataAvailable(),registerBitrates(currentItem.formats),evaluateImpliedPlaybackStart(),updateState("bufferingVideoContent"),live="2"==currentItem.video_type,controlObj.setLive(live),controlObj.setPlayNextButton(playlistObj.hasNextItem())):(log("notifyVideoInfoUpdate no formats found"),loadNextVideo()),evaluateExpiration(),evaluateScheduleLookup()):(log("videoJSON update does not belong to the current item or currentItem already has formats entry"),toggleBufferSpinner(!1))}function loadVideoWithId(e,t,n){log("@loadVideoWithId",e),log("Switching to the next video");var r=void 0===userParams.contentSpecificTokenUsed||userParams.contentSpecificTokenUsed;timers.getSchedule&&(log("clearing timers.getSchedule",timers.getSchedule),clearTimeout(timers.getSchedule)),pausedTime=0,failoverInProgress||(adRequested=!1),restartTv.reset(),switchMode(modes.VIDEO_ON_MAIN),currentItem&&(currentItem.startAt=0,currentItem.sourceLoaded=!1),seekingInProgress=!1,prevItem=currentItem,prevItem&&(prevItem.isReady2Play=!1,prevItem.initialPlaybackRequested=!1,evaluatePlaybackOrigin()),currentItem=playlistObj.getItemWithId(e),currentItem.startAt=0,currentItem.useBackupStream=!!t,userParams.startAt&&currentItem&&2!=currentItem.video_type&&(log("setting currentItem startAt to:",userParams.startAt),currentItem.startAt=userParams.startAt,userParams.startAt=0),is360ConfigOn()?enable360():disable360(),(autoPlay||playlistItemSelected||recommendationSelected)&&toggleBufferSpinner(!0),queue.length&&(currentItem.isExternal||!r&&currentItem.formats?(onStaticMetadataAvailable(),"smil"==currentItem.formats[0].format&&loaderObj?(log("smil detected"),loaderObj.fetchSmil(currentItem)):(controlObj.setLive(2==currentItem.video_type),controlObj.setPlayNextButton(playlistObj.hasNextItem()),live=2==currentItem.video_type,registerBitrates(currentItem.formats),evaluateImpliedPlaybackStart(),updateState("bufferingVideoContent"),playerConfig.deviceInfo.android&&setDuration(currentItem.duration)),evaluateExpiration(),evaluateScheduleLookup()):loaderObj&&(log("@loadVideoWithId"),delete currentItem.formats,loaderObj.fetchVideoJSON(currentItem.id,currentItem.token,n)))}function translateToAbsoluteTime(e){return sAdManager?sAdManager.translateToAbsoluteTime(e):e}function setSource(e,t){timeDelta=loaderObj.getTimeDelta(),stopTimer("monitorBufferLimit");var n="2"==currentItem.video_type;!failoverInProgress||!userParams.startAtFailoverContentTime||sAdManager&&currentAdBreaks&&currentAdBreaks.length||(currentItem.startAt=userParams.startAtFailoverContentTime);var r,i={videoElement:componentNodes.videoContent,audioElement:componentNodes.audioContent,audioPosterElement:componentNodes.audioPosterElement,width:width,height:height,selectedBitrate:selectedBitrate,duration:currentItem.duration,uploadId:currentItem.upload_id,isLive:n,useBackup:currentItem.useBackupStream,poster:currentItem.src_image_url,offset:currentItem.startAt,timeDelta:timeDelta};isSimulatingPlay=!1,n&&(segmentQueueInfo={});var a=restartTv.getMode();if(a!=RestartTv.Mode.NONE&&(failoverInProgress?i.livePlayAt=userParams.startAt||restartTvTimeInfo.index:a==RestartTv.Mode.VOD_EVENT&&(i.livePlayAt=restartTv.getBegin()),delete i.offset),r=videoManagerObj.setSourceOnCompatiblePlayer(e,i,t))if(touchAvailable){var o=autoPlay&&checkAutoStart(!1);o||live||videoManagerObj.setVolume(currentVolume)}else setVolume(currentVolume);else log("@setSource failed"),toggleBufferSpinner(!1),splashObj.show("loadScreen",mode,currentItem.src_image_url);return r}function loadOriginalStream(){return log("@loadOriginalStream for",currentItem.upload_id),!!currentItem&&(currentItem.upload_id?(currentFailoverQueue={},play(currentItem.upload_id in failoverStationMapping?{id:failoverStationMapping[currentItem.upload_id],useBackupStream:!1}:{id:currentItem.upload_id,useBackupStream:!1}),!0):!!(currentItem.isExternal&&currentItem.formats&&currentItem.formats.length&&currentItem.formats[0].embed_url)&&(currentFailoverQueue={},play({url:currentItem.formats[0].embed_url}),!0))}function loadMainStream(){return log("@loadMainStream for",currentItem.upload_id),!(!currentItem||!currentItem.upload_id)&&(play({id:currentItem.upload_id,useBackupStream:!1}),!0)}function loadBackupStream(){return log("@loadBackupStream",!!videoManagerObj.hasBackupStream()),!!videoManagerObj.hasBackupStream()&&(log("@loadBackupStream for ",currentItem.upload_id),play({id:currentItem.upload_id,useBackupStream:!0}),!0)}function loadFailoverStream(){return!!currentItem.failover_channel&&(failoverStationMapping[currentItem.failover_channel]=currentItem.upload_id,play({id:currentItem.failover_channel}),!0)}function blacklistCapability(e){var t={PLAY309:1,PLAY450:1,PLAY455:1,PLAY456:1,PLAY457:1,PLAY458:1,PLAY460:1,PLAY461:1,PLAY462:1,PLAY470:1,PLAY499:1,DRM005:1,SHAK001:1};return log("@blacklistCapability",e),e in t&&!currentItem.started&&videoManagerObj.evaluateError(e,"failover")}function displayStreamFailureSlate(e){log("@displayStreamFailureSlate");var t=eventManager.getErrorInfo(e);return showSlate(t&&t.definition||"The stream has failed to load."),timers.repeatFailover=setTimeout(restartFailoverFlow,15e3),!0}function restartFailoverFlow(){videoManagerObj.resetCapabilityBlacklist(),loadOriginalStream()}function loadSource(){log("@loadSource");var e=setSource(currentItem.formats,onVideoError);return currentItem.sourceLoaded=e,dispatchEvent("MEDIA_SOURCE_SET"),mode==modes.VIDEO_ON_MAIN&&is360ConfigOn()?turnOn360View():turnOff360View(),e}function applyFailover(e){var t=currentItem.upload_id||currentItem.id;!t&&currentItem.formats&&currentItem.formats.length>0&&(t=util.md5(currentItem.formats[0].embed_url)),log("@applyFailover currentFailoverQueue:",JSON.stringify(currentFailoverQueue,null,3)),currentFailoverQueue[t]=currentFailoverQueue[t]||util.deepCopy(failoverSequence),dispatchEvent("FAILOVER_QUEUE",currentFailoverQueue),failoverInProgress=!0;var n=currentFailoverQueue[t].length&&currentFailoverQueue[t][0];failoverReachedCriticalState=failoverReachedCriticalState||currentFailoverQueue[t].length<=1,dispatchError(e,null,failoverReachedCriticalState),videoManagerObj.destroySelectedVideoInstance(),n&&n in failoverServices&&"function"==typeof failoverServices[n]&&(dispatchEvent("FAILOVER_IN_PROGRESS",t,n),log("@applyFailover proceeding with:",n),failoverServices[n](e)?"blacklistCapability"!=n&&currentFailoverQueue[t].shift():(currentFailoverQueue[t].shift(),applyFailover(e)))}function onStaticMetadataAvailable(){var e,t=[currentItem.id||currentItem.upload_id,currentItem.id||currentItem.upload_id,{video:currentItem.id||currentItem.upload_id,title:currentItem.def_title,description:currentItem.def_description,duration:currentItem.duration,poster:currentItem.src_image_url||currentItem.src_logo_url,thumbnail:currentItem.thumbnail||currentItem.src_logo_url,rating:currentItem.rating,live:"2"==currentItem.video_type,categories:currentItem.categories,tags:currentItem.tags,ownerId:currentItem.owner_id,previews:currentItem.previews,pvw_matrices:currentItem.pvw_matrices,derived_metadata:currentItem.derived_metadata}];contentInfo={type:{video:!0,adType:adTypes.PREROLL}},"2"==currentItem.video_type?currentItem.initialTitle=currentItem.def_title:delete currentItem.initialTitle,currentItem&&currentItem.custom_metadata&&updateCustomContentInfo(currentItem),currentItem&&currentItem.derived_metadata?(e=currentItem.isExternal?derivedMetadataManagerObj.Origin.APP_LEVEL_ITEM:derivedMetadataManagerObj.Origin.CONTENT_METADATA,derivedMetadataManagerObj.update(contentInfo,currentItem,e)):derivedMetadataManagerObj&&derivedMetadataManagerObj.update(contentInfo,{},derivedMetadataManagerObj.Origin.UNKNOWN),presentation={},segmentQueueInfo={},lastTimeIndex=0,lastAbsoluteTimeIndex=0,contentInfo.lastContentTimeIndex=0,contentInfo.chapterIndex=0,currentItem.completed=!1,currentItem.started=!1,currentItem.firstQuartile=!1,currentItem.midPoint=!1,currentItem.thirdQuartile=!1,delete callbacks.scheduleAdBreaks,delete callbackArgs.scheduleAdBreaks,updateContentInfo(),setMacros(),log("@onStaticMetadataAvailable"),dispatchEvent.apply(null,["METADATA_LOADED"].concat(t))}function setMacros(){if("object"!=typeof currentItem)return void log("@setMacros currentItem metadata is not ready, skipping setMacros");log("@setMacros setting macros"),pluginLoader.setMacros({MCP_ID:currentItem.mcp_id,VIDEO_ID:currentItem.upload_id,OWNER_ID:currentItem.owner_id,CATEGORIES:currentItem.categories?currentItem.categories.join(","):void 0,TITLE:currentItem.def_title,DESCRIPTION:currentItem.def_description,DURATION:currentItem.duration,PROGRAM_NAME:currentItem.program_name,HOST:userParams.host,PLAYER_INSTANCE:userParams.pInstance,IS_OFFSITE:!!userParams.shared})}function evaluatePlaybackOrigin(){playbackOrigin=recommendationSelected?isRecommendationSelectionManual?playbackOrigins.RECOMMENDATION_MANUAL:playbackOrigins.RECOMMENDATION_AUTO_ADVANCE:processingPlayApiCall?playbackOrigins.PLAY_API_METHOD:playlistItemSelected?playbackOrigins.PLAYLIST_MANUAL:playbackOrigins.PLAYLIST_AUTO_ADVANCE}function loadNextVideo(){log("@loadNextVideo");var e;if(pausedTime=0,switchMode(modes.VIDEO_ON_MAIN),currentItem&&(currentItem.startAt=0,currentItem.sourceLoaded=!1),seekingInProgress=!1,failoverInProgress||(adRequested=!1),restartTv.reset(),prevItem=currentItem,currentItem=playlistObj.getNextItem(),log("currentItem set:",currentItem,userParams.startAt),userParams.startAt&&currentItem&&2!=currentItem.video_type&&(log("setting currentItem startAt to:",userParams.startAt),currentItem.startAt=userParams.startAt,userParams.startAt=0),prevItem&&(prevItem.isReady2Play=!1,prevItem.initialPlaybackRequested=!1,e=prevItem.id!=currentItem.id,log(e?"content has changed":"same content"),evaluatePlaybackOrigin()),log(queue.length,"items in playlist"),is360ConfigOn()?enable360():disable360(),queue.length)if(currentItem.formats){if(onStaticMetadataAvailable(),currentItem.formats.length&&"smil"==currentItem.formats[0].format&&loaderObj?(log("smil detected"),loaderObj.fetchSmil(currentItem)):(controlObj.setLive(2==currentItem.video_type),live=2==currentItem.video_type,evaluateImpliedPlaybackStart(),registerBitrates(currentItem.formats),playerConfig.deviceInfo&&playerConfig.deviceInfo.android&&setDuration(currentItem.duration)),
userParams.revealMediaUrls&&dispatchEvent("MEDIA_URLS_SET",currentItem.formats),!live&&userParams.downloadable){for(var t,n=/mp4/,r=0;r<currentItem.formats.length&&!t;r++)n.test(currentItem.formats[r].format)&&(t=currentItem.formats[r].embed_url);controlObj.setDownload(t)}controlObj.setPlayNextButton(playlistObj.hasNextItem())}else loaderObj&&(log("@loadNextVideo"),loaderObj.fetchVideoJSON(parseInt(currentItem.id)),!1);return evaluateExpiration(),evaluateScheduleLookup(),!0}function loadPreviousVideo(){var e;log("Switching to the previous video"),pausedTime=0,failoverInProgress||(adRequested=!1),restartTv.reset(),switchMode(modes.VIDEO_ON_MAIN),currentItem&&(currentItem.startAt=0,currentItem.sourceLoaded=!1),prevItem=currentItem,currentItem=playlistObj.getPreviousItem(),log("currentItem set:",currentItem.id,currentItem.title),userParams.startAt&&currentItem&&1==currentItem.video_type&&(currentItem.startAt=userParams.startAt,userParams.startAt=0),prevItem&&(prevItem.isReady2Play=!1,prevItem.initialPlaybackRequested=!1,e=prevItem.id!=currentItem.id,log(e?"content has changed":"same content")),log(queue.length,"items in playlist"),queue.length&&(currentItem.formats?(onStaticMetadataAvailable(),"smil"==currentItem.formats[0].format&&loaderObj?(log("smil detected"),loaderObj.fetchSmil(currentItem)):(controlObj.setLive(2==currentItem.video_type),live=2==currentItem.video_type,evaluateImpliedPlaybackStart(),updateState("bufferingVideoContent"),playerConfig.deviceInfo.android&&setDuration(currentItem.duration))):loaderObj&&(log("@loadNextVideo"),loaderObj.fetchVideoJSON(parseInt(currentItem.id)))),evaluateExpiration(),evaluateScheduleLookup()}function evaluateImpliedPlaybackStart(e){log("@evaluateImpliedPlaybackStart");var t,n=!0,r=!1,i=!1,a=arguments.length,o=[];for(live=2==currentItem.video_type;a--;)o[a]=arguments[a];return!userParams.useBeforeVideoLoadTriggers||e||failoverInProgress?(controlObj.setLive(live),util.getAutoPlaySupport().evaluationCompleted?(userParams.disableMutedAutoplay&&(sessionAutoPlaySupport.mutedAutoPlay=!1,dispatchEvent("AUTOPLAY_SUPPORT_INFO_UPDATED",sessionAutoPlaySupport)),dispatchAutoPlayEvent(),autoStartCheckResult=t=checkAutoStart(!0),currentItem.exception?(log("dispatching :",logger.stringify(currentItem)),dispatchEvent("PLAYER_ERROR",currentItem.exception.toString())):(log("autoStartExpected:",t),prevItem&&(n=prevItem.id!=currentItem.id,log(n?"content has changed":"same content")),n&&dispatchEvent("PLAYLIST_ITEM_CHANGED",getPlaylistIndex(),currentItem.id),log("@evaluateImpliedPlaybackStart","currentItem.play",currentItem.play),log("@evaluateImpliedPlaybackStart","hasContentChanged",currentItem.play,autoPlay,n),log("@evaluateImpliedPlaybackStart","playingStartFired",playingStartFired),!playingStartFired&&processingPlayApiCall&&deviceInfo.isMobileBrowser&&!deviceInfo.ott&&(i=!0,processingPlayApiCall=!1),log("@evaluateImpliedPlaybackStart",i,n,currentItem.play||t),!i&&(currentItem.play||t)&&n?r=!0:failoverInProgress||playlistItemSelected||recommendationSelected?r=!0:userParams.preload&&(loadSource(),r=!1),failoverInProgress||isSimulatingPlay||splashObj.show("loadScreen",mode,currentItem.src_image_url||null,null,r),r?(chromecastInfo.chromecastPlayRequest=!0,onPlayRequested(!0),toggleBufferSpinner(!0),updateState("bufferingVideoContent"),logoObj.show()):(controlObj.setVisibilityMode("hidden"),logoObj.hide(),controlObj.setVisibilityMode("hidden"),videoManagerObj.hide()),deviceInfo.android&&setDuration(currentItem.duration)),r):void util.registerAutoPlayDetectionCallback(evaluateImpliedPlaybackStart,o)):(onBeforeVideoLoadReturnedExpected=!0,callbacks.onBeforeVideoLoadReturned=evaluateImpliedPlaybackStart,callbackArgs.onBeforeVideoLoadReturned=o,dispatchEvent("BEFORE_VIDEO_LOAD",currentItem,userParams),!1)}function evaluateExpiration(){timeDelta=loaderObj.getTimeDelta()||0;var e=(new Date).getTime()+timeDelta;log("@evaluateExpiration",currentItem.ts_expire,e/1e3),currentItem.ts_expire&&e/1e3>currentItem.ts_expire&&(dispatchError("PLAY410"),log("content has expired"))}function evaluateScheduleLookup(){log("evaluating need for schedule",live,!!userParams,!!userParams.accessKey),live&&userParams&&userParams.accessKey&&(timers.getSchedule=setTimeout(loaderObj.getSchedule,1e4),contentInfo&&(contentInfo.isSchedulePending=!0))}function onFullscreenChange(e){log("@onFullscreenChange","origin",e),log("@onFullscreenChange","document.fullscreenElement",!!document.fullscreenElement),log("@onFullscreenChange","document.mozFullScreenElement",!!document.mozFullScreenElement),log("@onFullscreenChange","document.webkitFullscreenElement",!!document.webkitFullscreenElement),log("@onFullscreenChange","videoManagerObj.videoContent().webkitDisplayingFullscreen",!!videoManagerObj.videoContent().webkitDisplayingFullscreen);var t=!!(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||this.webkitDisplayingFullscreen||videoManagerObj.videoContent().webkitDisplayingFullscreen);log("fullscreenchange",fullscreen,t),fullscreen!=t&&(log("correcting mode"),fullscreen=t,t?(controlObj.rescale(parseInt(util.getWindowSize().w),!0),splashObj.rescale(parseInt(util.getWindowSize().w),!0),componentNodes.userContainer.style.width=util.getWindowSize().w+"px",componentNodes.userContainer.style.height=util.getWindowSize().h+"px"):(log("rescaling to",width,"x",height),controlObj.rescale(parseInt(width)),splashObj.rescale(parseInt(width)),componentNodes.userContainer.style.width=width,componentNodes.userContainer.style.height=height,is360Enabled()&&sphericalRendererObj.resize(parseInt(width),parseInt(height)),(deviceInfo.ipad||deviceInfo.iphone)&&(videoManagerObj.getPaused()&&(updateState("pausedVideoContent"),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),splashObj.show("pauseScreen",mode,null,currentItem.duration-videoManagerObj.getCurrentTime())),"playingVideoContent"==state&&setTimeout(function(){log("ipad fullscreen triggered play"),videoManagerObj.play()},100)))),captionManagerObj.setFullscreenRatio(t?util.getWindowSize().w/parseInt(width):1),logoObj.resize(t?util.getWindowSize().h/parseInt(height):1),!fullscreen&&captionSetShown&&parseInt(width)<500&&toggleCaptionSettings(),videoManagerObj.setFullscreen(t),controlObj.setFullscreen(t),captionManagerObj.getCaptionType()==captionTypes.EMBEDDED&&controlObj.setAvailableCaptionLanguages(captionManagerObj.getAvailableLanguages(),captionManagerObj.getCurrentLanguage(),!1),timers.detectWindowSize=setTimeout(detectWindowSize,50),dispatchEvent(t?"USER_FULLSCREEN":"USER_CANCEL_FULLSCREEN")}function toggleFullscreen(){log("@toogleFullscreen",fullscreen),fullscreen?(fullscreen=!1,util.cancelFullScreen(),controlObj.rescale(parseInt(width)),splashObj.rescale(parseInt(width)),componentNodes.userContainer.style.width=width+"px",componentNodes.userContainer.style.height=height+"px",controlObj.setFullscreen(!1)):(pictureInPicture&&togglePictureInPicture(),fullscreen=!0,videoManagerObj.show(),!deviceInfo.isMobileBrowser||deviceInfo.android||pluginLoader.isAvailable("dfp")&&!pluginLoader.isCustomPlaybackUsed().dfp?(window.onresize=detectWindowSize,userParams.hasContainerFullscreenSupport?(util.requestFullScreen(componentNodes.videoContainer),is360Enabled()&&sphericalRendererObj.resize(util.getWindowSize().w,util.getWindowSize().h)):is360Enabled()?userParams.hasCanvasFullscreenSupport?util.requestFullScreen(componentNodes.canvasContent):(util.requestFullScreen(videoManagerObj.videoContent()),fullscreenOnVideoElement=!0):util.requestFullScreen(videoManagerObj.videoContent())):(util.requestFullScreen(videoManagerObj.videoContent()),fullscreenOnVideoElement=!0),deviceInfo.isMobileBrowser||(controlObj.rescale(parseInt(util.getWindowSize().w),!0),splashObj.rescale(parseInt(util.getWindowSize().w),!0),componentNodes.userContainer.style.width=util.getWindowSize().w+"px",componentNodes.userContainer.style.height=util.getWindowSize().h+"px",sphericalRendererObj&&sphericalRendererObj.resize(util.getWindowSize().w,util.getWindowSize().h)),controlObj.setFullscreen(!0))}function togglePictureInPicture(){var e=videoManagerObj.videoContent();pictureInPicture?document.exitPictureInPicture().catch(function(e){log("@togglePictureInPicture error:",e.message)}):(fullscreen&&toggleFullscreen(),e.requestPictureInPicture().catch(function(e){log("@togglePictureInPicture error:",e.message)}))}function resize(e,t){var n=util.getScaledFontSize(e);width=e,height=t,componentNodes.userContainer.style.width=e+"px",componentNodes.userContainer.style.height=t+"px",videoManagerObj.resize(componentNodes.userContainer.offsetWidth,componentNodes.userContainer.offsetHeight),adLearnMoreObj.rescale(e),adTimerObj.rescale(e),captionManagerObj.resize(t),is360Enabled()&&sphericalRendererObj.resize(e,t),controlObj.rescale(e),splashObj.rescale(e),captionSetObj.rescale(e),recomObj.rescale(e),checkPlaylistNode(),[componentNodes.videoContainer,componentNodes.adContent,componentNodes.share,componentNodes.search,componentNodes.recom,componentNodes.slate,componentNodes.captionSet].forEach(function(e){e.style.width="100%",e.style.height="100%"}),(!pluginLoader.isAvailable("dfp")||pluginLoader.isAvailable("dfp")&&!pluginLoader.isCustomClickTrackingUsed().dfp)&&(componentNodes.adTracker.style.height=parseInt(height)-53+"px"),componentNodes.adTracker.style.fontSize=n+"px",componentNodes.skipAdButton.style.fontSize=(userParams.skip&&userParams.skip.sizeFactor?userParams.skip.sizeFactor:1)*n+"px",log("@scale width:",parseInt(width),"title font size:",componentNodes.adTracker.style.fontSize)}function initComponents(e,t,n){function r(){log("pollForDuration");var e=videoManagerObj.getDuration();live?setDuration(1/0):i(e)?setDuration(e):setTimeout(r,300)}function i(e){return e&&!isNaN(e)&&e>2}function a(e){log("@onchange",e,e.type);var t="visible",n="hidden",r={focus:t,focusin:t,pageshow:t,blur:n,focusout:n,pagehide:n},i=this.hidden||this.mozHidden||this.webkitHidden||this.msHidden;e=e||window.event,e.type in r&&(i="hidden"==r[e.type]),log("@onchange>>>",i?"hidden":"visible")}function o(e){var t=videoManagerObj.getBufferEnd();log("@pollBuffer",t,mode),t?e():timers.pollBuffer=setTimeout(o.bind(null,e),200)}function s(e,t){var n,r,i;log("@subs->captionUpdate Received captionUpdate",JSON.stringify(e,null,3)),captionManagerObj.setCaptionType(captionTypes.SIDE_CAR),captionManagerObj.loadCaptionInfo(e),n=captionManagerObj.getAvailableLanguages(),log("CAPTION LANGUAGES-> ",logger.stringify(n),t),r="string"==typeof t?t:null,controlObj.toggleCaptionSettingButton(!0),controlObj.setAvailableCaptionLanguages(n,r,!0),currentCaptionLanguage=captionManagerObj.getCurrentLanguage(),i=captionManagerObj.loadLanguage(currentCaptionLanguage),log("@subs->captionUpdate success?",i),i||(captionManagerObj.turnOff(),currentCaptionLanguage=null),n&&n.length&&dispatchEvent("CAPTION_DETECTED",n)}function l(e){log("trying to switch mode",mode,e),switchMode(e),log("trying to switch mode",mode,e,"fullscreen",fullscreen),fullscreen&&(mode==modes.AD_ON_AD?componentNodes.videoContent.style.zIndex="":componentNodes.videoContent.style.zIndex=2147483648),currentItem.completed&&mode==modes.VIDEO_ON_MAIN&&loadNextVideo()}function u(e,t,n){log("@subs->bitrateUpdate"),e=util.getArrayUnique(e),defaultBitrateList=e,t=t||"auto",userParams.useBeforeBitrateMenuUpdatedTriggers?(onBeforeBitrateMenuUpdatedReturnedExpected=!0,callbacks.onBeforeBitrateMenuUpdated=c,callbackArgs.onBeforeBitrateMenuUpdated=[e,t,{},n],dispatchEvent("BEFORE_BITRATE_MENU_UPDATED",e,n)):c(e,t,{},n)}function c(e,t,n,r){controlObj.setAvailableBitrates(e,t,n,r),dispatchEvent("BITRATE_LIST_UPDATED",e,r),dispatchEvent("BITRATE_UPDATED",e,r)}function d(e){log("@extractAdTrackerInfo",e);var t,n;if(e)for(var r=0,i=e.length;r<i;r++)if((n=e[r])&&"vast_meta"==n.type){t=n.tracking,e.splice(r,1);break}return{ads:e,type:"linear",tracking:t}}function A(e){var t,n=JSON.parse(e);log("@onVastMetadata",n,segmentQueueInfo.currentAdCue),currentAdBreaks=null,sAdManager=sAdManager||new StitchedAdManager(mediator,logger,{dispatchEvent:dispatchEvent,dispatchError:dispatchError},componentNodes.adTracker,userParams),sAdManager.setVideoInfo({isLive:live}),sAdManager.populateZones([segmentQueueInfo.currentAdCue],1/0),t=d(n),sAdManager.setAdTrackerInfo([t],null),onAdBreaks([segmentQueueInfo.currentAdCue],1/0)}function g(e){console.error("@onVastMetadataError",e)}function p(e){var t,n,r;if("cue"==e.type)try{t=util.decodeURLParams("?"+e.payload),delete e.payload,dispatchEvent("CUE_POINT",util.merge(t,e)),log("@subs->cueUpdated cue:",JSON.stringify(t,null,3)),evaluateCue(t)}catch(t){console.error("Encountered an error while processing "+e.type+" payload")}else if("beacon"==e.type){try{t=JSON.parse(e.payload)}catch(t){return void console.error("Encountered an error while parsing "+e.type+" payload",t)}dispatchEvent("SEGMENT_BEACON",t),log("@subs->cueUpdated beacon:",JSON.stringify(t,null,3)),evaluateBeacon(t)}else"priv"==e.type&&(n=e.payload,r=/nielsen/.test(n.toLowerCase())?"nielsen":/anvato/.test(n.toLowerCase())?"anvato":"unknown",log("id3:",n),mediator.publish("id3TagDetected",n,r))}var f;if(e||(e=640,t=360),"number"==typeof e&&(e=e.toString()),"number"==typeof t&&(t=t.toString()),-1==e.indexOf("px")&&(e+="px"),-1==t.indexOf("px")&&(t+="px"),width=parseFloat(e),height=parseFloat(t),initialWidth=width,initialHeight=height,f=util.getScaledFontSize(width),componentNodes.userContainer.style.width=width+"px",componentNodes.userContainer.style.height=height+"px",[componentNodes.videoContainer,componentNodes.adContent,componentNodes.share,componentNodes.search,componentNodes.recom,componentNodes.slate,componentNodes.captionSet].forEach(function(e){e.style.width="100%",e.style.height="100%"}),componentNodes.canvasContent.width=parseInt(width),componentNodes.canvasContent.height=parseInt(height),componentNodes.adTracker.style.height=parseInt(height)-53+"px",componentNodes.adTracker.style.fontSize=f+"px",componentNodes.skipAdButton.style.fontSize=(userParams.skip&&userParams.skip.sizeFactor?userParams.skip.sizeFactor:1)*f+"px",componentNodes.adTimer.style.fontSize=f+"px",componentNodes.adLearnMore.style.fontSize=f+"px",log("@scale width:",parseInt(width),"title font size:",componentNodes.adTracker.style.fontSize),userParams.pauseOnClick&&util.addEventListener(componentNodes.videoContainer,"click",function(e){var t={playingVideoContent:1,pausedVideoContent:1};e.target.id.indexOf("splash-img")>=0&&-1==e.target.id.indexOf("splash-share")&&-1==e.target.id.indexOf("play-button")&&state in t&&onPlayPauseRequested(!1)}),deviceInfo=playerConfig.deviceInfo||util.getDeviceInfo,touchAvailable=deviceInfo.isMobileBrowser||deviceInfo.smartTV,!Object.keys(componentNodes).length)throw new Error("ComponentNodes not populated yet");if(langObj=new Language(mediator,userParams,logger),langObj.init(),tr=langObj?langObj.tr:function(){return"--"},videoManagerObj=new VideoManager(mediator,deviceInfo,logger,userParams,externalMediaCallListener,{dispatchEvent:dispatchEvent,dispatchError:dispatchError,translateToAbsoluteTime:translateToAbsoluteTime}),videoManagerObj.setVideoInstanceType("HTML5"),videoManagerObj.init(componentNodes.videoContent,e,t),touchAvailable?log("initComponents autoPlay",autoPlay,"live",live):util.addClass(componentNodes.userContainer,"anv-no-touch"),userParams.hasVideoFullscreenSupport=util.checkFullscreen(componentNodes.videoContent),userParams.hasContainerFullscreenSupport=util.checkFullscreen(componentNodes.videoContainer),userParams.hasCanvasFullscreenSupport=util.checkFullscreen(componentNodes.canvasContent),"inlinePlayback"in userParams&&!userParams.inlinePlayback||!deviceInfo.iphone&&!deviceInfo.ipod||!util.isInlineVideoSupported()||videoManagerObj.toggleInlinePlayback(!0),adLearnMoreObj=new AdLearnMore(mediator,componentNodes.adLearnMore),adLearnMoreObj.init(e),"learnMore"in userParams&&adLearnMoreObj.applyStyle(userParams.learnMore),adTimerObj=new AdTimer(mediator,langObj,componentNodes.adTimer),adTimerObj.init(e),("info"in userParams&&!userParams.info||userParams.chromeless)&&(adTimerObj.disable(),util.removeClass(componentNodes.adTimer.parentNode,"ad-timer-wrapper-gradient",!0)),captionManagerObj=new CaptionManager(mediator,{sideCar:componentNodes.track,caption608:componentNodes.caption608Node,embeddedCaption:componentNodes.videoContent.textTracks,video:componentNodes.videoContent},userParams,logger),captionManagerObj.init(e,t),captionSetObj=new CaptionSetting(mediator,componentNodes.captionSet,logger),captionSetObj.init(),shareObj=new Share(mediator,componentNodes.share,langObj,logger,deviceInfo,userParams,{dispatchError:dispatchError}),shareObj.init(),searchObj=new Search(mediator,componentNodes.search,langObj,logger),searchObj.init(),controlObj=new Control(mediator,langObj,logger,deviceInfo,userParams),controlObj.init(componentNodes.control),controlObj.setVisibilityMode("hidden"),"volume"in userParams&&(userParams.volume>1&&(userParams.volume=userParams.volume/100),postInitQueue.push({fn:setVolume,args:[userParams.volume]}),currentVolume=userParams.volume),(queue.length<2||"external"==userParams.playlistMode)&&controlObj.setPlaylistReady(!1),previewObj=new Preview(mediator,componentNodes.preview,logger),previewObj.init(),sliderPreviewObj=new SliderPreview(mediator,componentNodes.sliderPreview,logger),sliderPreviewObj.init(),splashObj=new Splash(mediator,componentNodes.splash,logger,deviceInfo,userParams),splashObj.init(),recomObj=new Recommendation(mediator,componentNodes.recom,logger,userParams),recomObj.init(),userParams.recom||userParams.recommendations){var h=userParams.recom||userParams.recommendations;"object"==typeof h&&"feed"==h.type&&h.id&&(feedObj=new Feed(logger,userParams),feedObj.init(h.id,feedObj.outputTypes.RECOMMENDATIONS,function(e){waitingForFeed&&e instanceof Array&&(recomObj.setRecommendations(sanitizeWithRecommendationBlackList(e,recommendationBlacklist)),toggleBufferSpinner(!1),waitingForFeed=!1)},function(){throw feedObj=null,toggleBufferSpinner(!1),waitingForFeed=!1,"Unable to load feed data."}))}logoObj=new Logo(mediator,componentNodes.logo,logger,userParams.logo),logoObj.init(t),ratingObj=new Rating(mediator,componentNodes.rating,logger,userParams.rating),slateObj=new Slate(componentNodes.slate),derivedMetadataManagerObj=loaderObj.getDerivedMetadataManager(),nextVideoObj=new NextVideo(mediator,componentNodes.nextVideoContainer,logger,userParams),nextVideoObj.init(componentNodes.control),touchAvailable?(util.addEventListener(componentNodes.userContainer,"touchstart",function(e){},!1),util.addEventListener(componentNodes.userContainer,"touchend",function(e){log("EVENT-> touchend")},!1),util.addEventListener(componentNodes.userContainer,"touchstart",function(e){log("EVENT-> touchstart"),captionSetShown||shareShown||searchShown||playlistShown||"loadScreen"==splashMode||mode!=modes.VIDEO_ON_MAIN||(state in{playingVideoContent:1,playingAdContent:1}&&(controlObj.setVisibilityMode("responsive"),controlObj.showTemporarily()),splashObj.show("hoverScreen",mode))},!1),util.addEventListener(componentNodes.userContainer,"touchmove",function(e){deviceInfo.iphone||deviceInfo.ipod||captionSetShown||shareShown||searchShown||playlistShown||mode!=modes.VIDEO_ON_MAIN||splashObj.show("hoverScreen",mode)},!1)):(util.addEventListener(componentNodes.userContainer,"mousemove",function(){captionSetShown||shareShown||searchShown||playlistShown||"loadScreen"==splashMode||"pauseScreen"==splashMode||"castScreen"==splashMode||"FLASH"==playerType&&!flashPlayerLoaded||(controlObj.showTemporarily(),mode==modes.VIDEO_ON_MAIN&&splashObj.show("hoverScreen",mode))},!1),util.addEventListener(componentNodes.userContainer,"mouseleave",function(){captionSetShown||shareShown||searchShown||playlistShown||"loadScreen"==splashMode||"pauseScreen"==splashMode||"castScreen"==splashMode||(log("mouse left"),controlObj.hide(),splashObj.hide())},!1)),pluginLoader=new PluginLoader(mediator,plugins,{shadowParentId:userParams.pInstance,videoContainerNode:componentNodes.videoContainer,videoNode:componentNodes.videoContent,adNode:componentNodes.adContent,adTimer:componentNodes.adTimer,skipAdButton:componentNodes.skipAdButton,adLearnMore:componentNodes.adLearnMore,clickTracker:componentNodes.adTracker,companions:userParams.companions},logger,userParams,{dispatchError:dispatchError,postWithWsse:loaderObj.postWithWsse,getDerivedMetadata:getDerivedMetadata,getConfigValue:getConfigValue},langObj),userParams&&(window.top!==window.self||"asyncApi"in userParams&&!userParams.asyncApi||"iframe"in userParams&&!userParams.iframe)&&(userParams.shared||userParams.width&&userParams.width.indexOf("%")>-1)&&(window.onresize=detectWindowSize),mediator.subscribe("loadeddata",function(e){log("@subs->loadeddata",e),seekingInProgress||(playingStartFired=!1,dispatchEvent("STREAM_TYPE_SET",live?"live":"vod"),dispatchEvent("FIRST_FRAME_READY"))}),mediator.subscribe("loadedmetadata",function(e,t){if(log("@subs->loadedmetadata",e,t),log("loadedmetadata duration:",e,t,mode,videoManagerObj.getDuration(),currentItem.duration),e=parseInt(e),i(e))setDuration(e);else{var n=parseInt(currentItem.duration);live||(i(n)?setDuration(n):r())}}),mediator.subscribe("bufferLimitUpdated",function(e){userParams.revealBufferInfo&&(fastForwardInfo.bufferEnd=e,dispatchEvent("BUFFER_LIMIT_UPDATED",e))}),mediator.subscribe("userEvent",function(){var e=Array.prototype.slice.call(arguments);e.pop(),log("@userEvent",e),dispatchEvent.apply(null,e)}),mediator.subscribe("updateTime",function(e,t){var n,r=userParams.videoViewThreshold||3,i=e;if(presentation={},!evaluateImplicitSeek(e)&&(lastAbsoluteTimeIndex=e,seekingInProgress&&currentItem.startAt&&e-currentItem.startAt>.2&&(toggleBufferSpinner(!1),seekingInProgress=!1),mode!=modes.VIDEO_ON_CHROMECAST)){if(sAdManager&&!isLinearAdPlaying("dfp")){if(presentation=sAdManager.translateToPresentation(e,currentItem.duration),t="ad"==presentation.contentType?presentation.totalTime||t:presentation.totalTime,controlObj.setDuration(t),e=presentation.currentTime||e,presentation.currentTime=e,presentation.totalTime=t,evaluateEventHookTriggers(i,presentation))return;"ad"==presentation.contentType?(mode!=modes.AD_ON_MAIN&&(switchMode(modes.AD_ON_MAIN),updateState("playingAdContent")),updateContentInfo(),sAdManager.updateState(presentation)):(sAdManager.updateState(presentation),"content"==presentation.contentType&&mode!=modes.VIDEO_ON_MAIN&&(switchMode(modes.VIDEO_ON_MAIN),updateState("playingVideoContent"),updateContentInfo(),currentItem.started&&dispatchEvent("VIDEO_STARTED",currentItem.id,currentItem.def_title))),live&&restartTv.getMode()!=RestartTv.Mode.NONE&&"ad"!=presentation.contentType||dispatchEvent("PRESENTATION_UPDATED",e,t,presentation.contentType,presentation.adIndex,presentation.totalAds),"ad"!==presentation.contentType||"info"in userParams&&!userParams.info?componentNodes.adTimer.parentNode.style.display="none":(n=parseInt(t-e),n>0&&splashObj.hide(),!live||userParams.showRemainingLiveAdDetail?(adTimerObj.updateTime(n,presentation.adIndex,presentation.totalAds),adTimerObj.show()):(adTimerObj.updateTime(-1,-1,-1),adTimerObj.show()),componentNodes.adTimer.parentNode.style.display="block")}else"playingVideoContent"==state&&(live&&restartTv.getMode()!=RestartTv.Mode.NONE||dispatchEvent("PRESENTATION_UPDATED",e,currentItem.duration,"content",null,null),manualAdScheduler&&lastTimeIndex!=e&&manualAdScheduler.evaluateManualAdSchedule(e));if("playingVideoContent"==state){pluginLoader&&pluginLoader.updateTime&&lastTimeIndex!=e&&pluginLoader.updateTime(e,currentItem.duration),live?lastTimeIndex&&lastTimeIndex!=e&&(currentItem.started||(currentItem.started=!0,currentItem.completed=!1,currentItem.id=currentItem.id||currentItem.upload_id,updateContentInfo(),dispatchEvent("VIDEO_STARTED",currentItem.id,currentItem.def_title),previousTimeIndex=0,totalTimeViewed=0)):currentItem.started||(currentItem.started=!0,currentItem.completed=!1,currentItem.id=currentItem.id||currentItem.upload_id,updateContentInfo(),pluginLoader.sendBeacon("VIDEO_METADATA",contentInfo),updateState("playingVideoContent"),dispatchEvent("VIDEO_STARTED",currentItem.id,currentItem.def_title),previousTimeIndex=0,totalTimeViewed=0,ratingObj.update(currentItem.rating,currentItem.subratings)),Math.abs(e-previousTimeIndex)<=.6&&(totalTimeViewed+=e-previousTimeIndex,currentItem.timeViewed=totalTimeViewed,updateContentInfo()),previousTimeIndex=e,(userParams.videoViewStrict?Math.floor(e)==r:e>r)&&!viewCounted&&(updateContentInfo(),viewCounted=!0,pluginLoader.sendBeacon("VIDEO_VIEWED",contentInfo)),captionManagerObj&&"ad"!=presentation.contentType&&captionManagerObj.updateTime(presentation.currentTime||e),seekingInProgress||lastTimeIndex!=e||deviceInfo.iphone||deviceInfo.ipod||(videoManagerObj.getPaused()&&lastTimeIndex&&!(Math.abs(currentItem.startAt-e)<1.5)&&state in{playingVideoContent:1,playingAdContent:1}?(log("currentItem.started",currentItem.started),currentItem.started?(log("iOS 8 pause override failure measures taken  index"),videoManagerObj.pause(!0),updateState("pausedVideoContent"),controlObj.setPaused(!0),splashObj.show("pauseScreen",mode,null,currentItem.duration-videoManagerObj.getCurrentTime()),logoObj.hide()):(currentItem.sourceLoaded=!1,splashObj.show("loadScreen",mode,currentItem.src_image_url))):(deviceInfo.firefox&&(log("Wake up triggered play"),videoManagerObj.play()),!deviceInfo.ott||deviceInfo.ott&&"getReadyState"in videoManagerObj&&videoManagerObj.getReadyState())),lastTimeIndex=e,live||(!currentItem.thirdQuartile&&Math.abs(e-3*currentItem.duration/4)<.5?(currentItem.thirdQuartile=!0,dispatchEvent("VIDEO_THIRD_QUARTILE",currentItem.id,currentItem.def_title)):!currentItem.midPoint&&Math.abs(e-currentItem.duration/2)<.5?(log("VIDEO_FIRST_QUARTILE bug",currentItem.duration,e),currentItem.midPoint=!0,dispatchEvent("VIDEO_MID_POINT",currentItem.id,currentItem.def_title)):!currentItem.firstQuartile&&Math.abs(e-currentItem.duration/4)<.5&&(currentItem.firstQuartile=!0,dispatchEvent("VIDEO_FIRST_QUARTILE",currentItem.id,currentItem.def_title)));currentItem.lastMileStone=currentItem.lastMileStone||0;var a,o=Math.abs(currentItem.lastMileStone-e)>2;if(o&&((a=Math.floor(e))%4||(updateContentInfo(),currentItem.lastMileStone=a,pluginLoader.sendBeacon("VIDEO_VIEW_SEGMENT",contentInfo))),userParams.trackTimePeriod){var s,l;s=(new Date).getTime()/1e3,l=Math.floor(live?s:e),!(void 0===userParams.lastTrackedTime||void 0!==userParams.lastTrackedTime&&Math.abs(userParams.lastTrackedTime-l)>userParams.trackTimePeriod/2)||l%userParams.trackTimePeriod||(userParams.lastTrackedTime=l,dispatchEvent("TIME_UPDATED",Math.floor(userParams.lastTrackedTime),live,currentItem.upload_id,currentItem.def_title))}}"playingAdContent"==state?(controlObj.updateDuration(e),"number"==typeof t&&controlObj.setDuration(parseInt(t))):seekingInProgress?Math.abs(currentItem.startAt-e)<1.5&&!deviceInfo.ott?(seekingInProgress=!1,log("@subs->updateTime setting seekingInProgress to",seekingInProgress,currentItem.startAt,e),toggleBufferSpinner(!1)):userParams.lastTrackedTime=0:live?restartTv.getMode()!=RestartTv.Mode.NONE&&(restartTvTimeInfo=restartTv.transformTimeInfo(e),controlObj.updateDuration(restartTvTimeInfo.index,restartTvTimeInfo.offset,restartTvTimeInfo.duration),dispatchEvent("PRESENTATION_UPDATED",restartTvTimeInfo.index,restartTvTimeInfo.duration,"content",null,null)):controlObj.updateDuration(e),deviceInfo.android&&mode==modes.VIDEO_ON_MAIN&&Math.round(currentItem.duration)==Math.ceil(e)&&(log("publishing completedVideoContent"),mediator.publish("completedVideoContent"))}}),mediator.subscribe("playPauseClicked",onPlayPauseRequested),mediator.subscribe("adVideoPaused",function(e){updateState("pausedAdContent"),e&&dispatchEvent("IMPLICIT_PAUSE"),controlObj.setPaused(!0)}),mediator.subscribe("adVideoResumed",function(){updateState("playingAdContent"),controlObj.setPaused(!1)}),mediator.subscribe("adVideoClicked",function(){log("@adVideoClicked"),touchAvailable&&(logoObj.hide(),pluginLoader.isAvailable("dfp")&&!pluginLoader.isCustomPlaybackUsed().dfp?pluginLoader.pause():videoManagerObj.pause(!0),updateState("pausedAdContent"))}),mediator.subscribe("playRequest",function(e){toggleCustomRecommendations(!1),onPlayRequested(e)}),mediator.subscribe("continueRequest",function(){log("@subs->continueRequest"),restoreState()}),mediator.subscribe("pauseRequest",onImpliedPauseRequest),mediator.subscribe("evaluatePausedState",function(){"playingAdContent"===state?updateState("pausedAdContent"):"playingVideoContent"===state&&(updateState("pausedVideoContent"),"pauseScreen"==splashObj.getCurrentMode()||isSimulatingPlay||(controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),splashObj.show("pauseScreen",mode,null,currentItem.duration-videoManagerObj.getCurrentTime())))}),mediator.subscribe("completedVideoContent",function(){log("@subs->completedVideoContent");var e,t;videoManagerObj.cancelTimeNotification(),!util.getDeviceInfo.iphone&&playlistObj.hasNextItem()||util.cancelFullScreen(videoManagerObj.videoContent()),log("@subs->completedVideoContent"),state in{playingAdContent:1,pausedAdContent:1}?(updateState("completedAdContent"),captionManagerObj.show(),sAdManager&&currentAdBreaks&&currentAdBreaks.length&&(sAdManager.notifyPostrollEnd(),currentItem.completed=!0,currentItem.started=!1,currentItem.firstQuartile=!1,currentItem.midPoint=!1,currentItem.thirdQuartile=!1,currentItem.startAt=0,adTimerObj.hide(),l(modes.VIDEO_ON_MAIN))):state in{playingVideoContent:1,pausedVideoContent:1}&&(updateState("completedVideoContent"),currentItem.completed=!0,currentItem.started=!1,currentItem.firstQuartile=!1,currentItem.midPoint=!1,currentItem.thirdQuartile=!1,currentItem.startAt=0,dispatchEvent("VIDEO_COMPLETED",currentItem.id,currentItem.def_title),e=!0,manualAdScheduler&&manualAdScheduler.hasPostroll&&manualAdScheduler.hasPostroll()?manualAdScheduler.notifyVideoEnd():pluginLoader.isAvailable("freewheel")?pluginLoader.notifyVideoEnd():pluginLoader.isAvailable("dfp")&&!pluginLoader.hasAllAdsCompleted().dfp?(pluginLoader.notifyVideoEnd(),t=pluginLoader.getContentPauseRequestTimeout().dfp):(e=!1,l(modes.VIDEO_ON_MAIN)),e&&(timers.expectSavePauseVideoContent=setTimeout(function(){l(modes.VIDEO_ON_MAIN)},t||3e3)))}),mediator.subscribe("fullscreenClicked",function(){log("Fullscreen clicked"),toggleFullscreen()}),util.addEventListener(document,"MSFullscreenChange",onFullscreenChange.bind(null,"MSFullscreenChange"),!1),util.addEventListener(document,"fullscreenChange",onFullscreenChange.bind(null,"fullscreenChange"),!1),util.addEventListener(document,"webkitfullscreenchange",onFullscreenChange.bind(null,"webkitfullscreenchange"),!1),util.addEventListener(document,"mozfullscreenchange",onFullscreenChange.bind(null,"mozfullscreenchange"),!1),userParams.externalVideoInterface||(util.addEventListener(videoManagerObj.videoContent(),"webkitbeginfullscreen",onFullscreenChange.bind(null,"webkitbeginfullscreen"),!1),util.addEventListener(videoManagerObj.videoContent(),"webkitendfullscreen",onFullscreenChange.bind(null,"webkitendfullscreen"),!1)),util.addEventListener(componentNodes.adContent,"webkitbeginfullscreen",onFullscreenChange.bind(null,"webkitbeginfullscreen"),!1),util.addEventListener(componentNodes.adContent,"webkitendfullscreen",onFullscreenChange.bind(null,"webkitendfullscreen"),!1),mediator.subscribe("pictureInPictureClicked",function(){log("Picture-in-Picture clicked"),togglePictureInPicture()}),util.addEventListener(videoManagerObj.videoContent(),"enterpictureinpicture",function(){pictureInPicture=!0}),util.addEventListener(videoManagerObj.videoContent(),"leavepictureinpicture",function(){pictureInPicture=!1});var m={visibilitychange:"hidden",mozvisibilitychange:"mozHidden",webkitvisibilitychange:"webkitHidden",onfocusin:null,onfocusout:null,onpageshow:null,onpagehide:null,onfocus:null,onblur:null};for(var E in m)if(m.hasOwnProperty(E)&&(util.addEventListener(document,E,a,!1),
m[E]&&m[E]in document))break;mediator.subscribe("toggleSharePanel",function(){shareShown?(log("Share panel closed"),shareShown=!1,shareObj.hide(),restoreState()):(log("Share panel opened"),fullscreen&&deviceInfo.mac&&deviceInfo.safari&&(fullscreen=!1,util.cancelFullScreen(),controlObj.setFullscreen(!1),componentNodes.userContainer.style.width=width+"px",componentNodes.userContainer.style.height=height+"px"),shareShown=!0,log(currentItem.upload_id,playerConfig.mcp_id,playerConfig.player_id),currentItem.upload_id&&playerConfig.mcp_id&&playerConfig.player_id?(log("Generating embed code for standard:",JSON.stringify(currentItem)),embedCode=loaderObj.generateEmbedCode({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id,anvack:userParams.accessKey,secret:userParams.secretKey}),shareLink=loaderObj.detectShareLink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id,anvack:userParams.accessKey,secret:userParams.secretKey}),openGraphShareLink=loaderObj.generateShareLink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id,anvack:userParams.accessKey,secret:userParams.secretKey},!0)):userParams.url?(log("Generating embed code for non-standard:",JSON.stringify(userParams)),embedCode=loaderObj.generateEmbedCode({u:userParams.url,live:userParams.live}),shareLink=loaderObj.detectShareLink({u:userParams.url,live:userParams.live}),openGraphShareLink=loaderObj.generateShareLink({u:userParams.url,live:userParams.live},!0)):userParams.key&&log("Generating embed code for non-standard:",JSON.stringify(userParams)),log("embed code:",embedCode),log("share link:",shareLink),shareObj.setTimeDelta(loaderObj.getTimeDelta()),shareObj.setEmbedCode(embedCode),shareObj.setShareLink(shareLink),shareObj.setOpenGraphShareLink(openGraphShareLink),shareObj.setDescription(currentItem.def_description),shareObj.setTitle(currentItem.def_title),shareObj.setMediaURL(currentItem.src_image_url),shareObj.show(live?null:{duration:currentItem.duration,currentTime:videoManagerObj.getCurrentTime()}),recallState=state,videoManagerObj.pause(!0),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),updateState("pausedVideoContent"))}),mediator.subscribe("updateEmbedInfo",function(e){shareLink=loaderObj.updateShareLink(shareLink,e),embedCode=loaderObj.updateEmbedCode(embedCode,e),shareObj.setEmbedCode(embedCode),shareObj.setShareLink(shareLink)}),mediator.subscribe("toggleSearchPanel",function(){searchShown?(log("Search panel closed"),searchShown=!1,searchObj.hide(),restoreState(),controlObj.setPaused(!1),controlObj.setVisibilityMode("responsive")):(log("Search panel opened"),fullscreen&&deviceInfo.mac&&deviceInfo.safari&&(fullscreen=!1,util.cancelFullScreen(),controlObj.setFullscreen(!1),componentNodes.userContainer.style.width=width+"px",componentNodes.userContainer.style.height=height+"px"),searchObj.setCueList(captionManagerObj.getCueList(),captionManagerObj.getAvailableLanguages()),searchShown=!0,searchObj.show(),recallState=state,videoManagerObj.pause(!0),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),splashObj.hide(),updateState("pausedVideoContent"))}),mediator.subscribe("toggleCaptionSet",toggleCaptionSettings),mediator.subscribe("toggleCaptionSettingButton",function(e){log("received toggleCaptionSettingButton",e),controlObj.toggleCaptionSettingButton(e)}),mediator.subscribe("captionStyleUpdate",function(e){log("@subs->captionStyleUpdate",logger.stringify(e,null,2)),captionManagerObj.setStyle(e)}),mediator.subscribe("captionStyleSet",function(e){log("@subs->captionStyleSet",logger.stringify(e,null,2)),captionSetObj.setStyle(e)}),mediator.subscribe("captionThumbnailsRequest",function(e){for(var t=0;t<e.length;t++)e[t].frame=previewObj.getFrameInfo(e[t].begin,!0);searchObj.setThumbnailWidthHeight(previewObj.getWidthAndHeight(!0)),searchObj.redrawCueList(e)}),mediator.subscribe("posterLoaded",function(e){dispatchEvent("POSTER_LOADED")}),mediator.subscribe("splashDisplayed",function(e){"loadScreen"==e&&controlObj.setVisibilityMode("hidden"),splashMode=e}),mediator.subscribe("splashHidden",function(e){log("splashHidden"),splashMode=e}),mediator.subscribe("splashModeUpdated",function(e){splashMode=e}),mediator.subscribe("dispatchUserShare",function(){dispatchEvent("USER_SHARE")}),mediator.subscribe("adBreaks",function(e,t){sAdManager||controlObj.updateAdBreaks(e,t)}),mediator.subscribe("seekRequest",onSeekRequested),mediator.subscribe("previewDetected",onPreviewDetected),mediator.subscribe("resetPreview",function(){setTimeout(function(){previewObj.reset(),sliderPreviewObj.reset()},1500)}),mediator.subscribe("previewRequest",function(e,t){(parseInt(width)>=300||fullscreen)&&(restartTv.getMode()!=RestartTv.Mode.NONE&&(e=restartTv.convertToRelativeTimeIndex(e)),previewObj.show(e,t))}),mediator.subscribe("sliderPreviewRequest",function(e,t){(parseInt(width)>=300||fullscreen)&&(seekingInProgress=!0,log("setting seekingInProgress to",seekingInProgress),touchAvailable&&controlObj.setVisibilityMode("visible"),sliderPreviewObj.show(e,t))}),mediator.subscribe("controlMoveEventsEnd",function(){captionManagerObj.setDrag(!0)}),mediator.subscribe("controlMoveEventsActive",function(){captionManagerObj.setDrag(!1)}),mediator.subscribe("showRecallLabel",function(e,t){controlObj.showRecallLabel(e,t)}),mediator.subscribe("hideRecallLabel",function(){controlObj.hideRecallLabel()}),mediator.subscribe("cancelPreviewRequest",function(){previewObj.hide()}),mediator.subscribe("cancelSliderPreviewRequest",function(){sliderPreviewObj.hide()}),mediator.subscribe("previewLoaded",function(){}),mediator.subscribe("volumeUpdate",function(e,t){log("@subs->volumeUpdate Updating volume to",e),mode==modes.VIDEO_ON_CHROMECAST&&loaderObj.chromecast.setVolume(e);var n=getVolume();setVolume(e,!!t),0==e?(mode==modes.VIDEO_ON_CHROMECAST&&loaderObj.chromecast.mute(),dispatchEvent("USER_MUTE"),isMuted=!0):(isMuted||0==n)&&(mode==modes.VIDEO_ON_CHROMECAST&&loaderObj.chromecast.unmute(),dispatchEvent("USER_UNMUTE"),isMuted=!1)}),mediator.subscribe("adsLoaded",function(e){var t,n;"dfp"==e&&(t=pluginLoader.hasActiveAd().dfp,n=pluginLoader.isActiveAdLinear().dfp,log("@subs->adsLoaded",t,n),pluginLoader.setPostrollExpected(pluginLoader.hasPostroll().dfp),(!t||t&&!n)&&(log("@subs->adsLoaded (deferred) triggered play, hasActiveAd:",t),videoManagerObj.play(),updateState("playingVideoContent")))}),mediator.subscribe("nonLinearAdStarted",function(e){log("@subs->nonLinearAdStarted",e),"dfp"==e&&(dispatchEvent("NON_LINEAR_AD_DISPLAYED",e),componentNodes.adContent.style.visibility="visible",componentNodes.adContent.style.display="block",componentNodes.control.style.pointerEvents="none",componentNodes.splash.style.pointerEvents="none")}),mediator.subscribe("pluginReady",function(e){log("@subs->pluginReady",e);var t,n;"dfp"==e&&(n=pluginLoader.hasPreroll().dfp,log("@subs->pluginReady hasPreroll",e,n),t=currentItem.play||autoPlay,t&&"playingVideoContent"!=state&&(null===n?timers.resumeIfNoAd=setTimeout(evaluateResumeOnNoAd,500):n||(log("pluginReady triggered play"),videoManagerObj.play(),updateState("playingVideoContent"))),pluginLoader.setVolume(getVolume()),pluginLoader.setPostrollExpected(pluginLoader.hasPostroll().dfp))}),mediator.subscribe("videoReady2Play",function(e){var t=!1,n=!1,r=!1,i=checkAutoStart(!seekingInProgress),a=pluginLoader.isRequested("dfp")||pluginLoader.isRequested("freewheel");autoStartCheckResult=i,log("@subs->videoReady2Play",e),"seeked"==e&&(lastSeekedTime=Date.now()),failoverInProgress&&userParams.startAtFailoverContentTime&&(userParams.startAtContentTime=userParams.startAtFailoverContentTime),userParams.startAtContentTime&&(currentItem.startAt=sAdManager?sAdManager.translateToAbsoluteTime(userParams.startAtContentTime):userParams.startAtContentTime,delete userParams.startAtContentTime),mode==modes.VIDEO_ON_MAIN?(updateState("ready2PlayVideoContent"),log("currentTime:",videoManagerObj.getCurrentTime()),log("startAt",currentItem.startAt),log("deferredSeekAt",userParams.deferredSeekAt),deviceInfo.ott||(currentItem.startAt=userParams.deferredSeekAt||currentItem.startAt),!live&&"canplay-mse-seeked"!=e&&Math.abs(videoManagerObj.getCurrentTime()-currentItem.startAt)>4?(log("Seeking to old position",e,deviceInfo.firetv&&0==videoManagerObj.getCurrentTime()&&"seeked"==e),videoManagerObj.seekTo(currentItem.startAt),seekingInProgress=!0,log("setting seekingInProgress to",seekingInProgress)):(currentItem.isReady2Play=!0,log("currentItem.play || autoStartExpected",currentItem.play,i),t=currentItem.play||i,n=playlistItemSelected||recommendationSelected,r=seekingInProgress,delete currentItem.startAt,seekingInProgress=!1,log("setting seekingInProgress to",seekingInProgress,videoManagerObj.getCurrentTime(),currentItem.startAt),deviceInfo.ott||delete userParams.deferredSeekAt,log("impliedAutoPlay:",t),log("selectionPlay:",n),log("afterSeekPlay:",r),log("currentItem.completed:",currentItem.completed),(t||n||r)&&"pausedVideoContent"!=prevState&&(playlistItemSelected&&(playlistItemSelected=!1),recommendationSelected&&(recommendationSelected=!1),log("@subs->videoReady2Play evaluating ad plugins...",pluginLoader.isRequested("dfp"),pluginLoader.isRequested("freewheel")),currentItem.ready2Play=!0,r||!a||a&&adPollIndex>AD_POLL_LIMIT?(log("videoReady2Play triggered play"),videoManagerObj.play(onPlaySucceeded,onPlayFailed),updateState("playingVideoContent"),adPollIndex=0):a&&(isUpdateAdPluginInProgress?isAdPollDeferred=!0:adRequested||adPollInProgress||pollAds())),"playingVideoContent"!=prevState&&"bufferingVideoContent"!=prevState||(log("videoReady2Play triggered play"),videoManagerObj.play(onPlaySucceeded,onPlayFailed),updateState("playingVideoContent"))),log("currentTime:",videoManagerObj.getCurrentTime()),log("startAt",currentItem.startAt),"pausedVideoContent"==prevState&&(updateState(prevState),toggleBufferSpinner(!1))):mode==modes.AD_ON_MAIN&&(updateState("ready2PlayAdContent"),updateState("playingAdContent"),controlObj.setPaused(!1),captionManagerObj.hide(),!live&&sAdManager&&(deviceInfo.ott||(currentItem.startAt=userParams.deferredSeekAt||currentItem.startAt),log("(AD_ON_MAIN) check",currentItem.startAt,videoManagerObj.getCurrentTime()),"number"==typeof currentItem.startAt&&Math.abs(videoManagerObj.getCurrentTime()-currentItem.startAt)>4?(log("(AD_ON_MAIN) Seeking to old position",e,deviceInfo.ott&&0==videoManagerObj.getCurrentTime()&&"seeked"==e),videoManagerObj.seekTo(currentItem.startAt),seekingInProgress=!0,log("setting seekingInProgress to",seekingInProgress)):(seekingInProgress=!1,delete currentItem.startAt,deviceInfo.ott||delete userParams.deferredSeekAt,log("videoReady2Play triggered play"),videoManagerObj.play(onPlaySucceeded,onPlayFailed))),prevState in{playingAdContent:1,pausedAdContent:1}&&updateState(prevState))}),mediator.subscribe("playing",function(){if(log("Received playing message",playingStartFired),userParams.startAt=0,failoverInProgress&&(failoverInProgress=!1,failoverReachedCriticalState=!1,recommendationFailoverInProgress=!1,delete userParams.startAtFailoverContentTime,hideSlate(),currentItem.useBackupStream||currentItem.upload_id in failoverStationMapping||"resetFailoverQueueOnPrimary"in userParams&&!userParams.resetFailoverQueueOnPrimary||(currentFailoverQueue={})),mode==modes.AD_ON_AD)return log("Main content trying to play during client-side ad"),void videoManagerObj.pause();playingStartFired||(!currentItem.started&&videoManagerObj&&"External"==videoManagerObj.getType()&&live&&(currentItem.started=!0,currentItem.completed=!1,currentItem.id=currentItem.id||currentItem.upload_id,dispatchEvent("VIDEO_STARTED",currentItem.id,currentItem.def_title),updateState("playingVideoContent"),userParams.trackTimePeriod=2),deviceInfo.ie||deviceInfo.android?onPlaybackStart(!1):(clearTimeout(timers.pollBuffer),o(onPlaybackStart.bind(null,!0)))),splashObj.hide(),seekingInProgress?log("seeking in progress skipping toggleBufferSpinner"):toggleBufferSpinner(!1),log("Splash hidden"),state in{ready2PlayVideoContent:1,bufferingVideoContent:1,playingVideoContent:1,pausedVideoContent:1}?(videoManagerObj.show(),updateState("playingVideoContent"),controlObj.setPaused(!1),deviceInfo.iphone||deviceInfo.ipod||controlObj.setVisibilityMode("responsive"),log("Control shown"),logoObj.show(),splashObj.show("hoverScreen",mode),checkPlaylistNode()):state in{ready2PlayAdContent:1,pausedAdContent:1}&&(updateState("playingAdContent"),controlObj.setPaused(!1))}),mediator.subscribe("adReady2Play",function(){updateState("adReady2Play"),updateState(prevState)}),mediator.subscribe("savePauseVideoRequest",function(e){var t=!currentItem.started&&!currentItem.completed;log("@subs->savePauseVideoRequest"),clearTimeout(timers.expectSavePauseVideoContent),delete timers.expectSavePauseVideoContent,currentAd=e,updateState("pausedVideoContent"),controlObj.setLive(!1),pausedTime=videoManagerObj.getCurrentTime(),currentItem.startAt&&t||(currentItem.startAt=t?0:videoManagerObj.getCurrentTime()),currentItem.completed?userParams.startAt=0:t||(userParams.startAt=videoManagerObj.getCurrentTime()),videoManagerObj.pause(!0),log("main video paused @",pausedTime),clearTimeout(timers.expectPreroll),timers.expectPreroll=null}),mediator.subscribe("switchMode",l),mediator.subscribe("restoreMode",function(){log("trying to restore mode",mode),restoreMode(),fullscreen&&(mode==modes.AD_ON_AD?componentNodes.videoContent.style.zIndex="":componentNodes.videoContent.style.zIndex=2147483648),currentItem.completed&&currentItem.startAt&&mode==modes.VIDEO_ON_MAIN&&loadNextVideo()}),mediator.subscribe("playingAdContent",function(e){toggleBufferSpinner(!1),updateState(e),controlObj.setPaused(!1)}),mediator.subscribe("completedAdContent",function(e){updateState(e)}),mediator.subscribe("loadResumeVideoRequest",function(e){if(log("@subs->loadResumeVideoRequest",!e),"FLASH"==playerType&&!flashPlayerLoaded)return void controlObj.setVisibilityMode("hidden");timers.expectPreroll&&(clearTimeout(timers.expectPreroll),timers.expectPreroll=null);var t;"playingVideoContent"==state||e||(controlObj.setLive(live),currentItem.formats&&currentItem.formats.length&&setSource(currentItem.formats,onVideoError),t=videoManagerObj.getDuration(),t!=1/0||live||(t=parseInt(currentItem.duration)),log("@subs->loadResumeVideoRequest duration",t),t?controlObj.setDuration(t):r(),updateState("bufferingVideoContent"),toggleBufferSpinner(!0),log("setting current time to",pausedTime),currentItem.play=!0)}),mediator.subscribe("adOverlayDisplayed",function(e){setTimeout(function(){var t;"FreeWheel"==e&&(t=componentNodes.videoContainer.lastChild,log("NODE NAME",t.nodeName),"SPAN"==t.nodeName&&(log("just detected SPAN"),t.style.zIndex="2147483649",t.style.position="absolute",t.style.top="100px",t.style.left="100px",t.style.width="900px",log(t.firstChild.contentWindow)))},0)}),mediator.subscribe("companionContent",function(e,t,n,r){log("just sent the companion content",n,r),loaderObj.processCompanion(e,t,n,r)}),mediator.subscribe("showAdLearnMore",function(){adLearnMoreObj.show()}),mediator.subscribe("hideAdLearnMore",function(){adLearnMoreObj.hide()}),mediator.subscribe("updateAdTimer",function(e,t,n){adTimerObj.updateTime(e,t,n),adTimerObj.show()}),mediator.subscribe("hideAdTimer",function(){adTimerObj.hide()}),mediator.subscribe("playlistItemSelected",function(e){if(!queue||!queue[e])return void log("@subs->playlistItemSelected playlistObj sent an invalid index or queue is removed");mode==modes.VIDEO_ON_CHROMECAST?queue[e].id!=chromecastInfo.chromecastCurrentlyPlayingId&&(loaderObj.chromecast.play(queue,e),splashObj.show("castScreen",mode,queue[e].src_image_url),splashObj.setInfo(queue[e].def_title,queue[e].def_description)):(playlistItemSelected=!0,playbackOrigin=playbackOrigins.PLAYLIST_MANUAL,loadVideoWithId(queue[e].id))}),mediator.subscribe("playlistItemMoved",function(e,t,n){mode==modes.VIDEO_ON_CHROMECAST&&(queue=e,loaderObj.chromecast.reorderQueue(e))}),mediator.subscribe("autoplayToggled",function(e,t){modes.VIDEO_ON_CHROMECAST}),mediator.subscribe("playlistItemRemoved",function(e,t,n){mode==modes.VIDEO_ON_CHROMECAST&&(queue=t,loaderObj.chromecast.removeFromQueue(e),controlObj.setPlaylistReady(!0,queue.length))}),mediator.subscribe("playlistSingleItemRemaining",function(){mode==modes.VIDEO_ON_CHROMECAST&&(controlObj.setPlaylistReady(!1),playlistObj.hide())}),mediator.subscribe("togglePlaylistPanel",function(){playlistObj.toggle(),splashObj.hide()}),mediator.subscribe("playNextRequested",function(){mode==modes.VIDEO_ON_CHROMECAST?loaderObj.chromecast.playNext():playNext()}),mediator.subscribe("playlistDisplayed",function(e){playlistShown=e,controlObj.setVisibilityMode(playlistShown?"hidden":"responsive"),fetchDeferredMetadata()}),mediator.subscribe("completedPlaylist",function(){log("@subs->completedPlaylist"),dispatchEvent("PLAYLIST_COMPLETED",null),lastItemIdBeforeRecommendationAttempt=currentItem.id,setRecommendationItems(userParams.recom||userParams.recommendations)}),mediator.subscribe("loadingRecommendations",function(){toggleBufferSpinner(!0)}),mediator.subscribe("recommendationsReady",function(){toggleBufferSpinner(!1)}),mediator.subscribe("recommendationSelected",function(e,t){log("@subs->recommendationSelected");var n=util.deepCopy(e);n.url&&(n=processExternalVideo(n));var r=playlistObj.append(n);log("Result:",logger.stringify(r)),recommendationSelected=!0,isRecommendationSelectionManual=t,splashObj.hide(),videoManagerObj.hide(),recomObj.hide(),toggleCustomRecommendations(!1),r.id?loadVideoWithId(r.id,null,onRecommendationLoadError.bind(null,r.id)):loadNextVideo(),log("recommendation selected:",logger.stringify(e))}),mediator.subscribe("bitrateUpdate",u),mediator.subscribe("streamError",function(e,t){if(log("@subs->streamError",e,t),console.warn("Received stream error with code:",e),e in{PLAY010:1,PLAY309:1,PLAY450:1,PLAY455:1,PLAY456:1,PLAY457:1,PLAY458:1,PLAY459:1,PLAY460:1,PLAY461:1,PLAY462:1,PLAY470:1,PLAY480:1,PLAY490:1,PLAY499:1,PLAY520:1,SHAK001:1,SHAK002:1,DRM001:1,DRM002:1,DRM003:1,DRM004:1,DRM005:1,DRM010:1,DRM011:1,DRM015:1,DRM020:1,VMNG030:1}){if(!live){var n;sAdManager&&currentAdBreaks&&currentAdBreaks.length&&(n="content"==presentation.contentType?presentation.currentTime:(presentation.contentOffset||0)+.5),isNaN(n)&&(n=videoManagerObj.getCurrentTime()),userParams.startAtFailoverContentTime=util.markFaultZone(faultZones,currentItem.id,n,10,2)}applyFailover(e)}}),mediator.subscribe("bitrateSelected",function(e){var t;videoManagerObj.isBitrateSwitchSupported()?videoManagerObj.setBitrate(e):(t=videoManagerObj.getCurrentTime(),selectedBitrate!=("auto"==e?400:parseInt(e))&&(currentItem.startAt=t,currentItem.play=!0,"auto"==e?(selectedBitrate=400,setSource(currentItem.formats,onVideoError)):(selectedBitrate=parseInt(e),setSource(availableBitrates[e],onVideoError)),restoreState(),toggleBufferSpinner(!0)))}),mediator.subscribe("bitrateChangeInProgress",function(e,t){log("@subs->bitrateChangeInProgress",e,t),controlObj.onBitrateChangeInProgress(e),dispatchEvent("BITRATE_CHANGE_IN_PROGRESS",e)}),mediator.subscribe("bitrateChanged",function(e){log("@subs->bitrateChanged",e),e&&(currentBitrate=e,controlObj.onBitrateChanged(e),dispatchEvent("BITRATE_CHANGED",e))}),mediator.subscribe("dfpConfigDetected",function(e){log("@subs->dfpConfigDetected",e),isUpdateAdPluginInProgress=!0,pluginLoader.updatePlugin("dfp",e,{})}),mediator.subscribe("pluginUpdated",function(e){log("@subs->pluginUpdated",e),"dfp"!=e&&"freewheel"!=e||(adRequested=!1,isAdPollDeferred&&(log("performing deferred ad poll"),isAdPollDeferred=!1,pollAds()),isUpdateAdPluginInProgress=!1)}),mediator.subscribe("captionUpdate",s),mediator.subscribe("captionLoaded",function(e){var t=captionManagerObj.getAvailableLanguages();currentCaptionLanguage=captionManagerObj.getCurrentLanguage(),controlObj.setAvailableCaptionLanguages(t,currentCaptionLanguage,e)}),mediator.subscribe("captionCueAdded",function(e){log("@subs->captionCueAdded",e),captionManagerObj.showCue({begin:e.ts/1e3,text:e.text})}),mediator.subscribe("captionLanguageSelected",setCaption),mediator.subscribe("splashInfoUpdate",function(e){log("subs->splashInfoUpdate",e),splashObj.resetInfo(),(e.def_title||e.def_description)&&splashObj.setInfo(e.def_title,e.def_description)}),mediator.subscribe("languageLoaded",function(){controlObj.updateLanguage(),shareObj.updateLanguage(),searchObj.updateLanguage()}),mediator.subscribe("clientBandWith",function(e){dispatchEvent("CLIENT_BANDWIDTH",e)}),mediator.subscribe("catchLive",catchLive),mediator.subscribe("dispatchEvent",function(e,t){var n=Array.prototype.slice.call(arguments);n.splice(n.length-1,1),dispatchEvent.apply(null,n)}),mediator.subscribe("stereoButtonClicked",function(){sphericalRendererObj.isStereoscopic}),mediator.subscribe("chromecastButtonClicked",function(){chromecastInfo.chromecastPlayRequest=state.indexOf("playing")>=0,loaderObj.chromecast.launchApp()}),mediator.subscribe("contentLanguageDetected",function(e){langObj.setLanguage(e),captionManagerObj.setDefaultLanguage(e)}),mediator.subscribe("id3TagDetected",onId3TagDetected),mediator.subscribe("subtitlesDetected",function(e){log("@subs->subtitlesDetected",e);var t=captionManagerObj.getAvailableLanguages(),n=captionManagerObj.getCurrentLanguage();t&&t.length||!e||!e.length||dispatchEvent("CAPTION_DETECTED",e),userParams.useNativeRendererForWebVtt?(captionManagerObj.setCaptionType(captionTypes.WEB_VTT),captionSetObj.setCaptionType(captionTypes.WEB_VTT)):(captionManagerObj.setCaptionType(captionTypes.SIDE_CAR),captionSetObj.setCaptionType(captionTypes.SIDE_CAR)),captionManagerObj.setAvailableLanguages(e,"webVtt"),controlObj.setAvailableCaptionLanguages(e,null,!1);for(var r=0;r<e.length;r++)if(e[r]===n){setCaption(n),controlObj.setAvailableCaptionLanguages(e,n,!1);break}var i;i=captionManagerObj.getCaptionType(),captionSetObj.setCaptionType(i)}),mediator.subscribe("webVttRequested",function(e){log("@subs->webVttRequested",e),videoManagerObj.loadWebVtt(e)}),mediator.subscribe("webVttUpdated",function(e,t){userParams.useNativeRendererForWebVtt?(captionManagerObj.getCaptionType()!=captionTypes.WEB_VTT&&(captionManagerObj.setCaptionType(captionTypes.WEB_VTT),captionSetObj.setCaptionType(captionTypes.WEB_VTT),setTimeout(setCaption.bind(null,currentCaptionLanguage),100)),captionManagerObj.appendWebVtt(e,t)):(captionManagerObj.getCaptionType()!=captionTypes.SIDE_CAR&&(captionManagerObj.setCaptionType(captionTypes.SIDE_CAR),captionSetObj.setCaptionType(captionTypes.SIDE_CAR),setTimeout(setCaption.bind(null,currentCaptionLanguage),100)),captionManagerObj.appendWebVtt(e,t))}),mediator.subscribe("caption608Detected",function(){var e=["en"],t=captionManagerObj.getAvailableLanguages(),n=captionManagerObj.getCurrentLanguage();t&&t.length||!e||!e.length||dispatchEvent("CAPTION_DETECTED",["en"]),captionManagerObj.setCaptionType(captionTypes.CEA608),captionManagerObj.setAvailableLanguages(e),controlObj.setAvailableCaptionLanguages(e,null,!1);for(var r=0;r<e.length;r++)if(e[r]===n){setCaption(n),controlObj.setAvailableCaptionLanguages(e,n,!1);break}var i;i=captionManagerObj.getCaptionType(),captionSetObj.setCaptionType(i)}),mediator.subscribe("caption608StyleRejected",function(e){captionManagerObj.getCaptionType()!=captionTypes.SIDE_CAR&&(captionManagerObj.setCaptionType(captionTypes.SIDE_CAR),captionSetObj.setCaptionType(captionTypes.SIDE_CAR),isCaptionStyledBeyondCea608Spec=!0,captionManagerObj.setStyle(e),setTimeout(setCaption.bind(null,currentCaptionLanguage),100))}),mediator.subscribe("caption608Updated",function(e,t){isCaptionStyledBeyondCea608Spec?(captionManagerObj.getCaptionType()!=captionTypes.SIDE_CAR&&(captionManagerObj.setCaptionType(captionTypes.SIDE_CAR),captionSetObj.setCaptionType(captionTypes.SIDE_CAR),setTimeout(setCaption.bind(null,currentCaptionLanguage),100)),captionManagerObj.showCea608Cue(e,t)):(captionManagerObj.getCaptionType()!=captionTypes.CEA608&&(captionManagerObj.setCaptionType(captionTypes.CEA608),captionSetObj.setCaptionType(captionTypes.CEA608)),captionManagerObj.updateCaption(e,t))}),mediator.subscribe("embeddedCaptionDetected",function(){captionManagerObj.setCaptionType(captionTypes.EMBEDDED);var e=captionManagerObj.getAvailableLanguages();controlObj.setAvailableCaptionLanguages(e,captionManagerObj.getCurrentLanguage(),!1),e&&e.length&&dispatchEvent("CAPTION_DETECTED",e)}),mediator.subscribe("segmentInfoUpdated",function(e){var t,n,r;if(log("subs->segmentInfoUpdated"),"master"==e.type&&e&&(e.timed_metadata&&(n=util.base64Decode(e.timed_metadata),log("subs->segmentInfoUpdated beacon:",n),n=util.decodeURLParams("?"+n),"beacon"==n.type&&n.payload&&(r=decodeURIComponent(n.payload),p({type:n.type,payload:r}))),e.stream_info_tag&&(t=util.base64Decode(e.stream_info_tag),log("subs->segmentInfoUpdated cue:",t))),e.event_access){var i=util.base64Decode(e.event_access);try{i=JSON.parse(i)}catch(e){console.warn("EVENT_ACCESS_STATUS payload is not valid JSON, dispatching as-is")}dispatchEvent("EVENT_ACCESS_STATUS",i)}currentItem.currentSegmentType!=e.type&&(log("subs->segmentInfoUpdated segment type changed to",e.type),currentItem.currentSegmentType=e.type,"ad"==e.type&&(void 0===currentItem.currentAdBreakIndex?currentItem.currentAdBreakIndex=0:currentItem.currentAdBreakIndex++,currentItem.currentAdIndex=0),dispatchEvent("SEGMENT_TYPE_CHANGED",currentItem.currentSegmentType))}),mediator.subscribe("sessionIdUpdated",function(e){e&&(window.onkeydown=function(t){120==t.keyCode&&t.ctrlKey&&t.shiftKey&&loaderObj.handleAdLogRequest(e)},loaderObj.dispatchEvent("KEY_VALUE_SET","sessionId",e))}),mediator.subscribe("cdnProviderUpdated",function(e){e&&(contentInfo.cdnProvider=e,dispatchEvent("CDN_PROVIDER_UPDATED",e))}),mediator.subscribe("segmentQueueUpdated",function(e){log("subs->segmentQueueUpdated",JSON.stringify(e,null,3));var t,n;segmentQueueInfo.currentSegmentType!=e.type&&(log("subs->segmentQueueUpdated segment type changed to",e.type),segmentQueueInfo.currentSegmentType=e.type,"ad"==e.type&&(void 0===segmentQueueInfo.currentAdBreakIndex?segmentQueueInfo.currentAdBreakIndex=0:segmentQueueInfo.currentAdBreakIndex++,segmentQueueInfo.currentAdIndex=0,segmentQueueInfo.currentAdOffset=0,delete segmentQueueInfo.currentAdCue,dispatchEvent("AD_IMMINENT",e.start_time-videoManagerObj.getCurrentTime()))),live&&e.vast_json&&(t=util.base64Decode(e.vast_json),t=JSON.parse(t),segmentQueueInfo.currentAdCue=segmentQueueInfo.currentAdCue||{start:e.start_time,ads:[]},n={duration:t.duration,offset:segmentQueueInfo.currentAdOffset},segmentQueueInfo.currentAdOffset+=t.duration,segmentQueueInfo.currentAdCue.ads.push(n),segmentQueueInfo.currentAdCue.ad_count=segmentQueueInfo.currentAdCue.ads.length,segmentQueueInfo.currentAdCue.end=segmentQueueInfo.currentAdOffset+segmentQueueInfo.currentAdCue.start,log("subs->segmentInfoUpdated",JSON.stringify(t,null,3)),log("subs->segmentInfoUpdated segmentQueueInfo.currentAdCue",JSON.stringify(segmentQueueInfo.currentAdCue,null,3)),util.download(t.vast_meta_url,null,A,g))}),mediator.subscribe("cueUpdated",p),mediator.subscribe("adBreakInfoDetected",function(e){e?getAdBreaks(e,currentItem.duration):resetAdBreaks(live?1/0:currentItem.duration)}),mediator.subscribe("playerTypeSet",function(e){playerType=e,util.safeSetInnerHtml(componentNodes.playerType,playerType),"FLASH"!=playerType||flashPlayerLoaded||splashObj.disable()}),mediator.subscribe("flashPlayerLoaded",function(){flashPlayerLoaded=!0,splashObj.enable()}),mediator.subscribe("detectedSphericalRendererError",handle360Errors),mediator.subscribe("adSkipAllowed",function(){dispatchEvent("AD_SKIP_ALLOWED"),!pluginLoader.isCustomPlaybackUsed().dfp&&controlObj&&controlObj.setPointerEvents&&controlObj.setPointerEvents(!1)}),mediator.subscribe("adVideoSkipped",function(e,t,n){dispatchEvent("AD_SKIPPED",e,t,n)}),mediator.subscribe("loadedPluginSDKs",function(){logger.perf("loadedPluginSDKs"),log("@subs->loadedPluginSDKs"),setMacros()}),mediator.subscribe("backupFairplayCertUsed",function(){dispatchError("DRM030")}),mediator.subscribe("adSlotsDetected",function(e){var t=sanitizeAdSlotsPayload(e);dispatchEvent("AD_SLOTS_DETECTED",t),userParams.adSlots=t}),mediator.subscribe("adBreakReadyToPlay",function(){log("subs->adBreakReadyToPlay"),manualAdScheduler&&manualAdScheduler.onAdBreakReadyToPlay()}),mediator.subscribe("updatePlugin",updatePlugin),mediator.subscribe("pollAds",pollAds),mediator.subscribe("startAd",function(e){pluginLoader.startAd(!!e)}),mediator.subscribe("toggleBufferSpinner",function(e){toggleBufferSpinner(e)}),mediator.subscribe("criticalOfflineBuffer",function(e){log("@subs->criticalOfflineBuffer",e),toggleBufferSpinner(!0),lastStateBeforeCriticalOfflineBuffer=state,contentInfo.lastStateBeforeCriticalOfflineBuffer=lastStateBeforeCriticalOfflineBuffer,dispatchEvent("CRITICAL_OFFLINE_BUFFER",e)}),mediator.subscribe("lowBandwidthDetected",function(e){dispatchEvent("LOW_BANDWIDTH_DETECTED",Math.floor(e/1024))}),mediator.subscribe("bandwidthImprovementDetected",function(e){dispatchEvent("BANDWIDTH_IMPROVEMENT_DETECTED",Math.floor(e/1024))}),mediator.subscribe("liveSyncStatusUpdated",function(e){e||controlObj.setLiveSyncStatus(e)}),mediator.subscribe("setOffsetCorrectionProgress",function(e){seekingInProgress=e,e||(seekAllowed=!0)}),mediator.subscribe("setLive",function(e){controlObj.setLive(e),live=e,currentItem.video_type=e?"2":"1"}),mediator.subscribe("restartTvDetected",onRestartLiveDetected),mediator.subscribe("restartLiveRequested",function(){log("@subs->restartLiveRequested",currentItem.rstv.begin),currentItem.rstv&&currentItem.rstv.begin&&videoManagerObj.seekTo(parseInt(currentItem.rstv.begin))}),mediator.subscribe("liveOffsetDetected",function(e){log("subs->liveOffsetDetected",e),restartTv.setLiveOffset(e)}),mediator.subscribe("playlistUpdated",onPlaylistUpdated),mediator.subscribe("adSessionUpdateUrlDetected",setAdSessionUpdateUrl),mediator.subscribe("preloadAdDetected",onPreloadAdDetected),mediator.subscribe("pluginLibraryLoadFailed",onPluginLibraryLoadFailed),mediator.subscribe("pluginInitialized",function(e){"dfp"===e&&(adPollInProgress||adPollLimitExceeded)&&(clearTimeout(timers.pollAds),pollAds(playAdWhenReady))});var v={pluginLibraryRequested:1,pluginLibraryLoaded:1,vastRequested:1,vastLoaded:1,adMediaRequested:1,adMediaLoaded:1};for(var y in v)v.hasOwnProperty(y)&&mediator.subscribe(y,onPluginProgress.bind(null,y));updateState("playerReady"),"function"==typeof n&&n(),dispatchEvent("COMPONENTS_INITIALIZED"),videoLoaded=loadNextVideo(),videoLoaded&&(trackingPluginLoaderObj.poll(currentItem),pluginLoader.poll(currentItem),pluginPollStarted=!0)}function onPreviewDetected(e){deviceInfo.iphone||deviceInfo.ipod||userParams.chromeless||setTimeout(function(){previewObj.loadPreviewMatrices(e),sliderPreviewObj.loadPreviewMatrices(e)},1500)}function onPluginProgress(e,t,n){dispatchEvent(util.convertToUnderscore(e),t,n)}function onPluginLibraryLoadFailed(e){"dfp"==e&&timers.expectPreroll&&(clearTimeout(timers.expectPreroll),timers.expectPreroll=null,callbacks.expectPreroll&&(callbacks.expectPreroll.apply(null,callbackArgs.expectPreroll),delete callbacks.expectPreroll,delete callbackArgs.expectPreroll))}function onPlaylistUpdated(e){var t=e&&e.length>1&&"external"!=userParams.playlistMode;controlObj&&"function"==typeof controlObj.setPlaylistReady&&controlObj.setPlaylistReady(t),playlistObj.updateVisualPlaylist(),dispatchEvent("PLAYLIST_UPDATED",e)}function setAdSessionUpdateUrl(e){loaderObj.registerAdSessionUpdateUrl(e)}function onRestartLiveDetected(e){log("@subs->restartTvDetected",e&&e.begin),restartTv.setConfig(e),controlObj.toggleRestartLiveMode(restartTv.getMode()!=RestartTv.Mode.NONE,restartTv.getBegin()),restartTv.setTimeDelta(loaderObj.getTimeDelta()||0),restartTv.setLiveOffset(null,!0),dispatchEvent("RESTART_RIGHTS_DETECTED",e)}function onPreloadAdDetected(e){log("@onAdPreloadDetected",e);var t=0==userParams.volume||videoManagerObj.isMuted();if("dfp"==e){
if(!util.getAutoPlaySupport().evaluationCompleted)return void util.registerAutoPlayDetectionCallback(onPreloadAdDetected,[e]);checkAutoStart(!1)||pluginLoader.preloadAd(t)}}function toggleCaptionSettings(){log("@toggleCaptionSettings"),captionSetShown?(captionSetObj.hide(),restoreState(),controlObj.setPaused(!1),controlObj.setVisibilityMode("responsive")):(captionSetObj.show(),recallState=state,videoManagerObj.pause(!0),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),splashObj.hide(),updateState("pausedVideoContent")),captionSetShown=!captionSetShown}function setCaption(e){if("settings"==e)toggleCaptionSettings();else{if(mode==modes.VIDEO_ON_CHROMECAST)return void loaderObj.chromecast.toggleCaption(e,chromecastInfo.chromecastLanguages);if(null==e)videoManagerObj.notifyCaptionStatus(!1),captionManagerObj.turnOff(),controlObj.setAvailableCaptionLanguages(captionManagerObj.getAvailableLanguages(),null,!1);else{videoManagerObj.notifyCaptionStatus(!0);var t=captionManagerObj.loadLanguage(e);log("@subs->captionUpdate success?",t),captionManagerObj.turnOn()}}}function onRecommendationLoadError(e){log("@onRecommendationLoadError",e);var t,n={},r=!1;n[e]=1,playlistObj.removeWithId(e),t=recomObj.getRecommendations(),t instanceof Array&&t.length?(log("onRecommendationLoadError triggering setRecommendationItems",t),dispatchError("PLAY600"),r=setRecommendationItems(userParams.recom||userParams.recommendations,t,n),r?splashObj.show("loadScreen",mode,currentItem.src_image_url):onNoValidRecommendationItem()):onNoValidRecommendationItem()}function sanitizeWithRecommendationBlackList(e,t){return t?e.filter(function(e){var n=e.id||e.mcpid;return!n&&e.url&&(n=util.md5(e.url)),!(n in t)}):e}function setRecommendationItems(e,t,n){var r,i=!1;if(recommendationBlacklist=util.merge(recommendationBlacklist,n||{}),t=t||currentItem.recommendations,e&&mode==modes.VIDEO_ON_MAIN)return"boolean"==typeof e&&t&&t.length>0?(r=sanitizeWithRecommendationBlackList(t,recommendationBlacklist),i=recomObj.setRecommendations(r)):"object"==typeof e&&(e.items?(r=sanitizeWithRecommendationBlackList(e.items,recommendationBlacklist),i=recomObj.setRecommendations(r,e.duration)):"feed"==e.type&&e.id?feedObj&&(waitingForFeed=!0,feedObj.isInitialized()?(r=sanitizeWithRecommendationBlackList(feedObj.getFetchedVideos(),recommendationBlacklist),i=recomObj.setRecommendations(r)):toggleBufferSpinner(!0)):currentItem.recommendations&&currentItem.recommendations.length>0&&(r=sanitizeWithRecommendationBlackList(currentItem.recommendations,recommendationBlacklist),i=recomObj.setRecommendations(r,e.duration))),i&&(recomObj.show(currentItem.def_title),toggleCustomRecommendations(!0),updateState("pausedVideoContent"),videoManagerObj.pause(!0),splashObj.hide(),controlObj.setVisibilityMode("hidden")),i}function onNoValidRecommendationItem(){log("@onNoValidRecommendationItem",lastItemIdBeforeRecommendationAttempt),dispatchError("PLAY601"),toggleBufferSpinner(!1),recommendationFailoverInProgress=!0,recommendationSelected=!1,loadVideoWithId(lastItemIdBeforeRecommendationAttempt)}function sanitizeAdSlotsPayload(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push({id:e[n].slot_id,timeIndex:parseFloat(e[n].ts),adConfig:null,repeat:!1,allowSeekOver:!1});return t}function checkPlaylistNode(){var e=!(deviceInfo.iphone||deviceInfo.ipod)||(!("inlinePlayback"in userParams)||userParams.inlinePlayback)&&util.isInlineVideoSupported();playlistObj&&componentNodes.playlist&&parseInt(width)>=500&&e&&(playlistCacheStarted||(playlistObj.setVisual(componentNodes.playlist,"visual","native"),setTimeout(function(){playlistObj.updateVisualPlaylist()},2e3),playlistCacheStarted=!0))}function onImpliedPauseRequest(){log("@onImpliedPauseRequest"),recallState||(mode==modes.VIDEO_ON_MAIN?(recallState=state,videoManagerObj.pause(!0),updateState("pausedVideoContent"),controlObj.setPaused(!0)):mode in{AD_ON_MAIN:1,AD_ON_AD:1}&&(recallState=state,pluginLoader.isAvailable("freewheel")||sAdManager?(videoManagerObj.pause(!0),updateState("pausedAdContent"),dispatchEvent("USER_PAUSE")):pluginLoader.isAvailable("dfp")&&(pluginLoader.pause(),updateState("pausedAdContent"),dispatchEvent("USER_PAUSE")),controlObj.setPaused(!0),controlObj.setVisibilityMode("visible")))}function restoreState(){recallState&&(log("@restoreState",state,"->",recallState),updateState(recallState),"playingVideoContent"==recallState?(log("readyState",videoManagerObj.getReadyState()),seekingInProgress||(log("recall triggered play"),videoManagerObj.play()),controlObj.setPaused(!1)):"playingAdContent"==recallState?(pluginLoader.isAvailable("freewheel")||sAdManager?(updateState("playingAdContent"),videoManagerObj.play()):pluginLoader.isAvailable("dfp")&&(pluginLoader.resume(),updateState("playingAdContent")),controlObj.setPaused(!1),controlObj.setVisibilityMode("visible")):(videoManagerObj.pause(!0),controlObj.setPaused(!0)),recallState=null)}function onPlaybackStart(e){log("@onPlaybackStart"),playingStartFired||(log("@onPlaybackStart isAfterBufferPoll",e),log("@onPlaybackStart deferredSeekAt",userParams.deferredSeekAt),dispatchEvent("PLAYING_START",playbackOrigin),playingStartFired=!0,updateAutoPlaySupportAfterPlaybackStart(),releasePrematureEventQueue(),seekAllowed=!0),userParams.deferredSeekAt?performDeferredSeek():e&&toggleBufferSpinner(!1),playlistItemsWithoutMetadata.length&&(timers.fetchDeferredMetadata=setTimeout(fetchDeferredMetadata,DEFERRED_METADATA_FETCH_DELAY))}function performDeferredSeek(){log("@performDeferredSeek"),videoManagerObj.seekTo(userParams.deferredSeekAt),delete userParams.deferredSeekAt,seekingInProgress=!0}function detectWindowSize(){var e=window,t=document,n=t.documentElement,r=t.getElementsByTagName("body")[0],i=e.innerWidth||n.clientWidth||r.clientWidth,a=e.innerHeight||n.clientHeight||r.clientHeight;window.top!==window.self||fullscreen||(a=initialHeight,i=initialWidth,"true"==componentNodes.userContainer.getAttribute("data-has-shadow-root-parent")&&componentNodes.userContainer.parentNode&&componentNodes.userContainer.parentNode.host&&(i=getComputedStyle(componentNodes.userContainer.parentNode.host).width.replace("px",""),a=getComputedStyle(componentNodes.userContainer.parentNode.host).height.replace("px",""))),resize(i,a),pluginLoader.resize(i,a,fullscreen)}function catchLive(){if(!isOnline)return void console.error("Browser is offline, the SDK can't honor catchLive call");mode==modes.VIDEO_ON_CHROMECAST?startPlaybackOnChromecast():(videoManagerObj.catchLive(),updateState("bufferingVideoContent"),dispatchEvent("USER_GOLIVE"),log("CatchingLive",pausedTime),currentItem.play=!0),controlObj.setLiveCatch()}function evaluateResumeOnNoAd(){log("@evaluateResumeOnNoAd");var e=pluginLoader.hasActiveAd().dfp,t=pluginLoader.isActiveAdLinear().dfp;log("@evaluateResumeOnNoAd",e),(!e||e&&!t)&&(log("@evaluateResumeOnNoAd pluginReady (deferred) triggered play, hasActiveAd:",e),videoManagerObj.play(),updateState("playingVideoContent"))}function pollAds(e){var t,n;if(playAdWhenReady=e,log("@pollAds DFP ready:",pluginLoader.isReady("dfp")),log("@pollAds DFP available:",pluginLoader.isAvailable("dfp")),log("@pollAds DFP requested:",pluginLoader.isRequested("dfp")),log("@pollAds FreeWheel ready:",pluginLoader.isReady("freewheel")),log("@pollAds FreeWheel available:",pluginLoader.isAvailable("freewheel")),log("@pollAds FreeWheel requested:",pluginLoader.isRequested("freewheel")),adPollInProgress=!1,adPollLimitExceeded=!1,pluginLoader.isAvailable("dfp")||pluginLoader.isAvailable("freewheel")||adPollIndex>AD_POLL_LIMIT||!pluginLoader.isRequested("dfp")&&!pluginLoader.isRequested("freewheel")){if(log("@pollAds with readyState",videoManagerObj.getReadyState()),playingStartFired||toggleBufferSpinner(!0),t=playbackOrigin==playbackOrigins.INITIAL?autoStartCheckResult:playbackOrigin==playbackOrigins.PLAYLIST_AUTO_ADVANCE||playbackOrigin==playbackOrigins.RECOMMENDATION_AUTO_ADVANCE,n=0==userParams.volume||videoManagerObj.isMuted(),adRequested)return log("@pollAds canceling poll since ad has been requested"),void(adPollIndex=0);pluginLoader.isAvailable("dfp")?(videoManagerObj.show(),pluginLoader.initContainer(),logger.perf("requestAds"),setMacros(),pluginLoader.requestAds(t,n,e),adRequested=!0,adPollIndex=0):pluginLoader.isAvailable("freewheel")?(videoManagerObj.show(),setMacros(),pluginLoader.requestAds(),pluginLoader.notifyVideoBegin(currentItem),adRequested=!0,adPollIndex=0):mode==modes.VIDEO_ON_MAIN||mode==modes.AD_ON_MAIN&&sAdManager?(videoManagerObj.show(),adPollIndex>AD_POLL_LIMIT&&currentItem.isReady2Play&&(log("@pollAds ad polling timed out, content is ready, calling play"),videoManagerObj.play(),adPollIndex=0,adPollLimitExceeded=!0),"loadScreen"==splashMode&&toggleBufferSpinner(!0),(videoManagerObj.getReadyState()<2||videoManagerObj.getPaused())&&setTimeout(function(){videoManagerObj.getReadyState()<2&&(log("block triggered, async load (must be followed by subs->videoReady2Play)"),videoManagerObj.videoContent().load())},3e3),updateState(mode==modes.VIDEO_ON_MAIN?"playingVideoContent":"playingAdContent"),controlObj.setPaused(!1),controlObj.setVisibilityMode("hidden"),checkPlaylistNode()):(toggleBufferSpinner(!1),pluginLoader.resume(),splashObj.hide())}else(pluginLoader.isRequested("dfp")||pluginLoader.isRequested("freewheel"))&&(log("@pollAds polling for the ads... trial#",adPollIndex),timers.pollAds=setTimeout(pollAds.bind(null,e),10*Math.pow(2,++adPollIndex)),adPollInProgress=!0)}function onPlayPauseRequested(e){var t=0;if(log("@onPlayPauseRequested playPauseClicked received while state =",state),mode==modes.VIDEO_ON_CHROMECAST)loaderObj.chromecast.getState()in{playing:1,buffering:1}?loaderObj.chromecast.pause():loaderObj.chromecast.getState()in{paused:1}&&loaderObj.chromecast.play();else{if(state in{playerReady:1,bufferingVideoContent:1,ready2PlayVideoContent:1,adReady2Play:1,pausedVideoContent:1,completedVideoContent:1}){if(log("@onPlayPauseRequested Play button triggered play"),!isOnline)return void console.error("Browser is offline, the SDK can't honor play call");videoManagerObj.play(),shareObj.hide(),dispatchEvent("USER_PLAY"),state in{pausedVideoContent:1,pausedAdContent:1}&&dispatchEvent("USER_RESUME"),updateState("playingVideoContent"),controlObj.setPaused(!1),controlObj.setVisibilityMode("responsive")}else if("playingVideoContent"==state)videoManagerObj.pause(e),toggleBufferSpinner(!1),updateState("pausedVideoContent"),dispatchEvent("USER_PAUSE"),controlObj.setPaused(!0),controlObj.setVisibilityMode("hidden"),t=currentItem.duration-videoManagerObj.getCurrentTime(),splashObj.show("pauseScreen",mode,null,t),logoObj.hide();else if("pausedAdContent"==state){if(!isOnline)return void console.error("Browser is offline, the SDK can't honor play call");mode===modes.AD_ON_MAIN?(updateState("playingAdContent"),videoManagerObj.play()):mode===modes.AD_ON_AD&&(pluginLoader.resume(),updateState("playingAdContent"),splashObj.hide()),controlObj.setPaused(!1),controlObj.setVisibilityMode("visible"),dispatchEvent("USER_RESUME")}else"playingAdContent"==state&&(mode===modes.AD_ON_MAIN?(videoManagerObj.pause(e),updateState("pausedAdContent"),dispatchEvent("USER_PAUSE")):mode===modes.AD_ON_AD&&(pluginLoader.pause(),updateState("pausedAdContent"),dispatchEvent("USER_PAUSE")),controlObj.setPaused(!0),controlObj.setVisibilityMode("visible"));isOnline||(lastStateBeforeCriticalOfflineBuffer=state)}}function prepareMutedAutoPlay(){log("@prepareMutedAutoPlay"),videoManagerObj.isMuted()||(log("@prepareMutedAutoPlay not muted, muting now"),controlObj.setVolume(userParams.volume||1),videoManagerObj.toggleMobileAutoPlay(!0),controlObj.toggleVolume())}function updateAutoPlaySupportAfterPlaybackStart(){getVolume()&&(sessionAutoPlaySupport.unmutedAutoPlay=!0),sessionAutoPlaySupport.mutedAutoPlay=!userParams.disableMutedAutoplay,dispatchEvent("AUTOPLAY_SUPPORT_INFO_UPDATED",sessionAutoPlaySupport)}function checkAutoStart(e){var t=util.getAutoPlaySupport(),n=util.merge(t,sessionAutoPlaySupport),r=void 0!==autoPlay?autoPlay:live,i=currentItem&&currentItem.formats?currentItem.formats:{};return!!r&&(!util.getDeviceInfo.iphone&&!util.getDeviceInfo.ipad||util.isInlineVideoSupported()&&!util.getDeviceInfo.firefox?n.unmutedAutoPlay?(log("@checkAutoStart unmutedAutoplay supported"),!0):n.mutedAutoPlay&&!videoManagerObj.isAudioOnly(i,live)?(log("@checkAutoStart mutedAutoplay supported"),e&&prepareMutedAutoPlay(),!0):!1!==n.unmutedAutoPlay&&(void 0!==n.mutedAutoPlay||!videoManagerObj.isAudioOnly(i,live)&&(e&&prepareMutedAutoPlay(),!0)):(dispatchError("PLAY511"),autoPlay=!1,!1))}function dispatchAutoPlayEvent(){var e,t=util.merge(util.getAutoPlaySupport(),sessionAutoPlaySupport),n=void 0!==autoPlay?autoPlay:live;t.evaluationCompleted&&(e=n?t.unmutedAutoPlay?AutoPlayStatus.UNMUTED:t.mutedAutoPlay?AutoPlayStatus.MUTED:AutoPlayStatus.BLOCKED:AutoPlayStatus.NONE,dispatchEvent("AUTOPLAY_STATUS",e))}function onId3TagDetected(e,t){log("@subs->id3TagDetected",e,t),contentInfo.id3Tags=contentInfo.id3Tags||{},contentInfo.id3Tags[t]=e,contentInfo.id3Tag=e,contentInfo.id3TagPublisher=t,"nielsen"==t&&dispatchEvent("ID3",e,t)}function onSeekRequested(e,t,n){var r=[],i=arguments.length,a=n in{beforeSeek:1,beforeAdBreak:1};if(lastSeekedTime=Date.now(),mode==modes.VIDEO_ON_CHROMECAST)return void loaderObj.chromecast.seekTo(e);if(n&&"Control"==n&&(controlObj.updateDuration(e),!live&&sAdManager&&(e=sAdManager.translateToAbsoluteTime(e))),log("onSeekRequested subs->seekRequest",e,n),Math.abs(e-videoManagerObj.getCurrentTime())>.5){if(log("@subs->seekRequest to",e,"from",videoManagerObj.getCurrentTime()),e>videoManagerObj.getDuration()&&(e/=1e3),mode==modes.VIDEO_ON_MAIN&&e!=videoManagerObj.getCurrentTime()||a){if(seekingInProgress=!0,userParams.useBeforeSeekTriggers&&!a){for(;i--;)r[i]=arguments[i];return r[2]="beforeSeek",onBeforeSeekReturnedExpected=!0,callbacks.onBeforeSeekReturned=onSeekRequested,callbackArgs.onBeforeSeekReturned=r,void dispatchEvent("BEFORE_SEEK",{seekFrom:videoManagerObj.getCurrentTime(),seekTo:e,adBreaks:getFormattedAdBreaks()})}log("setting seekingInProgress to",seekingInProgress),e-videoManagerObj.getCurrentTime()&&dispatchEvent(e-videoManagerObj.getCurrentTime()>0?"USER_FORWARD_SEEK":"USER_BACKWARD_SEEK",videoManagerObj.getCurrentTime(),e),0==e&&(e=.3),toggleBufferSpinner(!0),currentItem.startAt=e,userParams.startAt=e,videoManagerObj.seekTo(e)}touchAvailable&&controlObj.setVisibilityMode("responsive")}}function onPlayRequested(e){return log("@onPlayRequested",e,mode),mode==modes.VIDEO_ON_CHROMECAST?void(e?(chromecastInfo.chromecastPlayRequest=state.indexOf("playing")>=0,chromecastInfo.chromecastPlayRequest=chromecastInfo.chromecastPlayRequest||e,switchToChromecastMode()):onPlayPauseRequested()):isOnline?(e&&dispatchEvent("USER_PLAY"),!currentItem||currentItem.sourceLoaded&&!failoverInProgress||(toggleBufferSpinner(!0),evaluateExpectedPreroll(loadSource)||loadSource())?void(e?(currentItem.initialPlaybackRequested=!0,isAdPollDeferred||isUpdateAdPluginInProgress||failoverInProgress?isAdPollDeferred=!0:(logger.perf("pollAds"),pollAds(e))):onPlayPauseRequested()):void log("@onPlayRequested load source failed")):void console.error("Browser is offline, the SDK can't honor play call")}function registerBitrates(e){if(e){log("registerBitrates loadedBitrate",currentBitrate);var t,n=0,r=e.length,i=[],a=deviceInfo.isMobileBrowser?"m3u8":"mp4";for(availableBitrates={};n<r;n++)t=e[n],"http"==t.protocol&&t.kbps&&!isNaN(parseInt(t.kbps))&&t.format&&t.format.indexOf(a)>-1&&(availableBitrates[t.kbps]=t);log("@registeredBitrates:");for(var o in availableBitrates)i.push(o);defaultBitrateList=i,controlObj.setAvailableBitrates(i,"number"==typeof currentBitrate?currentBitrate:"auto")}}function generateEmbedCode(e,t){return'<iframe scrolling="no" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen allow="autoplay; fullscreen" src="'+generateShareLink(e,t)+'"  width ="640" height="360"></iframe>'}function generateShareLink(e,t,n){var r,i;return userParams&&userParams.plugins&&(t.plugins=userParams.plugins),r=JSON.stringify(t),i=util.base64Encode(r),n?"http://c5.anvato.com/anvload.php?key="+i:e+"?key="+i}function queuePrematureEvents(e,t){return e in{AD_BREAK_STARTED:1,AD_STARTED:1,AD_COMPLETED:1,AD_BREAK_COMPLETED:1,VIDEO_STARTED:1,VIDEO_COMPLETED:1}&&!playingStartFired&&(prematureEventQueue.push(Array.prototype.slice.call(arguments)),log("@queuePrematureEvents adding to the queue",e),!0)}function releasePrematureEventQueue(){for(var e=0,t=prematureEventQueue.length;e<t;e++)log("@releasePrematureEventQueue for",prematureEventQueue[e][0]),dispatchEvent.apply(null,prematureEventQueue[e]);prematureEventQueue=[]}function notifyStitchedAdManager(e){if(sAdManager){e in{USER_MUTE:1,USER_UNMUTE:1,USER_PAUSE:1,USER_RESUME:1,USER_FULLSCREEN:1,USER_CANCEL_FULLSCREEN:1}&&sAdManager.onUserInteraction(e)}}function dispatchEvent(e,t){var n,r=Array.prototype.slice.call(arguments,1),i=logger.getTime(),a={failoverInProgress:failoverInProgress};if(notifyStitchedAdManager(e),playingStartFired||(pluginLoader&&(pluginLoader.isRequested("dfp")||pluginLoader.isRequested("freewheel"))?"AD_BREAK_STARTED"==e&&(playingStartFired=!0,updateAutoPlaySupportAfterPlaybackStart(),dispatchEvent("PLAYING_START")):n=queuePrematureEvents.apply(null,Array.prototype.slice.call(arguments))),n)log("skipping premature event",e);else{contentInfo[e.toLowerCase()]=1;try{trackingPluginLoaderObj&&trackingPluginLoaderObj.sendBeacon(e,contentInfo,r,i),pluginLoader&&pluginLoader.sendBeacon(e,contentInfo,r,i,a)}catch(e){console.error("Error while calling send beacon",e.message)}delete contentInfo[e.toLowerCase()],eventManager.dispatchEvent(e,i,r)}}function unload(){log("@unload"),videoManagerObj.destroy(),util.safeSetInnerHtml(userContainer,""),videoManagerObj=null,playerObj=null,splashObj=null,controlObj=null,previewObj=null,sliderPreviewObj=null,captionManagerObj=null}function getVolume(){return videoManagerObj.getVolume()}function setVolume(e,t){var n,r;log("@setVolume",e),videoManagerObj&&initCompleted&&(pluginLoader&&pluginLoader.isAvailable("dfp")&&(log("Updating ad volume to",e),pluginLoader.setVolume(e)),videoManagerObj.setVolume(e,!!t),n=videoManagerObj.isMuted()?0:videoManagerObj.getVolume(),isLinearAdPlaying("dfp")&&"number"==typeof(r=pluginLoader.getVolume().dfp)&&(n=r),controlObj.setVolume(n)),currentVolume=e,getVolume()&&(playingStartFired||t)&&(sessionAutoPlaySupport.unmutedAutoPlay=!0,dispatchEvent("AUTOPLAY_SUPPORT_INFO_UPDATED",sessionAutoPlaySupport))}function showSlate(e){log("@showSlate"),pause(!0),slateObj.show(e),mute()}function hideSlate(){log("@hideSlate"),slateObj.hide()}function mute(){log("@mute"),(volumeBeforeMute=videoManagerObj.getVolume())>0&&(videoManagerObj.setVolume(0),autoStartCheckResult&&!playingStartFired||controlObj.toggleVolume(),controlObj.setVolume(0),currentVolume=0)}function unmute(){0==videoManagerObj.getVolume()&&(currentVolume=volumeBeforeMute<=0?.5:volumeBeforeMute,videoManagerObj.setVolume(currentVolume),controlObj.toggleVolume(),controlObj.setVolume(currentVolume),volumeBeforeMute=-1)}function hideAll(){splashObj.hide(),controlObj.setVisibilityMode("hidden"),shareObj.hide(),recomObj.hide(),toggleCustomRecommendations(!1)}function displaySplashScreen(){splashObj.show("loadScreen",mode,currentItem.src_image_url)}function displayPauseScreen(){splashObj.show("pauseScreen",mode,null,currentItem.duration-videoManagerObj.getCurrentTime())}function displayControlBar(){controlObj.updateDuration(-50),controlObj.setVisibilityMode("visible")}function displayShareScreen(){embedCode=loaderObj.generateEmbedCode({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id}),shareLink=loaderObj.detectShareLink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id}),openGraphShareLink=loaderObj.generateShareLink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id},!0),shareObj.setEmbedCode(embedCode),shareObj.setShareLink(shareLink),shareObj.setOpenGraphShareLink(openGraphShareLink),shareObj.setDescription(currentItem.def_description),shareObj.setTitle(currentItem.def_title),shareObj.setMediaURL(currentItem.src_image_url),shareObj.show(live?null:{duration:currentItem.duration,currentTime:videoManagerObj.getCurrentTime()})}function displayEndScreen(){var e=userParams.recom||userParams.recommendations,t=!1;log("@displayEndScreen",e),"boolean"==typeof e&&currentItem.recommendations.length>0?(recomObj.setRecommendations(currentItem.recommendations),t=!0):"object"==typeof e&&(e.items?(recomObj.setRecommendations(e.items,e.duration),t=!0):currentItem.recommendations.length>0&&(recomObj.setRecommendations(currentItem.recommendations,e.duration),t=!0)),t&&(recomObj.show(currentItem.def_title),toggleCustomRecommendations(!0),updateState("pausedVideoContent"),videoManagerObj.pause(!0),splashObj.hide(),controlObj.setVisibilityMode("hidden"))}function evaluateCue(e){var t;e&&"cid"==e.type&&(t=e.dtmf||e.upid||e.upip),t&&(t!=currentItem.activeCid&&(log("@evaluateCue cid has changed to:",currentItem.activeCid),currentItem.activeCid=t,"onProgramChanged"in window&&onProgramChanged(null,t)),currentItem.lastActiveCidTimeIndex=videoManagerObj.getCurrentTime(),log("@evaluateCue",currentItem.lastActiveCidTimeIndex,currentItem.activeCid))}function evaluateBeacon(e){var t;if(e&&e.event_id){if(t=e.event_id,currentItem.activeCid){if("master"!=currentItem.currentSegmentType)return void log("@evaluateBeacon cid active and non-master segment, type ignoring eventId:",t);if(currentItem.lastActiveCidTimeIndex&&videoManagerObj.getCurrentTime()-currentItem.lastActiveCidTimeIndex<5)return void log("@evaluateBeacon cid active and time diff < 5secs, ignoring eventId:",t)}t!=currentItem.activeEventId&&(log("@evaluateBeacon",logger.stringify(e,null,3),t,currentItem.activeEventId),log("@evaluateBeacon change detected in event id"),currentItem.activeEventId=t,currentItem.activeCid=null,currentItem.lastActiveCidTimeIndex=null,currentItem.def_title=e.title||currentItem.title,currentItem.def_description=e.description||currentItem.description,currentItem.startTime=e.ts_start,currentItem.endTime=e.ts_end,splashObj.resetInfo(),splashObj.setInfo(currentItem.def_title,currentItem.def_description),e.fields&&e.fields.dai_rules&&(currentItem.daiRules=e.fields.dai_rules),updateContentInfo(),"onProgramChanged"in window&&onProgramChanged(currentItem.activeEventId,null))}}function updateMetadata(e,t,n,r,i){log("@updateMetadata",i,e,t,JSON.stringify(n,null,3),JSON.stringify(r,null,3));var a,o,s=(new Date).getTime(),l=userParams.timeoutUntilUpid||userParams.upidDuration;if("metadata"==currentItem.metadataOrigin&&"schedule"==i)return void log("In-stream eventId/upid based metadata exists, ignoring schedule based metadata");t&&currentItem.upid!=t||e&&e!=currentItem.eventId?(!l||t?updateProgramInfo(e,t,n,r,i):!e||currentItem.upid||timers.timeoutUntilUpid||(timers.timeoutUntilUpid=setTimeout(updateProgramInfo.bind(null,e,t,n,r,i),1e3*l)),o=0):(log("@updateMetadata adding a 1-minute delay to schedule lookup"),o=6e4),r&&r.ts_end&&(timeDelta=loaderObj.getTimeDelta(),log("@updateMetadata",1e3*r.ts_end,s,timeDelta,o),a=1e3*parseInt(r.ts_end)-s-timeDelta+o,a>0?(timers.getSchedule=setTimeout(loaderObj.getSchedule,a),log("scheduled next after ",a/1e3)):(dispatchError("PLAY900"),timers.getSchedule=setTimeout(loaderObj.getSchedule,6e5),log("scheduled next after 10 minutes")))}function updateProgramInfo(e,t,n,r,i){var a=r&&"custom_metadata_map"in r?r.custom_metadata_map:{},o="changeProgram"===i?derivedMetadataManagerObj.Origin.APP_LEVEL_ITEM:derivedMetadataManagerObj.Origin.CONTENT_METADATA;stopTimer("timeoutUntilUpid"),currentItem.metadataOrigin=i,currentItem.eventId=e,currentItem.upid=t,currentItem.roviId=a.rovi_id,currentItem.def_title=n.title||currentItem.title,currentItem.def_description=n.description||currentItem.description,currentItem.episode_no=currentItem.episode_no||a.rovi_episode_number,currentItem.episodeTitle=a.rovi_episode_title,currentItem.talentName=a.rovi_credits,currentItem.startTime=r.ts_start,currentItem.endTime=r.ts_end,log("@updateMetadata:",currentItem.startTime,currentItem.endTime),currentItem.episodeTitle&&(currentItem.titleWithEpisode=[currentItem.def_title,a.rovi_episode_title].join("|")),currentItem.totalEventNumber=currentItem.totalEventNumber||{},currentItem.totalEventNumber.PROGRAM_CHANGED=(currentItem.totalEventNumber.PROGRAM_CHANGED||0)+1,contentInfo.chapterIndex=currentItem.totalEventNumber.PROGRAM_CHANGED-1,updateCustomContentInfo(r),derivedMetadataManagerObj.update(contentInfo,r,o),updateContentInfo(),dispatchEvent("PROGRAM_CHANGED",e,t,n,r),clearTimeout(timers.getSchedule),contentInfo.isSchedulePending=!1,splashObj.resetInfo(),splashObj.setInfo(currentItem.def_title,currentItem.def_description)}function changeProgram(e,t){var n,r,i={},a=t,o=["title","description","rating","mvpdAuthenticationNeeded","tveCheckNeeded"];if(currentItem&&2==currentItem.video_type){for(n=0;n<o.length;n++)(r=o[n])in a&&(i[r]=a[r],delete a[r]);updateMetadata(e,null,i,a,"changeProgram")}}function updateDerivedMetadata(e){derivedMetadataManagerObj.update(contentInfo,{derivedMetadata:e},derivedMetadataManagerObj.Origin.APP_LEVEL_ITEM)}function setTimeDelta(e){timeDelta=e}function setChromecastStatus(e,t,n){if(log("@setChromecastStatus",e,t,n,t?t.receiver.friendlyName:null),seekAllowed=e in{playing:1,buffering:1},e in{none:1,error:1,idle:1,active:1}||controlObj.setPaused("paused"==e),t){var r=t.receiver.volume.level;t.receiver.volume.muted&&(r=0),controlObj.setVolume(r)}controlObj.setCastStatus(e),splashObj.setChromecastInfo(e,t?t.receiver.friendlyName:"")}function startPlaybackOnChromecast(){log("@playOnChromecast",JSON.stringify(chromecastInfo,null,3));var e,t=!0;if(userParams.accessKey?e=userParams.xUrl?{xUrl:userParams.xUrl,accessKey:userParams.accessKey,title:userParams.title,description:userParams.description,thumbnail:userParams.thumbnail,poster:userParams.poster,live:userParams.live}:userParams.url?{url:userParams.url,format:userParams.format,drm:userParams.drm,accessKey:userParams.accessKey,title:userParams.title,description:userParams.description,thumbnail:userParams.thumbnail,poster:userParams.poster,live:userParams.live}:{video:currentItem.upload_id,accessKey:userParams.accessKey,token:currentItem.token||userParams.token}:(userParams.video&&userParams.mcp?e={video:userParams.video,mcp:userParams.mcp}:userParams.url&&(e={url:userParams.url,title:userParams.title,description:userParams.description,thumbnail:userParams.thumbnail,poster:userParams.poster,live:userParams.live}),t=!1),e.accessControl=userParams.accessControl,e.user=userParams.user,e.debug=userParams.debug,e.derivedMetadata=userParams.derivedMetadata,e.startAt=chromecastInfo.chromecastCurrentTime,e.mvpd=userParams.accessControl&&userParams.accessControl.mvpd||userParams.mvpd,t){e=JSON.stringify(e);try{e=util.aesStdEncrypt("ecb",e,chromecastInfo.token,"base64")}catch(e){return log("Failed to encrypt the payload"),void dispatchError("CCSND010",e.message)}}currentItem&&currentItem.formats&&delete currentItem.formats,loaderObj.chromecast.play(e),splashObj.show("castScreen",mode,currentItem.src_image_url)}function setCastCurrentTime(e,t){t in chromecastInfo.timeTypes&&(chromecastInfo.chromecastCurrentTime=e,chromecastInfo.currentTimeType=t)}function switchToChromecastMode(){if(mode!=modes.VIDEO_ON_CHROMECAST){controlObj.setCastMode(!0),toggleBufferSpinner(!1),mode=modes.VIDEO_ON_CHROMECAST,chromecastInfo.playerOriginalPlaylist=JSON.parse(JSON.stringify(queue)),setPlaylist([]);var e,t=sAdManager&&sAdManager.getZones();if(t&&t.length&&!userParams.castWithAbsoluteOffset){if(chromecastInfo.playerOriginalAdBreaks=t,e=sAdManager.translateToPresentation(videoManagerObj.getCurrentTime()),setCastCurrentTime(e.currentTime,chromecastInfo.timeTypes.CONTENT),"ad"==e.contentType)for(var n=0,r=t.length;n<r;n++)if(t[n].adBreakIndex==e.adBreakIndex){setCastCurrentTime(t[n].start-t[n].adOffset,chromecastInfo.timeTypes.CONTENT);break}}else setCastCurrentTime(videoManagerObj.getCurrentTime(),chromecastInfo.timeTypes.ABSOLUTE);videoManagerObj.hardPause()}log("@switchToChromecastMode",loaderObj.chromecast.getState()),loaderObj.chromecast.getState()in{active:1,idle:1}&&chromecastInfo.chromecastPlayRequest&&startPlaybackOnChromecast()}function setChromecastPlaylistActiveIndex(){for(var e=!1,t=0;t<queue.length;t++)if(queue[t].id==chromecastInfo.chromecastCurrentlyPlayingId){playlistObj.setCurrentIndex(t),e=!0;break}e||playlistObj.setCurrentIndex(null),controlObj.setPlayNextButton(t<queue.length-1)}function onChromecastEvent(e){function t(){setPlaylist(n,!1),playlistObj.setVisual(componentNodes.playlist,"visual","native"),n.length>=2?(controlObj.setPlaylistReady(!0,n.length),playlistObj.scrollTo(r)):(controlObj.setPlaylistReady(!1),playlistObj.hide())}switch(log("@onChromecastEvent",e.name,JSON.stringify(e.args)),e.name){case"METADATA_LOADED":if(e.args.length<3)return void log("Ignored event with missing args");controlObj.updateAdBreaks([]),chromecastInfo.chromecastDuration=parseInt(e.args[2].duration),chromecastInfo.chromecastCurrentlyPlayingId=e.args[2].video,chromecastInfo.chromecastVideoInfo=e.args[2],controlObj.setLive(chromecastInfo.chromecastVideoInfo.live),chromecastInfo.chromecastVideoInfo.live?(controlObj.setAdMode(!1,!0),splashObj.setAdMode(!1),controlObj.setVisibilityMode(captionSetShown||shareShown||searchShown||playlistShown?"hidden":"visible")):onPreviewDetected({duration:chromecastInfo.chromecastVideoInfo.duration,previews:chromecastInfo.chromecastVideoInfo.previews,pvw_matrices:chromecastInfo.chromecastVideoInfo.pvw_matrices}),chromecastInfo.isInitialMetaData&&"active"==loaderObj.chromecast.getState()||(splashObj.show("castScreen",mode,chromecastInfo.chromecastVideoInfo.poster),splashObj.setInfo(chromecastInfo.chromecastVideoInfo.title,chromecastInfo.chromecastVideoInfo.description)),chromecastInfo.isInitialMetaData=!1,setChromecastPlaylistActiveIndex();break;case"PROGRAM_CHANGED":e.args.length>3&&(splashObj.setInfo(e.args[2].title,e.args[2].description),splashObj.show("castScreen",mode,e.args[2].poster));break;case"VERIFICATION_STATUS":chromecastInfo.isVerified=e.args[0],chromecastInfo.token=e.args[1],chromecastInfo.isVerified?(chromecastInfo.chromecastPlayRequest=!(!currentItem||!currentItem.sourceLoaded),switchToChromecastMode()):log("Chromecast receiver did not approve authenticity");break;case"RECEIVER_STOPPED":case"CHROMECAST_RECEIVER_ERROR":controlObj.setCastMode(!1),prevMode=modes.VIDEO_ON_CHROMECAST,mode=modes.VIDEO_ON_MAIN,chromecastInfo.currentTimeType==chromecastInfo.timeTypes.ABSOLUTE?userParams.startAt=chromecastInfo.chromecastCurrentTime:userParams.startAtContentTime=chromecastInfo.chromecastCurrentTime,play({id:chromecastInfo.chromecastVideoInfo&&chromecastInfo.chromecastVideoInfo.video||currentItem.upload_id,retainQueue:!0});break;case"RECEIVER_PLAYBACK_END":splashObj.show("loadScreen",mode,currentItem.src_image_url),splashObj.setInfo(currentItem.def_title,currentItem.def_description),controlObj.setVisibilityMode("hidden"),chromecastInfo.chromecastCurrentTime=0;break;case"CHROMECAST_QUEUE_UPDATED":var n=e.args[0],r=0;queue.length==n.length?queue.forEach(function(e,i,a){if(e.id!=n[i].id)return r=i,t(),!1}):(r=n.length-1,t()),setChromecastPlaylistActiveIndex();break;case"NEXT_VIDEO":nextVideoObj.show(e.args[0],e.args[1]);break;case"AD_BREAKS":for(var i=e.args[0],a=0,o=[],s=0;s<i.length;s++)o.push(i[s].start-a),a+=i[s].end-i[s].start;controlObj.updateAdBreaks(o,chromecastInfo.chromecastDuration),sAdManager=sAdManager||new StitchedAdManager(mediator,logger,{dispatchEvent:dispatchEvent,dispatchError:dispatchError},componentNodes.adTracker,userParams),sAdManager.setVideoInfo({isLive:live}),sAdManager.populateZones(i,chromecastInfo.chromecastDuration);break;case"CAPTION_STATUS":controlObj.setAvailableCaptionLanguages(e.args[1],e.args[0],!1),chromecastInfo.chromecastLanguages=e.args[1]}}
function fastForward(e,t){var n=videoManagerObj.getCurrentTime();if(!live){if(e){if(e<=0)return void log("@fastForward delta can not be zero or negative");fastForwardInfo.until=(fastForwardInfo.until||n)+e}else if(t){if(t<n)return void log("@fastForward until can not be less than current time");fastForwardInfo.until=t}timers.evaluateFastForward||(fastForwardInfo.lastTimeIndex=videoManagerObj.getCurrentTime(),videoManagerObj.setPlaybackRate(2),timers.evaluateFastForward=setTimeout(evaluateFastForward,2e3))}}function evaluateFastForward(e){e=e||0,log("evaluateFastForward",e,JSON.stringify(fastForwardInfo,null,3));var t,n=videoManagerObj.getCurrentTime(),r=videoManagerObj.getPlaybackRate(),i=n-fastForwardInfo.lastTimeIndex;if(fastForwardInfo.until&&n>=fastForwardInfo.until)return log("@evaluateFastForward until time reached",n,fastForwardInfo.until),videoManagerObj.resetPlaybackRate(),fastForwardInfo.until=0,void delete timers.evaluateFastForward;if(Math.abs(fastForwardInfo.bufferEnd-n)<4)return log("@evaluateFastForward defaulting to seek since no buffer",fastForwardInfo.bufferEnd,n,fastForwardInfo.until),videoManagerObj.resetPlaybackRate(),seekTo(fastForwardInfo.until),fastForwardInfo.until=0,void delete timers.evaluateFastForward;if(i/2>=.7*r)t=r+2,log("@evaluateFastForward speeding up to",t),videoManagerObj.setPlaybackRate(t);else if(i/2<.7*r){if(t=r-1,log("@evaluateFastForward speeding down due to",n,fastForwardInfo.lastTimeIndex),log("@evaluateFastForward speeding down to",t,i,r),t<=1)return log("@evaluateFastForward defaulting to seek",t),videoManagerObj.resetPlaybackRate(),seekTo(fastForwardInfo.until),fastForwardInfo.until=0,void delete timers.evaluateFastForward;videoManagerObj.setPlaybackRate(t)}fastForwardInfo.lastTimeIndex=n,timers.evaluateFastForward=setTimeout(function(){evaluateFastForward(e++)},2e3)}function getPlaybackRate(){return videoManagerObj.getPlaybackRate()}function seekTo(e,t){log("@seek",e),live||(t&&sAdManager&&(e=sAdManager.translateToAbsoluteTime(e)),seekAllowed?onSeekRequested(e):(log("@seek deferring seekTo",e),userParams.startAt=e,userParams.deferredSeekAt=e))}function setExternalMediaCallListener(e){log("@setExternalMediaCallListener"),externalMediaCallListener=e}function directExternalVideoEvents(e){log("@directExternalVideoEvents"),userParams.externalVideoInterface&&videoManagerObj.onExternalVideoEvent(e)}function setStartType(e,t){log("@setStartType",e,t),userStartTypeOverride.startType=e,userStartTypeOverride.applyAutoForNext=t,userStartTypeOverride.autoForNextContentId=null,userStartTypeOverride.autoForNextVideoType=null}function playNext(e){if(e=void 0!==e&&e,playlistObj&&!playlistObj.hasNextItem())return void dispatchError("PLAY920");processingPlayApiCall=e,loadNextVideo()}function playPrevious(e){if(e=void 0!==e&&e,playlistObj&&!playlistObj.hasPreviousItem())return void dispatchError("PLAY921");processingPlayApiCall=e,loadPreviousVideo()}function getThumbnail(){return currentItem?currentItem.thumbnail||currentItem.src_logo_url:null}function getPoster(){return currentItem?currentItem.src_image_url||currentItem.src_logo_url:null}function handle360Errors(e){log("@subs->detectedSphericalRendererError",e,"SecurityError"==e),disable360(),"SecurityError"==e&&(log("@subs->detectedSphericalRendererError phericalRendererObj destroyed"),dispatchError("PLAY361"),isWebGLCorsSupported=!1,!1!==userParams.display360ErrorSlate&&slateObj.show("The browser does not support 360 view.")),e==ERROR_360_NOT_SUPPORTED&&(isWebGLSupported||dispatchError("PLAY360"),isWebGLCorsSupported||dispatchError("PLAY361"),!1!==userParams.display360ErrorSlate&&slateObj.show("The browser does not support 360 view."))}function is360ConfigOn(){var e=!!currentItem&&currentItem["360_type"]==SPHERICAL_MCP_360_TYPE,t=userParams[360];return log("360 turn on: "+(e||t)),e||t}function is360Supported(){return log("360 compatibility: "+(isWebGLSupported&&isWebGLCorsSupported)),isWebGLSupported&&isWebGLCorsSupported}function is360Enabled(){return log("360 enable: "+!!sphericalRendererObj),!!sphericalRendererObj}function turnOn360View(){is360Supported()&&is360ConfigOn()&&(is360Enabled()?(log("Turning On 360 view"),sphericalRendererObj.show(),videoManagerObj.setSpherical(!0)):(log("360 is not yet enabled, enabling 360"),enable360(turnOn360View)))}function turnOff360View(){is360Enabled()&&(log("Turning Off 360 view"),sphericalRendererObj.hide()),videoManagerObj.setSpherical(!1)}function onThreeScriptLoad(){for(log("360 Script Loaded, start onload callbacks"),enable360();threeScriptOnLoadCallbackQueue&&threeScriptOnLoadCallbackQueue.length;){var e=threeScriptOnLoadCallbackQueue.shift();e&&e()}}function enable360(e){if(is360ConfigOn()){if(!is360Supported())return void handle360Errors();componentNodes.videoContent.crossOrigin="anonymous";var t=currentItem&&currentItem["360_type"]?currentItem["360_type"]:userParams[360];"undefined"==typeof THREE?(e&&threeScriptOnLoadCallbackQueue.push(e),threeScriptRequested||(log("Loading 360 script"),threeScriptRequested=!0,util.loadJS(userParams.baseURL+"lib/three.min.js",onThreeScriptLoad))):function(){log("360 SphericalRenderer created."),sphericalRendererObj||(sphericalRendererObj=new SphericalRenderer(componentNodes.videoContent,componentNodes.canvasContent,"stereo"==t,logger,mediator)),e&&e()}()}}function disable360(){videoManagerObj.setSpherical(!1),componentNodes.canvasContent.style.display="none",threeScriptOnLoadCallbackQueue=[],sphericalRendererObj&&(log("Destroying 360 object"),sphericalRendererObj.destroy(),sphericalRendererObj=null)}function processExternalVideo(e){var t=util.getUrlParts(e.url),n=util.md5(e.url);return{id:e.id||n,video_type:e.live?2:1,formats:[{embed_url:e.url,format:e.format,protocol:t.protocol,upload_id:e.id||n,kbps:e.bitrate||"400"}],src_image_url:e.image||e.poster,def_title:e.title,def_description:e.description,derived_metadata:e.derivedMetadata,language:e.language||"en",isExternal:!0}}function playByIndex(e){log("@playByIndex");var t=playlistObj.getItemWithIndex(e);t?play(t.id):log("@playByIndex invalid index")}function play(e){log("@play",typeof e);var t;if(!isOnline)return void console.error("Browser is offline, the SDK can't honor play call");if(controlObj.setDownload(),void 0===e||null==e)state in{playingAdContent:1,playingVideoContent:1}?log("@play Ignoring play call since state is already",state):onPlayRequested(!currentItem.initialPlaybackRequested);else{if(clearTimeout(timers.expectSavePauseVideoContent),delete timers.expectSavePauseVideoContent,mode==modes.VIDEO_ON_CHROMECAST){var n=!1;seekAllowed=!1;for(var r=0;r<queue.length;r++)if(queue[r].id==e.id){loaderObj.chromecast.play(queue,r),n=!0;break}return n||loaderObj.chromecast.play(e),splashObj.show("castScreen",mode,e.src_image_url),void splashObj.setInfo(e.def_title,e.def_description)}if(t=addToPlaylist(e,"boolean"==typeof e.retainQueue?!e.retainQueue:!failoverInProgress),!t.length)return;seekAllowed=!1,log("External Playlist item:",logger.stringify(t[0])),playlistItemSelected=!(deviceInfo.isMobileBrowser||deviceInfo.smartTV)||deviceInfo.ott,processingPlayApiCall=!0,excludeDeferredMetadataForItem(t[0].id),loadVideoWithId(t[0].id,t[0].useBackupStream)}}function excludeDeferredMetadataForItem(e){for(var t=0,n=playlistItemsWithoutMetadata.length;t<n;t++)if(playlistItemsWithoutMetadata[t].id==e){playlistItemsWithoutMetadata.splice(t,1);break}}function pause(e){if(log("@pause"),mode==modes.VIDEO_ON_CHROMECAST)return void(loaderObj.chromecast.getState()in{playing:1,buffering:1}&&loaderObj.chromecast.pause());state in{playingAdContent:1,playingVideoContent:1}?onPlayPauseRequested(e):log("@pause Ignoring pause call since state is already",state)}function hardPause(e){log("@hardPause"),pause(e),"hardPause"in videoManagerObj&&videoManagerObj.hardPause()}function initCustomInterface(w,h,initCallback){controllerInterfaceObj=new ControllerInterface(mediator,logger,userParams),controllerInterfaceObj.init(userParams,componentNodes.customControllerContainer,function(overrides){for(var key in overrides){var name=key.charAt(0).toUpperCase()+key.slice(1);eval(name+" = overrides[key]")}initComponents(w,h,initCallback),toggleCustomRecommendations(!1)})}function setPlaylist(e,t){"string"==typeof e?queueURL=e:e instanceof Array&&(queue=e),playlistObj=new Playlist(mediator,"playlistNode",logger,{dispatchError:dispatchError},userParams),playlistObj.init(queue,!0,!1,t)}function getAdDuration(){if(mode==modes.AD_ON_MAIN||mode==modes.AD_ON_AD){if(pluginLoader.isAvailable("dfp")&&pluginLoader.isActiveAdLinear().dfp)return pluginLoader.getAdDuration().dfp;if(pluginLoader.isAvailable("freewheel"))return pluginLoader.getAdDuration().freewheel;if(sAdManager)return presentation.currentAdDuration}}function updatePlugin(e,t){t.serverSide?(userParams.plugins=userParams.plugins||{},userParams.plugins[e]=t):pluginLoader.updatePlugin(e,t,currentItem||{})}function toggleCustomUI(e){userParams.customUIController&&(componentNodes.customControllerContainer.style.display=e?"block":"none")}function toggleCustomRecommendations(e){if(controllerInterfaceObj){var t=controllerInterfaceObj.getUserCustomizedInterfaces(),n="recommendation"in t,r=!1;for(var i in t)if(t.hasOwnProperty(i)&&"recommendation"!=i){r=!0;break}e&&n||!e&&r&&!n?componentNodes.customControllerContainer.style.display="block":(!e&&!r||e&&r&&!n)&&(componentNodes.customControllerContainer.style.display="none")}}function setRecommendations(e){log("@setRecommendations",e),currentItem&&(currentItem.recommendations=e,userParams.recom=!0)}function getPlaylistIndex(){return log("@getPlaylistIndex:",playlistObj.getPlaylistIndex()),playlistObj.getPlaylistIndex()}function evaluateMissingMetadata(e){playlistItemsWithoutMetadata=[];for(var t=0,n=e.length;t<n;t++)void 0!==e[t].def_title||void 0!==e[t].src_image_url||e[t].isExternal||playlistItemsWithoutMetadata.push(e[t])}function fetchDeferredMetadata(){for(var e=0,t=playlistItemsWithoutMetadata.length;e<t;e++)loaderObj.fetchVideoJSON(playlistItemsWithoutMetadata[e].upload_id||playlistItemsWithoutMetadata[e].id,playlistItemsWithoutMetadata[e].token);playlistItemsWithoutMetadata=[]}function startAd(){pluginLoader.startAd()}function onlineCallback(){log("@onlineCallback"),isOnline=!0,dispatchEvent("BROWSER_ONLINE",lastStateBeforeCriticalOfflineBuffer),lastStateBeforeCriticalOfflineBuffer in{playingVideoContent:1,playingAdContent:1}&&videoManagerObj.play(),stopTimer("monitorBufferLimit"),videoManagerObj.resumeDownload()}function offlineCallback(){log("@offlineCallback"),isOnline=!1,videoManagerObj.stopDownload(),monitorBufferLimit(),lastStateBeforeCriticalOfflineBuffer=state,dispatchEvent("BROWSER_OFFLINE",lastStateBeforeCriticalOfflineBuffer)}function monitorBufferLimit(){var e=videoManagerObj.getRemainingBuffer();currentItem&&currentItem.sourceLoaded&&(e<=8?(videoManagerObj.pause(!0),mediator.publish("criticalOfflineBuffer",e)):(stopTimer("monitorBufferLimit"),timers.monitorBufferLimit=setTimeout(monitorBufferLimit,1e3)))}function stopTimer(e){e&&timers[e]&&(clearTimeout(timers[e]),delete timers[e])}function addToPlaylist(e,t){var n,r,i=[],a=[],o={string:1,number:1};if(t&&playlistObj.clear(),i=e.constructor==Array?e:[e],0==i.length)return[];for(var s=0;s<i.length;s++)if(null!=i[s]){var l="object"==typeof i[s]&&!!i[s].url;if(l)n=processExternalVideo(i[s]);else if("object"==typeof i[s])n=i[s];else{if(!(typeof i[s]in o))continue;n={id:""+i[s]}}n=util.xssSanitizeObject(util.xssFilter,n),r=playlistObj.append(n),a.push(r)}return evaluateMissingMetadata(a),playlistItemsWithoutMetadata.length&&(timers.fetchDeferredMetadata=setTimeout(fetchDeferredMetadata,DEFERRED_METADATA_FETCH_DELAY/10)),a}function onViewabilityChange(e){null!==viewability&&dispatchEvent("VIEWABILITY_CHANGED",e),viewability=e,userParams.autoplayViewability&&e>userParams.autoplayViewability&&!autoPlay&&!currentItem.initialPlaybackRequested&&(autoPlay=!0,checkAutoStart(!0)&&(onPlayRequested(!0),toggleBufferSpinner(!0),updateState("bufferingVideoContent"),logoObj.show()))}function onPluginLibraryRequested(e,t){pluginLoader&&pluginLoader.onPluginLibraryRequested&&pluginLoader.onPluginLibraryRequested(e,t)}function onPluginLibraryLoaded(e,t){pluginLoader&&pluginLoader.onPluginLibraryLoaded&&pluginLoader.onPluginLibraryLoaded(e,t)}function onPluginInit(e,t){pluginLoader&&pluginLoader.onPluginInit&&pluginLoader.onPluginInit(e,t)}function onPluginLibraryLoadError(e,t){pluginLoader&&pluginLoader.onPluginLibraryLoadError&&pluginLoader.onPluginLibraryLoadError(e,t)}function isLinearAdPlaying(e){return pluginLoader.isAvailable(e)&&pluginLoader.hasActiveAd()[e]&&pluginLoader.isActiveAdLinear()[e]}function evaluateExpectedPreroll(e,t){var n="number"==typeof userParams.expectPrerollTimeout?1e3*userParams.expectPrerollTimeout:EXPECT_PREROLL_TIMEOUT;return!(!userParams.expectPreroll||failoverInProgress||!pluginLoader.isRequested("dfp")&&!pluginLoader.isRequested("freewheel"))&&(callbacks.expectPreroll=e,callbackArgs.expectPreroll=t,timers.expectPreroll=setTimeout(function(){callbacks.expectPreroll&&(callbacks.expectPreroll.apply(null,callbackArgs.expectPreroll),delete callbacks.expectPreroll,delete callbackArgs.expectPreroll)},n),componentNodes.videoContent&&!hasSimulatedPlay&&(controlObj.setAdMode(!0,!0),isSimulatingPlay=!0,hasSimulatedPlay=!0,autoStartCheckResult||util.simulatePlay(componentNodes.videoContent)),!0)}function evaluateEventHookTriggers(e,t){var n;return userParams.useBeforeAdBreakTriggers&&!onBeforeAdBreakReturnedExpected&&mode!=modes.AD_ON_MAIN&&(sAdManager.isNearAdBreakBoundary(e,.3,!0)||"ad"==t.contentType)&&"function"!=typeof callbacks.onBeforeSeekReturned&&(n=sAdManager.getAdBreakByTime(e))?(onBeforeAdBreakReturnedExpected=!0,dispatchEvent("BEFORE_AD_BREAK",{adBreaks:getFormattedAdBreaks(),adBreakIndex:n.adBreakIndex,currentTime:e}),callbacks.onBeforeAdBreakReturned=switchMode,callbackArgs.onBeforeAdBreakReturned=[modes.AD_ON_MAIN],!0):"function"!=typeof callbacks.onBeforeSeekReturned||mode==modes.VIDEO_ON_MAIN||!sAdManager.isNearAdBreakBoundary(e,.6,!1)&&"content"!=t.contentType?void 0:(callbacks.onBeforeSeekReturned.apply(null,callbackArgs.onBeforeSeekReturned),delete callbacks.onBeforeSeekReturned,delete callbackArgs.onBeforeSeekReturned,!0)}function onCastTimeUpdated(e,t,n){if(mode==modes.VIDEO_ON_CHROMECAST){var r;if(currentItem.initialPlaybackRequested=!0,r=n||(sAdManager?sAdManager.translateToPresentation(e,t):{contentType:"content",currentTime:e,totalTime:t}),live&&restartTv.getMode()!=RestartTv.Mode.NONE&&"ad"!=r.contentType||dispatchEvent("PRESENTATION_UPDATED",r.currentTime,r.totalTime,r.contentType,r.adIndex,r.totalAds),"ad"!=r.contentType)setCastCurrentTime(r.currentTime,chromecastInfo.timeTypes.CONTENT),controlObj.setAdMode(!1,!0),splashObj.setAdMode(!1),componentNodes.adTimer.parentNode.style.display="none";else{setCastCurrentTime(e,chromecastInfo.timeTypes.ABSOLUTE),t=r.totalTime||t;var i=parseInt(t-r.currentTime);i>0&&splashObj.hide(),(e>0||r.currentTime>0)&&(!live||userParams.showRemainingLiveAdDetail?(adTimerObj.updateTime(i,r.adIndex,r.totalAds),adTimerObj.show()):(adTimerObj.updateTime(-1,-1,-1),adTimerObj.show())),componentNodes.adTimer.parentNode.style.display="block",controlObj.setAdMode(!0,!0),splashObj.setAdMode(!0)}controlObj.setVisibilityMode(captionSetShown||shareShown||searchShown||playlistShown?"hidden":"visible"),controlObj.setDuration(r.totalTime),controlObj.updateDuration(r.currentTime)}else controlObj.setDuration(t),controlObj.updateDuration(e)}function simulateError(e){e&&mediator.publish("streamError",e)}function evaluateImplicitSeek(e){return!!("HTML5"==videoManagerObj.getType()&&!live&&currentItem.started&&(e<lastAbsoluteTimeIndex||e-lastAbsoluteTimeIndex>5e3)&&Date.now()-lastSeekedTime>2e3)&&(log("@evaluateImplicitSeek implicit seek detected. Seeking from",e,"to",lastAbsoluteTimeIndex),videoManagerObj.seekTo(lastAbsoluteTimeIndex),!0)}function startCasting(){loaderObj.chromecast.launchApp()}function stopCasting(){loaderObj.chromecast.launchApp()}function onPalNonceUpdated(e){var t={dfp:{pal_nonce:e}};loaderObj.updateAdSession(t)}function onScheduleLoaded(){contentInfo&&(contentInfo.isSchedulePending=!1)}var isCaptionStyledBeyondCea608Spec=!1,currentCaptionLanguage=null,seekingInProgress=!1,recallState,splashMode="loadScreen",live=!1,autoPlay,ERROR_360_NOT_SUPPORTED="360 is not supported",SPHERICAL_MCP_360_TYPE="equirectangular",threeScriptRequested=!1,threeScriptOnLoadCallbackQueue=[],componentNodes,userContainer,playerStates=["initPlayer","playerReady","bufferingVideoContent","ready2PlayVideoContent","playingVideoContent","pausedVideoContent","completedVideoContent","fetchingVideoContent","ready2PlayAdContent","playingAdContent","pausedAdContent","completedAdContent","adOverlayDisplayed","adOverlayHidden"],transitions={initPlayer:{playerReady:1},playerReady:{bufferingVideoContent:1},bufferingVideoContent:{ready2PlayVideoContent:1},ready2PlayVideoContent:{playingVideoContent:1,pausedVideoContent:1},playingVideoContent:{pausedVideoContent:1,completedVideoContent:1},pausedVideoContent:{playingVideoContent:1,ready2PlayAdContent:1,adOverlayDisplayed:1,bufferingVideoContent:1},completedVideoContent:{fetchingVideoContent:1,ready2PlayAdContent:1,adOverlayDisplayed:1},fetchingVideoContent:{bufferingVideoContent:1},ready2PlayAdContent:{pausedAdContent:1,playingAdContent:1},playingAdContent:{pausedAdContent:1,completedAdContent:1},pausedAdContent:{playingAdContent:1},completedAdContent:{ready2PlayVideoContent:1},adOverlayHidden:{ready2PlayVideoContent:1}},state="initPlayer",deviceInfo,prevState,fullscreen=!1,pictureInPicture=!1,shareShown=!1,searchShown=!1,captionSetShown=!1,initialWidth,initialHeight,width,height,plugins={},userParams={},queue,queueURL,prevMode,prevPlayerType,initCompleted=!1,postInitQueue=[],modes={VIDEO_ON_MAIN:"VIDEO_ON_MAIN",VIDEO_ON_CHROMECAST:"VIDEO_ON_CHROMECAST",AD_ON_MAIN:"AD_ON_MAIN",AD_ON_AD:"AD_ON_AD"},mode=modes.VIDEO_ON_MAIN,presentation,restartTvTimeInfo,pausedTime,playbackOrigins={INITIAL:0,PLAYLIST_MANUAL:1,PLAYLIST_AUTO_ADVANCE:2,RECOMMENDATION_MANUAL:3,RECOMMENDATION_AUTO_ADVANCE:4,PLAY_API_METHOD:5},AutoPlayStatus={BLOCKED:"BLOCKED",MUTED:"MUTED",NONE:"NONE",UNMUTED:"UNMUTED"},manualAdScheduler,derivedMetadataManagerObj,videoManagerObj,langObj,adObj,controlObj,previewObj,sliderPreviewObj,captionManagerObj,captionSetObj,logoObj,ratingObj,shareObj,searchObj,playlistObj,splashObj,recomObj,slateObj,nextVideoObj,controllerInterfaceObj,adLearnMoreObj,adTimerObj,playerObj=this,sphericalRendererObj,pluginLoader,trackingPluginLoaderObj=trackingPluginLoader,sAdManager,currentAdBreaks,prevItem,currentItem,segmentQueueInfo={},currentAd,timeDelta=0,currentBitrate,selectedBitrate=400,volumeBeforeMute=1,currentVolume=1,firstTouchTime=-1,playlistCacheStarted=!1,playlistItemSelected=!1,playbackOrigin=playbackOrigins.INITIAL,processingPlayApiCall=!1,recommendationSelected=!1,isRecommendationSelectionManual=!1,playlistShown=!1,touchAvailable=!1,embedCode,shareLink,openGraphShareLink,viewCounted=!1,lastTimeIndex,lastSplashMode,lastSplashPoster,chromecastSession,chromecastMediaSession,chromecastInfo={chromecastVideoInfo:null,chromecastCurrentlyPlayingId:null,chromecastCurrentTime:0,currentTimeType:null,chromecastDuration:0,chromecastLanguages:null,chromecastPlayRequest:!1,playerOriginalPlaylist:null,playerOriginalAdBreaks:null,isInitialMetaData:!0,timeTypes:{CONTENT:"CONTENT",ABSOLUTE:"ABSOLUTE"}},failoverSequence=["loadBackupStream","loadMainStream","loadFailoverStream","blacklistCapability","displayStreamFailureSlate"],currentFailoverQueue={},failoverServices={loadBackupStream:loadBackupStream,loadMainStream:loadMainStream,loadFailoverStream:loadFailoverStream,displayStreamFailureSlate:displayStreamFailureSlate,blacklistCapability:blacklistCapability},failoverInProgress=!1,failoverReachedCriticalState=!1,failoverStationMapping={},pluginPollStarted=!1,adPollIndex=0,adPollInProgress=!1,fullscreenOnVideoElement=!1,adRequested=!1,isUpdateAdPluginInProgress=!1,isAdPollDeferred=!1,AD_POLL_LIMIT=5,feedObj,prematureEventQueue=[],callbacks={},callbackArgs={},flashPlayerLoaded=!1,playerType,playingStartFired=!1,bufferingCompleted=!0,mediator=new Mediator,logger=loggerObj||new Logger(!0,!0,100),log=logger.getLogFn("Player"),seekAllowed=!1,totalTimeViewed=0,previousTimeIndex=0,lastAbsoluteTimeIndex=0,lastSeekedTime=0;log("STATE-> ",state);var fastForwardInfo={until:0,lastTimeIndex:0},timers={};loaderObj&&log("LOADER->",loaderObj.constructor.name);var availableBitrates={},adTypes={PREROLL:"09",POSTROLL:"10",MIDROLL:"11"},captionTypes={SIDE_CAR:"sideCar",CEA608:"cea608",EMBEDDED:"embedded",WEB_VTT:"webVtt"},currentCaptionStyle,contentInfo={type:{video:!0,adType:adTypes.PREROLL}},macros={},userStartTypeOverride={},sessionAutoPlaySupport={},tr,isWebGLSupported=util.isWebGLSupported(),isWebGLCorsSupported=util.isWebGLCorsSupported(),isMuted=!1,isOnline=!0,lastStateBeforeCriticalOfflineBuffer,autoStartCheckResult=!1,waitingForFeed=!1,recommendationBlacklist={},playlistItemsWithoutMetadata=[],DEFERRED_METADATA_FETCH_DELAY=1e4,EXPECT_PREROLL_TIMEOUT=5e3,SEEK_NUDGE=.3,defaultBitrateList,lastItemIdBeforeRecommendationAttempt=null,onBeforeAdBreakIndex=null,onBeforeAdBreakReturnedExpected=!1,onBeforeSeekReturnedExpected=!1,onBeforeVideoLoadReturnedExpected=!1,onBeforeBitrateMenuUpdatedReturnedExpected=!1,Recommendation=RecommendationWithDefault.default,RestartTv=RestartTvWithDefault.default,Slate=Es6Slate.default,PlayerEventManager=Es6PlayerEventManager.default,restartTv=new RestartTv,eventManager=new PlayerEventManager(logger),viewability=null,playAdWhenReady=!1,adPollLimitExceeded=!1,recommendationFailoverInProgress=!1,isSimulatingPlay=!1,hasSimulatedPlay=!1,faultZones={};return{init:function(e,t,n,r,i){logger.perf("init"),log("initializing with user div:",e),util.addEventListener(window,"beforeunload",function(){dispatchEvent("PLAYER_EXIT")}),userParams=r||{},plugins=userParams.plugins||{},selectedBitrate=userParams.initialBitrate||selectedBitrate,componentNodes=playerHelper.decorate(e,userParams,log),playlistObj=new Playlist(mediator,"playlistNode",logger,{dispatchError:dispatchError},userParams),playlistObj.init(queue,!0,!1),onPlaylistUpdated(playlistObj.getPlaylist()),evaluateMissingMetadata(queue),userParams.loop&&playlistObj.setLoopThrough(!0),userParams.hasVideoFullscreenSupport=util.checkFullscreen(componentNodes.videoContent),userParams.hasContainerFullscreenSupport=util.checkFullscreen(componentNodes.videoContainer),userParams.hasCanvasFullscreenSupport=util.checkFullscreen(componentNodes.canvasContent),autoPlay=userParams.autoplay,userParams.customUIController?userParams.customUIController.customControllerURL?util.loadJS(userParams.baseURL+"lib/webcomponents-lite.js",function(){initCustomInterface(t,n,i)}):userParams.customUIController.loadAssets&&initCustomInterface(t,n,i):(logger.perf("before initComponents"),initComponents(t,n,i),logger.perf("after initComponents")),initCompleted=!0,log("calling post-initialization queued functions");for(var a=0;a<postInitQueue.length;a++){var o=postInitQueue[a];o.fn&&"function"==typeof o.fn&&o.fn.apply(null,o.args||[])}postInitQueue=[],util.getConnectionStatus(onlineCallback,offlineCallback)},updateLayout:function(e,t,n){n=n||!1,resize(e,t,n)},play:play,playByIndex:playByIndex,pause:pause,hardPause:hardPause,onCastTimeUpdated:onCastTimeUpdated,setPlaylist:function(e){log("@setPlaylist"),"string"==typeof e?queueURL=e:e instanceof Array&&(queue=e)},getPlaylist:function(){return playlistObj.getPlaylist()},getState:function(){return state},getTitle:function(){return currentItem&&currentItem.def_title?currentItem.def_title:null},getDescription:function(){return currentItem&&currentItem.def_description?currentItem.def_description:null},getDuration:function(){var e,t;return mode==modes.VIDEO_ON_CHROMECAST?(e=loaderObj.chromecast.getDuration(),t=chromecastInfo.chromecastDuration):(e=videoManagerObj.getDuration(),t=currentItem.duration),e||t},getAdDuration:getAdDuration,setLanguage:function(e){langObj.setLanguage(e)},notifyVideoInfoUpdate:function(e,t){notifyVideoInfoUpdate(e,t)},addListener:function(e,t){eventManager.addListener(e,t)},setListener:function(e){eventManager.setListener(e)},setExternalMediaCallListener:setExternalMediaCallListener,unload:unload,getShareLink:function(e){return currentItem.upload_id&&playerConfig.mcp_id&&playerConfig.player_id?(log("Generating embed code for standard:",JSON.stringify(currentItem)),loaderObj.generateSharelink({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id},!!e)):userParams.url?(log("Generating embed code for non-standard:",JSON.stringify(userParams)),loaderObj.generateShareLink({u:userParams.url,live:userParams.live},!!e)):null},getEmbedCode:function(){return currentItem.upload_id&&playerConfig.mcp_id&&playerConfig.player_id?(log("Generating embed code for standard:",JSON.stringify(currentItem)),loaderObj.generateEmbedCode({m:playerConfig.mcp_id,p:playerConfig.player_id,v:currentItem.upload_id})):userParams.url?(log("Generating embed code for non-standard:",JSON.stringify(userParams)),loaderObj.generateEmbedCode({u:userParams.url,live:userParams.live})):null},getVolume:getVolume,setVolume:setVolume,isFullscreen:function(){return fullscreen},setFullscreen:function(e){(!fullscreen&&e||fullscreen&&!e)&&toggleFullscreen()},isPictureInPicture:function(){return pictureInPicture},setPictureInPicture:function(e){pictureInPicture!==e&&togglePictureInPicture()},getBitrates:function(){return defaultBitrateList},setBitrate:function(e){mediator.publish("bitrateSelected",e)},getCaptionLanguages:function(){var e=captionManagerObj.getAvailableLanguages();return!e.length&&live&&deviceInfo.ott&&(e=["en"]),e},getCurrentCaptionLanguage:function(){return captionManagerObj.getCurrentLanguage()},setCaption:setCaption,getCaptionStyle:function(){return log("@getCaptionStyle"),captionManagerObj.getStyle()},setCaptionStyle:function(e){log("@setCaptionStyle",logger.stringify(e,null,2)),captionManagerObj.setStyle(e)},showCaption:function(){log("@showCaption"),log("@showCaption sidecars:",captionManagerObj.getCurrentLanguage()),log("@showCaption embedded:",videoManagerObj.hasEmbedCaption()),videoManagerObj.hasEmbedCaption()?videoManagerObj.enableEmbedCaption():captionManagerObj.getCurrentLanguage()?captionManagerObj.show():live&&deviceInfo.ott&&videoManagerObj.loadOpenCaption()},hideCaption:function(){log("@hideCaption"),log("@hideCaption sidecars:",captionManagerObj.getCurrentLanguage()),log("@hideCaption embedded:",videoManagerObj.hasEmbedCaption()),videoManagerObj.hasEmbedCaption()?videoManagerObj.disableEmbedCaption():live&&deviceInfo.ott&&videoManagerObj.unloadOpenCaption(),captionManagerObj.getCurrentLanguage()&&captionManagerObj.hide()},getPlayerLanguages:function(){return"en"},setPlayerLanguage:function(e){},seekTo:seekTo,getCurrentTime:function(){return mode==modes.AD_ON_AD&&pluginLoader.isReady("dfp")?pluginLoader.getCurrentTime().dfp:videoManagerObj.getCurrentTime()},mute:mute,unmute:unmute,setLogo:function(e){logoObj.setLogo(e)},showLogo:function(){logoObj.show()},hideLogo:function(){logoObj.hide()},hideControlBar:function(){controlObj.setVisibilityMode("hidden")},showControlBar:function(){controlObj.setVisibilityMode("responsive")},showException:function(e){dispatchEvent("PLAYER_ERROR",e)},showSlate:showSlate,hideSlate:hideSlate,block:showSlate,unblock:function(e){e==util.md5("anvrocks")&&(slateObj.hide(),unmute(),live?catchLive():videoManagerObj.play())},catchLive:catchLive,resize:resize,hideAll:hideAll,displaySplashScreen:displaySplashScreen,displayPauseScreen:displayPauseScreen,displayControlBar:displayControlBar,displayEndScreen:displayEndScreen,displayShareScreen:displayShareScreen,updateMetadata:updateMetadata,updateDerivedMetadata:updateDerivedMetadata,setTimeDelta:setTimeDelta,setChromecastStatus:setChromecastStatus,onChromecastEvent:onChromecastEvent,fastForward:fastForward,getPlaybackRate:getPlaybackRate,directExternalVideoEvents:directExternalVideoEvents,setStartType:setStartType,replayEvents:function(){log("@replayEvents"),pluginLoader.replayEvents()},trackCustomEvent:function(e,t){pluginLoader.trackCustomEvent(e,contentInfo,t)},resetHeartbeat:function(){pluginLoader.resetHeartbeat()},optOutNielsen:function(){pluginLoader.optOutNielsen()},optInNielsen:function(){pluginLoader.optInNielsen()},playNext:function(){playNext(!0)},playPrevious:function(){playPrevious(!0)},getThumbnail:getThumbnail,getPoster:getPoster,showMono:function(){sphericalRendererObj&&sphericalRendererObj.showMono()},showStereo:function(){sphericalRendererObj&&sphericalRendererObj.showStereo()},skipAd:function(){pluginLoader.isCustomPlaybackUsed().dfp&&pluginLoader.skipAd()},snapshot:function(e){var t=videoManagerObj.videoContent();util.snapshot(t,e)},onBeforeAdBreakReturned:onBeforeAdBreakReturned,onBeforeSeekReturned:onBeforeSeekReturned,onBeforeVideoLoadReturned:onBeforeVideoLoadReturned,onBitrateUpdatedReturned:onBitrateUpdatedReturned,onBeforeBitrateMenuUpdatedReturned:onBeforeBitrateMenuUpdatedReturned,updatePlugin:updatePlugin,setRecommendations:setRecommendations,getPlaylistIndex:getPlaylistIndex,startAd:startAd,changeProgram:changeProgram,addToPlaylist:addToPlaylist,removePlaylistItemWithId:function(e){playlistObj.removeWithId(e)},removePlaylistItemWithIndex:function(e){playlistObj.removeWithIndex(e)},onViewabilityChange:onViewabilityChange,onPluginLibraryRequested:onPluginLibraryRequested,onPluginLibraryLoaded:onPluginLibraryLoaded,onPluginLibraryLoadError:onPluginLibraryLoadError,onPluginInit:onPluginInit,simulateError:simulateError,startCasting:startCasting,stopCasting:stopCasting,onPalNonceUpdated:onPalNonceUpdated,onScheduleLoaded:onScheduleLoaded}}return Player}),anv.define("Subscription",["util"],function(e){function t(t){function n(){log("@decorateLogin"),e.safeSetInnerHtml(t,""),t.style.background="#fff",a.wrapper=e.generateChild(t,"div","login-dialog","login-dialog"),a.errorMessage=e.generateChild(a.wrapper,"div","login-error","login-error"),e.generateChild(a.wrapper,"div","title","social-title full-width","Login with your Anvato account"),console.log(">>>",a),a.email=e.generateChild(a.wrapper,"input","email","email full-width"),a.password=e.generateChild(a.wrapper,"input","password","password full-width"),a.password.type="password",forgot=e.generateChild(a.wrapper,"a","password","forgot full-width","I forgot my password"),forgot.href="http://www.anvato.com",a.email.placeholder="Email",a.email.name="username",a.password.name="password",a.password.placeholder="Password",a.login=e.generateChild(a.wrapper,"button","login","login","LOGIN"),a.login.onclick=function(){r()}}function r(){log("onLoginRequest",a.email.value,a.password.value),i&&(log("calling credentialCallback"),e.safeSetInnerHtml(a.errorMessage,""),i(a.email.value,a.password.value))}var i,a={},o={401:"Wrong username or password. Please try again."};return log="undefined"!=typeof logger?logger.getLogFn("Subscription"):function(){console.log.apply(console,["[!Subscription!]\t"].concat(Array.prototype.slice.call(arguments)))},{displayLoginDialog:function(e){log("@diplayLoginDialog"),i=e,n(),t.style.display="block"},setErrorMessage:function(t){e.safeSetInnerHtml(a.errorMessage,o[t]||"You are not authorized.")},hideLoginDialog:function(){e.safeSetInnerHtml(a.errorMessage,""),t.style.display="none"}}}return t}),anv.define("Chromecast",["util"],function(e){function t(t,n,r,i){function a(){window.__onGCastApiAvailable=function(e,t){e?o():console.warn("Failed to initialize cast sender with error:",t)},e.loadJS("//www.gstatic.com/cv/js/sender/v1/cast_sender.js")}function o(){var e;i&&i.plugins&&i.plugins.chromecast&&"object"==typeof i.plugins.chromecast&&"appId"in i.plugins.chromecast&&(e=i.plugins.chromecast.appId),e=e||"9D26E851",Me("@initializeCastApi selected appId",e)
;var t=new chrome.cast.SessionRequest(e),n=new chrome.cast.ApiConfig(t,u,g,chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED);chrome.cast.initialize(n,s,l)}function s(){Me("@onInitSuccess")}function l(e){Me("@onInitError",e),H({name:"CHROMECAST_RECEIVER_ERROR",args:null})}function u(e){Me("@sessionListener: "+e.sessionId),c(e)}function c(e){Me("@onSessionAvailable",e.sessionId),ve=e,Ie=ke.ACTIVE,d(Ie,ve),0!=ve.media.length&&(Me("onSessionAvailable",JSON.stringify(ve.media,null,3)),Me("Found "+ve.media.length+" existing media sessions."),N("sessionListener",ve.media[0])),ve.addMediaListener(N.bind(null,"addMediaListener")),ve.addUpdateListener(p.bind(null)),ve.addMessageListener("urn:x-cast:com.anvato.chromecast",G),A()}function d(e,n,i){status in{none:1,error:1,idle:1,active:1}||(Ce="paused"==status),Me("@notifyChromecastStatus",e,n,i),t.setChromecastStatus(e,n,i),r.dispatchEvent("CHROMECAST_STATUS",e,n?n.receiver.friendlyName:void 0,n?n.appId:void 0,n?n.displayName:void 0)}function A(){var t=JSON.stringify(r.getVerificationObject());t=e.aesStdEncrypt("ecb",t,"98a5ad0983ef8977","base64"),W({type:"verification",content:t})}function g(e){"available"===e?(Me("receiver found"),Ie=ke.IDLE):(Ie=ke.NONE,Me("receiver list empty")),d(Ie)}function p(e){Me("@sessionUpdateListener",JSON.stringify(arguments)),ve.status!=chrome.cast.SessionStatus.CONNECTED&&(Ie=ke.IDLE,H({name:"RECEIVER_STOPPED",args:null}),ve=null,ye=null),d(Ie,ve,ye)}function f(){Me("@launchApp launching app..."),chrome.cast.requestSession(m,E)}function h(){Me("@stopApp");try{ve.leave(v,y)}catch(e){console.warn("Left cast session with error")}}function m(e){Me("session success: "+e.sessionId,JSON.stringify(e,null,3),!!ve),c(e)}function E(e){ve||"cancel"==e.code||(H({name:"CHROMECAST_RECEIVER_ERROR",args:null}),Ie=ke.ERROR,d(Ie))}function v(){Me("App stopped successfully"),ve=null,ye=null,Ie=ke.IDLE,d(Ie,ve,ye)}function y(){H({name:"CHROMECAST_RECEIVER_ERROR",args:null}),Me("App could not be stopped!")}function I(t,n){if(Me("@decryptWithSenderToken",t,n),"string"==typeof n){try{n=e.aesStdDecrypt("ecb",n,t,"base64")}catch(e){return void Me("@decryptWithSenderToken error while decrypting the payload",e.message)}try{n=JSON.parse(n)}catch(e){return void Me("@decryptWithSenderToken error while parsing the payload")}}return n}function b(t,n){if("object"==typeof n){try{n=JSON.stringify(n)}catch(e){return void Me("@decryptWithSenderToken error while stringifying the payload")}try{n=e.aesStdEncrypt("ecb",n,t,"base64")}catch(e){return void Me("@decryptWithSenderToken error while encrypting the payload")}}return n}function C(e,t){Me("@loadQueue",JSON.stringify(e,null,3),t);for(var n,r,a,o,s=[],l=0,u=e.length;l<u;l++)o={},o.video=e[l].upload_id||e[l].id,o.title=e[l].def_title,o.description=e[l].def_description,o.thumbnail=e[l].src_image_url,i&&(o.token=e[l].token||i.token,o.accessKey=e[l].accessKey||i.accessKey,o.mcp=e[l].mcp||i.mcp,o.plugins=e[l].plugins||i.plugins,o.castWithAbsoluteOffset=i.castWithAbsoluteOffset),n=new chrome.cast.media.MediaInfo(o.video),n.customData=o,n.metadata=new chrome.cast.media.GenericMediaMetadata,n.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,n.contentType="application/x-mpegurl",n.metadata.images=[],r=new chrome.cast.media.QueueItem(n),r.autoplay=!0,r.itemId=null,r.media=n,r.preloadTime=10,r.startTime=0,s.push(r);a=new chrome.cast.media.QueueLoadRequest(s),a.startIndex=t||0,a.items=s,a.repeatMode=chrome.cast.media.RepeatMode.OFF,Me("calling queueLoad"),ve.queueLoad(a,w.bind(null,"loadQueue"),S)}function B(e){Me("@loadMedia",JSON.stringify(e,null,3));var t,n;if(!ve)return void Me("no session");"string"==typeof e&&(Me("@loadMedia loading with video:","encrypted"),e=I(Qe.token,e),Me("decrypted and parsed encrypted payload"),i&&i.plugins&&"object"==typeof i.plugins.chromecast&&i.plugins.chromecast.proxyUrl&&(e.proxyUrl=i.plugins.chromecast.proxyUrl)),"object"==typeof e&&(e.accessKey&&e.video?(e.plugins=e.plugins||i.plugins,e.accessControl=i.accessControl,e.poster=i.poster,e.thumbnail=i.thumbnail,e.castWithAbsoluteOffset=i.castWithAbsoluteOffset,Me("@loadMedia loading with non-encrypted payload",JSON.stringify(e,null,3)),n=!0):e.url?Me("@loadMedia loading with url",e.url):e.video&&e.mcp&&!e.accessKey&&r&&"lookupVideoJson"in r&&(Me("@loadMedia loading with non-tkx flow",e.video),e.videoJson=r.lookupVideoJson(e.video))),t=new chrome.cast.media.MediaInfo(e.video||"Stream from Anvato Player SDK"),t.customData=n?b(Qe.token,e):e,n&&(t.customData={encrypted:t.customData}),Me("@loadMedia loading with final payload",JSON.stringify(t.customData,null,3)),t.metadata=new chrome.cast.media.GenericMediaMetadata,t.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,"dash"==e.format?t.contentType="application/dash+xml":t.contentType="application/x-mpegurl";var a=new chrome.cast.media.QueueItem(t);a.autoplay=!0,a.itemId=null,a.media=t,a.preloadTime=10,a.startTime=e.startAt||0;var o=[a],s=new chrome.cast.media.QueueLoadRequest(o);s.startIndex=0,s.items=o,s.repeatMode=chrome.cast.media.RepeatMode.OFF,Me("calling queueLoad"),ve.queueLoad(s,N.bind(null,"loadMedia"),S)}function w(e,t){Me("@onQueueLoadSuccess",arguments),N(e,t)}function S(e){Ie=ke.ERROR,d(Ie,ve,ye)}function T(){Me("clearing currentTime timer"),clearInterval(Se.currentTime),delete Se.currentTime}function k(e,t){Me("@play",JSON.stringify(e,null,3),t,i),T(),e?(M(),"object"==typeof e&&(e.video_type&&e.upload_id||e.id&&e.src_image_url)&&(e=[e]),"object"==typeof e&&e.length?C(e,t):B(e)):ye&&ye.play(null,D.bind(this,"playing started for "+ye.sessionId),R)}function Q(e){Me("@playRecommendation",JSON.stringify(e,null,3)),z("loadRecommendation",e)}function D(e){Me("@mediaCommandSuccessCallback",e)}function R(e){Me("@mediaCommandErrorCallback",e)}function _(){ye.pause(null,D.bind(this,"paused "+ye.sessionId),R)}function M(){Me("@stopMedia"),ye&&ye.stop(null,D.bind(this,"stopped "+ye.sessionId),R)}function N(e,t){Me("@onMediaDiscovered",e,t),Me("new media session ID:"+t.mediaSessionId),ye=t,ye.addUpdateListener(P),Me("@onMediaDiscovered STATE:",ye.playerState),Ie=ye.playerState.toLowerCase(),"idle"==Ie&&(Ie=ke.ACTIVE),d(Ie,ve,ye),Me("@onMediaDiscovered interval set?",!Se.currentTime,Se.currentTime)}function P(e){Me("@onMediaStatusUpdate",JSON.stringify(arguments,null,3)),Me("@onMediaStatusUpdate STATE:",ye.playerState),Ie=ye.playerState.toLowerCase(),"idle"==Ie&&"CANCELLED"!=ye.idleReason?(Me("@onMediaStatusUpdate idlReason:",ye.idleReason),M(),T(),H({name:"RECEIVER_PLAYBACK_END",args:null})):!Se.currentTime&&Ie in{playing:1,paused:1,buffering:1}&&(De||(Se.currentTime=setInterval(O.bind(this),Re))),"idle"==Ie&&(Ie=ke.ACTIVE),d(Ie,ve,ye)}function O(){var e;if(Me("@updateCurrentTime",!ve||!ye),ve&&ye&&ye.media.duration){var n=ye.getEstimatedTime();Me("timeIndex",n,ye.media.duration),t&&"onCastTimeUpdated"in t&&("content"==_e&&(e=Ee()),t.onCastTimeUpdated(n,ye.media.duration,e))}else T()}function L(e,t){Me("@setReceiverVolume",e,t),ve&&(t?ve.setReceiverMuted(!0,D.bind(this,"media set-volume done"),x):(ve.setReceiverVolumeLevel(e,D.bind(this,"media set-volume done"),x),be=e))}function x(e){Me("@onError",e)}function F(){L(be,!0),Me("media muted")}function U(){L(be,!1),Me("media unmuted")}function V(e){L(e,!1)}function G(e,t){Me("@listener received:",e);var n=JSON.parse(t);switch(Me("@listener received:",JSON.stringify(n,null,3)),n.name){case"METADATA_LOADED":De=!1,n&&n.args.length>2&&(_e=n.args[2].castDurationType||_e,Be=n.args[2].castAdBreakInfo||{},we=n.args[2].castAdInfo||{});break;case"VERIFICATION_STATUS":n.args.length>1&&(Qe.isVerified=n.args[0],Qe.token=n.args[1]),Me("@listener~VERIFICATION_STATUS",JSON.stringify(Qe,null,3));break;case"VIDEO_COMPLETED":T();break;case"CHROMECAST_RECEIVER_ERROR":Ie=ke.ERROR,d(Ie,ve,ye)}n&&"name"in n&&(r.dispatchEvent.apply(r,[n.name].concat(n.args)),H(n))}function H(e){t&&"onChromecastEvent"in t&&t.onChromecastEvent(e)}function j(){return Ie}function Y(){return ve}function K(){return ye}function q(e){if(ye){Me("Seeking "+ye.sessionId+":"+ye.mediaSessionId+" to "+e+"sec."),Te=0;var t=new chrome.cast.media.SeekRequest;t.currentTime=e,ye.seek(t,J.bind(this,"media seek done"),x)}}function J(e){Me("@onSeekSuccess",e),setTimeout(function(){Te=1},Re)}function z(e,t){W({type:"rpc",content:{name:e,args:Array.prototype.slice.call(arguments,1)}})}function W(e){Me("@sendMessage",JSON.stringify(e,null,3)),ve.sendMessage("urn:x-cast:com.anvato.chromecast",e,function(){},function(){})}function Z(e,t){Me("@sendCustomMessage",e,JSON.stringify(t,null,3)),ve.sendMessage(e,t,function(){},function(){})}function X(e,t){Me("@toggleCaption",e,t),z("toggleCaption",e,t)}function $(e){if(ye){Me("@addToQueue",JSON.stringify(e,null,3));var t,n,r,a,o={};o.video=e.id,o.title=e.def_title,o.description=e.def_description,o.thumbnail=e.src_image_url,i&&(o.token=e.token||i.token,o.accessKey=e.accessKey||i.accessKey,o.mcp=i.mcp,o.plugins=e.plugins||i.plugins),t=new chrome.cast.media.MediaInfo(o.video),t.customData=o,t.metadata=new chrome.cast.media.GenericMediaMetadata,t.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,t.contentType="application/x-mpegurl",t.metadata.images=[],n=new chrome.cast.media.QueueItem(t),n.autoplay=!0,n.itemId=null,n.media=t,n.preloadTime=10,n.startTime=0,r=[n],a=new chrome.cast.media.QueueInsertItemsRequest(r),a.items=r,ye.queueInsertItems(a,ee,te)}}function ee(){Me("@onAddToQueueSuccess",JSON.stringify(arguments,null,3))}function te(){Me("@onAddToQueueError",JSON.stringify(arguments,null,3))}function ne(e){Me("@removeFromQueue",JSON.stringify(e,null,3)),ye.queueRemoveItem(e.queueIndex,re,ie)}function re(){Me("@onRemoveFromQueueSuccess")}function ie(){Me("@onRemoveFromQueueError")}function ae(e){Me("@reorderQueue",JSON.stringify(e,null,3));for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].queueIndex);var i=new chrome.cast.media.QueueReorderItemsRequest(t);i.itemIds=t,ye.queueReorderItems(i,oe,se)}function oe(){Me("@onReorderQueueSuccess")}function se(){Me("@onReorderQueueError")}function le(){De=!0,T(),ye.queueNext(ue,ce)}function ue(){Me("@onPlayNextSuccess")}function ce(){Me("@onPlayNextError")}function de(){T(),ye.queuePrev(Ae,ge)}function Ae(){Me("@onPlayPreviousSuccess")}function ge(){Me("@onPlayPreviousError")}function pe(e){var t;e&&(t=new chrome.cast.media.EditTracksInfoRequest(void 0,e),ye.editTracksInfo(t,fe,he))}function fe(){Me("@setCaptionStyleSuccess")}function he(){}function me(){return ye&&ye.media?ye.media.duration:null}function Ee(){var e,t,n,r=0;if(!ye||"absolute"==_e)return null;if(!ye.breakStatus||!ye.breakStatus.breakClipId)return{contentType:"presentation",currentTime:ye.getEstimatedTime(),totalTime:ye.media.duration};if(e=ye.breakStatus.breakClipId,!we[e])return Me("@getPresentation breakClipId",e,"not found"),null;if(t=we[e].breakId,!(n=Be[t]))return Me("@getPresentation break",t,"not found"),null;for(var i=0;i<n.breakClipIds.length;i++)if(n.breakClipIds[i]==e){r=i;break}return{contentType:"ad",currentTime:ye.breakStatus.currentBreakTime,totalTime:n.duration,adIndex:r,totalAds:n.breakClipIds.length}}var ve,ye,Ie,be,Ce,Be,we,Se={},Te=1,ke={IDLE:"idle",ACTIVE:"active",BUFFERING:"buffering",PLAYING:"playing",PAUSED:"paused",NONE:"none",ERROR:"error"},Qe={},De=!1,Re=1e3,_e="absolute",Me=n?n.getLogFn("Chromecast"):function(){console.log.apply(console,["[!Chromecast!]\t"].concat(Array.prototype.slice.call(arguments)))};return{init:a,launchApp:f,stopApp:h,play:k,playNext:le,playPrevious:de,addToQueue:$,removeFromQueue:ne,reorderQueue:ae,playRecommendation:Q,pause:_,stop:M,mute:F,unmute:U,setVolume:V,sendTimeUpdate:O,getPaused:function(){return Ce},getState:j,getCastSession:Y,getMediaSession:K,getDuration:me,seekTo:q,sendMessage:W,sendCustomMessage:Z,customCall:z,toggleCaption:X,sendVerificationRequest:A,setCaptionStyle:pe}}return t}),anv.define("pluginNielsen",["util"],function(e){function t(t,n,r,i){function a(t,n){switch(d("@sendBeacon",t,JSON.stringify(n)),c=n,l={},l.type="dtvr"==s.type?"content":c.type.video?"content":"ad",l.channelName=c.contentId,l.adModel=n.derivedMetadata$adModel||"1","dtvr"!=s.type&&(l.assetId=c.contentId,l.title=c.contentTitle,l.length=c.duration,u.assetid=c.type.adId,s.mapping&&(s.mapping.video||s.mapping.ad?(l=e.merge(l,i.getDerivedMetadata(c,E.VIDEO)),u=e.merge(l,i.getDerivedMetadata(c,E.AD))):l=e.merge(l,i.getDerivedMetadata(c,E.MAPPING)))),d("@sendBeacon",t),t){case"METADATA_LOADED":A=!1,g=!1,p=!1;break;case"ID3":!f.programChangedFallbackTimer&&c.id3TagPublisher&&c.id3TagPublisher.indexOf("nielsen")>-1&&(d("@track->sendID3",c.id3Tag,c.id3TagPublisher),o.ggPM("sendID3",c.id3Tag));break;case"TIME_UPDATED":case"AD_TIME_UPDATED":"dtvr"!=s.type&&(d("@track->setPlayheadPosition"),c.live?o.ggPM("setPlayheadPosition",Date.now()/1e3):o.ggPM("setPlayheadPosition",c.timeIndex));break;case"AD_STARTED":"dtvr"!=s.type&&o.ggPM("loadMetadata",u);break;case"AD_FIRST_QUARTILE":case"AD_MID_POINT":case"AD_THIRD_QUARTILE":break;case"AD_COMPLETED":d("@track->stop"),"dtvr"!=s.type&&(c.live?o.ggPM("stop",Date.now()/1e3):o.ggPM("stop",c.timeIndex));break;case"PLAYING_START":g||(c.live?(f.programChangedFallbackTimer=setTimeout(function(){d("@track->play"),"dtvr"!=s.type?o.ggPM("play",Date.now()/1e3):o.ggPM("play",l),d("@track->loadMetadata (as fallback for PROGRAM_CHANGED scheduled by PLAYING_START)",JSON.stringify(l,null,3)),o.ggPM("loadMetadata",l),p=!0,delete f.programChangedFallbackTimer},h),f.invalidateFallbackUsedFlag=setTimeout(function(){d("resetting programChangedFallbackUsed flag since next PROGRAM_CHANGED can not be ignored after a long time"),p=void 0,A=!0},m)):(d("@track->play"),"dtvr"!=s.type?o.ggPM("play",c.timeIndex):o.ggPM("play",l),d("@track->loadMetadata",JSON.stringify(l,null,3)),o.ggPM("loadMetadata",l)));break;case"VIDEO_FIRST_QUARTILE":case"VIDEO_MID_POINT":case"VIDEO_THIRD_QUARTILE":break;case"VIDEO_COMPLETED":d("@track->end"),o.ggPM("end",c.timeIndex),g=!1;break;case"USER_PAUSE":d("@track->pause"),c.live?o.ggPM("pause",Date.now()/1e3):o.ggPM("pause",c.timeIndex);break;case"USER_RESUME":d("@track->play"),"dtvr"!=s.type?c.live?o.ggPM("play",Date.now()/1e3):o.ggPM("play",c.timeIndex):o.ggPM("play",l);break;case"PROGRAM_CHANGED":f.programChangedFallbackTimer&&(clearTimeout(f.programChangedFallbackTimer),delete f.programChangedFallbackTimer),p?(p=void 0,A=!0):(A&&(d("@track->end"),o.ggPM("end",Date.now()/1e3)),d("@track->play"),"dtvr"!=s.type?o.ggPM("play",Date.now()/1e3):o.ggPM("play",l),d("@track->loadMetadata"),o.ggPM("loadMetadata",l),A=!0)}}var o,s=t,l={},u={},c={},d=r?r.getLogFn("Nielsen"):function(){console.log.apply(console,["[!Nielsen!]\t"].concat(Array.prototype.slice.call(arguments)))},A=!1,g=!1,p=!1,f={},h=15e3,m=6e5,E={MAPPING:"plugins:nielsen:mapping:",VIDEO:"plugins:nielsen:mapping:video:",AD:"plugins:nielsen:mapping:ad:"};return s&&s.apid&&s.sfcode?(window._nolggGlobalParams=e.deepCopy(s),window.NOLCMB?(d("Initializing Nielsen instance"),delete window._nolggGlobalParams.optOut,delete window._nolggGlobalParams.type,o=window.NOLCMB.getInstance(s.instanceName||void 0),d("plugin config ",JSON.stringify(s,null,3)),d("init with ",JSON.stringify(window._nolggGlobalParams,null,3)),o.ggInitialize(window._nolggGlobalParams),n.publish("nielsenInitialized",s),o._ggPM=o.ggPM,o.ggPM=function(e,t){d("Sending:",e,JSON.stringify(t)),o._ggPM(e,t)},{sendBeacon:a}):("dispatchError"in i&&i.dispatchError("NIEL002"),null)):(d("dispatching error NIEL001"),"dispatchError"in i&&i.dispatchError("NIEL001"),null)}return t}),anv.define("TrackingPluginLoader",["util","pluginNielsen"],function(e,t){function n(e,n,r,i,a,o,s){function l(e,t){I("@loadPlugin",e);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");I("@loadPlugin",e),n.appendChild(r),C[e].appended=!0,r.onload=function(){I("just loaded the script with source:",this.src,e),C[e].ready=!0},t&&t in C[e].src?r.src=C[e].src[t]:"defaultEnvironment"in C[e]&&C[e].defaultEnvironment in C[e].src?r.src=C[e].src[C[e].defaultEnvironment]:r.src=C[e].src}function u(e){I("@checkPlugin",e);var t=!1;switch(e){case"googleAnalytics":break;case"nielsen":t=void 0!==window.NOLCMB}C[e].ready=t,I("@checkPlugin",e,"ready?:",t)}function c(r,a){switch(I("@initPlugin",r,JSON.stringify(n,null,3)),r){case"googleAnalytics":break;case"nielsen":C.nielsen.instance=new t(n.nielsen,e,i,o),null==C.nielsen.instance&&(C.nielsen.initFailed=!0)}C[r].init=!0}function d(e,t){h.apply(null,["sendBeacon"].concat(Array.prototype.slice.call(arguments)))}function A(){I("@replayEvents"),h.apply(null,["replayEvents"].concat(Array.prototype.slice.call(arguments)))}function g(){I("@resetHeartbeat"),h.apply(null,["resetHeartbeat"].concat(Array.prototype.slice.call(arguments)))}function p(){I("@optOutNielsen"),h.apply(null,["optOutNielsen"].concat(Array.prototype.slice.call(arguments)))}function f(){I("@optInNielsen"),h.apply(null,["optInNielsen"].concat(Array.prototype.slice.call(arguments)))}function h(){var e=Array.prototype.slice.call(arguments,1),t={};for(var r in C)C.hasOwnProperty(r)&&n[r]&&!C[r].initFailed&&(C[r].instance&&C[r].init?(y[r]&&y[r].length&&m(r),arguments[0]in C[r].instance&&(I("Invoking ",arguments[0],"on plugin:",r),t[r]=C[r].instance[arguments[0]].apply(null,e))):(I("plugin not ready adding beacon to the queue for",r),y[r]=y[r]||[],y[r].push(arguments)));return t}function m(e){var t,n;if(I("@emptyBeaconQueue for ",e,"total items",y[e].length),C[e]&&C[e].instance&&!C[e].initFailed)for(;y[e].length;)t=y[e].shift(),n=Array.prototype.slice.call(t,1),I("@emptyBeaconQueue queue item",e),t[0]in C[e].instance&&C[e].instance[t[0]].apply(null,n)}function E(t){I("@polling trial #",++b);var r,i=!1;for(var a in n)n.hasOwnProperty(a)&&(I("@poll checking",a),n.hasOwnProperty(a)&&n[a]&&a in C&&C[a].moduleAvailable&&v(a)&&(I(">>>@poll checking",a),C[a].src&&!C[a].appended&&("environment"in n[a]&&(r=n[a].environment),l(a,r),i=!0),C[a].appended&&!C[a].ready&&(u(a),i=!0),!C[a].ready||C[a].init||C[a].initFailed||(c(a,t),i=!0)));i?setTimeout(E.bind(null,t),10*b*b):(I("loadedTrackingPluginSDKs"),e&&e.publish("loadedTrackingPluginSDKs"))}function v(e){return!(e in{dfp:1,freewheel:1})||n[e]&&(!n[e].clientSide&&!n[e].serverSide||n[e].clientSide)}var y={},I=i?i.getLogFn("TrackingPluginLoader"):function(){console.log.apply(console,["[!TrackingPluginLoader!]\t"].concat(Array.prototype.slice.call(arguments)))},b=0,C={nielsen:{defaultEnvironment:"production",src:{cert:"//secure-cert.imrworldwide.com/novms/js/2/ggcmb500.js",production:"//secure-us.imrworldwide.com/novms/js/2/ggcmb500.js"},appended:!1,ready:!1,init:!1,instance:null,moduleAvailable:void 0!==t}};return{replayEvents:A,resetHeartbeat:g,optOutNielsen:p,optInNielsen:f,poll:E,sendBeacon:d,isActive:function(e){return!!(e in C&&C[e].moduleAvailable)&&C[e].init},isAvailable:function(e){return!!(e in C&&C[e].moduleAvailable)&&C[e].init},isReady:function(e){return!!(e in C&&C[e].moduleAvailable)&&C[e].ready},isRequested:function(e){return e in C&&C[e].moduleAvailable&&e in n}}}return n}),anv.define("Notification",["util"],function(e){function t(t,n,r,i,a){function o(t,n,r){r=r||{},B=n,f=r.link,m=r.maximize,E=r.minimize,e.safeSetInnerHtml(I,t||""),t&&f&&s()}function s(){for(var t=I.getElementsByTagName("a"),n=0,r=t.length;n<r;n++)e.addEventListener(t[n],"click",f,!1)}function l(t,n){e.safeSetInnerHtml(I,t||I.innerHTML),n=n||{},f=n.link||f,m=n.maximize||m,E=n.minimize||E,I.innerHTML&&f&&s(),C=!0,B?(v.style.display="block",y.style.display="none"):(v.style.display="none",y.style.display="block")}function u(){v.style.display="none",y.style.display="none",A()}function c(){n&&"getState"in n&&(h=n.getState(),w("lastPlayerState",h))}function d(){n&&"pause"in n&&n.pause()}function A(){n&&"play"in n&&n.play()}function g(){B?(C=!C,w("@toggleViewMode",C?"minimized":"maximized"),v.style.display=C?"block":"none",y.style.display=C?"none":"block",C?(E&&E(),h&&h.indexOf("playing")>-1&&A()):(m&&m(),c(),d())):u()}function p(e){e&&(e.location=e.location||"tr",e.location=e.location.toLowerCase(),e.sizeFactor=e.sizeFactor||1,v.style[e.location.indexOf("l")>-1?"left":"right"]="0",v.style[e.location.indexOf("b")>-1?"bottom":"top"]="0",v.style[e.location.indexOf("r")>-1?"left":"right"]="",v.style[e.location.indexOf("t")>-1?"bottom":"top"]="",v.style.height=e.sizeFactor*v.parentNode.offsetHeight/6+"px",e.margin?v.style.margin=e.margin:(v.marginTop&&(v.style.marginTop=e.marginTop),v.marginRight&&(v.style.marginRight=e.marginRight),v.marginBottom&&(v.style.marginBottom=e.marginBottom),v.marginLeft&&(v.style.marginLeft=e.marginLeft)))}var f,h,m,E,v=e.generateChild(t,"img","anv-notification-button","notification-button"),y=e.generateChild(t,"div","anv-notification-dialog","notification-dialog"),I=e.generateChild(y,"span","anv-notification-dialog-content","notification-dialog-content"),b=e.generateChild(y,"div","anv-notification-close-btn","notification-close-btn"),C=!0,B=!1,w=void 0!==a?a.getLogFn("Subscription"):function(){console.log.apply(console,["[!Subscription!]\t"].concat(Array.prototype.slice.call(arguments)))};return v.src=i.baseURL+"img/whiteinfo.png",b.style.background='url("'+i.baseURL+'img/sprite32.png") -415px -92px',p(r),t.appendChild(v),t.appendChild(y),y.appendChild(b),y.appendChild(I),v.onclick=g,b.onclick=g,{init:o,display:l,hide:u,toggleViewMode:g,applyConfig:p}}return t}),anv.define("PlaylistAdapter",["util","Feed"],function(e,t){function n(n,r,i,a){function o(e){e=e.videos;var t,n,r=JSON.parse(JSON.stringify(e)),i=e.length;for(t=0;t<i;t++)r[t].upload_id=e[t].id,n=e[t].title,delete r[t].title,r[t].def_title=n,n=e[t].description,delete r[t].description,r[t].def_description=n,r[t].src_image_url=e[t].src_image_url||e[t].thumbnail;return r}function s(t){for(var i=[],a=0,o=t.length;a<o;a++)"object"==typeof t[a]?t[a].url?i.push(e.xssSanitizeObject(e.xssFilter,{id:t[a].id||e.md5(t[a].url),isExternal:!!t[a].url,upload_id:t[a].id||e.md5(t[a].url),video_type:t[a].live||r?2:1,formats:[{embed_url:t[a].url,format:t[a].format||"m3u8",protocol:"http",upload_id:t[a].id||e.md5(t[a].url),kbps:t[a].bitrate||"400",cdn_name:t[a].cdn||n.cdn}],src_image_url:t[a].poster||n.poster||t[a].thumbnail||n.thumbnail,thumbnail:t[a].thumbnail||n.thumbnail,def_title:t[a].title||n.title,def_description:t[a].description||n.description,language:t[a].language||n.language||"en",derived_metadata:t[a].derivedMetadata||n.derivedMetadata,plugins:t[a].plugins})):i.push({id:t[a].id,upload_id:t[a].id,token:t[a].token}):i.push({id:t[a],upload_id:t[a]});return i}function l(t,r){var i=String(t).toLocaleLowerCase(),a=n.playlistBaseURL||A[i];a?e.loadJS(a+r+".js?ts="+(new Date).getTime()):console.error("The provided mcp does not have a registered playlist path in the SDK")}function u(e){var r=new t(a,n);r.init(e,r.outputTypes.PLAYLIST,function(e){playlist=e,"function"==typeof d&&d(playlist)},function(){throw"Unable to load feed data."})}function c(e,t){if(void 0===e)throw"Data not set.";if(d=t,Array.isArray(e)){var n=s(e);"function"==typeof d&&d(n)}else if("object"==typeof e){if("feed"!=e.type)throw"Incorrect playlist type.";u(e.id)}else l(i,e)}window.anvatoPlaylistJSONLoaded=function(e){var t=o(e);"function"==typeof d&&d(t)};var d,A={anv:"//mcp-download.storage.googleapis.com/anv-playlists/",cbs:"//cbslocal-download.storage.googleapis.com/anv-playlists/",next:"//sa-mcp.storage.googleapis.com/playlists/"};a&&a.getLogFn("PlaylistAdapter");return{invoke:c,loadPlaylistJSON:l}}return n}),anv.define("Loader",["Logger","Player","Subscription","Chromecast","TrackingPluginLoader","util","mediator","Notification","PlaylistAdapter"],function(e,t,n,r,i,a,o,s,l){function u(e){function o(){return He?He.getTimeDelta():0}function u(e){window.manifestFileHandler=e}function c(e,t,n,r){Mt("@directCompanion",e,"X",t,"content:",n,"additional:",r);var i=r&&r.type?r.type:"html",a=r&&r.creative_type?r.creative_type:null,o=r&&r.data?r.data:n;o&&(o={data:encodeURIComponent(o),clickTarget:r&&r.click?r.click:void 0,creativeView:r&&r.tracking&&r.tracking.creativeView?r.tracking.creativeView:void 0}),Se(Qt.COMPANION_AVAILABLE,i,a,e,t,o),St.companionInjectFn&&(Mt("companionInjectFn available",Ye.pInstance,e,t),St.companionInjectFn(Ye.pInstance,e,t,n,r))}function d(e){for(var t in e)Nt.setItem(t,e[t])}function A(e){var t={};for(var n in e){var r=Nt.getItem(n);t[n]=r}return t}function g(t,n,r){Mt("@postWithWsse",e.stringify(t,null,3),!!qe.onWsseResponse);var i=a.generateWsseHeader(t.username,t.password);It.wsseResponse=n||qe.onWsseResponse.bind(qe),It.wsseError=r||qe.onWsseResponse.bind(qe),t.apiPayload&&"object"==typeof t.apiPayload&&(t.apiPayload=JSON.stringify(t.apiPayload)),a.sendPostRequest(t.apiUrl,t.apiPayload,p,f,{"X-WSSE":i},!1)}function p(e){var t;Mt("@onWsseResponse",e,typeof e);try{e=JSON.parse(e)}catch(e){return void f(e)}It.wsseResponse&&"report_suites"in e&&"object"==typeof e.report_suites&&"length"in e.report_suites&&(t=e.report_suites.join(","),Mt("@onWsseResponse",t),It.wsseResponse(t))}function f(e){Mt("wsseError",e,typeof e),It.wsseError&&It.wsseError(e)}function h(e,t){Mt("@loadPlayerJSON",e,t),At=!1;var n=e+"/";null!=t&&""!=t&&"default"!=t?(Et=vt[e]||Et,Mt("Loading Anvato player JSON @: "+Et+n+t+".js"),a.loadJS(Et+n+t+".js")):(at=it,At=!0,y())}function m(e,t,n,r){Mt("@loadVideoJSON",e,t,n,r);var i=Ye&&Ye.videoEnv?Ye.videoEnv.toLowerCase():"stage",o=at&&at.dynamic_urls?at.dynamic_urls[i]:null;if(Mt("@loadVideoJSON"),ut=!1,He&&Ye.accessKey&&!r)Mt("@loadVideoJSON using TVE for videoJSON",Ye.accessKey),Se(Qt.TIME_DELTA,He.getTimeDelta());else if(je&&Ye.media)Mt("@loadVideoJSON using DataAPI for videoJSON",Ye.media);else if(Mt("@loadVideoJSON using non-DataAPI/non-TVE flow"),e&&e.toLowerCase()in yt&&n)ke=ke||yt[e.toLowerCase()]+n+".js",ke=(ke.indexOf("http")>-1?"":"http:")+ke,a.loadJS(yt[e.toLowerCase()]+n+".js");else if(e&&n&&o)ke=ke||o+"?m="+e+"&v="+n+"&mvpd="+Ye.mvpd+"&hzip="+Ye.homezip+"&gzip="+Ye.geozip,a.loadJS(o+"?m="+e+"&v="+n+"&t="+(new Date).getTime());else{if(!r)throw new Error("Could not detect any videoJSON url for the provided mcp");if(Mt("@loadVideoJSON detected videoJsonSource with type",typeof r),"string"==typeof r){r=r.replace(/(anvatoVideoJSONLoaded\()(.*)(\);?)/,"$2");try{r=JSON.parse(r)}catch(e){console.error("Error while parsing external videoJSON payload",e)}}anvatoVideoJSONLoaded(r)}}function E(e){var t=document.head,n=document.createElement("link");n.href=e,n.type="text/css",n.rel="stylesheet",t.appendChild(n)}function v(){var e={"[[IS_DESKTOP]]":!a.getDeviceInfo.isMobileBrowser,"[[IS_MOBILE]]":a.getDeviceInfo.isMobileBrowser,"[[IS_IE11]]":a.getDeviceInfo.win&&a.getDeviceInfo.ie&&a.getDeviceInfo.browserInfo&&a.getDeviceInfo.browserInfo.length>1&&"Trident"==a.getDeviceInfo.browserInfo[0]&&"7.0"==a.getDeviceInfo.browserInfo[1]};for(var t in Ye)Ye.hasOwnProperty(t)&&"string"==typeof Ye[t]&&Ye[t]in e&&(Mt("@evaluateDevicetypeMacro, replacing with boolean value for",t),Ye[t]=e[Ye[t]],Mt("@evaluateDevicetypeMacro, replaced with",Ye[t]))}function y(){Mt("@onPlayerJSONLoaded mode",bt);var e=a.getDeviceInfo;v(),Bt=!(e.ipad||e.ipod||e.iphone||e.android),Ye&&(Ye.desktop=(Bt||ht)&&!ft),"video"==bt?(Mt("calling callback for mode",bt),accessControl&&accessControl.loadVideoJSON(Re,De,Pe,Oe)):"playlist"==bt?et.invoke(xe,function(e){st=e,R()}):"media"==bt&&accessControl&&accessControl.getMediaJSON(Ye.media,I,B),ge(at)}function I(t){Mt("@onMediaJSON",t),"exception"in t?(Mt("exception",e.stringify(t.exception,null,3)),Se(Qt.SUBSCRIBER_AUTHORIZATION_STATUS,!1),Xe?Xe.setErrorMessage(t.exception.code):b()):(je&&!je.getBlocked()&&("published_urls"in t?(bt="video",w(t)):bt="playlist"),Xe&&(Se(Qt.SUBSCRIBER_AUTHORIZATION_STATUS,!0),Xe.hideLoginDialog(),qe&&"unblock"in qe&&je&&je.getBlocked()&&(qe.unblock(a.md5("anvrocks")),je.setBlocked(!1))))}function b(){var e=document.createElement("div"),t=document.body;e.style.width="100%",e.style.height="100%",e.style.position="relative",e.style.margin="auto",e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.zIndex="2147483649",t.style.position="relative",e.id="anv-login-wrapper",e.className="anv-login-wrapper",t.insertBefore(e,t.firstChild),Xe=new n(e),Xe.displayLoginDialog(C)}function C(e,t){accessControl&&accessControl.getMediaJSON(Ye.media,I,B,e,t)}function B(e){Mt("@onMediaJSONError",e)}function w(e){ot=e,ut=!0,e&&e.user&&accessControl&&(Mt("user detected inside videoJSON"),e.user.tve_station&&accessControl.setStationInfo(e.user.tve_station),e.failover_channel&&accessControl.setFailoverChannel(e.failover_channel)),S()}function S(e){Mt("calling callback; playerLoaded?",lt),ot&&"upload_id"in ot&&(ct[ot.upload_id]=ot),lt&&z()}function T(e){Mt("@onVideoJSONFetched",e.upload_id);var t;e&&"upload_id"in e&&(ct[e.upload_id]=e),t=Q(e),k(e.upload_id,t),wt++,Mt("videoJSON #",e.upload_id,wt,"/",kt),wt!=kt||Ct||(Mt("All videoJSONs fetched"),dt=!0,lt&&z())}function k(e,t){if(lt&&gt)Mt("Notifying player about video id:",e),qe.notifyVideoInfoUpdate(e,t);else for(var n=0,r=st.length;n<r;n++)st[n].id==e&&(st[n]=V(st[n],t))}function Q(e){var t,n=e.captions,r=e.previews?{url:e.previews.url,n:e.previews.n,twp:e.previews.twp,thp:e.previews.thp,tws:e.previews.tws,ths:e.previews.ths}:{},i=e.pvw_matrices;return t={"360_type":e["360_type"],exception:ot.exception,upload_id:ot.upload_id,id:ot.upload_id,formats:e.published_urls,video_type:e.video_type,captions:n,duration:e.duration,previews:r,pvw_matrices:i,src_image_url:Ye.poster||ot.src_image_url||ot.src_logo_url,thumbnail:e.thumbnail||e.src_logo_url,def_title:Ye.title||e.def_title,def_description:Ye.description||e.def_description,recommendations:e.recommendations,language:e.common&&e.common.language?e.common.language:"en",ts_published:e.ts_published,ts_airdate:e.ts_airdate,ts_expire:e.ts_expire,channel:e.source_channel_id,season:e.season,program_name:e.program_name,group:e.group,episode_no:e.episode_no,categories:e.categories,rstv:e.rstv,tags:e.def_tags,primary_category:e.primary_category,rating:e.common&&e.common.rating?e.common.rating:7,subratings:e.common&&e.common.subratings?e.common.subratings:"",owner_id:e.owner_id,mcp_id:e.mcp_id,dma:e.user&&e.user.tve_station&&e.user.tve_station.dma_code?e.user.tve_station.dma_code:null,failover_channel:e.failover_channel,common:e.common,ad_slots:e.ad_slots,custom_metadata:D(e.custom_metadata),derived_metadata:e.derived_metadata,plugins:e.plugins},a.xssSanitizeObject(a.xssFilter,t),Ye.ownerId=e.owner_id,_e=e.owner_id,Ye.startTime&&(t.startTime=Ye.startTime),Ye.endTime&&(t.endTime=Ye.endTime),t}function D(e){var t={};if(e&&"0"in e){for(var n in e)e.hasOwnProperty(n)&&"name"in e[n]&&"value"in e[n]&&(t[e[n].name]=e[n].value);return t}return e}function R(){var e;kt=Math.min(st.length,kt),Mt("@onInitialPlaylistReady",kt,st.length),Mt("maxVideoJsonPrefetch:",kt);for(var t=0;t<kt;t++)st[t].formats&&st[t].formats.length?wt++:(e=!0,L(st[t].id,st[t].token,_));e||(dt=!0,lt&&z())}function _(e){if(kt--,console.warn("Failed to prefetch playlist item with id:",e),!kt)return void console.error("All playlist items in the prefetch range failed to load!");lt&&gt&&(Mt("@onPlaylistItemFetchError removing playlist item:",e),qe.removePlaylistItemWithId(e)),st=st.filter(function(t){return t.id!=e}),Mt("onPlaylistItemFetchError removed item with id:",e,wt,"/",kt),wt!=kt||Ct||(dt=!0,lt&&z())}function M(t){Mt("@fetchSmil",e.stringify(t,null,3),!!accessControl,!!t.formats);var n={title:t.def_title,sport_name:t.sportName,team_name_1:t.teamNames&&t.teamNames.length?t.teamNames[0]:void 0,team_name_2:t.teamNames&&t.teamNames.length>1?t.teamNames[1]:void 0,league_name:t.leagueNames,callsign:t.operatingUnit,channel_id:t.channelId};accessControl&&t.formats?(Tt.guid=t.id,accessControl.getSmilResource(t.formats[0].embed_url,N,t.authorization,t.channelId,t.rating,n)):Mt("no item or accessControl to send request")}function N(t){var n={formats:t.formats},r=a.getParameterByName("mcptkxstreamid",n.formats[0].embed_url);Tt.sanitizedPayload=n,Mt("@onSmilFetched",e.stringify(n,null,3)),
r&&Ye.accessKey?accessControl.getVideoJSON(r,P,O):qe.notifyVideoInfoUpdate(Tt.guid,n)}function P(t){Mt("@onVideoJSONSuccess",e.stringify(t,null,3)),Tt.sanitizedPayload.formats=t.published_urls,Tt.sanitizedPayload.mcp_id=t.mcp_id,Tt.sanitizedPayload.owner_id=t.owner_id,qe.notifyVideoInfoUpdate(Tt.guid,Tt.sanitizedPayload),bt="playlist"}function O(e){qe.notifyVideoInfoUpdate(Tt.guid,Tt.sanitizedPayload)}function L(e,t,n){Mt("@fetchVideoJSON",e,t);var r=Ye&&Ye.videoEnv?Ye.videoEnv.toLowerCase():"qa",i=at.dynamic_urls[r];Mt("@fetchVideoJSON",e,"use accessControl.loadVideoJSON:",!!He,!!accessControl,!!Ye.accessKey),ut=!1;var o;"object"==typeof e&&(Mt("@fetchVideoJSON override",o),o=e,o.mcpid&&(o.video=o.mcpid,o.poster=o.src_image_url),o.accessKey&&o.video?(Mt("@fetchVideoJSON tkx flow for",o.accessKey,o.video),Ye.accessKey=o.accessKey,e=o.video):o.video?(Mt("@fetchVideoJSON non-tkx flow for",o.video),e=o.video):o.url&&Mt("@fetchVideoJSON direct flow for",o.url)),He&&accessControl&&Ye.accessKey?(Mt("@fetchVideoJSON using accessControl.loadVideoJSON"),accessControl.loadVideoJSON(Re,De,e,null,t,n)):Re&&(Re.toLowerCase()in yt?a.loadJS(yt[Re.toLowerCase()]+e+".js"):(Ye.mvpd=Ye.mvpd||"",Ye.homezip=Ye.homezip||"",Ye.geozip=Ye.geozip||"",a.loadJS(i+"?m="+Re+"&v="+e+"&mvpd="+Ye.mvpd+"&hzip="+Ye.homezip+"&gzip="+Ye.geozip)))}function x(e){Mt("@fetchDecryptionKey"),He?He.getDecryptionKey(Ye.accessKey,e,F,U):"setDecryptionKey"in qe&&(Mt("calling setDecryptionKey on playerObj"),qe.setDecryptionKey(e,null))}function F(e){var t;try{t=JSON.parse(e)}catch(e){return void Mt("Error while parsing the decryptInfo")}"setDecryptionKey"in qe&&e&&(Mt("calling setDecryptionKey on playerObj"),qe.setDecryptionKey(t.keyref,e))}function U(e,t){Mt("Failed to retrieve decryption key for",e),"setDecryptionKey"in qe&&(Mt("calling setDecryptionKey on playerObj"),qe.setDecryptionKey(e,null))}function V(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function G(t){var n,r,i;if(t)Mt("mergedConfig",e.stringify(t)),Ye=t,Qe=t.key,xe=t.playlist,Fe=t.feed,Re=t.mcp,Ne=t.mpx,De=t.player,Pe=t.video,Oe=t.videoJson,Le=t.media,Ue=t.url,Ve=t.xUrl,Ge=t.format,pt=t.autoplay,ht=t.flash,mt=t.live;else{Ye=window.iFrameConfig,Qe=a.getParameterByName("key"),xe=a.getParameterByName("playlist"),Re=a.getParameterByName("mcp"),Ne=a.getParameterByName("mpx"),De=a.getParameterByName("player"),Pe=a.getParameterByName("video"),Oe=a.getParameterByName("videojson"),Le=a.getParameterByName("media"),Ue=a.getParameterByName("url"),Ge=a.getParameterByName("format"),pt=a.getParameterByName("autoplay"),ht=a.getParameterByName("flash"),mt=a.getParameterByName("live"),Ke=a.getParameterByName("ccastid"),Ye.shared=!0,r=document.getElementsByTagName("script"),i=r[r.length-1],Ye.baseURL=H(i),Ye.plugins=a.merge(Ye.plugins,Ye.offsitePlugins);for(n in Ye.plugins)Ye.plugins.hasOwnProperty(n)&&!Ye.plugins[n]&&delete Ye.plugins[n]}Ye.startAt=Ye.startAt||a.getParameterByName("anvt"),Ye.baseURL=Ye.baseURL||"http://w3.cdn.anvato.net/player/prod/v3/",ft=!0,Ye.html5=!0,Ye.jsHls=!0,Mt("Parameters:",Le,Re,De,Pe,Qe,xe,Fe,Ue,Ve,Ke,Ye),Ke&&(Ye.plugins=Ye.plugins||{},Ye.plugins.chromecast={appId:Ke}),Ue?(bt="URL",Y()):Ve?(bt="video",h()):Qe?K(Qe):Le?(Mt("currentMediaId",Le),bt="media",h()):Re||Oe?(xe||Fe?(bt="playlist",et=new l(Ye,mt,Re,e)):(Pe||Oe)&&(bt="video"),h(Re,De)):Re||!xe&&!Fe?Ne?(Mt("Detected mpx in user params"),bt="mpx",j()):(bt="URL",at=it,At=!0,ut=!0,ge()):(bt="playlist",et=new l(Ye,mt,Re,e),h())}function H(e){var t=e.src;return t=t.replace(/scripts\/anvplayer\.min\.js.*/,""),t&&t.length||(t=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),t.length&&"/"!=t[t.length-1]&&(t+="/"),Mt("@detectBaseURL",t),t}function j(){function e(e,t){function n(e,n){Mt("@preloadCallback->getSmilPlaylist chunkIndex:",n),Mt("@preloadCallback",e.length),!n&&He&&"getTimeDelta"in He&&Se(Qt.TIME_DELTA,He.getTimeDelta()),Se(Qt.PLAYLIST_CHUNK_AVAILABLE,n,e,!!t),n||(st=e,Mt("first startTime:",new Date(st[0].startTime)),dt=!0,Mt("THE SMIL PLAYLIST:",st.length),lt&&z())}st=accessControl.getSmilPlaylist(e.entries,kt,n)}function t(e){function t(e,t){Mt("@preloadCallback->getSmilPlaylist chunkIndex:",t,JSON.stringify(e)),Mt("@preloadCallback",e.length),st=e,dt=!0,Mt("THE SMIL PLAYLIST:",st.length),lt&&z()}st=accessControl.getSmilPlaylist(e.entries,kt,t)}accessControl.processMpxRequest(),Ye.video?accessControl.getItemWithGuid(Ye.video,t):accessControl.getFeed(e),at=it,ge()}function Y(){at=it,At=!0,ut=!0,v(),ge()}function K(t){var n;Mt("@loadWithKey",t),n=JSON.parse(a.base64Decode(t)),ft=ft||n.html5,n.m||n.mcp?(Re=n.m||n.mcp,De=n.p||n.player,n.pl||n.playlist?(xe=n.pl||n.playlist,bt="playlist"):(n.v||n.video)&&(Pe=n.v||n.video,bt="video"),h(Re,De)):n.u||n.url?(bt="URL",Ue=n.u||n.url,Ge=n.format,mt=n.live,Mt("Loading external URL",Ue),Y()):(n.pl||n.playlist)&&(bt="playlist",xe=n.pl||n.playlist,et=new l(Ye,mt,Re,e),h(Re,De))}function q(e,t){Mt("@evaluate3rdPartyCookies");for(var n=0,r=e.length;n<r;n++)if("formats"in e[n]&&e[n].formats)for(var i=0,a=e[n].formats.length;i<a;i++)if("akamai"==(e[n].formats[i]&&e[n].formats[i].cdn_name?e[n].formats[i].cdn_name.toLowerCase():""))return Mt("checking 3rdPartyCookies..."),void J(t)}function J(t){var n=a.getDeviceInfo;if(Mt("@check3rdPartyCookies ","isIE",n.ie),!n.ie&&(!n.safari||n.mac)&&!n.ott&&Ye&&(!("checkCookieBlocker"in Ye)||Ye.checkCookieBlocker)){var r,i=document.body;Mt("checking 3rd party cookies"),r=Ye.baseURL&&Ye.secureSocket?/googleapis\.com/i.test(Ye.baseURL)?"//gcp.cdn.anvato.net/anvtp/":"//storage.googleapis.com/anvato-cdn-west/anvtp/":"//gcp.cdn.anvato.net/anvtp/";var o=r+"anvtp.html",s=document.createElement("iframe");s.style.display="none",s.src=o+"?pinstance="+t+"&tsoffset="+e.getInitialOffset(),i.appendChild(s)}}function z(){function t(e){Mt("@onNielsenDialogMaximized"),a.setCookie("nielsen_notification_displayed",!0,e)}Mt("@onPlayerLoaded");var n,r,i=Ye&&Ye.pInstance?Ye.pInstance:"anv-player",o=document.getElementById(i);lt=!0,!Bt&&!ht||ft||(qe=o,qe.style.position="relative",Mt("Flash tag ready","OBJECT"==qe.tagName)),Mt("Internal callback after player loaded"),(dt||ut)&&(Mt("Setting playlist..."),"video"==bt?(st.push(Q(ot)),bt="playlist",Ct=!0):"URL"==bt&&st.push({id:Ye.id||a.md5(Ue),isExternal:!0,video_type:mt?2:1,formats:[{embed_url:Ue,format:Ge||"m3u8",protocol:"http",upload_id:"0",kbps:"400",cdn_name:Ye.cdn}],src_image_url:Ye.poster,def_title:Ye.title,def_description:Ye.description,derived_metadata:Ye.derivedMetadata,language:Ye.language?Ye.language:"en"}),Mt("Check flash, forcedFlash",Bt,ht),Ye.loaderURL=Ye.baseURL+"anvload.html",q(st,Ye.pInstance),Mt("version",St.version),!Bt&&!ht||ft?(qe.setPlaylist(st),window.top===window.self?o&&("iframe"in Ye&&!Ye.iframe||"asyncApi"in Ye&&!Ye.asyncApi)?(n=o.offsetWidth,r=o.offsetHeight):(n=at.width,r=at.height):(Mt("Running inside an IFRAME"),n=de().width,r=de().height),Mt("initializing the HTML5 player"),qe.init(i,n,r,Ye,W)):(qe.setParams(Ye),Ye&&Ye.accessControl&&Ye.accessControl.onDemand?st.length&&(st[0].sponsorEnabled||st[0].upload_id==Ye.deepLinkId)&&qe.setPlaylist(st):qe.setPlaylist(st),"setVersion"in qe&&qe.setVersion("Anvato Universal Player v"+St.version),Mt("onLoaded fn:",typeof St.onLoad),St.onLoad&&St.onLoad(qe)),gt=!0,X(qe)),ze=new s(document.body,qe,null,Ye,e),ze.init(null,!0,null),Mt("notificationObj init"),Je.subscribe("nielsenInitialized",function(n){Mt("subs->nielsenInitialized",e.stringify(n,null,3));var r=a.getCookie("nielsen_notification_displayed");Mt("nielsenNotificationDisplayed?",!!r),(!1 in n||n.optOut)&&!r&&("object"==typeof n.optOut&&ze.applyConfig(n.optOut),ze.display("Our properties may feature Nielsen's proprietary measurement software which will allow to contribute to market research, like Nielsen's TV Ratings. To learn more about this information, please <a target='_blank' href='http://www.nielsen.com/digitalprivacy'>click here</a>. Nielsen's software may collect your choices with regards to it.",{maximize:t.bind(null,n&&n.optOut&&"period"in n.optOut?n.optOut.period:1/0)}))}),We.poll({})}function W(){"function"==typeof St.onLoad&&St.onLoad(qe)}function Z(){return He&&Ye.accessKey?He.getVerificationObject(Ye.accessKey,Ye.token):{}}function X(t){Mt("@evaluateChromecast",Ye);var n=a.getDeviceInfo,i={lookupVideoJson:$,getVerificationObject:Z,dispatchEvent:Se};n.chrome&&!n.isMobileBrowser&&Ye&&Ye.plugins&&Ye.plugins.chromecast&&(Mt("@evaluateChromecast browser supports chromecast"),Ze=new r(t,e,i,Ye),window.chromecast=Ze,St.chromecast=Ze,Ze.init())}function $(e){return Mt("@lookupVideoJson videoId",e),"number"==typeof e&&(e=e.toString()),e in ct?ct[e]:(Mt("@lookupVideoJson videoId",e,"not found"),null)}function ee(t){return Mt("@generateEmbedCode",e.stringify(t)),'<iframe scrolling="no" frameborder="0" allowfullscreen webkitallowfullscreen mozallowfullscreen allow="autoplay; fullscreen" src="'+re(t)+'"  width ="640" height="360"></iframe>'}function te(){accessControl&&accessControl.getSchedule()}function ne(){var e,t=Ye.shareLink||window.location.href;return Ye&&Ye.deepLinkId&&(e=t.indexOf("?")>-1?"&":"?",t=t+e+"mcpid="+Ye.deepLinkId+"&referrer=OKCT"),t}function re(e,t){var n,r={},i={plugins:1,html5:1,format:1,token:1,360:1,drm:1,live:1};Ye.hashPrefix?(n=Ye.baseURL.replace(new RegExp(Ye.hashPrefix+"/"),""),Mt("@generateShareLink sanitized share link:",n)):n=Ye.baseURL,"string"==typeof e&&(e=JSON.parse(e)),e.v?(r.m=Re,r.p=De,r.v=e.v):e.u?r.u=e.u:!e.v&&Ye.url&&(r.u=Ye.url),Ye&&Ye.accessKey&&(r.anvack=Ye.accessKey),r.shareLink=ne();for(var o in i)i.hasOwnProperty(o)&&Ye&&o in Ye&&(r[o]=Ye[o]);var s=JSON.stringify(r);a.getUrlParts(n).protocol||(n=window.location.protocol+n);var l=a.base64Encode(s);return t?"http://c5.anvato.com/anvload.php?key="+encodeURIComponent(l):n+"anvload.html?key="+encodeURIComponent(l)}function ie(t,n,r,i){var o=ae(r,i);Mt("injectAdTargetingValues macros",JSON.stringify(o,null,3));var s,l,u,c,d,A={};return"dfp"==t&&(n.keyValues||n.shareKeyValues)&&(s=a.getParameterByName("cust_params",n.adTagUrl),u=a.decodeURLParams(n.adTagUrl),c=a.getBaseUrl(n.adTagUrl),l=a.decodeURLParams("?"+s),l=Ye.shared&&n&&"shareKeyValues"in n?a.merge(l,n.shareKeyValues):a.merge(l,n.keyValues),Mt("keyValues",e.stringify(l,null,3)),Mt("urlParams",e.stringify(u,null,3)),Mt("serverUrl",c),l=oe(o,l),Mt(">keyValues",e.stringify(l,null,3)),l=a.encodeURLParams(l),l=l.replace(/\=/g,"%3D"),l=l.replace(/&/g,"%26"),l=l.replace(/\%C/g,"%2C"),u.cust_params=l,u=a.encodeURLParams(u,!0),d=c+"?"+u,Mt("adTagUrl",d),Mt("cust_params",l),A.adTagUrl=d,A.cust_params=l),A}function ae(e,t){return{MCP_ID:e.mcp_id,VIDEO_ID:e.upload_id,OWNER_ID:e.owner_id,CATEGORIES:e.categories?e.categories.join(","):void 0,TITLE:e.def_title,DESCRIPTION:e.def_description,DURATION:e.duration}}function oe(t,n){var r,i=/(.*)\[\[(.*)\]\](.*)/;for(var a in n)n.hasOwnProperty(a)&&(r=i.exec(n[a]),Mt("parts",e.stringify(r)),r&&r.length>3&&r[2]in t&&(n[a]=r[1]+t[r[2]]+r[3]));return n}function se(e){Ye&&(Ye.deepLinkId=e)}function le(e,t){return a.updateURLParam(e,"anvt",t)}function ue(e,t){var n,r=/(.*)( +src=\")([^\"]*)(\".*)/,i=r.exec(e);return i.length>4?(n=i[3],n=a.updateURLParam(n,"anvt",t),e.replace(r,"$1$2"+n+"$4")):e}function ce(t,n){Mt("@getSocialWindowURL",e.stringify(t,null,3)),"string"==typeof t&&(t=JSON.parse(t));var r,i,o=Ye&&Ye.openGraphInfo&&Ye.openGraphInfo.image?Ye.openGraphInfo.image:Ye.baseURL+"img/anvatologo.png",s=t.socialType,l=(t.info,t.msg),u=t.mediaURL||o,c=t.videoTitle,d=t.videoDesc;switch(c=c.replace(/"/g,""),d=d.replace(/"/g,""),i=ne(),n&&(i=le(i,n)),s){case"facebook":r="http://www.facebook.com/sharer.php?u="+encodeURIComponent(i);break;case"twitter":l=d?a.uTF8Encode(d):a.uTF8Encode(c),Mt("msg",l,"description",d),r="http://twitter.com/intent/tweet?url="+encodeURIComponent(i),l&&(r=r+"&text="+l);break;case"google":r="https://plus.google.com/share?url="+encodeURIComponent(i);break;case"pinterest":r="http://pinterest.com/pin/create/button/?url="+encodeURIComponent(i),u&&(r=r+"&media="+a.uTF8Encode(u)),d?r=r+"&description="+a.uTF8Encode(d):c&&(r=r+"&description="+a.uTF8Encode(c));break;case"stumbleupon":r="http://www.stumbleupon.com/submit?url="+encodeURIComponent(i)+"&title="+a.uTF8Encode(c);break;case"reddit":r="http://reddit.com/submit?url="+encodeURIComponent(i)+"&title="+a.uTF8Encode(c);break;case"email":l=Ye&&Ye.emailShareTemplate?Ye.emailShareTemplate:"I'm watching [[TITLE]] on [[SHARE_LINK]]",l=l.replace(/\[\[TITLE\]\]/g,c),l=l.replace(/\[\[SHARE_LINK\]\]/g,i),r="mailto:?subject="+encodeURIComponent(c)+"&body="+encodeURIComponent(l)}return Mt("@getSocialWindowURL url",r),r}function de(){var e=0,t=0;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),{width:e,height:t}}function Ae(e){Mt("@evaluateBlackListedFlashVersion",JSON.stringify(swfobject.getFlashPlayerVersion()));var t,n,r=[[18,0,0]];if(r&&r.length)for(var i=0,a=r.length;i<a;i++){t=r[i];for(var o=0,s=Math.min(t.length,e.pv.length);o<s;o++)n=e.pv[o]==t[o]&&(!o||n);if(n){Mt("blackListedVersionDetected",t.join("-")),we("LOAD021","Blacklisted Adobe Flash Player plugin version detected: "+t.join("."));break}}}function ge(n){Mt("@initPlayer");var r;r=Ye&&Ye.pInstance?Ye.pInstance:"anv-player",$e=Ye&&(Ye.flashpath||Ye.flashPath)?Ye.flashPath||Ye.flashpath:Ye.baseURL+"flash/";var o,s,l=a.getDeviceInfo,u=l.isMobileBrowser||l.smartTV;Ye&&Ye.plugins&&Ye.plugins.heartbeatBeta&&!Ye.flashpath&&!Ye.flashPath&&($e+="heartbeat/"),Mt("@initPlayer",e.stringify(l,null,3),navigator.userAgent,navigator.platform),e&&(Mt("Logger: ",Ye.debug),Ye.debug?e.on(Ye.debug):e.off()),Bt=!u,Mt("Browser",l.browserInfo.length>1?l.browserInfo[0]+"|"+l.browserInfo[1]:"");var c=["googleAnalytics","nielsen","heartbeatShared"],d={};if(Ye&&Ye.plugins)for(var A in Ye.plugins)Ye.plugins.hasOwnProperty(A)&&-1!=c.indexOf(A)&&(d[A]=Ye.plugins[A]);if(Je=new Mediator,We=new i(Je,d,null,e,Ye,{dispatchEvent:Se,dispatchError:we,postWithWsse:g,getDerivedMetadata:Te},null),proxyDispatcher.setTrackingPluginLoader(We),!qe)if(!Bt&&!ht||ft)at.mcp_id=Re,Mt("playerConf autoplay",at.autoplay),at.loaderPageURL=(Ye.baseURL.indexOf("http")>-1?"":"http:")+Ye.baseURL+"anvload.html",at.deviceInfo=l,"asyncApi"in Ye&&!Ye.asyncApi&&Ye.pInstance||he(Ye.baseURL),qe=qe||new t(St,e,at,rt,We),lt=!0,"video"==bt&&ut&&z(),"playlist"==bt&&dt&&z(),"URL"==bt&&z(),"mpx"==bt&&z();else{Mt("Loading Flash Player from",$e);var p=document.getElementById(r);p&&Mt("flash container tagname:",p.tagName);var f=$e+"anvplayer.swf";if(p=p||document.createElement("div"),Mt("Flash version",l.pv[0],"-",l.pv[1],JSON.stringify(l.pv)),l.pv[0]<10&&l.pv[1]<3)return void fe();Ye&&Ye.enforceFlashBlacklist&&Ae(l),l.pv[0]>=10&&l.pv[1]>=3&&(f=$e+"anvplayer10.3.swf"),l.pv[0]>=11&&l.pv[1]>=2&&(f=$e+"anvplayer.swf"),""==p.id&&(Mt("player container is not available, adding to the document body"),p.id=r,document.body.appendChild(p)),window.top===window.self?(Mt("NOT Running inside an IFRAME"),o=at.width||at.config.width,s=at.height||at.config.height):(Mt("Running inside an IFRAME"),o=de().width,s=de().height),p.style.width=o+"px",p.style.height=s+"px",Mt("Swfobject loaded");var h={style:Ye.baseURL+"flash/css/anvflash.css",config:$e+"videojs/integrate.js",logFunction:"flashLog",browserInfo:l.browserInfo.length>1?l.browserInfo[0]+l.browserInfo[1]:""},m={scale:"exactFit",allowfullscreen:!0,allowScriptAccess:"always",wmode:Ye&&Ye.wmode?Ye.wmode:Ye.useDirectWMode?"direct":"opaque"},E={},v=l.ie?"?nocache="+Math.floor(99999*Math.random()):"";Mt("Calling embed SWF with wmode:",m.wmode),swfobject.embedSWF(f+v,r,o,s,"10.3.0",$e+"expressInstall.swf",h,m,E,pe)}}function pe(e){Mt("@onEmbedSWFResult",e.success)}function fe(){Mt("onMissingFlashPlugin");var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("img"),r=document.body;e.style.width="100%",e.style.height="100%",e.style.position="relative",e.style.margin="auto",e.style.top="0",e.style.bottom="0",e.style.left="0",e.style.right="0",e.style.textAlign="center",e.style.fontFamily="Arial, sans-serif",e.style.zIndex="2147483649",r.style.position="relative",a.safeSetInnerHtml(t,"Please install the latest Adobe Flash Player Plugin to watch this content."),n.src=Ye.baseURL+"img/getadobeflash.png",t.style.display="inline-block",t.style.display="inline-block",t.style.width="100%",t.style.marginTop="20%",t.style.marginBottom="10px",n.style.display="inline-block",n.style.width="30%",n.style.maxWidth="204px",n.style.minWidth="150px",n.style.cursor="pointer",n.onclick=function(){a.openURIInNewWindow("http://get.adobe.com/flashplayer/","anvadobedownload")},e.appendChild(t),e.appendChild(n),r.insertBefore(e,r.firstChild),we("LOAD020")}function he(e){Mt("@writeCSS baseURL:",e);var t=document.head,n=document.createElement("style"),r='url("'+e+'img/sprite32.png")',i='url("'+e+'img/castsprite.png")';a.safeSetInnerHtml(n,".anv-download-btn{background-image:"+r+"} .anv-chromecast-button{background-image:"+i+"}.anv-splash-cast-status-icon{background-image:"+i+"}.anv-play-pause-btn{background-image: "+r+";}.anv-play-next-btn{background-image: "+r+";}.anv-restart-live-btn{background-image: "+r+";}.anv-volume-icon-btn{background-image: "+r+";}.anv-playlist-btn{background-image: "+r+";}.anv-caption-btn{background-image: "+r+";}.anv-search-btn{background-image: "+r+";background-position:  -258px 0px}.anv-quality-btn-icon{background-image: "+r+";}.anv-fullscreen-btn{background-image: "+r+";}.anv-picture-in-picture-btn{background-image: "+r+";}.anv-share-social-btn{background-image: "+r+";}.anv-share-close-btn, .anv-search-close-btn{background-image: "+r+";}.anv-no-touch .anv-share-close-btn:hover,.anv-no-touch .anv-search-close-btn:hover{background-image: "+r+"; }.anv-playlist-close{background-image: "+r+"; }.anv-no-touch .anv-playlist-close:hover{background-image: "+r+";}.anv-search-icon{background-image: "+r+";}.anv-splash-share{background-image: "+r+'; background-position: -382px 0 ;}.anv-splash-spinning-wheel{background: url("'+e+'img/loadingsprite.png");}.anv-recommendation-share{background-image: '+r+"; background-position: -382px 0 ;}.anv-recommendation-replay{background-image: "+r+"; background-position: -415px 0 ;}.anv-caption-set-close{background-image: "+r+"; background-position: -415px -92px;}.anv-no-touch .anv-caption-set-close:hover{background-image: "+r+'; background-position: -415px -129px;}.anv-slate-outer{background: url("'+e+'img/outer.png") no-repeat;}.anv-slate-inner{background: url("'+e+'img/inner.png") no-repeat;}'),t.appendChild(n)}function me(){return st}function Ee(e){var t={sessionId:"{{SESSION_ID}}",ownerId:"{{OWNER_ID}}",videoId:"{{VIDEO_ID}}"},n=Ye.adLogURL.replace(t.sessionId,e||"");n=n.replace(t.ownerId,Ye.ownerId||""),n=n.replace(t.videoId,Ye.video||""),Mt(e,"@checkAdLogAvailability",n),a.download(n+"&test=1",null,ve,ye)}function ve(e){var t={sessionId:"{{SESSION_ID}}",ownerId:"{{OWNER_ID}}",videoId:"{{VIDEO_ID}}"},n=Ye.adLogURL.replace(t.sessionId,Me||"");n=n.replace(t.ownerId,Ye.ownerId||""),n=n.replace(t.videoId,Ye.video||""),Mt("@onAdLogAvailability",e);try{e=JSON.parse(e),e.allowed&&(Mt("@onAdLogAvailability opening",n),a.openURIInNewWindow(n))}catch(e){Mt("@onAdLogAvailability",e.message)}}function ye(e){Mt("@onAdLogAvailabilityError",e)}function Ie(e){Mt("@setListener"),nt=e,Se(Qt.LOADER_READY)}function be(e){Mt("@setExternalMediaCallListener"),rt=e}function Ce(e,t){Dt[e]=t,Qt[e]=e}function Be(e,t,n){Rt[e]={code:e,info:t,isCritical:n}}function we(e,t){Mt("@dispatchError",e),e in Rt&&Se(Qt.PLAYER_ERROR,Rt[e].code,t||Rt[e].info,Rt[e].isCritical)}function Se(t,n){var r=Array.prototype.slice.call(arguments,1);if(Mt("@dispatchEvent dispatching event",t,JSON.stringify(r),typeof e),nt){for(var i=0,a=_t.length;i<a;i++)Mt("@dispatchEvent dispatching from the queue",_t[i].name),nt(_t[i]);_t=[],nt({name:t,time:e&&e.getTime?e.getTime():"",info:Dt[t],args:r})}else Mt("@dispatchEvent adding to the queue",t),_t.push({name:t,time:e&&e.getTime?e.getTime():"",info:Dt[t],args:r})}function Te(e,t,n,r){return tt.update(e,{}),tt.get(e,Ye,t,n,r)}var ke,Qe,De,Re,_e,Me,Ne,Pe,Oe,Le,xe,Fe,Ue,Ve,Ge,He,je,Ye,Ke,qe,Je,ze,We,Ze,Xe,$e,et,tt,nt,rt,it={player_id:"default",default_player:"osmf",height:360,width:640,config:{height:360,width:640,autoplay:!1,autorewind:!0,max_bitrate:1200,min_bitrate:300,seek:0,language:"en",cdn:"akamai"},video_url:"http://mcp-download.s3.amazonaws.com/videos-qaanv-mcp/",playlist_url:"http://mcp-download.s3.amazonaws.com/playlists-qa-mcp/",dynamic:!0,dynamic_urls:{qa:"http://qa.tkx.mcp.anv.bz/video.php",stage:"http://tkxstage.mcp.anvato.net/video.php",dev:"http://dev.tkx.mcp.anv.bz/video.php"}},at=null,ot=null,st=[],lt=!1,ut=!1,ct={},dt=!1,At=!1,gt=!1,pt=!1,ft=!1,ht=!1,mt=!1,Et="//v9.anv.bz.s3.amazonaws.com/players/",vt={sgun:"http://sgun-players.s3.amazonaws.com/player/"},yt={sgun:"//sgun-mcp-download.s3.amazonaws.com/videos_mcp_dev_3247/",qa:"//mcp-download.s3.amazonaws.com/videos-qaanv-mcp/",lin:"//ep-lin-publish.s3.amazonaws.com/videos_lin/",uni:"//vmscdn-download.s3.amazonaws.com/videos_mcm/",univison:"//vmscdn-download.s3.amazonaws.com/videos_mcm/",dev:"//fs2go-stage-mcp-download.s3.amazonaws.com/videos-fs2go-mcp/",sps:"//sps-publish.s3.amazonaws.com/videos/",spsstg:"//sps-publish.s3.amazonaws.com/videos-stg/",anv:"//mcp-download.s3.amazonaws.com/anv-videos/",gray:"//gray-publish.s3.amazonaws.com/mcp/",hearst:"//s3.amazonaws.com/hearst-publish/mcp/",cbs:"//cbslocal-download.s3.amazonaws.com/anv-videos/",telemundo:"//telemundo-mcp-download.s3.amazonaws.com/mcp/",next:"//mcp1.s3.amazonaws.com/publish/"},It={},bt="video",Ct=!1,Bt=!0,wt=0,St=this,Tt={},kt=9,Qt={},Dt={},Rt={},_t=[],Mt=e?e.getLogFn("Loader"):function(){console.log.apply(console,["[!Loader!]\t"].concat(Array.prototype.slice.call(arguments)))};window.flashLog=e?e.getLogFn("Flash"):function(){console.log.apply(console,["[!Flash!]\t"].concat(Array.prototype.slice.call(arguments)))};var Nt={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="; expires=Fri, 31 Dec 9999 23:59:59 GMT";if(n)switch(n.constructor){case Number:o=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:o="; expires="+n;break;case Date:o="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+(i?"; domain="+i:"")+(r?"; path="+r:"")+(a?"; secure":""),!0},removeItem:function(e,t,n){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}};this.getTimeDelta=o,window.getTimeDelta=o,this.setManifestHandler=u,window.setManifestHandler=u,this.processCompanion=c,window.processCompanion=c,window.anvSetCookies=d,this.anvSetCookies=d,window.anvGetCookies=A,this.anvGetCookies=A,window.postWithWsse=g,this.postWithWsse=g,this.setTVEInstance=function(e){He=He||e},this.setDataAPIInstance=function(e){je=je||e},this.loadVideoJSON=m,window.anvatoPlayerJSONLoaded=function(e){Mt("@anvatoPlayerJSONLoaded playerJSON:",JSON.stringify(e,null,3)),Mt("@anvatoPlayerJSONLoaded mergedConfig:",JSON.stringify(Ye,null,3)),Ye=a.merge(e.config,Ye),Mt("@anvatoPlayerJSONLoaded mergedConfig after merge:",JSON.stringify(Ye,null,3)),at=e,At=!0,Mt(at),Ye.stylesheetUrl&&E(Ye.stylesheetUrl),y()},this.logout=function(e){"subscription"==e&&Xe&&(Mt("@logout for subscription"),qe&&"block"in qe&&je&&(je.logout(),je.setBlocked(!0),qe.block("Your are not authorized to watch the content"),Se(Qt.SUBSCRIBER_AUTHORIZATION_STATUS,!1),Xe.displayLoginDialog(C)))},window.anvatoVideoJSONLoaded=function(e){Mt("@anvatoVideoJSONLoaded"),ot=e,ut=!0,e&&e.user&&accessControl&&(Mt("user detected inside videoJSON"),e.user.tve_station&&accessControl.setStationInfo(e.user.tve_station),e.failover_channel&&accessControl.setFailoverChannel(e.failover_channel)),"video"==bt?S():"playlist"==bt&&T(e)},window.fetchSmil=M,this.fetchSmil=M,this.updateMvpd=function(e){Ye&&(Ye.mvpd=e)},window.fetchVideoJSON=L,this.fetchVideoJSON=L,this.addToQueue=function(e){Ze.addToQueue(e)},window.fetchDecryptionKey=x,this.check3rdPartyCookies=J,window.onPlayerLoaded=z,window.generateEmbedCode=ee,this.generateEmbedCode=ee,window.generateShareLink=ne,this.detectShareLink=ne,this.generateShareLink=re,window.getSchedule=te,this.getSchedule=te,this.injectAdTargetingValues=ie,window.injectAdTargetingValues=ie,window.updateShareLink=le,this.updateShareLink=le,window.updateEmbedCode=ue,this.updateEmbedCode=ue,this.setDeepLink=se,window.getSocialWindowURL=ce,function(){Mt("registering events"),Ce("COMPANION_AVAILABLE","A companion is available for injection"),Ce("LOADER_READY","Loader is ready"),Ce("SUBSCRIBER_AUTHORIZATION_STATUS","Subscriber authorization status has changed"),Ce("PLAYLIST_CHUNK_AVAILABLE","Playlist chunk is available"),Ce("TIME_DELTA","Time difference between client and server detected"),Ce("PLAYER_ERROR","Player has thrown an error"),Ce("CHROMECAST_STATUS","Chromecast status has changed"),Ce("VERIFICATION_STATUS","Verification status has changed"),Ce("METADATA","Program metadata is available"),Ce("PROGRAM_CHANGED","Program has changed"),Ce("KEY_VALUE_SET","Player has sent a key-value pair")}(),function(){Mt("registering errors"),Be("LOAD020","Missing/outdated Adobe Flash Player plugin",!0),Be("LOAD021","Blacklisted Adobe Flash Player plugin version detected",!1),Be("NIEL001","Nielsen tracking parameters are not given",!1),Be("NIEL002","Nielsen could not be initialized",!1)}(),this.version="2",this.getPlaylist=me,this.load=G,this.loadWithKey=K,this.loadVideo=m,this.loadPlaylist=function(){et&&et.loadPlaylistJSON?et.loadPlaylistJSON.apply(et,arguments):console.error("playlistAdapter is not initialized")},this.onLoad=null,this.setExternalLogFn=function(t){e.setExposeFn(t)},this.generateEmbedCode=ee,this.generateShareLink=re,this.setCompanionInjector=function(e){Mt("@setCompanionInjector"),this.companionInjectFn=e},this.getChannelObj=function(){return accessControl?accessControl.getChannelObj():null},this.filterPlaylistByChannel=function(e){return accessControl?accessControl.filterSmilPlaylist(e):null},this.getLoggerInstance=function(){return e},this.handleAdLogRequest=function(e){var t;Mt("@handleAdLogRequest",Ye.adLogURL,Re,_e,e,Ye.mcp,Ye.video,Ye),"qa"==Re?(Mt("currentMcpId: "+Re),Me=e,Ee(e)):(t="http://demo.anv.bz/player/session.html?session_id="+e,a.openURIInNewWindow(t))},this.setListener=Ie,this.dispatchEvent=Se,this.setExternalMediaCallListener=be,this.getTrackingPluginLoader=function(){return We},this.printConfig=function(){console.log("================== mergedConfig for "+Ye.pInstance+" ===================\n",JSON.stringify(Ye,null,3))},this.getDerivedMetadataManager=function(){return tt},this.setDerivedMetadataManager=function(e){tt=e},this.refreshJwt=function(e,t){accessControl&&accessControl.refreshJwt&&accessControl.refreshJwt(e,t)},this.registerAdSessionUpdateUrl=function(e){He&&He.registerAdSessionUpdateUrl(e)},this.updateAdSession=function(e){He&&He.updateAdSession(e)}}return u}),anv.define("ProxyDispatcher",["util"],function(e){function t(){function t(e){if(o&&e&&e.derived_metadata)for(var t in e.derived_metadata)e.derived_metadata.hasOwnProperty(t)&&(o["derivedMetadata$"+t]=e.derived_metadata[t])}var n=null,r=null,i=!1,a=null,o={duration:100,timeIndex:0,contentTitle:"Sample video",contentDefinition:"desc",videoURL:"http://anvato-ads.s3.amazonaws.com/ua/13/09/30/130930_382/2552732_B52BE5CB3666494F8535E9A2F82DDB1C_130930_2552732_Days_of_our_Lives_1200.m3u8",videoId:"2552845",playerId:"HTML5Player",appURL:"https://w3.cdn.anvato.net/player/prod/v3/anvload.html",type:{video:!0,adType:null,adId:null}},s={AD_BEACON:1,CUE_POINT:1,SEGMENT_BEACON:1};return{setListener:function(e){n=e},setTrackingPluginLoader:function(e){a=e},dispatch:function(l){var u,c,d={};"METADATA_LOADED"==l.name&&(d=l.args[2],o.contentId=d.video||"",o.contentTitle=d.title||"",o.contentDefinition=d.description||"",o.live=d.live||!1,o.categories=d.categories||"",o.duration=d.duration||0,o.rating=d.rating||1,o.type=o.type||{},o.type.video=!0,o.type.adType=null,t(d)),"PROGRAM_CHANGED"==l.name&&(d=l.args&&l.args.length>2?l.args[2]:{},c=l.args&&l.args.length>3?l.args[3]:{},"derived_metadata"in c&&t(c),o.live=!0,o.contentTitle=d.title||"",o.contentDefinition=d.description||""),"AD_STARTED"==l.name&&(d=l.args[0],o.type.video=!1,o.type.adType=d[3],o.type.adId=d[0]),"VIDEO_STARTED"==l.name&&(o.type.video=!0),"ID3"==l.name&&(o.id3Tag=l.args[0],o.id3TagPublisher=l.args[1]),"TIME_UPDATED"==l.name&&(o.timeIndex=l.args[0]),"AD_TIME_UPDATED"==l.name&&(o.timeIndex=l.args[0]),!a||l.name in s||a.sendBeacon(l.name,o),n&&(r&&(l.time=r.getTime()),"AD_BEACON"==l.name&&l.args.length&&"event"in l.args[0]&&"VastMeta"==l.args[0].event&&"url"in l.args[0]&&(u=e.deepCopy(l),u.name="AD_REQUEST",u.info="Ad request URL for Digital Ad Insertion is available",u.args=[l.args[0].url],n(u)),l.name in s&&!i||n(l))},setLogger:function(e){r=e},toggleBeacons:function(e){i=e}}}return t}),anv.define("LocalAgent",[],function(){function e(e){function t(e){if("string"==typeof e.data&&e.data.indexOf("frm")>-1&&e.data.indexOf("to")>-1&&e.data.indexOf("content")>-1){var t=JSON.parse(e.data),n={refreshJwt:1};if(t.to==o||"call"==t.type&&t.content.fn in n||t.type in{entitlement:1,pal:1}&&"remoteAgent"!=t.to)return r(t)}}function n(t,n,r,i){var a={frm:t,to:n,type:r,content:i};a=JSON.stringify(a),e?d({data:a}):parent?parent.window.postMessage(a,"*"):console.warn("Player iframe seems to be detached from the page")}function r(e){var t;if("call"==e.type){if(e.content.fn in l?t=l[e.content.fn].apply(null,Array.prototype.slice.call(e.content.args)):s[e.to]&&e.content.fn in s[e.to]&&(t=s[e.to].parentNode?s[e.to][e.content.fn].apply(s[e.to],Array.prototype.slice.call(e.content.args)):s[e.to][e.content.fn].apply(null,Array.prototype.slice.call(e.content.args))),n(e.to,e.frm,"response",{uid:e.content.uid,response:t}),d)return t}else"entitlement"==e.type&&s.accessControlInstance&&e.content.fn&&e.content.fn in s.accessControlInstance&&s.accessControlInstance[e.content.fn].apply(null,Array.prototype.slice.call(e.content.args));"pal"==e.type&&u[e.content.fn].apply(u,e.content.args),"externalVideo"==e.type&&s[e.to].directExternalVideoEvents(e.content)}function i(e,t,r,i,a){n(e,"remoteAgent","companion",JSON.stringify({width:t,height:r,payload:i,additional:a}))}function a(e){d=e}var o,s={},l=null,u=null,c="boolean"==typeof e&&e,d=null;return c||bind(window.parent,"message",t,!1),{send:function(e,t,r,i){n(e,t,r,i)},setProxyPalInstance:function(e){u=e},onMessage:t,setLoader:function(e){l=e,l.setCompanionInjector(i)},registerPlayer:function(e,t){o=e,s[e]=t},registerRemoteMessageHandler:a,registerAccessControlInstance:function(e){s.accessControlInstance=e},registerExternalVideoInstance:function(e){s.externalVideoInstance=e}}}return e}),anv.define("DerivedMetadataManager",["util"],function(e){function t(){function t(e,t,n,r,i){
var a,o,s,l,u,c,d=n+(r||""),A="derivedMetadata$",g={};if(n&&e){for(u=d.split(":"),c=r?u.length:u.length-1,l=0,len=c;l<len;l++){if(!(a=a||t))return i;if(len,!a)return i;a=a[u[l]]}if(!r){for(s in a)a.hasOwnProperty(s)&&(o=a[s],void 0!=e[A+o]?g[s]=e[A+o]:void 0!=e[o]?g[s]=e[o]:g[s]=o);return g}return void 0===a?i:void 0!=e[A+a]?e[A+a]:void 0!=e[a]?e[a]:a}return i}function n(){var t,n,r={};for(t=0;t<a.length;t++)n=a[t],o[n]&&(r=e.merge(r,o[n]));return r}function r(t,r,a){var s,l,u;if(r&&(a="number"==typeof a?a:i.UNKNOWN,u=o[a]||{},s=r.derived_metadata||r.derivedMetadata||{},o[a]=e.merge(u,s),s=n(),t))for(l in s)s.hasOwnProperty(l)&&(t["derivedMetadata$"+l]=s[l])}var i={APP_LEVEL_CONFIG:0,APP_LEVEL_ITEM:1,CONTENT_METADATA:2,REMOTE_CONFIG:3,UNKNOWN:4},a=[i.UNKNOWN,i.REMOTE_CONFIG,i.CONTENT_METADATA,i.APP_LEVEL_CONFIG,i.APP_LEVEL_ITEM],o={};return{Origin:i,get:t,update:r}}return t}),function(e,t){if("function"==typeof anv.define&&anv.define.amd)anv.define("es6!configHelper",["exports","util"],t);else if("undefined"!=typeof exports)t(exports,require("util"));else{var n={exports:{}};t(n.exports,e.util),e.unknown=n.exports}}(this,function(e,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,r){var i=e&&e.plugins&&e.plugins[r];if(i)if("object"!=n(i.serverSide)&&i.serverSide){delete i.serverSide;var a=t.default.deepCopy(i);e.plugins[r]={},e.plugins[r].serverSide=a}else if(!i.clientSide&&!i.serverSide){var o=t.default.deepCopy(i);e.plugins[r]={},e.plugins[r].clientSide=o}}function i(e,t,n,r){t&&t.constructor==Object&&n&&n.constructor==Object&&(e in n||r&&r in n)&&(e in t||(t[e]=n[r||e]))}function a(e,t,n){!t.hasOwnProperty(e)&&n.hasOwnProperty(e)&&(t[e]=n[e])}function o(e,n,r,i){n.hasOwnProperty(e)?n[e]=i?t.default.merge(r[e],n[e]):t.default.merge(n[e],r[e]):n[e]=r[e]}function s(e,t){e.api&&(t.api=e.api),i("mcp",t,e,"mcp_id"),i("flashPath",t,e),i("emailServer",t,e),i("streamTokenizationCheck",t,e),i("nativeHlsOnSafari",t,e),i("nativeHlsOnSafariForVod",t,e),i("nativeHlsOnSafariForLive",t,e),i("preferredCdn",t,e),i("adLogURL",t,e,"ad_log_url"),i("profile",t,e,"client"),i("playlistBaseURL",t,e),i("offsitePlugins",t,e),i("playerSelectionType",t,e),i("disableAutoBitrateSwitchCap",t,e),i("autoBitrateSwitchCapScale",t,e),i("mseOptimizationMode",t,e),i("enableShakaGapJumping",t,e),i("resetFailoverQueueOnPrimary",t,e),i("castWithAbsoluteOffset",t,e),i("liveDelayInSegments",t,e),i("timeoutUntilUpid",t,e.settings),i("upidDuration",t,e.settings)}function l(e,t){var n={},r={server_url:"serverURL",network_id:"networkId",profile_id:"profileId",site_section_id:"siteSectionId",video_asset_id:"videoAssetId"},i={adPing:1,clientSideAdTracking:1};for(var a in t)if(t.hasOwnProperty(a)){if(a in i)continue;a in r?n[r[a]]=t[a]:n[a]=t[a]}for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}function u(e,r,i,s){i.plugins=i.plugins||{};var u=i.plugins,c=e.adobepass;if(c){var d=i.accessControl||{};d.authenticator="adobepass",d.authorizer="adobepass",d.serverUrl=d.serverUrl||c.server_url,d.requestor=d.requestor||c.requestor,d.resourceId=d.resourceId||c.resource_id,d.defaultPicker=d.defaultPicker||c.default_picker,d.geolocation=d.geolocation||c.geo_location,d.preview="preview"in d?d.preview:!(!c.temp_pass_short&&!c.temp_pass_long)&&{},"object"==n(d.preview)&&(d.preview.long=d.preview.long||c.temp_pass_long,d.preview.short=d.preview.short||c.temp_pass_short,d.preview.checkPeriod=d.preview.checkPeriod||c.check_period),i.accessControl=d}e.freewheel&&0!=u.freewheel&&(u.freewheel=u.freewheel||{},u.freewheel.serverSide=u.freewheel.serverSide||{},u.freewheel.serverSide=l(u.freewheel.serverSide,e.freewheel),"adPing"in e.freewheel&&(i.adPing="adPing"in i?!!i.adPing:!!e.freewheel.adPing,i.clientSideAdTracking=i.adPing),"clientSideAdTracking"in e.freewheel&&(i.clientSideAdTracking="clientSideAdTracking"in i?!!i.clientSideAdTracking:!!e.freewheel.clientSideAdTracking,i.adPing=i.clientSideAdTracking)),u&&u.freewheel&&u.freewheel.clientSide&&u.freewheel.serverSide&&"object"!=n(u.freewheel.clientSide)&&(u.freewheel.clientSide=t.default.deepCopy(u.freewheel.serverSide)),e.omniture&&(u.omniture="omniture"in u?u.omniture:{},u.omniture?(u.omniture.account=u.omniture.account||e.omniture.report_suite_id,u.omniture.trackingServer=u.omniture.trackingServer||e.omniture.tracking_server,r.client&&(i.profile=i.profile||r.client)):delete u.omniture),e.dfp&&(u.dfp=u.dfp||{},u.dfp.serverSide=u.dfp.serverSide||{},u.dfp.serverSide=t.default.merge(e.dfp,u.dfp.serverSide),"adPing"in e.dfp&&(i.adPing="adPing"in i?!!i.adPing:!!e.dfp.adPing,i.clientSideAdTracking=i.adPing),"clientSideAdTracking"in e.dfp&&(i.clientSideAdTracking="clientSideAdTracking"in i?!!i.clientSideAdTracking:!!e.dfp.clientSideAdTracking,i.adPing=i.clientSideAdTracking),"clientSide"in e.dfp&&(u.dfp.clientSide=u.dfp.clientSide||{},u.dfp.clientSide=t.default.merge(e.dfp.clientSide,u.dfp.clientSide))),e.realTimeAnalytics&&a("realTimeAnalytics",u,e),e.hasOwnProperty("healthAnalytics")&&a("healthAnalytics",u,e),e.cloudVideoAnalytics&&o("cloudVideoAnalytics",u,e,!0),e.chromecast&&a("chromecast",u,e),e.heartbeat&&(e.heartbeat.version=e.heartbeat.version||"1.5",e.heartbeat.publisherId=e.heartbeat.publisherId||e.heartbeat.publisher,o("heartbeat",u,e,!0)),e.comscore&&o("comscore",u,e,!0),e.moat&&(e.moat.serverSide&&u&&u.moat&&u.moat.serverSide&&(u.moat.serverSide=t.default.merge(e.moat.serverSide,u.moat.serverSide)),e.moat.clientSide&&u&&u.moat&&u.moat.clientSide&&(u.moat.clientSide=t.default.merge(e.moat.clientSide,u.moat.clientSide)),o("moat",u,e,!0)),e.nielsen&&o("nielsen",u,e,!0),e.ias&&o("ias",u,e,!0),e.pal&&o("pal",u,e,!0);for(var A in e)(u[A]&&u[A].hasOwnProperty("script")||e[A]&&e[A].hasOwnProperty("script"))&&o(A,u,e,!0);r.settings&&r.settings.initialBitrates&&s.deviceType&&s.deviceType in r.settings.initialBitrates&&(i.initialBitrate=i.initialBitrate||r.settings.initialBitrates[s.deviceType])}function c(e,i,a,o,l,c){var d=e?t.default.deepCopy(e):{};c("resolveConfigs",d,i),r(d,"dfp"),r(d,"freewheel"),a.update(null,d,a.Origin.APP_LEVEL_CONFIG),a.update(null,i,a.Origin.REMOTE_CONFIG),i&&(s(i,d),i.plugins&&u(i.plugins,i,d,l));var A=d&&d.plugins;A&&A.heartbeat&&("1.5"==A.heartbeat.version||o)&&(A.heartbeatBeta=t.default.deepCopy(A.heartbeat),delete d.plugins.heartbeat);var g=A&&A.dfp;return g&&g.clientSide&&g.serverSide&&"object"!=n(d.plugins.dfp.clientSide)&&(g.clientSide={},g.clientSide.adTagUrl=g.serverSide.prerollAdTag),A&&A.chromecast&&(d.chromecastEnabled=!0),d}Object.defineProperty(e,"__esModule",{value:!0}),e.resolveConfigs=c,t=function(e){return e&&e.__esModule?e:{default:e}}(t)}),function(e){function t(n,r){function i(e){if(i[e]!==f)return i[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=i("json-stringify")&&i("json-parse");else{var n,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var u=r.stringify,c="function"==typeof u&&E;if(c){(n=function(){return 1}).toJSON=n;try{c="0"===u(0)&&"0"===u(new a)&&'""'==u(new o)&&u(m)===f&&u(f)===f&&u()===f&&"1"===u(n)&&"[1]"==u([n])&&"[null]"==u([f])&&"null"==u(null)&&"[null,null,null]"==u([f,m,null])&&u({a:[n,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===u(null,n)&&"[\n 1,\n 2\n]"==u([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==u(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==u(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==u(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==u(new l(-1))}catch(e){c=!1}}t=c}if("json-parse"==e){var d=r.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){n=d(s);var A=5==n.a.length&&1===n.a[0];if(A){try{A=!d('"\t"')}catch(e){}if(A)try{A=1!==d("01")}catch(e){}if(A)try{A=1!==d("1.")}catch(e){}}}}catch(e){A=!1}t=A}}return i[e]=!!t}n||(n=e.Object()),r||(r=e.Object());var a=n.Number||e.Number,o=n.String||e.String,s=n.Object||e.Object,l=n.Date||e.Date,u=n.SyntaxError||e.SyntaxError,c=n.TypeError||e.TypeError,d=n.Math||e.Math,A=n.JSON||e.JSON;"object"==typeof A&&A&&(r.stringify=A.stringify,r.parse=A.parse);var g,p,f,h=s.prototype,m=h.toString,E=new l(-0xc782b5b800cec);try{E=-109252==E.getUTCFullYear()&&0===E.getUTCMonth()&&1===E.getUTCDate()&&10==E.getUTCHours()&&37==E.getUTCMinutes()&&6==E.getUTCSeconds()&&708==E.getUTCMilliseconds()}catch(e){}if(!i("json")){var v=i("bug-string-char-index");if(!E)var y=d.floor,I=[0,31,59,90,120,151,181,212,243,273,304,334],b=function(e,t){return I[t]+365*(e-1970)+y((e-1969+(t=+(t>1)))/4)-y((e-1901+t)/100)+y((e-1601+t)/400)};(g=h.hasOwnProperty)||(g=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=m?g=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,g=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,g.call(this,e)});var C={boolean:1,number:1,string:1,undefined:1},B=function(e,t){var n=typeof e[t];return"object"==n?!!e[t]:!C[n]};if(p=function(e,t){var n,r,i,a=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)g.call(r,i)&&a++;return n=r=null,a?p=2==a?function(e,t){var n,r={},i="[object Function]"==m.call(e);for(n in e)i&&"prototype"==n||g.call(r,n)||!(r[n]=1)||!g.call(e,n)||t(n)}:function(e,t){var n,r,i="[object Function]"==m.call(e);for(n in e)i&&"prototype"==n||!g.call(e,n)||(r="constructor"===n)||t(n);(r||g.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(e,t){var n,i,a="[object Function]"==m.call(e),o=!a&&"function"!=typeof e.constructor&&B(e,"hasOwnProperty")?e.hasOwnProperty:g;for(n in e)a&&"prototype"==n||!o.call(e,n)||t(n);for(i=r.length;n=r[--i];o.call(e,n)&&t(n));}),p(e,t)},!i("json-stringify")){var w={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},S=function(e,t){return("000000"+(t||0)).slice(-e)},T=function(e){for(var t='"',n=0,r=e.length,i=!v||r>10,a=i&&(v?e.split(""):e);n<r;n++){var o=e.charCodeAt(n);switch(o){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=w[o];break;default:if(o<32){t+="\\u00"+S(2,o.toString(16));break}t+=i?a[n]:e.charAt(n)}}return t+'"'},k=function(e,t,n,r,i,a,o){var s,l,u,d,A,h,E,v,I,C,B,w,Q,D,R,_;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(l=m.call(s))||g.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||g.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(b){for(A=y(s/864e5),u=y(A/365.2425)+1970-1;b(u+1,0)<=A;u++);for(d=y((A-b(u,0))/30.42);b(u,d+1)<=A;d++);A=1+A-b(u,d),h=(s%864e5+864e5)%864e5,E=y(h/36e5)%24,v=y(h/6e4)%60,I=y(h/1e3)%60,C=h%1e3}else u=s.getUTCFullYear(),d=s.getUTCMonth(),A=s.getUTCDate(),E=s.getUTCHours(),v=s.getUTCMinutes(),I=s.getUTCSeconds(),C=s.getUTCMilliseconds();s=(u<=0||u>=1e4?(u<0?"-":"+")+S(6,u<0?-u:u):S(4,u))+"-"+S(2,d+1)+"-"+S(2,A)+"T"+S(2,E)+":"+S(2,v)+":"+S(2,I)+"."+S(3,C)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(l=m.call(s)))return""+s;if("[object Number]"==l)return s>-1/0&&s<1/0?""+s:"null";if("[object String]"==l)return T(""+s);if("object"==typeof s){for(D=o.length;D--;)if(o[D]===s)throw c();if(o.push(s),B=[],R=a,a+=i,"[object Array]"==l){for(Q=0,D=s.length;Q<D;Q++)w=k(Q,s,n,r,i,a,o),B.push(w===f?"null":w);_=B.length?i?"[\n"+a+B.join(",\n"+a)+"\n"+R+"]":"["+B.join(",")+"]":"[]"}else p(r||s,function(e){var t=k(e,s,n,r,i,a,o);t!==f&&B.push(T(e)+":"+(i?" ":"")+t)}),_=B.length?i?"{\n"+a+B.join(",\n"+a)+"\n"+R+"}":"{"+B.join(",")+"}":"{}";return o.pop(),_}};r.stringify=function(e,t,n){var r,i,a,o;if("function"==typeof t||"object"==typeof t&&t)if("[object Function]"==(o=m.call(t)))i=t;else if("[object Array]"==o){a={};for(var s,l=0,u=t.length;l<u;s=t[l++],("[object String]"==(o=m.call(s))||"[object Number]"==o)&&(a[s]=1));}if(n)if("[object Number]"==(o=m.call(n))){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else"[object String]"==o&&(r=n.length<=10?n:n.slice(0,10));return k("",(s={},s[""]=e,s),i,a,r,"",[])}}if(!i("json-parse")){var Q,D,R=o.fromCharCode,_={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},M=function(){throw Q=D=null,u()},N=function(){for(var e,t,n,r,i,a=D,o=a.length;Q<o;)switch(i=a.charCodeAt(Q)){case 9:case 10:case 13:case 32:Q++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=v?a.charAt(Q):a[Q],Q++,e;case 34:for(e="@",Q++;Q<o;)if((i=a.charCodeAt(Q))<32)M();else if(92==i)switch(i=a.charCodeAt(++Q)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=_[i],Q++;break;case 117:for(t=++Q,n=Q+4;Q<n;Q++)(i=a.charCodeAt(Q))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||M();e+=R("0x"+a.slice(t,Q));break;default:M()}else{if(34==i)break;for(i=a.charCodeAt(Q),t=Q;i>=32&&92!=i&&34!=i;)i=a.charCodeAt(++Q);e+=a.slice(t,Q)}if(34==a.charCodeAt(Q))return Q++,e;M();default:if(t=Q,45==i&&(r=!0,i=a.charCodeAt(++Q)),i>=48&&i<=57){for(48==i&&(i=a.charCodeAt(Q+1))>=48&&i<=57&&M(),r=!1;Q<o&&(i=a.charCodeAt(Q))>=48&&i<=57;Q++);if(46==a.charCodeAt(Q)){for(n=++Q;n<o&&(i=a.charCodeAt(n))>=48&&i<=57;n++);n==Q&&M(),Q=n}if(101==(i=a.charCodeAt(Q))||69==i){for(i=a.charCodeAt(++Q),43!=i&&45!=i||Q++,n=Q;n<o&&(i=a.charCodeAt(n))>=48&&i<=57;n++);n==Q&&M(),Q=n}return+a.slice(t,Q)}if(r&&M(),"true"==a.slice(Q,Q+4))return Q+=4,!0;if("false"==a.slice(Q,Q+5))return Q+=5,!1;if("null"==a.slice(Q,Q+4))return Q+=4,null;M()}return"$"},P=function(e){var t,n;if("$"==e&&M(),"string"==typeof e){if("@"==(v?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=N());n||(n=!0))n&&(","==e?"]"==(e=N())&&M():M()),","==e&&M(),t.push(P(e));return t}if("{"==e){for(t={};"}"!=(e=N());n||(n=!0))n&&(","==e?"}"==(e=N())&&M():M()),","!=e&&"string"==typeof e&&"@"==(v?e.charAt(0):e[0])&&":"==N()||M(),t[e.slice(1)]=P(N());return t}M()}return e},O=function(e,t,n){var r=L(e,t,n);r===f?delete e[t]:e[t]=r},L=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if("[object Array]"==m.call(i))for(r=i.length;r--;)O(i,r,n);else p(i,function(e){O(i,e,n)});return n.call(e,t,i)};r.parse=function(e,t){var n,r;return Q=0,D=""+e,n=P(N()),"$"!=N()&&M(),Q=D=null,t&&"[object Function]"==m.call(t)?L((r={},r[""]=n,r),"",t):n}}}return r.runInContext=t,r}var n="object"==typeof global&&global;if(!n||n.global!==n&&n.window!==n||(e=n),"object"!=typeof exports||!exports||exports.nodeType||isLoader){var r=e.JSON,i=t(e,e.JSON3={noConflict:function(){return e.JSON=r,i}});e.JSON={parse:i.parse,stringify:i.stringify}}else t(e,exports)}(this),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],i=arguments.length>=2?arguments[1]:void 0,a=0;a<n;a++)if(a in t){var o=t[a];e.call(i,o,a,t)&&r.push(o)}return r}),Date.prototype.toISOString||function(){function e(e){return e<10?"0"+e:e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),function(){if(!window.console){window.console={};for(var e=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],t=0;t<e.length;t++)window.console[e[t]]||(window.console[e[t]]=function(){})}}(),Array.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0;n<this.length;n++)if(this[n]==e)return n;return-1}),function(){function e(e){this.message=e}var t="undefined"!=typeof exports?exports:self,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var r,i,a=String(t),o=0,s=n,l="";a.charAt(0|o)||(s="=",o%1);l+=s.charAt(63&r>>8-o%1*8)){if((i=a.charCodeAt(o+=.75))>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|i}return l}),t.atob||(t.atob=function(t){var r=String(t).replace(/=+$/,"");if(r.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,a,o=0,s=0,l="";a=r.charAt(s++);~a&&(i=o%4?64*i+a:a,o++%4)?l+=String.fromCharCode(255&i>>(-2*o&6)):0)a=n.indexOf(a);return l})}(),function(e){if(!("DataView"in e&&"ArrayBuffer"in e)){var t=function(){if("function"==typeof Object.getOwnPropertyNames&&!("prototype"in Object.getOwnPropertyNames)){var e={enumerable:!1};return function(t,n){Object.defineProperty(t,n,e)}}return function(){}}(),n=e.ArrayBuffer=function(){function e(e){for(var t=[],n=e.length%8,r=0;n--;)t[r]=o[e[r++]];for(n=e.length>>3;n--;)t.push(o[e[r]],o[e[r+1]],o[e[r+2]],o[e[r+3]],o[e[r+4]],o[e[r+5]],o[e[r+6]],o[e[r+7]]),r+=8;return t}function n(e){try{return a.apply(null,e)}catch(e){}for(var t="",n=e.length%8,r=0;n--;)t+=s[e[r++]];for(n=e.length>>3;n--;)t+=s[e[r]]+s[e[r+1]]+s[e[r+2]]+s[e[r+3]]+s[e[r+4]]+s[e[r+5]]+s[e[r+6]]+s[e[r+7]],r+=8;return t}function r(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t}function i(n){if(n instanceof i)this._data=n._data.slice();else if("string"==typeof n)this._data=e(n);else{if((n>>=0)<0)throw new RangeError("ArrayBuffer length must be non-negative");this._data=r(n)}this.byteLength=this._data.length,t(this,"_data")}var a=(Math.min,Math.max,String.fromCharCode),o={},s=[];return function(){for(var e=0;e<256;++e)o[s[e]=a(e)]=e,e>=128&&(o[a(63232+e)]=e)}(),anv.define(i,{toByteString:function(e){if(!(e instanceof i))throw new TypeError("ArrayBuffer.toByteString requires an ArrayBuffer");return n(e._data)}}),anv.define(i.prototype,{slice:function(e,t){var n=new i(0);return n._data=this._data.slice(e,t),n.byteLength=n._data.length,n}}),i}();e.DataView=function(){function e(e,t,n,r,i){var a,o,s=e.buffer._data,t=e.byteOffset+t,l=8*i-r-1,u=(1<<l)-1,c=u>>1,d=-7,g=n?i-1:0,p=n?-1:1,f=s[t+g];for(g+=p,a=f&(1<<-d)-1,f>>=-d,d+=l;d>0;a=256*a+s[t+g],g+=p,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=r;d>0;o=256*o+s[t+g],g+=p,d-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:f?-1/0:1/0;o+=A(2,r),a-=c}return(f?-1:1)*o*A(2,a-r)}function t(e,t,n,r,i,a){var o,s,l,u=e.buffer._data,t=e.byteOffset+t,c=8*a-i-1,p=(1<<c)-1,f=p>>1,h=23===i?A(2,-24)-A(2,-77):0,m=r?0:a-1,E=r?1:-1,v=n<0||0===n&&1/n<0?1:0;for(n<0&&(n=-n),n!==n||n===1/0?(s=n!==n?1:0,o=p):(o=d(n)/g|0,n*(l=A(2,-o))<1&&(o--,l*=2),n+=o+f>=1?h/l:h*A(2,1-f),n*l>=2&&(o++,l/=2),o+f>=p?(s=0,o=p):o+f>=1?(s=(n*l-1)*A(2,i),o+=f):(s=n*A(2,f-1)*A(2,i),o=0));i>=8;u[t+m]=255&s,m+=E,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;u[t+m]=255&o,m+=E,o/=256,c-=8);u[t+m-E]|=128*v}function r(e,t){return e.buffer._data[t+e.byteOffset]}function i(e,t,n){var r=e.buffer._data,i=t+e.byteOffset,a=n?p:h;return r[i+a[0]]|r[i+a[1]]<<8}function a(e,t,n){var r=e.buffer._data,i=t+e.byteOffset,a=n?f:m;return r[i+a[0]]|r[i+a[1]]<<8|r[i+a[2]]<<16|r[i+a[3]]<<24}function o(e,t,n){if(e<0)throw new RangeError("Tried to write to a negative index");if(e+t>n)throw new RangeError("Tried to write "+t+" bytes past the end of a buffer at index "+e+" of "+n)}function s(e,t,n){var r=e.buffer._data,i=t+e.byteOffset;o(i,1,r.length),r[i]=255&n}function l(e,t,n,r){var i=e.buffer._data,a=r?p:h,s=t+e.byteOffset;o(s,2,i.length),i[s+a[0]]=255&n,i[s+a[1]]=n>>>8&255}function u(e,t,n,r){var i=e.buffer._data,a=r?f:m,s=t+e.byteOffset;o(s,4,i.length),i[s+a[0]]=255&n,i[s+a[1]]=n>>>8&255,i[s+a[2]]=n>>>16&255,i[s+a[3]]=n>>>24&255}function c(e,t,r){if(!(e instanceof n))throw new TypeError("DataView must be initialized with an ArrayBuffer");if(this.byteOffset=void 0===t?e.byteOffset>>0:t>>0,this.byteOffset<0)throw new RangeError("DataView byteOffset must be non-negative");if(this.byteLength=void 0===r?e.byteLength-this.byteOffset>>0:r>>0,this.byteLength<0)throw new RangeError("DataView byteLength must be non-negative");if(this.byteOffset+this.byteLength>e.byteLength)throw new RangeError("DataView byteOffset and byteLength greater than ArrayBuffer byteLength");this.buffer=e}var d=Math.log,A=Math.pow,g=Math.LN2,p=[1,0],f=[3,2,1,0],h=[0,1],m=[0,1,2,3];return anv.define(c.prototype,{getFloat32:function(t,n){return e(this,t,n,23,4)},getFloat64:function(t,n){return e(this,t,n,52,8)},getInt8:function(e){var t=r(this,e);return 128&t?-256^t:t},getInt16:function(e,t){var n=i(this,e,t);return 32768&n?-65536^n:n},getInt32:function(e,t){var n=a(this,e,t);return 2147483648&n?-4294967296^n:n},getUint8:function(e){return r(this,e)},getUint16:function(e,t){return i(this,e,t)},getUint32:function(e,t){return a(this,e,t)},setFloat32:function(e,n,r){t(this,e,n,r,23,4)},setFloat64:function(e,n,r){t(this,e,n,r,52,8)},setInt8:function(e,t){s(this,e,t<0?256|t:t)},setInt16:function(e,t,n){l(this,e,t<0?65536|t:t,n)},setInt32:function(e,t,n){u(this,e,t<0?4294967296|t:t,n)},setUint8:function(e,t){s(this,e,t)},setUint16:function(e,t,n){l(this,e,t,n)},setUint32:function(e,t,n){u(this,e,t,n)}}),c}()}}((0,eval)("this")),anv.require.config({baseUrl:("undefined"!=typeof anvp&&anvp.baseURL?anvp.baseURL:"")+"scripts",paths:{swfobject:"../lib/swfobject",three:"../lib/three",AnvatoMse:"../lib/AnvatoMse",AnvatoDash:"../lib/AnvatoDash2",Shaka:"../lib/shaka-player.compiled-2.5.0-beta",Promise:"../lib/es6Promise",hlscore:"../lib/hlscore","hlscore-asm":"../lib/hlscore-asm","base64-hlscore-wasm":"../lib/base64-hlscore-wasm",polyfill:"../lib/polyfill",aesjs:"../lib/aesjs",clipboard:"../lib/clipboard",xss:"../node_modules/xss/dist/xss.min","file-saver":"../node_modules/file-saver/dist/FileSaver.min",es6:"../lib/es6","babel-polyfill":"../node_modules/@babel/polyfill/dist/polyfill.min",Babel:"../node_modules/@babel/standalone/babel.min","babel-preset-env":"../node_modules/@babel/preset-env-standalone/babel-preset-env.min"},shim:{xss:{exports:"filterXSS"}}}),function(){window.Promise||anv.require(["Promise"])}(),anv.require(["babel-polyfill","util","tveapi","DataAPI","AccessControl","Loader","ProxyDispatcher","LocalAgent","Logger","DerivedMetadataManager","es6!configHelper","es6!ProxyPal"],function(e,t,n,r,i,a,o,s,l,u,c,d){return function(){function e(e){re=t.merge(e,re),!re.accessKey&&"string"==typeof re.mcp&&ie[re.mcp.toLowerCase()]&&(re.accessKey=ie[re.mcp.toLowerCase()],F("no accessKey given, tkxified the flow by injecting accessKey:",re.accessKey))}function A(e){ee.accessKey=ee.accessKey||re.accessKey,re&&(re.configV4?V.getConfigV4(ee.accessKey,f.bind(null,e),Q):V.getConfig(ee.accessKey,f.bind(null,e),Q))}function g(t){var r;e(t),V=new n(re,x),r="asyncApi"in re&&!re.asyncApi,H=new s(r),"object"==typeof anvp&&anvp.rAgent&&(H.registerRemoteMessageHandler(anvp.rAgent.onMessage),anvp.rAgent.registerLocalMessageHandler(H.onMessage)),j=re&&re.pInstance||"default",A()}function p(e,t){return!(e in{dfp:1,freewheel:1})||!(!t[e]||(t[e].clientSide||t[e].serverSide)&&!t[e].clientSide)}function f(e,n){var r=U==ee.IFRAME;if(n?re=c.resolveConfigs(re,n,ae,r,t.getDeviceInfo,F):re&&re.plugins&&re.plugins.heartbeat&&("1.5"==re.plugins.heartbeat.version||U==ee.IFRAME)&&(re.plugins.heartbeatBeta=t.deepCopy(re.plugins.heartbeat),delete re.plugins.heartbeat),x.perf("onRemoteConfig"),U!=ee.IFRAME&&re.plugins)for(var i in re.plugins)re.plugins.hasOwnProperty(i)&&i in ne&&p(i,re.plugins)&&(re.plugins[i].libraryRequested=!0,I(i));h(e)}function h(e){ee.callback&&(ee.callback(),"function"==typeof e&&e())}function m(e,t){x.perf(e+" requested at Main.js"),F("just requested the script with source:",this.src,e),void 0!==z?z.onPluginLibraryRequested(e,t):oe.push({fn:m,args:[e,t]})}function E(e,t){x.perf(e+" Loaded at Main.js"),F("just loaded the script with source:",this.src,e),void 0!==z?z.onPluginLibraryLoaded(e,t):oe.push({fn:E,args:[e,t]})}function v(e,t){x.perf(e+" init at Main.js"),F("just init the plaugin:",e),void 0!==z?z.onPluginInit(e,t):oe.push({fn:v,args:[e,t]})}function y(e,t){void 0!==z?z.onPluginLibraryLoadError(e,ne):oe.push({fn:y,args:[e,t]})}function I(e){if(ne[e]&&ne[e].isProxy)return void("function"==typeof ne[e].proxyTask&&(t.getAutoPlaySupport().evaluationCompleted?ne[e].proxyTask():t.registerAutoPlayDetectionCallback(ne[e].proxyTask,[])));var n=document.getElementsByTagName("head")[0],r=document.createElement("script"),i=ne[e].getSource();n.appendChild(r),ne[e].appended=!0,r.onload=E.bind(r,e,i),r.onerror=y.bind(r,e,i),r.src=i,m(e,i)}function b(){V.registerPreVideoJsonTask(C)}function C(){re.plugins.pal.pInstance=re.pInstance,ne.pal.instance=ne.pal.instance||new ne.pal.object(H,re.pInstance,re.plugins.pal),H.setProxyPalInstance(ne.pal.instance),ne.pal.instance.init(),v("pal",ne.pal.instance);var e=t.getAutoPlaySupport(),n=t.merge(e,ne.pal.instance.sessionAutoplaySupport),r=k(re,n),i={};B(i,"adWillAutoPlay",r),B(i,"adWillPlayMuted",0==re.volume||!n.unmutedAutoPlay&&n.mutedAutoPlay),B(i,"descriptionUrl",re.parentPageURL),B(i,"omidVersion","1.0.0"),B(i,"playerType","Anvato Universal Player"),B(i,"playerVersion",W),B(i,"videoWidth",null),B(i,"videoHeight",null),ne.pal.instance.generateNonce(i,w,S)}function B(e,n,r){var i=re.plugins.pal||{};e[n]=i[n]||i[t.convertToUnderscore(n).toLowerCase()]||r}function w(e){re.plugins=re.plugins||{},re.plugins.dfp=re.plugins.dfp||{},re.plugins.dfp.serverSide=re.plugins.dfp.serverSide||{},re.plugins.dfp.serverSide.pal_nonce=e,T(),z&&(z.onPalNonceUpdated,!0)&&z.onPalNonceUpdated(e)}function S(e){console.warn("Failed to generate PAL nonce, resuming without"),T()}function T(){V.onPreVideoJsonTaskCompleted()}function k(e,n){return!(!(void 0!==e.autoplay?e.autoplay:e.live)||(t.getDeviceInfo.iphone||t.getDeviceInfo.ipad)&&(!t.isInlineVideoSupported()||t.getDeviceInfo.firefox)||(n.unmutedAutoPlay?(F("@checkAutoStart unmutedAutoplay supported"),0):n.mutedAutoPlay?(F("@checkAutoStart mutedAutoplay supported"),0):!1===n.unmutedAutoPlay||(n.mutedAutoPlay,0)))}function Q(e){F("Remote config error:",e)}function D(e){H&&H.send(j,"remoteAgent","event",e)}function R(e){H&&H.send(j,"remoteAgent","externalVideo",e)}function _(){function e(e){window.anvPlayer=e,accessControl.registerPlayer(e)}F("@initIframe"),F(window.location.href),window.anvLoader=new a(x),anvLoader.version=W,G="media"in re?new r(x):null,window.accessControl=new i(anvLoader.getLoggerInstance(),null,null,V,G),anvLoader.onLoad=e,F("@initIframe",x.stringify(re,null,3)),window.iFrameConfig=re,accessControl.init(),anvLoader.setDerivedMetadataManager(ae)}function M(){var e=document.getElementById(j||re.pInstance);return e?e.clientWidth:null}function N(){var e=document.getElementById(j||re.pInstance);return e?e.clientHeight:null}function P(e,n){var r=document.head,i=document.createElement("style");i.setAttribute("data-id",e),t.safeSetInnerHtml(i,n),r.appendChild(i)}function O(){function e(e){F("@bindApiMethods isFlash",!!e.parentNode,!!accessControl),z=e;var t=[],n=!!e.parentNode;if(H.registerPlayer(j,e),e.getWidth=M,e.getHeight=N,e.injectStyle=P,accessControl&&(accessControl.registerPlayer(e),e.authenticate=accessControl.authenticate,e.triggerUserInteraction=accessControl.onUserInteraction,window.onUserInteraction=accessControl.onUserInteraction,e.setSelectedProvider=accessControl.setSelectedProvider,e.getPreviewState=accessControl.getPreviewState,e.setToken=accessControl.setToken,e.setMVPD=accessControl.setMVPD),n)t=e.getAPIMethods(),t.push("getWidth"),t.push("getHeight"),t.push("authenticate"),t.push("triggerUserInteraction"),t.push("setSelectedProvider"),t.push("getPreviewState"),t.push("injectStyle"),t.push("setToken"),t.push("setMVPD"),re&&re.width&&re.width.indexOf("%")>-1&&(window.onresize=function(){var t=window,n=document,r=n.documentElement,i=n.getElementsByTagName("body")[0],a=t.innerWidth||r.clientWidth||i.clientWidth;t.innerHeight||r.clientHeight||i.clientHeight;e.setAttribute("width",a),e.setAttribute("height",a*(9/16))});else{e.setListener(D),e.setExternalMediaCallListener(R);for(var r in e)t.push(r)}for(H.send(j,"remoteAgent","register",t);oe.length;){var i=oe.shift();i.fn.apply(null,i.args)}}if(F("@initIframedJS"),re.version=W,re.built=Z,re.revision=X,re.excludedModules=$,re&&("mcp"in re||"accessKey"in re||"key"in re||"url"in re||"playlist"in re||"mpx"in re||"media"in re||"videoJson"in re)){F("Loading IFRAMED JS"),window.anvLoader=new a(x),anvLoader.version=W,anvLoader.setListener(D),anvLoader.setExternalMediaCallListener(R),anvLoader.setDerivedMetadataManager(ae),H.setLoader(window.anvLoader),proxyDispatcher.toggleBeacons(re.revealBeacons),proxyDispatcher.setListener(D),G="media"in re?new r(x):null,anvLoader.onLoad=e,window.accessControl=new i(anvLoader.getLoggerInstance(),H,j,V,G),accessControl.setListener(D),H.registerAccessControlInstance(accessControl);var t=[];for(var n in anvLoader)t.push(n);H.send(j,"remoteAgent","register",t),H.send(j,"remoteAgent","event",{name:"KEY_VALUE_SET",info:"Player has sent a key-value pair",time:x.getTime(),args:["mergedConfig",re]}),accessControl.init(re)}x.perf("initIframedJs completed")}var L,x,F,U,V,G,H,j,Y,K,q,J,z,W="3.3.2",Z="0",X="0769d90",$=[],ee={IFRAME:"IFRAME",IFRAMED_JS:"IFRAMED_JS",NON_IFRAME:"NON_IFRAME",accessKey:null,debug:!1,callback:null},te={pal:b},ne={dfp:{getSource:function(e){return"//imasdk.googleapis.com/js/sdkloader/ima3.js"}},ias:{getSource:function(e){return"https://static.adsafeprotected.com/vans-adapter-google-ima.js"}},pal:{isProxy:!0,proxyTask:te.pal,instance:null,object:d.default}},re={},ie={qa:"anvato_mcpqa_demo_web_stage_18b55e00db5a13faa8d03ae6e41f6f5bcb15b922",lin:"anvato_mcp_lin_web_prod_4c36fbfd4d8d8ecae6488656e21ac6d1ac972749",univison:"anvato_mcp_univision_web_prod_37fe34850c99a3b5cdb71dab10a417dd5cdecafa",uni:"anvato_mcp_univision_web_prod_37fe34850c99a3b5cdb71dab10a417dd5cdecafa",dev:"anvato_mcp_fs2go_web_prod_c7b90a93e171469cdca00a931211a2f556370d0a",sps:"anvato_mcp_sps_web_prod_54bdc90dd6ba21710e9f7074338365bba28da336",spsstg:"anvato_mcp_sps_web_prod_54bdc90dd6ba21710e9f7074338365bba28da336",anv:"anvato_mcp_anv_web_prod_791407490f4c1ef2a4bcb21103e0cb1bcb3352b3",gray:"anvato_mcp_gray_web_prod_4c10f067c393ed8fc453d3930f8ab2b159973900",hearst:"anvato_mcp_hearst_web_prod_5356c3de0fc7c90a3727b4863ca7fec3a4524a99",cbs:"anvato_mcp_cbs_web_prod_02f26581ff80e5bda7aad28226a8d369037f2cbe",telemundo:"anvato_mcp_telemundo_web_prod_c5278d51ad46fda4b6ca3d0ea44a7846a054f582"},ae=new u,oe=[];switch(window.proxyDispatcher=new o,window.Loader=a,U=function(){return t.getParameterByName("key")||t.getParameterByName("mcp")||t.getParameterByName("url")||t.getParameterByName("media")?ee.IFRAME:window.top!==window.self?ee.IFRAMED_JS:ee.NON_IFRAME}()){case ee.IFRAME:re=function(){var e,n=/\?(.*)/,r=n.exec(window.location.search),i={},a={m:"mcp",v:"video",p:"player",pl:"playlist",u:"url",anvack:"accessKey"};if(null==r)return i;e=r[1].split("&");for(var o=0,s=e.length;o<s;o++){var l,u,c,d;if(c=/(\w*)\=(.+$)/g.exec(e[o]),3==c.length)if(l=c[1],u=decodeURIComponent(c[2]),"key"==l){d=JSON.parse(t.base64Decode(u));for(var A in d)d.hasOwnProperty(A)&&(l=A in a?a[A]:A,i[l]=d[A])}else i[l]=u}return i.hashPrefix="18u1u7c2iowl",i.player=i.player||"default",i}(),re.excludedModules=$,window.iFrameConfig=re,ee.debug=t.getParameterByName("debug"),ee.accessKey=re.accessKey,ee.callback=_;break;case ee.IFRAMED_JS:H=new s,Y=document.getElementsByTagName("script");for(var se=0,le=Y.length;se<le;se++)if(Y[se].getAttribute("data-anvp")){K=Y[se];break}J=K.getAttribute("data-anvp"),q=J?JSON.parse(J.replace(/[\']/g,'"')):null,j=q&&q.pInstance||"default",re=q,q&&q.pInstance&&"undefined"!=typeof anvp&&anvp[q.pInstance]&&anvp[q.pInstance].config&&(re=merge(q,anvp[q.pInstance].config)),ee.debug=re.debug,ee.accessKey=re.accessKey,ee.callback=O;break;case ee.NON_IFRAME:ee.callback=O}x=new l(ee.debug,!0,100,re.absTime,{dispatchEvent:D},re.logChunks),t.isSecureSocket()&&re&&(re.secureSocket=!0);try{re.host=t.getUrlParts(re.parentPageURL).host,
re.referrer=t.getUrlParts(re.referrerURL).referrer}catch(e){console.error("error while detecting parent host/referrer",e,re.parentPageURL,re.referrerURL)}proxyDispatcher.setLogger(x),F=x.getLogFn("Main"),F("Utilized embed option:",U),F("thisScriptTag",K),F("@anvplayer data-anvp:",x.stringify(q)),F("@anvplayer mergedConfig:",x.stringify(re)),U!=ee.NON_IFRAME&&!ee.accessKey&&re.mcp&&ie[re.mcp.toLowerCase()]&&(re.accessKey=ie[re.mcp.toLowerCase()],ee.accessKey=re.accessKey,U==ee.IFRAME&&(window.iFrameConfig.accessKey=re.accessKey),F("no accessKey given, tkxified the flow by injecting accessKey:",re.accessKey)),U!=ee.NON_IFRAME&&(V=new n(re,x),A()),L=t.getCookie("DEVICE_ID"),L||(L=t.createUUID(),t.setCookie("DEVICE_ID",L,new Date(Date.now()+15552e6))),re.deviceId=L,window.prepareNonIframe=g}()}),anv.define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),anv.define("text!template",[],function(){
return'<template id="anv-template">\n  <style>\n    :host {\n      display: inline-block;\n    }\n\n    .anv-video-container {\n      background: #000;\n    }\n\n    /*When we allow implementation of individual components, we will have to change the size in order not to mask others*/\n    .anv-custom-controller-container {\n      width: 100%;\n      height: 100%;\n      z-index: 2147483648;\n      position: absolute;\n      top: 0;\n    }\n\n    /* Uses a sans-serif font everywhere in the player */\n    .anv-video-container, .anv-control {\n      font-family: sans-serif;\n    }\n\n    .anv-video-content {\n      position: absolute;\n    }\n\n    .anv-audio-poster {\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n\n    }\n\n    .anv-canvas-content {\n      width: 100%;\n      height: 100%;\n    }\n\n    /* The buttons/controls in the control bar */\n    /*Issue 14552 - make button relative (to bring them in front of the background)*/\n    .anv-control-btn {\n      position: relative;\n      height: 28px;\n      margin: 0 3px;\n      cursor: pointer;\n      pointer-events: all;\n    }\n\n    /* The control bar play/pause button. This is used to play and pause the video. */\n    .anv-play-pause-btn {\n      clear: left;\n      float: left;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      width: 32px;\n      pointer-events: all;\n    }\n\n    .anv-restart-live-btn {\n      float: left;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      width: 32px;\n      pointer-events: all;\n    }\n\n    /*\n    The "on" attribute:\n        In general with the control bar buttons, if the button has ON and OFF states, then they are given an attribute\n        called "on" with values of "true" or "false" to represent their ON/OFF state.\n    Sprite-based images:\n        We use a single sprite sheet to provide the images used for the various player buttons, and use the\n        background-position property to then select individual sprites from the overall image.\n    */\n\n    .anv-stereo-btn {\n      float: right;\n      width: 32px;\n      height: 32px;\n      /*background-image: url("{{BASE_URL}}img/vr_sprite.png");*/\n      background-position: -5px -47px;\n    }\n\n    .anv-stereo-btn[on=true] {\n      /*background-image: url("{{BASE_URL}}img/vr.png");*/\n      width: 32px;\n      height: 32px;\n      background-position: -5px -47px;\n    }\n\n    .anv-stereo-btn:hover {\n      /*background-image: url("{{BASE_URL}}img/vr_red.png");*/\n      width: 32px;\n      height: 32px;\n      background-position: -5px -47px;\n    }\n\n    .anv-stereo-btn[on=true]:hover {\n      /*background-image: url("{{BASE_URL}}img/vr_red.png"); */\n      width: 32px;\n      height: 32px;\n      background-position: -47px -47px;\n    }\n\n    .anv-stereo-btn[on=false] {\n      width: 32px;\n      height: 32px;\n      background-position: -5px -5px;\n      /*background-image: url("{{BASE_URL}}img/panorama.png");*/\n    }\n\n    .anv-stereo-btn[on=false]:hover {\n      width: 32px;\n      height: 32px;\n      background-position: -47px -5px;\n      /*background-image: url("{{BASE_URL}}img/panorama_red.png"); */\n    }\n\n    .anv-play-pause-btn[on=true] {\n      background-position: 0px 0px;\n    }\n\n    .anv-no-touch .anv-play-pause-btn[on=true]:hover {\n      background-position: 0px -33px;\n    }\n\n    .anv-play-pause-btn[on=false] {\n      background-position: -33px -0px;\n    }\n\n    .anv-no-touch .anv-play-pause-btn[on=false]:hover {\n      background-position: -33px -33px;\n    }\n\n    /* The control bar current playback time and overall video duration display. */\n    .anv-duration-btn {\n      /*width:20%;*/\n      float: right;\n      margin-right: 10px;\n      font-size: .9em;\n      text-align: center;\n      line-height: 32px;\n    }\n\n    .anv-control-duration-label {\n\n    }\n\n    .anv-play-next-btn {\n      float: left;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      width: 32px;\n    }\n\n    .anv-restart-live-btn {\n      background-position: -502px 0;\n    }\n\n    .anv-no-touch .anv-restart-live-btn:hover {\n      background-position: -502px -33px;\n    }\n\n    .anv-play-next-btn {\n      background-position: -449px 0;\n    }\n\n    .anv-no-touch .anv-play-next-btn:hover {\n      background-position: -449px -33px;\n    }\n\n    /* The control bar volume speaker icon button. This can be clicked to mute and unmute the volume. This is additionally\n       updated with the one of the following classes in order to roughly indicate the volume level. */\n    .anv-volume-icon-btn {\n      float: left;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      width: 32px;\n      margin-left: 10px;\n    }\n\n    /* This class is given to the volume icon button when the volume level is at 0 */\n    .anv-volume-icon-off-btn, .anv-volume-icon-btn[on=false] {\n      background-position: -164px 0px;\n    }\n\n    .anv-volume-icon-off-btn:hover, .anv-volume-icon-btn[on=false]:hover {\n      background-position: -164px -33px;\n    }\n\n    /* This class is given to the volume icon button when the volume level is between 0 and 1/3 */\n    .anv-volume-icon-low-btn[on=true] {\n      background-position: -132px 0px;\n    }\n\n    .anv-no-touch .anv-volume-icon-low-btn[on=true]:hover {\n      background-position: -132px -33px;\n    }\n\n    /* This class is given to the volume icon button when the volume level is between 1/3 and 2/3 */\n    .anv-volume-icon-med-btn[on=true] {\n      background-position: -99px 0px;\n    }\n\n    .anv-no-touch .anv-volume-icon-med-btn[on=true]:hover {\n      background-position: -99px -33px;\n    }\n\n    /* This class is given to the volume icon button when the volume level is between 2/3 and 1 */\n    .anv-volume-icon-high-btn[on=true] {\n      background-position: -66px 0px;\n    }\n\n    .anv-no-touch .anv-volume-icon-high-btn[on=true]:hover {\n      background-position: -66px -33px;\n    }\n\n    /* The control bar volume slider control. We use the transition property to show and hide the slider in response to the\n       hover event. */\n    .anv-volume-slider-btn {\n      position: relative;\n      float: left;\n      overflow: hidden;\n      white-space: nowrap;\n      width: 0px;\n      transition: width 0.15s;\n      /* Safari */\n      -webkit-transition: width 0.15s;\n    }\n\n    /*.anv-volume-icon-btn:hover + .anv-volume-slider-btn,*/\n    /*.anv-volume-icon-btn:active + .anv-volume-slider-btn,*/\n    /*.anv-volume-slider-btn:hover,*/\n    /*.anv-volume-slider-btn:active {*/\n    /*width: 75px;*/\n    /*transition: width 0.15s ease 0s;*/\n    /*!* Safari *!*/\n    /*-webkit-transition: width 0.15s ease 0s;*/\n    /*}*/\n    /* A sub-component of the volume slider bar, if using the tapered_bars style */\n    .anv-volume-slider-tapered-bar {\n      display: inline-block;\n      background-color: #666;\n    }\n\n    /* A sub-component of the volume slider bar, if using the flat_line style */\n    .anv-volume-slider-flat-bar {\n      display: inline-block;\n      height: 8px;\n      margin: 10px 0px;\n      background-color: #666;\n    }\n\n    /* A sub-component of the volume slider bar, if using the flat_line style */\n    .anv-volume-slider-scrubber {\n      position: absolute;\n      width: 6px;\n      height: 14px;\n      top: 7px;\n      background-color: #fff;\n      border: 0px solid #444;\n      border-radius: 3px;\n    }\n\n    /* A class given to the volume slider\'s left-side sub-component(s) that represents the volume level */\n    .anv-volume-active {\n      background-color: #ee3f25;\n    }\n\n    /* The control bar playlist button. This button is used to show and hide the video playlist. */\n    .anv-playlist-btn {\n      float: right;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      background-position: -198px 0;\n      width: 32px;\n    }\n\n    .anv-playlist-btn:hover {\n      background-position: -198px -33px;\n    }\n\n    .anv-playlist-btn[on=true] {\n      background-position: -198px -33px;\n    }\n\n    .anv-playlist-btn[on=false] {\n      background-position: -198px 0px;\n    }\n\n    /* The control bar caption button. This button is used to show a small popup containing buttons for the available\n       caption languages. */\n    .anv-caption-btn {\n      float: right;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      width: 32px;\n    }\n\n    .anv-caption-btn[on=true] {\n      background-position: -225px -33px;\n    }\n\n    .anv-caption-btn[on=true]:hover {\n      background-position: -225px 0px;\n    }\n\n    .anv-caption-btn[on=false] {\n      background-position: -225px 0px;\n    }\n\n    .anv-caption-btn[on=false]:hover {\n      background-position: -225px -33px;\n    }\n\n    /* The popup that is associated with the caption button. This shows a list of buttons for the available caption\n       languages. We use the transition property to show and hide the caption popup. This is the container that holds both\n       the buttons and the tail for popup. */\n    .anv-caption-popup {\n      bottom: 48px;\n      left: -16px;\n      width: auto;\n      height: auto;\n      z-index: 2147483648;\n      visibility: hidden;\n      transition: visibility 0s, opacity 0.8s;\n      /*SAFARI*/\n      -webkit-transition: visibility 0s, opacity 0.8s;\n    }\n\n    .anv-caption-popup-menu {\n      width: auto;\n      height: auto;\n      padding: 4px;\n      background: rgba(5, 4, 5, 0.69);\n      border: 0px solid #555;\n      border-radius: 5px;\n      z-index: 2147483648;\n    }\n\n    .anv-caption-popup-tail {\n      position: relative;\n      left: 30px;\n      width: 0;\n      height: 0;\n      border-left: 5px solid transparent;\n      border-right: 5px solid transparent;\n      border-top: 10px solid rgba(5, 4, 5, 0.69);\n      z-index: 2147483648;\n    }\n\n    .anv-caption-btn:hover > .anv-caption-popup, .anv-caption-popup:hover {\n      opacity: 1;\n      visibility: visible;\n      transition: visibility 0s linear 0s, opacity 0.2s ease 0s;\n      /*SAFARI*/\n      -webkit-transition: visibility 0s linear 0s, opacity 0.2s ease 0s;\n    }\n\n    /* One of the caption language buttons in the caption popup. These buttons are given on=true when they represent the\n       caption language that is currently in use; in this case, the button is disabled and cannot be clicked. */\n    .anv-caption-popup-entry {\n      width: 60px;\n      height: 20px;\n      margin-bottom: 2px;\n      border: 0px solid #555;\n      border-radius: 2px;\n      font-size: 16px;\n      text-align: center;\n      vertical-align: middle;\n    }\n\n    .anv-caption-popup-entry[on=false]:hover {\n      /*background-color: #ccc;*/\n      color: #ee3f25;\n    }\n\n    .anv-caption-popup-entry[on=false] {\n      cursor: pointer;\n      color: #808080;\n      /*background-color: #aaa;*/\n    }\n\n    .anv-caption-popup-entry[on=true] {\n      cursor: default;\n      color: white;\n      /*background-color: #444;*/\n    }\n\n    /* The control bar caption search button. This button is used to show and hide the caption search screen. */\n    .anv-search-btn {\n      float: right;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      background-position: -258px 0;\n      width: 28px;\n    }\n\n    .anv-no-touch .anv-search-btn:hover {\n      background-position: -258px -33px;\n    }\n\n    /* The control bar quality button. This button is used to show a small popup containing buttons for adjusting video\'s\n       bitrate. */\n    .anv-quality-btn {\n      float: right;\n      /*background-image: url("{{BASE_URL}}img/sprite32.png");*/\n      /*background-position: -288px -1px;*/\n      /*background-position: -294px 0px;*/\n      width: 32px;\n    }\n\n    .anv-quality-btn[switch-in-progress=true] .anv-quality-btn-icon {\n      -webkit-animation: spin 6s linear infinite;\n      -moz-animation: spin 6s linear infinite;\n      animation: spin 6s linear infinite;\n    }\n\n    .anv-quality-btn-icon {\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      background-position: -288px 0;\n      /*background-position: -294px 0px;*/\n      /*width: 32px;*/\n    }\n\n    .anv-no-touch .anv-quality-btn:hover {\n      background-position: -294px -32px;\n    }\n\n    .anv-quality-popup {\n      bottom: 48px;\n      left: -16px;\n      width: auto;\n      height: auto;\n      z-index: 2147483648;\n      visibility: hidden;\n      /*transition: visibility 0s linear 0.8s, opacity 0.8s ease 0s;*/\n      /*SAFARI*/\n      /*-webkit-transition: visibility 0s linear 0.8s, opacity 0.8s ease 0s;*/\n    }\n\n    .anv-quality-popup-menu {\n      width: auto;\n      height: auto;\n      padding: 4px;\n      background: rgba(5, 4, 5, 0.69);\n      border: 0px solid #555;\n      border-radius: 5px;\n      z-index: 2147483648;\n    }\n\n    .anv-quality-popup-tail {\n      position: relative;\n      left: 30px;\n      width: 0;\n      height: 0;\n      border-left: 5px solid transparent;\n      border-right: 5px solid transparent;\n      border-top: 10px solid rgba(5, 4, 5, 0.69);\n      z-index: 2147483648;\n    }\n\n    .anv-quality-btn:hover > .anv-quality-popup, .anv-quality-popup:hover {\n      opacity: 1;\n      visibility: visible;\n      transition: visibility 0s linear 0s, opacity 0.2s ease 0s;\n      /*SAFARI*/\n      -webkit-transition: visibility 0s linear 0s, opacity 0.2s ease 0s;\n    }\n\n    /* One of the caption language buttons in the caption popup. These buttons are given on=true when they represent the\n       caption language that is currently in use; in this case, the button is disabled and cannot be clicked. */\n    .anv-quality-popup-entry {\n      width: auto;\n      height: 20px;\n      margin-bottom: 2px;\n      border: 0px solid #555;\n      border-radius: 2px;\n      font-size: 12px;\n      text-align: center;\n      vertical-align: middle;\n      white-space: nowrap;\n    }\n\n    .anv-quality-popup-entry[on=false]:hover {\n      /*background-color: #ccc;*/\n      color: #ee3f25;\n    }\n\n    .anv-quality-popup-entry[on=false] {\n      cursor: pointer;\n      color: #808080;\n      /*background-color: #aaa;*/\n    }\n\n    .anv-quality-popup-entry[on=true] {\n      cursor: default;\n      color: white;\n      /*background-color: #444;*/\n    }\n\n    @-webkit-keyframes blink {\n      from {\n        opacity: 1.0;\n      }\n      to {\n        opacity: 0.0;\n      }\n    }\n\n    .anv-quality-popup-entry[on=pending] {\n      -webkit-animation-name: blink;\n      -webkit-animation-iteration-count: infinite;\n      -webkit-animation-timing-function: cubic-bezier(1.0, 0, 0, 1.0);\n      -webkit-animation-duration: 1s;\n    }\n\n    .anv-download-btn {\n      float: right;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      background-position: -477px 0;\n      width: 32px;\n    }\n\n    .anv-download-btn:hover {\n      background-position: -477px -33px;\n    }\n\n    /* The control bar fullscreen button. This button is used for toggling fullscreen mode. */\n    .anv-fullscreen-btn {\n      float: right;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      width: 32px;\n    }\n\n    .anv-fullscreen-btn[on=false] {\n      background-position: -327px 0px;\n    }\n\n    .anv-no-touch .anv-fullscreen-btn[on=false]:hover {\n      background-position: -327px -33px;\n    }\n\n    .anv-fullscreen-btn[on=true] {\n      background-position: -354px 0px;\n    }\n\n    .anv-no-touch .anv-fullscreen-btn[on=true]:hover {\n      background-position: -354px -33px;\n    }\n\n    /* The control bar picture-in-picture button */\n    .anv-picture-in-picture-btn {\n      float: right;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      width: 32px;\n      background-position: -505px -90px\n    }\n\n    .anv-no-touch .anv-picture-in-picture-btn:hover {\n      background-position: -505px -126px;\n    }\n\n    /* The control bar container */\n    .anv-control {\n      position: absolute;\n      width: 100%;\n      height: 53px;\n      bottom: 0;\n      left: 0;\n      background: rgba(5, 4, 5, 0.69);\n      background: none;\n      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#00050405\', endColorstr=\'#D1050405\', GradientType=0);\n      zoom: 1;\n      background: -moz-linear-gradient(top, rgba(5, 4, 5, 0), rgba(5, 4, 5, 0.82));\n      background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(5, 4, 5, 0)), to(rgba(5, 4, 5, 0.819608)));\n      color: #fff;\n      z-index: 2147483648;\n    }\n\n    /* The video preview container */\n    .anv-preview {\n      position: relative;\n      text-align: center;\n      color: #fff;\n    }\n\n    /* The closed caption text container */\n    .anv-track {\n      position: absolute;\n      bottom: 15%;\n      margin: 0 5%;\n      width: 90%;\n      z-index: 2147483648;\n    }\n\n    .anv-next-video-info {\n      top: 40px;\n      position: relative;\n      transform: translate(0, -50%);\n      padding-left: 10px;\n      font-size: 20px;\n      height: 30px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      max-width: 258px;\n    }\n\n    .anv-next-video-image {\n      height: 74px;\n      float: left;\n    }\n\n    .anv-next-video-title {\n      text-align: center;\n      font-size: 20px;\n      height: 20px;\n      padding-bottom: 5px;\n      border-bottom: 1px solid #333;\n      margin-bottom: 5px;\n      position: relative;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      overflow: hidden;\n    }\n\n    .anv-next-video-container {\n      display: block;\n      z-index: 2147483648;\n      position: absolute;\n      right: 0;\n      bottom: 20%;\n      width: 400px;\n      height: 105px;\n      background-color: rgba(0,0,0,0.8);\n      border: 1px solid #666;\n      color: #FFF;\n      padding: 5px;\n      max-width: 500px;\n    }\n\n\n\n    .anv-caption-result-holder {\n      text-align: left;\n      display: inline-block;\n      padding: 8px;\n\n    }\n\n    .anv-caption-result {\n      display: inline-block;\n      /*padding: 0 5px;*/\n    }\n\n    /* The bar displaying playback progress. This is the actual left-side sub-component of the seek bar that grows as\n       playback proceeds. */\n    .anv-duration-bar {\n      background: #ee3f25;\n      float: left;\n      /*-webkit-transition: width .3s; *//* Safari */\n      /*transition: width .3s;*/\n    }\n\n    /* The overall seek bar container. This contains the duration bar and the scroll button. */\n    .anv-time-line {\n      position: relative;\n      width: 100%;\n      height: 6px;\n      padding-bottom: 5px;\n      padding-top: 5px;\n      background: #000;\n      background-clip: content-box;\n      pointer-events: all;\n    }\n\n    .anv-time-line:hover {\n      height: 9px;\n      padding-top: 2px;\n    }\n\n    .anv-time-line:hover .anv-scroll-button-circle {\n      width: 20px;\n      height: 20px;\n      /*top: 7px;*/\n      background-color: #fff;\n      border-radius: 10px;\n      -moz-border-radius: 10px;\n      -webkit-border-radius: 10px;\n      /*box-shadow: .8px 1.4px #000;*/\n    }\n\n    .anv-time-line:hover .anv-ad-break {\n      top: 2px;\n      height: 9px;\n    }\n\n    .anv-time-line:hover .anv-recall-frame {\n      bottom: 3px;\n    }\n\n    .anv-time-line-remaining {\n      background: #606060;\n    }\n\n    .anv-ad-break {\n      border-left: 3px solid #fff;\n      top: 5px;\n      height: 6px;\n    }\n\n    /* The thumb/handle of the seek bar */\n    .anv-scroll-button {\n      position: absolute;\n      padding: 10px 10px;\n      margin-left: -15px;\n      margin-top: -17px;\n      /*-webkit-transition: left .3s; *//* Safari */\n      /*transition: left .3s;*/\n      /*border-radius: 50%;*/\n      /*height: 10px;*/\n      /*width: 10px;*/\n      /*background: rgba(235, 204, 52, 0.69);*/\n      /*float: left;*/\n      width: 20px;\n      height: 20px;\n      /*top: 7px;*/\n      border-radius: 20px;\n      -moz-border-radius: 20px;\n      -webkit-border-radius: 20px;\n    }\n\n    .anv-scroll-button-circle {\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      top: 0;\n      margin: auto;\n      width: 16px;\n      height: 16px;\n      /*top: 7px;*/\n      background-color: #fff;\n      border-radius: 8px;\n      -moz-border-radius: 8px;\n      -webkit-border-radius: 8px;\n      box-shadow: .8px 1.4px #000;\n    }\n\n    .anv-scroll-button-circle:hover {\n      width: 20px;\n      height: 20px;\n      /*top: 7px;*/\n      background-color: #fff;\n      border-radius: 10px;\n      -moz-border-radius: 10px;\n      -webkit-border-radius: 10px;\n      /*box-shadow: .8px 1.4px #000;*/\n    }\n\n    /* The share screen */\n    .anv-share {\n      position: absolute;\n      top: 0px;\n      left: 0px;\n      width: 100%;\n      height: 100%;\n      background: rgba(34, 34, 34, 0.9);\n      color: #fff;\n      z-index: 2147483648;\n    }\n\n    /* The actual central area of the share screen that contains the content */\n    .anv-share-panel {\n      position: absolute;\n      top: 0px;\n      right: 0px;\n      bottom: 0px;\n      left: 0px;\n      margin: auto;\n      width: 84%;\n      height: 90%;\n      max-width: 740px;\n      max-height: 360px;\n      font-size: 20px;\n      overflow: hidden;\n    }\n\n    /* This class is given to all buttons within the share screen */\n    .anv-share-btn {\n      cursor: pointer;\n      pointer-events: all;\n    }\n\n    /* This class is given to all text-based buttons within the share screen */\n    .anv-share-text-btn {\n      color: #fff;\n      background-color: #666;\n      /*font-weight: bold;*/\n      text-align: center;\n      font-size: 0.6em;\n      height: 26px;\n      max-height: 28px;\n      line-height: 26px;\n      overflow: hidden;\n    }\n\n    .anv-no-touch .anv-share-text-btn:hover {\n      color: #ee3f25;\n    }\n\n    .anv-share-text-btn, .anv-share-input {\n      border: 0px solid #444;\n      border-radius: 6px;\n      margin-bottom: 4%;\n    }\n\n    .anv-share-to-input, .anv-share-from-input, .anv-share-msg-input {\n      padding-left: 2%;\n      padding-right: 2%;\n      width: 96%;\n    }\n\n    /* The share panel header */\n    .anv-share-title-label {\n      height: 38px;\n      line-height: 2em;\n    }\n\n    /* The text that describes the user\'s email status within the share screen */\n    .anv-share-send-status-label {\n      height: 32px;\n      color: #ffad1d;\n    }\n\n    .anv-share-content-panel {\n      min-width: 278px;\n    }\n\n    /* The left section of the share panel */\n    .anv-share-left-panel {\n      min-width: 120px;\n      width: 47%;\n    }\n\n    /* The right section of the share panel */\n    .anv-share-right-panel {\n      margin-left: 5%;\n      min-width: 150px;\n      width: 48%;\n    }\n\n    /* The prompt for the email section in the share screen */\n    .anv-share-email-label {\n      margin-bottom: 4%;\n      font-size: 0.8em;\n    }\n\n    /* The to and from textboxes in the share screen */\n    .anv-share-to-input, .anv-share-from-input {\n      height: 26px;\n    }\n\n    /* The message textarea in the share screen */\n    .anv-share-msg-input {\n      height: 50px;\n    }\n\n    /* The send button in the share screen */\n    .anv-share-send-btn {\n      width: 80px;\n      margin-right: 10px;\n    }\n\n    .anv-share-social-links-panel {\n      text-align: justify;\n      -ms-text-justify: distribute-all-lines;\n      text-justify: distribute-all-lines;\n      margin-top: 7%;\n      margin-bottom: 7%;\n    }\n\n    /* This class is given to the social media icon buttons within the share screen */\n    .anv-share-social-btn {\n      display: inline-block;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n    }\n\n    /* These are buttons used for closing the share and search screens */\n    .anv-share-close-btn, .anv-search-close-btn, .anv-notification-close-btn {\n      position: absolute;\n      top: 1%;\n      right: 1%;\n      width: 32px;\n      cursor: pointer;\n      background-position: -415px -86px;\n    }\n\n    .anv-notification-close-btn {\n      height: 32px;\n    }\n\n    .anv-notification-close-btn:hover {\n      height: 32px;\n      background-position: -415px -124px;\n    }\n\n    .anv-no-touch .anv-share-close-btn:hover, .anv-no-touch .anv-search-close-btn:hover {\n      background-position: -415px -124px;\n    }\n\n    .anv-playlist-close {\n      background-position: -415px -92px;\n    }\n\n    .anv-no-touch .anv-playlist-close:hover {\n      background-position: -415px -129px;\n    }\n\n    /* The share screen Facebook icon button. This button is used to open Facebook for sharing this video in a new tab. */\n    .anv-facebook-btn {\n      background-position: -319px -89px;\n      width: 32px;\n      height: 32px;\n    }\n\n    .anv-no-touch .anv-facebook-btn:hover {\n      background-position: -319px -124px;\n    }\n\n    /* The share screen Google+ icon button. This button is used to open Google+ for sharing this video in a new tab. */\n    .anv-google-plus-btn {\n      background-position: -253px -89px;\n      width: 34px;\n      height: 32px;\n    }\n\n    .anv-no-touch .anv-google-plus-btn:hover {\n      background-position: -253px -124px;\n    }\n\n    /* The share screen Pinterest icon button. This button is used to open Pinterest for sharing this video in a new tab. */\n    .anv-pinterest-btn {\n      background-position: -352px -89px;\n      width: 32px;\n      height: 32px;\n    }\n\n    .anv-no-touch .anv-pinterest-btn:hover {\n      background-position: -352px -124px;\n    }\n\n    /* The share screen Twitter icon button. This button is used to open Twitter for sharing this video in a new tab. */\n    .anv-twitter-btn {\n      background-position: -287px -90px;\n      width: 32px;\n      height: 32px;\n\n    }\n\n    .anv-no-touch .anv-twitter-btn:hover {\n      background-position: -287px -124px;\n    }\n\n    /* The link and embed textboxes in the share screen */\n    .anv-share-link-input, .anv-share-embed-input {\n      padding-left: 2%;\n      padding-right: 2%;\n      height: 24px;\n    }\n\n    /* The link and embed buttons in the share screen */\n    .anv-share-link-btn, .anv-share-embed-btn {\n      min-width: 100px;\n      margin: 0 5px;\n\n    }\n\n    .anv-share-start-time-panel {\n      font-size: .9em;\n      margin-top: 5px;\n      height: 26px;\n      line-height: 26px;\n      vertical-align: middle;\n    }\n\n    .anv-share-input-area {\n      font-size: 0.75em;\n    }\n\n    /* The playback start time prompt in the share screen */\n    .anv-share-start-time-prefix {\n      font-size: 0.75em;\n    }\n\n    .anv-share-start-time-button {\n      font-size: 0.75em;\n      text-decoration: underline;\n    }\n\n    .anv-share-start-time-input-button {\n      font-size: 0.75em;\n      margin-left: 10px;\n      text-decoration: underline;\n    }\n\n    /* The playback start time textbox in the share screen */\n    .anv-share-start-time-input {\n      max-width: 40px;\n      width: 30%;\n      min-width: 30px;\n      height: 24px;\n      margin-left: 4px;\n      margin-bottom: 0;\n      text-align: center;\n      font-size: 12px;\n    }\n\n    /* The caption search screen */\n    .anv-search {\n      position: absolute;\n      top: 0px;\n      right: 0px;\n      bottom: 0px;\n      left: 0px;\n      margin: auto;\n      /*width: 540px;*/\n      /*height: 260px;*/\n      border: 0px solid #444;\n      border-radius: 5px;\n      background: rgba(5, 4, 5, 0.69);\n      color: #fff;\n      overflow: hidden;\n      z-index: 2147483648;\n    }\n\n    .anv-search-input {\n      border: none;\n      border-radius: 5px;\n    }\n\n    /* The search icon shown within the search screen search query textbox */\n    .anv-search-icon {\n      width: 28px;\n      height: 28px;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      background-position: -480px -90px;\n    }\n\n    /*video::-webkit-media-controls {*/\n    /*display:none !important;*/\n    /*}*/\n    /* This is triangle attached to the preview image container that indicates the location of the preview image on the\n       seek bar */\n    .anv-time-label-tail {\n      position: relative;\n      left: 30px;\n      width: 0;\n      height: 0;\n      border-left: 5px solid transparent;\n      border-right: 5px solid transparent;\n      border-top: 10px solid rgba(5, 4, 5, 0.69);\n      z-index: 2147483648;\n    }\n\n    /* The slider preview container */\n    .anv-slider-preview {\n      position: absolute;\n      text-align: center;\n      width: 100%;\n      color: #fff;\n      z-index: 2147483648;\n    }\n\n    /* The splash screen container */\n    .anv-splash {\n      z-index: 2147483648;\n    }\n\n    /* The play button displayed over top of the splash screen */\n    .anv-splash-play-button {\n      /*position: relative;*/\n      /*margin: auto auto;*/\n      cursor: pointer;\n      margin: auto;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      /*background: url(\'img/sprite32.png\') 0 -58px;*/\n      width: 128px;\n      height: 128px;\n      overflow: hidden;\n      z-index: 2147483648;\n      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n      pointer-events: all;\n    }\n\n    .anv-splash-play-button-img {\n      position: absolute;\n\n    }\n\n    .anv-chromecast-button {\n      display: none;\n      width: 32px;\n      height: 32px;\n      background: url({{BASE_URL}}img/castsprite.png);\n    }\n\n    .anv-splash-img > .anv-chromecast-button {\n      display: none !important;\n      position: absolute;\n      right: 5%;\n      bottom: 5%;\n    }\n\n    .anv-splash-mode-hoverScreen > .anv-splash-img > .anv-chromecast-button,\n    .anv-splash-mode-castScreen > .anv-splash-img > .anv-chromecast-button {\n      display: none;\n    }\n\n    .anv-chromecast-button[state="active"],\n    .anv-chromecast-button[state="buffering"],\n    .anv-chromecast-button[state="playing"],\n    .anv-chromecast-button[state="paused"] {\n      display: block;\n      background-position: -32px 0;\n    }\n    .anv-chromecast-button[state="idle"] {\n      display: block;\n      background-position: 0 0;\n    }\n    .anv-chromecast-button[state="error"] {\n      display: block;\n      background-position: -64px 0;\n    }\n\n    .anv-control > .anv-chromecast-button {\n      float: right;\n    }\n\n    .anv-splash-cast-status {\n      display: none;\n      position: absolute;\n      left: 30px;\n      padding: 5%;\n      bottom: 15%;\n    }\n\n    .anv-splash-mode-castScreen .anv-splash-cast-status {\n      display: block;\n    }\n\n    .anv-splash-cast-load-button {\n      display: none;\n      right: 0;\n      bottom: 0;\n      position: absolute;\n    }\n\n    .anv-splash-mode-loadScreen .anv-splash-cast-load-button:not([status="none"]) {\n      display: block;\n    }\n\n    .anv-splash-cast-status-icon {\n      display: inline-block;\n      width: 50px;\n      height: 44px;\n      background: url("{{BASE_URL}}img/castsprite.png") no-repeat -93px 1px;\n    }\n\n    .anv-control-playlist-badge {\n      background-color: rgb(238,63,37);\n      border-radius: 50%;\n      height: 12px;\n      width: 12px;\n      position: relative;\n      left: 20px;\n      top: 5px;\n    }\n\n    .anv-control-playlist-badge-text {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      font-size: 11px;\n    }\n\n    .anv-splash-cast-status-message-wrapper {\n      display: inline-block;\n      vertical-align: top;\n      color: lightslategray;\n      margin-left: 5px;\n    }\n\n    .anv-splash-cast-status-message {\n      font-size: .8em;\n    }\n\n    .anv-splash-cast-status-receiver-name {\n      font-size: 1.4em;\n    }\n\n    /* The container for the video title and description displayed over top of the splash screen */\n    .anv-splash-header {\n      position: relative;\n      height: 30%;\n      zoom: 1;\n      color: #fff;\n      padding: 5% 5%;\n    }\n\n    .anv-splash-header-gradient {\n      background: rgba(5, 4, 5, 0.42);\n      background: none;\n      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#D1050405\', endColorstr=\'#00050405\', GradientType=0);\n      background: -webkit-gradient(linear, left top, left bottom, from(rgba(5, 4, 5, 0.82)), to(rgba(5, 4, 5, 0))); /* for webkit browsers */\n      background: -moz-linear-gradient(top, rgba(5, 4, 5, 0.82), rgba(5, 4, 5, 0)); /* for firefox 3.6+ */\n    }\n\n    /* Information about the video displayed in the splash screen */\n    .anv-splash-info {\n      color: #fff;\n      float: left;\n      width: 90%\n    }\n\n    /* The title of the video displayed in the splash screen */\n    .anv-splash-title {\n      font-size: 1.7em;\n    }\n\n    /* The title of the video displayed in the splash screen */\n    .anv-splash-description {\n      font-size: 1em;\n      line-height: 1.7em;\n    }\n\n    /* The Splash share button */\n    .anv-splash-share {\n      /*float: right;*/\n      cursor: pointer;\n      position: absolute;\n      right: 5%;\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      background-position: -382px 0;\n      width: 32px;\n      height: 32px;\n      pointer-events: all;\n    }\n\n    .anv-no-touch .anv-splash-share:hover {\n      background-position: -382px -32px;\n    }\n\n    .anv-splash-share:hover {\n      /*background-position: -224px -28px;*/\n    }\n\n    /* The playlist panel video entry that is currently selected */\n    .anv-selected-playlist-item {\n      background: rgba(130, 130, 130, 0.7);\n    }\n\n    .anv-playlist-item {\n      cursor: pointer;\n      position: relative;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n    }\n\n    .anv-playlist-item-info {\n      position: relative;\n      overflow: hidden;\n      transform: translate(0,-50%);\n      top: 50%;\n      padding: 10px;\n    }\n\n    .anv-playlist-item-desc {\n      font-size: 0.7em;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      line-height: 1.1em;\n      max-height: 3.3em;\n    }\n    /* The playlist item is simply an video entry in the playlist panel. The playlist mark is a vertical bar shown on the\n       left of a playlist item when it hovered over. */\n    .anv-no-touch .anv-playlist-item:hover {\n      background: rgba(130, 130, 130, 0.7);\n    }\n\n    .anv-splash-spinning-wheel {\n      margin: auto;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      width: 47px;\n      height: 47px;\n      background: url("{{BASE_URL}}img/loadingsprite.png");\n      -webkit-animation: play 1.5s steps(16) infinite;\n      -moz-animation: play 1.5s steps(16) infinite;\n      animation: play 1.5s steps(16) infinite;\n      z-index: 2147483649;\n    }\n\n    @-webkit-keyframes play {\n      from {\n        background-position: 0;\n      }\n      to {\n        background-position: -752px;\n      }\n    }\n\n    @-moz-keyframes play {\n      from {\n        background-position: 0;\n      }\n      to {\n        background-position: -752px;\n      }\n    }\n\n    @keyframes play {\n      from {\n        background-position: 0;\n      }\n      to {\n        background-position: -752px;\n      }\n    }\n\n    .anvVideoContent:-webkit-full-screen {\n      width: 100%\n    }\n\n    .anvVideoContent:-moz-full-screen {\n      width: 100%\n    }\n\n    .anvVideoContent:-ms-full-screen {\n      width: 100%\n    }\n\n    .anvVideoContent:-o-full-screen {\n      width: 100%\n    }\n\n    .anvVideoContent:full-screen {\n      width: 100%\n    }\n\n    .anv-recommendation {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      margin: auto;\n      z-index: 2147483648;\n      color: white;\n    }\n\n    .anv-recommendation-content {\n      /*padding: 5% 5%;*/\n      background: #000;\n      padding: 0 5%;\n      width: 90%;\n      height: 100%;\n    }\n\n    .anv-recommendation-background-poster {\n      background-color: #000;\n      background-size: cover;\n      display: none;\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      height: 100%;\n    }\n\n    .anv-recommendation-background-poster-filter {\n      background-color: rgba(0, 0, 0, 0.6);\n      height: 100%;\n      width: 100%;\n    }\n\n    .anv-recommendation-nav {\n      cursor: pointer;\n      display: none;\n      position: absolute;\n      top: 0;\n      width: 5%;\n      height: 100%;\n    }\n\n    .anv-recommendation-nav-icon {\n      background-image: url("{{BASE_URL}}img/sprite32.png");\n      width: 32px;\n      height: 32px;\n      position: absolute;\n      top:0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      margin: auto;\n    }\n\n    .anv-recommendation-nav-prev-icon {\n      background-position: -439px -125px;\n    }\n\n    .anv-recommendation-nav-next-icon {\n      background-position: -438px -87px;\n    }\n\n    .anv-recommendation-prev {\n      left: 0;\n    }\n\n    .anv-recommendation-next {\n      right: 0;\n    }\n\n    .anv-recommendation-header {\n      /*background: #1817c0;*/\n      position: relative;\n      width: 100%;\n      height: 20%;\n    }\n\n    .anv-recommendation-title {\n      font-size: 2em;\n      white-space: nowrap;\n      width: 60%;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      float: left;\n      margin: 3%;\n    }\n\n    .anv-recommendation-main {\n      display: block;\n      position: relative;\n      /*background: #1817c0;*/\n      /*margin-top: 5%;*/\n      margin-bottom: 5%;\n      width: 100%;\n      height: 75%;\n      overflow-x: hidden;\n      overflow-y: hidden;\n    }\n\n    .anv-recommendation-up-next {\n      display: none;\n      position: absolute;\n      left: 0;\n      top: 50%;\n      margin: 0;\n      text-align: center;\n      transform: translateY(-50%);\n      -ms-transform: translateY(-50%);\n      width: 100%;\n\n    }\n\n    .anv-recommendation-up-next-title {\n      font-weight: 600;\n      font-size: 1.3em;\n      margin: 10px 0;\n      padding: 0 20px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    .anv-recommendation-up-next-play {\n      cursor: pointer;\n      display: none;\n      font-weight: 600;\n    }\n\n    @media only screen and (max-width: 500px) {\n      .anv-recommendation-background-poster {\n        display: block;\n      }\n      .anv-recommendation-small-content {\n        display: block;\n      }\n      .anv-recommendation-nav-icon {\n        display: none;\n      }\n      .anv-recommendation-title {\n        font-size: 1.3em;\n      }\n      .anv-recommendation-main {\n        display: none;\n      }\n      .anv-recommendation-up-next {\n        display: block;\n      }\n    }\n\n    .anv-recommendation-columns {\n      position: absolute;\n      height: 100%;\n      max-height: 100%;\n      /*background: #f817ff;*/\n    }\n\n    .anv-recommendation-column {\n      height: 100%;\n      /*background: #1718ff;*/\n      float: left;\n      /*padding: 5px;*/\n      /*margin: 1px;*/\n    }\n\n    .anv-recommendation-frame {\n      position: relative;\n      height: 50%;\n      width: 100%;\n      border-radius: 3px;\n      opacity: 1.0;\n      -webkit-transition: opacity 0.2s;\n      transition: opacity 0.2s;\n      /*background: #7718ff;*/\n      /*padding: 5%;*/\n    }\n\n    .anv-recommendation-frame:hover {\n      /*background: #ee3f25;*/\n    }\n\n    .anv-no-touch .anv-recommendation-frame:hover .anv-recommendation-info {\n      display: block;\n\n    }\n\n    .anv-no-touch .anv-recommendation-info {\n      display: none;\n      background: rgba(0, 0, 0, .8);\n    }\n\n    .anv-recommendation-info {\n      cursor: pointer;\n      position: absolute;\n      top: 0;\n      padding: 0 5%;\n      width: 90%;\n      /*filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'rgba(5, 4, 5, 0.82)\', endColorstr=\'rgba(5, 4, 5, 0)\');  for IE*/\n      /*background: -webkit-gradient(linear, left bottom, right bottom, from(rgba(5, 4, 5, 0.82)), to(rgba(5, 4, 5, 0)));  for webkit browsers*/\n      /*background: -moz-linear-gradient(left,  rgba(5, 4, 5, 0.82),  rgba(5, 4, 5, 0));  for firefox 3.6+*/\n      color: #fff;\n    }\n\n    .anv-recommendation-info-title {\n      width: 100%;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: .9em;\n      text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;\n\n    }\n\n    .anv-recommendation-info-desc {\n      width: 100%;\n      visibility: hidden;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      font-size: 0.7em;\n      text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;\n    }\n\n    .anv-recommendation-info-timer {\n      color: #ee3f25;\n    }\n\n    .anv-recommendation-item {\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      top: 10px;\n      margin: auto;\n      height: 95%;\n      width: 95%;\n    }\n\n    .anv-recommendation-thumbnail {\n      position: absolute;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      margin: auto;\n    }\n\n    .anv-recommendation-share {\n      float: right;\n      background: url("{{BASE_URL}}img/sprite32.png") -382px 0;\n      width: 32px;\n      height: 32px;\n      margin: 3%;\n      cursor: pointer;\n    }\n\n    .anv-no-touch .anv-recommendation-share:hover {\n      background-position: -382px -32px;\n    }\n\n    .anv-recommendation-replay {\n      float: right;\n      background: url("{{BASE_URL}}img/sprite32.png") -415px 0;\n      width: 32px;\n      height: 32px;\n      margin: 3% 0;\n      cursor: pointer;\n    }\n\n    .anv-recommendation-fade {\n      opacity: 0.0;\n    }\n\n    .anv-no-touch .anv-recommendation-replay:hover {\n      background-position: -415px -32px;\n    }\n\n    .anv-recall-frame {\n      bottom: 0;\n      padding: 0 5px;\n      width: 50px;\n      z-index: 2147483648;\n    }\n\n    .anv-recall-time {\n      /*position: absolute;*/\n      text-align: center;\n      width: auto;\n      padding: 4px;\n      height: 15px;\n      font-size: 0.8em;\n      background: rgba(34, 34, 34, .95);\n\n      /*bottom: 25px;*/\n    }\n\n    .anv-recall-tail {\n      position: relative;\n      left: 20px;\n      width: 0;\n      height: 0;\n      border-left: 5px solid transparent;\n      border-right: 5px solid transparent;\n      border-top: 10px solid rgba(34, 34, 34, 0.95);\n    }\n\n    .anv-recall-line {\n      width: 24px;\n      border-right: solid 2px #fff;\n      height: 15px;\n    }\n\n    .anv-live-btn {\n      /*width:20%;*/\n      margin-right: 10px;\n      float: right;\n    }\n\n    .anv-live-label {\n      font-size: 0.9em;\n      line-height: 30px;\n      text-align: left;\n      float: left;\n    }\n\n    .anv-live-mark {\n      font-size: 1.5em;\n      line-height: 28px;\n      float: left;\n    }\n\n    html {\n      -webkit-touch-callout: none !important;\n    }\n\n    body {\n      -webkit-touch-callout: none !important;\n    }\n\n    .anv-caption-set {\n      position: absolute;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      top: 0;\n      margin: auto;\n      background: rgba(34, 34, 34, 0.8);\n      color: white;\n      border-radius: 5px;\n      font-family: arial;\n      -webkit-touch-callout: none;\n      -webkit-user-select: none;\n      -khtml-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      z-index: 2147483648;\n    }\n\n    .anv-caption-set-header {\n      height: 20%;\n      width: 80%;\n      max-width: 500px;\n      max-height: 250px;\n      margin: 0 auto;\n      line-height: 5em;\n    }\n\n    .anv-caption-set-content {\n      height: 50%;\n      min-height: 145px;\n      max-width: 500px;\n      max-height: 250px;\n      width: 80%;\n      margin: 0 auto;\n    }\n\n    .anv-caption-set-main {\n      width: 50%;\n      height: 100%;\n      float: left;\n      /*background: #193;*/\n    }\n\n    .anv-caption-set-advanced {\n      width: 45%;\n      float: left;\n      margin-left: 5%;\n      height: 100%;\n      /*background: #771;*/\n    }\n\n    .anv-caption-set-advanced-expand {\n\n    }\n\n    .anv-caption-set-close {\n      cursor: pointer;\n      position: absolute;\n      top: 12px;\n      right: 12px;\n      width: 32px;\n      height: 32px;\n      background: url("{{BASE_URL}}img/sprite32.png") -415px -92px;\n    }\n\n    .anv-overlay-close {\n      cursor: pointer;\n      position: absolute;\n      top: -5px;\n      right: -5px;\n      width: 32px;\n      height: 32px;\n      background: url("{{BASE_URL}}img/sprite32.png") -415px -92px;\n    }\n\n    .anv-no-touch .anv-caption-set-close:hover, .anv-no-touch .anv-overlay-close:hover {\n      background: url("{{BASE_URL}}img/sprite32.png") -415px -129px;\n    }\n\n    .anv-caption-set-main-row {\n      /*border: solid 1px #000;*/\n      height: 25%;\n      width: 100%;\n      /*padding: 10px;*/\n    }\n\n    .anv-caption-set-main-half {\n      width: 48%;\n      min-width: 110px;\n    }\n\n    .anv-caption-set-advanced-row {\n      /*border: solid 1px #000;*/\n      height: 25%;\n      width: 100%;\n    }\n\n    .anv-caption-set-narrow-row {\n      height: 20%;\n      width: 100%;\n    }\n\n    .anv-caption-set-expand-button {\n      font-size: 0.8em;\n    }\n\n    .anv-caption-set-advanced-panel {\n      height: 85%;\n      width: 100%;\n    }\n\n    .anv-caption-set-result-frame {\n      min-height: 30%;\n      height: auto;\n      width: 100%;\n      float: left;\n      overflow: hidden;\n      text-align: center;\n    }\n\n    .anv-caption-set-result-holder {\n      display: inline-block;\n      padding: 8px;\n      height: auto;\n      overflow: hidden;\n      text-align: center;\n    }\n\n    .anv-caption-set-result {\n      /*line-height: 2em;*/\n      display: inline-block;\n      /*margin: 10px auto;*/\n      /*padding: 0 5px;*/\n    }\n\n    .anv-caption-set-row-label {\n      color: white;\n      font-size: .75em;\n      height: 2em;\n      line-height: 32px;\n      vertical-align: middle;\n      padding: 0 5px 0 0;\n    }\n\n    input[type="checkbox"] {\n      margin: 0 4px 0 0;\n    }\n\n    .anv-caption-set-check-label {\n      font-size: 0.75em;\n      vertical-align: top;\n      color: white;\n    }\n\n    .anv-check-holder {\n      margin-right: 25px;\n    }\n\n    .anv-caption-set-select {\n      /*-webkit-appearance: menulist-button;*/\n      /*-moz-appearance: menulist-button;*/\n      height: 28px;\n      background: #fff;\n      /*width: 68px;*/\n      padding: 0 5px;\n      text-align: center;\n      /*font-size: 16px;*/\n      /*line-height: 1;*/\n      border: solid 2px rgb(132, 132, 132);\n      border-radius: 5px;\n      height: 28px;\n      text-indent: 0.01px;\n      text-overflow: \'\';\n      -webkit-appearance: none;\n      -moz-appearance: none;\n      max-width: 50%;\n    }\n\n    .anv-color-picker-item {\n      float: left;\n    }\n\n    .anv-left {\n      float: left;\n    }\n\n    .anv-right {\n      float: right;\n    }\n\n    .anv-color-picker {\n      background: #444444;\n      border-radius: 4px;\n    }\n\n    .anv-caption-set-color-box {\n      position: relative;\n      background: #fff;\n      width: 26px;\n      height: 26px;\n      border: solid 2px rgb(132, 132, 132);\n      border-radius: 4px;\n\n    }\n\n    .anv-select-corner {\n      position: absolute;\n      bottom: -1px;\n      right: -2px;\n      width: 10px;\n      height: 10px;\n      background: rgb(132, 132, 132);\n      border-bottom-right-radius: 4px;\n    }\n\n    .anv-select-triangle {\n      width: 0;\n      height: 0;\n      border-left: 3px solid transparent;\n      border-right: 3px solid transparent;\n      border-bottom: 6px solid #000;\n      margin: 2px;\n    }\n\n    .anv-slate {\n      position: absolute;\n      top: 0;\n      width: 640px;\n      height: 360px;\n      color: #000000;\n      background: #fff;\n      display: none;\n      z-index: 2147483649;\n    }\n\n    .anv-slate-frame {\n      width: 96%;\n      height: 160px;\n      position: absolute;\n      margin: auto;\n      top: 0;\n      left: 2%;\n      bottom: 0;\n      right: 2%;\n      display: inline-block;\n      vertical-align: middle;\n    }\n\n    .anv-slate-animation {\n      position: relative;\n      float: left;\n      width: 160px;\n      height: 160px;\n      display: inline;\n    }\n\n    .anv-slate-message-frame {\n      display: table;\n      height: 100%;\n      padding-left: 3%;\n\n    }\n\n    .anv-slate-message {\n      line-height: 50px;\n      font-family: Arial, sans-serif;\n      color: #555555;\n      font-size: 21px;\n      display: table-cell;\n      vertical-align: middle;\n    }\n\n    .anv-slate-outer {\n      margin: auto;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      width: 154px;\n      height: 154px;\n      background: url("{{BASE_URL}}img/outer.png") no-repeat;\n      /*-moz-animation:play 1.5s steps(16) infinite;*/\n      /*animation:play 1.5s steps(16) infinite;*/\n      z-index: 2147483649;\n      -webkit-animation: anv-cv 3.6s infinite linear;\n      -moz-animation: anv-cv 3.6s infinite linear;\n      animation: anv-cv 3.6s infinite linear;\n    }\n\n    @keyframes anv-cv {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(359deg);\n      }\n    }\n\n    @-webkit-keyframes anv-cv {\n      from {\n        -webkit-transform: rotate(0deg);\n      }\n      to {\n        -webkit-transform: rotate(359deg);\n      }\n    }\n\n    @-moz-keyframes anv-cv {\n      from {\n        -moz-transform: rotate(0deg);\n      }\n      to {\n        -moz-transform: rotate(359deg);\n      }\n    }\n\n    @keyframes anv-ccv {\n      to {\n        transform: rotate(0deg);\n      }\n      from {\n        transform: rotate(359deg);\n      }\n    }\n\n    @-webkit-keyframes anv-ccv {\n      to {\n        -webkit-transform: rotate(0deg);\n      }\n      from {\n        -webkit-transform: rotate(359deg);\n      }\n    }\n\n    @-moz-keyframes anv-ccv {\n      to {\n        -moz-transform: rotate(0deg);\n      }\n      from {\n        -moz-transform: rotate(359deg);\n      }\n    }\n\n    .anv-slate-inner {\n      margin: auto;\n      position: absolute;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      width: 71px;\n      height: 93px;\n      background: url("{{BASE_URL}}img/inner.png") no-repeat;\n      /*-moz-animation:play 1.5s steps(16) infinite;*/\n      /*animation:play 1.5s steps(16) infinite;*/\n      z-index: 2147483649;\n      -webkit-animation: anv-ccv 3.6s infinite linear;\n      -moz-animation: anv-ccv 3.6s infinite linear;\n      animation: anv-ccv 3.6s infinite linear;\n    }\n\n    /*styling for subscriber authentication*/\n    .anv-login-dialog {\n      font-family: Arial, sans-serif;\n      margin: auto;\n      width: 260px;\n      height: 200px;\n      position: absolute;\n      top: 0;\n      bottom: 40px;\n      left: 0;\n      right: 0;\n    }\n\n    .anv-login-error {\n      color: red;\n      height: 28px;\n      font-size: 14px;\n      line-height: 14px;\n      margin: 10px 0;\n    }\n\n    .anv-full-width {\n      width: 100%;\n      max-width: 260px;\n      display: block;\n      margin-bottom: 10px;\n    }\n\n    .anv-row-item {\n      margin-right: 10px;\n    }\n\n    .anv-purchase, .anv-login {\n      -moz-box-shadow: inset 0px 1px 0px 0px #f5978e;\n      -webkit-box-shadow: inset 0px 1px 0px 0px #f5978e;\n      box-shadow: inset 0px 1px 0px 0px #f5978e;\n      background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #f24537), color-stop(1, #c62d1f));\n      background: -moz-linear-gradient(center top, #f24537 5%, #c62d1f 100%);\n      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#f24537\', endColorstr=\'#c62d1f\');\n      background-color: #f24537;\n      -webkit-border-radius: 3px;\n      -moz-border-radius: 3px;\n      border-radius: 3px;\n      text-indent: 0;\n      border: 1px solid #d02718;\n      display: inline-block;\n      color: #ffffff;\n      font-size: 15px;\n      font-weight: bold;\n      font-style: normal;\n      height: 40px;\n      line-height: 40px;\n      width: 100px;\n      text-decoration: none;\n      text-align: center;\n      text-shadow: 1px 1px 0px #810e05;\n    }\n\n    .anv-purchase:active, .anv-login:active {\n      background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #c62d1f), color-stop(1, #f24537));\n      background: -moz-linear-gradient(center top, #c62d1f 5%, #f24537 100%);\n      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#c62d1f\', endColorstr=\'#f24537\');\n      background-color: #c62d1f;\n    }\n\n    .anv-forgot {\n      text-decoration: none;\n      color: rgb(64, 153, 255);\n      font-size: .9em;\n    }\n\n    .anv-ad-timer-wrapper {\n      position: absolute;\n      z-index: 999999999999999999;\n      color: #fff;\n      padding: 1.5%;\n      width: 97%;\n      pointer-events: none;\n    }\n\n    .anv-ad-timer-wrapper-gradient {\n      background: rgba(5, 4, 5, 0.42);\n      background: none;\n      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\'#D1050405\', endColorstr=\'#00050405\', GradientType=0);\n      zoom: 1;\n      background: -moz-linear-gradient(top, rgba(5, 4, 5, 0.82), rgba(5, 4, 5, 0));\n      background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(rgba(5, 4, 5, 0.819608)), to(rgba(5, 4, 5, 0)));\n      background: linear-gradient(to bottom, rgba(5, 4, 5, 0.81960784313725), rgba(5, 4, 5, 0.0));\n    }\n\n    .anv-ad-timer {\n      /*width: 60%;*/\n    }\n\n    .anv-learn-more {\n      display: none;\n      background: rgba(0, 0, 0, .8);\n      border: 1px solid #eee;\n      color: #fff;\n      float: right;\n      padding: 1%;\n      pointer-events: all;\n      cursor: pointer;\n      z-index: 99999999999999999999999;\n      -webkit-touch-callout: none;\n      -webkit-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n    }\n\n    .anv-skip-ad-button {\n      position: absolute;\n      /*right: 0;*/\n      /*top: 60%;*/\n      background: rgba(0, 0, 0, .8);\n      border: 1px solid #eee;\n      padding: 1%;\n      background: #000;\n      color: #fff;\n      cursor: pointer;\n      z-index: 999999999999999999;\n    }\n\n    .anv-notification-dialog {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      color: #fff;\n      background: rgba(0, 0, 0, .9);\n      display: none;\n      font-family: arial, sans-serif;\n      text-align: justify;\n      -ms-text-justify: distribute-all-lines;\n      text-justify: distribute-all-lines;\n      z-index: 2147483649;\n    }\n\n    .anv-notification-dialog-content {\n      display: inline-block;\n      height: 30%;\n      margin: auto;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      padding: 5%;\n      font-size: 5vh;\n      line-height: 7.5vh;\n    }\n\n    .anv-notification-dialog-content > a {\n      color: white;\n    }\n\n    .anv-notification-dialog-close-button {\n      position: absolute;\n      top: 15px;\n      right: 15px;\n      width: 15px;\n      height: 15px;\n      color: #fff;\n    }\n\n    .anv-notification-button {\n      position: absolute;\n      top: 20px;\n      right: 20px;\n      height: 28px;\n      color: #000000;\n      display: none;\n      z-index: 2147483649;\n      cursor: pointer;\n    }\n\n    .anv-video-container-caption {\n      position: absolute;\n      pointer-events: none;\n      left: 0;\n      right: 0;\n      top: 0;\n      bottom: 0;\n      margin: auto;\n      z-index: 2147483648;\n      /*background: rgba(16, 221, 235, 0.68);*/\n      width: 100%;\n      height: 100%;\n      color: #fff;\n      /*border: solid 1px #fff;*/\n    }\n\n    .anv-caption-608-frame {\n      margin: auto;\n      top: 0;\n      left: 0;\n      bottom: 0;\n      right: 0;\n      position: absolute;\n      pointer-events: none;\n      /*margin-left: 12.5%;*/\n      /*margin-right: 12.5%;*/\n    }\n\n    .anv-caption-608-frame-line {\n      font-family: Courier, monospace;\n    }\n\n    .anv-caption-608-frame-line-char {\n      display: inline-block;\n      visibility: hidden;\n      vertical-align: bottom;\n    }\n\n    .anv-autoplay-toggle-holder {\n      position: absolute;\n      right: 50px;\n      top: 16px;\n      font-size: 11px;\n    }\n\n    .anv-autoplay-toggle {\n      border-radius: 5px;\n      width: 25px;\n      height: 10px;\n      background-color: #888;\n      float: right;\n      margin-left: 5px;\n      position: relative;\n      cursor: pointer;\n    }\n\n    .anv-autoplay-toggle:before{\n      position:absolute;\n      content:\'\';\n      top:-10px;\n      right:-10px;\n      left:-10px;\n      bottom:-10px;\n      cursor: pointer;\n    }\n\n    .anv-autoplay-toggle-inner-segment {\n      position: relative;\n      border-radius: 5px;\n      width: 10px;\n      height: 10px;\n      background-color: #FFF;\n      transition: left 0.2s;\n    }\n\n\n    @-moz-keyframes spin {\n      100% {\n        -moz-transform: rotate(360deg);\n      }\n    }\n\n    @-webkit-keyframes spin {\n      100% {\n        -webkit-transform: rotate(360deg);\n      }\n    }\n\n    @keyframes spin {\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n\n  </style>\n\n</template>\n'
});