"use strict";$(document).ready(function(){var o,e=["midp","j2me","avant","docomo","novarra","palmos","palmsource","240x320","opwv","chtml","pda","windows ce","mmp/","blackberry","mib/","symbian","wireless","nokia","hand","mobi","phone","cdm","up.b","audio","sie-","sec-","samsung","htc","mot-","mitsu","sagem","sony","alcatel","lg","eric","vx","NEC","philips","mmm","xx","panasonic","sharp","wap","sch","rover","pocket","benq","java","pt","pg","vox","amoi","bird","compal","kg","voda","sany","kdd","dbt","sendo","sgh","gradi","jb","dddi","moto","iphone","android","iPod","incognito","webmate","dream","cupcake","webos","s8000","bada","googlebot-mobile"],t=navigator.userAgent.toLowerCase(),a=!1;for(o=0;o<e.length;o+=1)if(t.indexOf(e[o])>-1){a=!0;break}$(".social-share a").on({click:function(){var o=$(this).attr("class").split(" ")[0],e={url:location.href,title:document.title,pic:$("meta[itemprop=image]").attr("content"),desc:$("meta[name=description]").attr("content")},t="";switch(o){case"facebook":t=a?"https://m.facebook.com/sharer.php?u="+encodeURIComponent(e.url)+"?from=fb_share_mobile&_rdr":"https://m.facebook.com/sharer.php?u="+encodeURIComponent(e.url);break;case"line":t="http://line.naver.jp/R/msg/text/?"+encodeURIComponent(e.title)+"%0D%0A"+encodeURIComponent(e.url);break;case"twitter":t="https://twitter.com/intent/tweet?text="+encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url)+"&via=tw_chinatimes&related="+encodeURIComponent(e.pic);break;case"weibo":t="http://v.t.sina.com.cn/share/share.php?title="+encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url);break;case"copy-url":!function(o){var e;$("body").append('<textarea id="clip-area"></textarea>'),(e=$("#clip-area")).text(o).select(),document.execCommand("copy"),e.remove(),window.alert("連結已複製")}(window.location.href)}""!==t&&window.open(t,"share","height=400, width=400, toolbar=no, menubar=no, scrollbars=yes, resizable=yes, location=no, status=no")}})}),$(document).ready(function(){var o,e,t,a=$(".social-share.fixed"),n=$(window),i=$(".article-function"),c=$("aside.column-right + .column-left"),s=a.height(),r=$(".main-nav-wrapper").height(),m=window.toFixCtMainNavOnScroll;!(n.width()<768||$("body").is(".is-mobile"))&&a.length&&n.on({scroll:function(){o=i.offset().top,e=c.offset().top,(t=n.scrollTop())+s+20>e-(m?r:0)?a.css({position:"absolute",top:"auto",bottom:"0"}):t+20>=o-(m?r:0)?(a.css("position","fixed"),m?a.css({top:r+20,bottom:""}):a.css({top:20,bottom:""})):a.css({position:"",top:"",bottom:""})}})});